!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=343)}([function(t,e,n){"use strict";n.r(e),n.d(e,"contains",(function(){return r})),n.d(e,"includes",(function(){return r})),n.d(e,"difference",(function(){return a})),n.d(e,"find",(function(){return y})),n.d(e,"findIndex",(function(){return x})),n.d(e,"firstValue",(function(){return b})),n.d(e,"flatten",(function(){return w})),n.d(e,"flattenDeep",(function(){return _})),n.d(e,"getRange",(function(){return S})),n.d(e,"pull",(function(){return A})),n.d(e,"pullAt",(function(){return D})),n.d(e,"reduce",(function(){return P})),n.d(e,"remove",(function(){return I})),n.d(e,"sortBy",(function(){return j})),n.d(e,"union",(function(){return B})),n.d(e,"uniq",(function(){return L})),n.d(e,"valuesOfKey",(function(){return N})),n.d(e,"head",(function(){return R})),n.d(e,"last",(function(){return F})),n.d(e,"startsWith",(function(){return z})),n.d(e,"endsWith",(function(){return V})),n.d(e,"filter",(function(){return o})),n.d(e,"every",(function(){return G})),n.d(e,"some",(function(){return H})),n.d(e,"group",(function(){return X})),n.d(e,"groupBy",(function(){return $})),n.d(e,"groupToMap",(function(){return Y})),n.d(e,"getWrapBehavior",(function(){return q})),n.d(e,"wrapBehavior",(function(){return U})),n.d(e,"number2color",(function(){return K})),n.d(e,"parseRadius",(function(){return J})),n.d(e,"clamp",(function(){return Q})),n.d(e,"fixedBase",(function(){return tt})),n.d(e,"isDecimal",(function(){return nt})),n.d(e,"isEven",(function(){return it})),n.d(e,"isInteger",(function(){return rt})),n.d(e,"isNegative",(function(){return ot})),n.d(e,"isNumberEqual",(function(){return at})),n.d(e,"isOdd",(function(){return st})),n.d(e,"isPositive",(function(){return lt})),n.d(e,"maxBy",(function(){return ct})),n.d(e,"minBy",(function(){return ht})),n.d(e,"mod",(function(){return ut})),n.d(e,"toDegree",(function(){return pt})),n.d(e,"toInteger",(function(){return ft})),n.d(e,"toRadian",(function(){return mt})),n.d(e,"forIn",(function(){return vt})),n.d(e,"has",(function(){return yt})),n.d(e,"hasKey",(function(){return xt})),n.d(e,"hasValue",(function(){return wt})),n.d(e,"keys",(function(){return f})),n.d(e,"isMatch",(function(){return g})),n.d(e,"values",(function(){return bt})),n.d(e,"lowerCase",(function(){return _t})),n.d(e,"lowerFirst",(function(){return St})),n.d(e,"substitute",(function(){return Ot})),n.d(e,"upperCase",(function(){return Mt})),n.d(e,"upperFirst",(function(){return kt})),n.d(e,"getType",(function(){return Tt})),n.d(e,"isArguments",(function(){return Dt})),n.d(e,"isArray",(function(){return u})),n.d(e,"isArrayLike",(function(){return i})),n.d(e,"isBoolean",(function(){return Pt})),n.d(e,"isDate",(function(){return It})),n.d(e,"isError",(function(){return Et})),n.d(e,"isFunction",(function(){return c})),n.d(e,"isFinite",(function(){return jt})),n.d(e,"isNil",(function(){return h})),n.d(e,"isNull",(function(){return Lt})),n.d(e,"isNumber",(function(){return et})),n.d(e,"isObject",(function(){return d})),n.d(e,"isObjectLike",(function(){return m})),n.d(e,"isPlainObject",(function(){return v})),n.d(e,"isPrototype",(function(){return Nt})),n.d(e,"isRegExp",(function(){return Rt})),n.d(e,"isString",(function(){return E})),n.d(e,"isType",(function(){return l})),n.d(e,"isUndefined",(function(){return Ft})),n.d(e,"isElement",(function(){return zt})),n.d(e,"requestAnimationFrame",(function(){return Vt})),n.d(e,"clearAnimationFrame",(function(){return Gt})),n.d(e,"augment",(function(){return $t})),n.d(e,"clone",(function(){return Xt})),n.d(e,"debounce",(function(){return qt})),n.d(e,"memoize",(function(){return Ut})),n.d(e,"deepMix",(function(){return Kt})),n.d(e,"each",(function(){return p})),n.d(e,"extend",(function(){return Jt})),n.d(e,"indexOf",(function(){return Qt})),n.d(e,"isEmpty",(function(){return ee})),n.d(e,"isEqual",(function(){return ie})),n.d(e,"isEqualWith",(function(){return re})),n.d(e,"map",(function(){return oe})),n.d(e,"mapValues",(function(){return se})),n.d(e,"mix",(function(){return Wt})),n.d(e,"assign",(function(){return Wt})),n.d(e,"get",(function(){return le})),n.d(e,"set",(function(){return ce})),n.d(e,"pick",(function(){return ue})),n.d(e,"throttle",(function(){return de})),n.d(e,"toArray",(function(){return pe})),n.d(e,"toString",(function(){return Ct})),n.d(e,"uniqueId",(function(){return ge})),n.d(e,"noop",(function(){return me})),n.d(e,"identity",(function(){return ve})),n.d(e,"size",(function(){return ye})),n.d(e,"Cache",(function(){return xe}));var i=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},r=function(t,e){return!!i(t)&&t.indexOf(e)>-1},o=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];e(o,r)&&n.push(o)}return n},a=function(t,e){return void 0===e&&(e=[]),o(t,(function(t){return!r(e,t)}))},s={}.toString,l=function(t,e){return s.call(t)==="[object "+e+"]"},c=function(t){return l(t,"Function")},h=function(t){return null==t},u=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},d=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var p=function(t,e){if(t)if(u(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(d(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},f=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return p(t,(function(n,i){c(t)&&"prototype"===i||e.push(i)})),e};var g=function(t,e){var n=f(e),i=n.length;if(h(t))return!i;for(var r=0;r<i;r+=1){var o=n[r];if(e[o]!==t[o]||!(o in t))return!1}return!0},m=function(t){return"object"==typeof t&&null!==t},v=function(t){if(!m(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var y=function(t,e){if(!u(t))return null;var n;if(c(e)&&(n=e),v(e)&&(n=function(t){return g(t,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var x=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1},b=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i][e];if(!h(r)){n=u(r)?r[0]:r;break}}return n},w=function(t){if(!u(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},C=function(t,e){if(void 0===e&&(e=[]),u(t))for(var n=0;n<t.length;n+=1)C(t[n],e);else e.push(t);return e},_=C,S=function(t){var e=t.filter((function(t){return!isNaN(t)}));if(!e.length)return{min:0,max:0};if(u(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:r}},O=Array.prototype,M=O.splice,k=O.indexOf,A=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=k.call(t,r))>-1;)M.call(t,o,1);return t},T=Array.prototype.splice,D=function(t,e){if(!i(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var o=void 0,a=e[n];n!==r&&a===o||(o=a,T.call(t,a,1))}return t},P=function(t,e,n){if(!u(t)&&!v(t))return t;var i=n;return p(t,(function(t,n){i=e(i,t,n)})),i},I=function(t,e){var n=[];if(!i(t))return n;for(var r=-1,o=[],a=t.length;++r<a;){var s=t[r];e(s,r,t)&&(n.push(s),o.push(r))}return D(t,o),n},E=function(t){return l(t,"String")};var j=function(t,e){var n;if(c(e))n=function(t,n){return e(t)-e(n)};else{var i=[];E(e)?i.push(e):u(e)&&(i=e),n=function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t},L=function(t){var e=[];return p(t,(function(t){r(e,t)||e.push(t)})),e},B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return L([].concat.apply([],t))},N=function(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r][e];if(!h(o)){u(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];i[s]||(n.push(s),i[s]=!0)}}}return n};function R(t){if(i(t))return t[0]}function F(t){if(i(t)){return t[t.length-1]}}var z=function(t,e){return!(!u(t)&&!E(t))&&t[0]===e};var V=function(t,e){return!(!u(t)&&!E(t))&&t[t.length-1]===e},G=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},H=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},W=Object.prototype.hasOwnProperty;var $=function(t,e){if(!e||!u(t))return{};for(var n,i={},r=c(e)?e:function(t){return t[e]},o=0;o<t.length;o++){var a=t[o];n=r(a),W.call(i,n)?i[n].push(a):i[n]=[a]}return i},Y=function(t,e){if(!e)return{0:t};if(!c(e)){var n=u(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",i=0,r=n.length;i<r;i++)e+=t[n[i]]&&t[n[i]].toString();return e}}return $(t,e)},X=function(t,e){if(!e)return[t];var n=Y(t,e),i=[];for(var r in n)i.push(n[r]);return i};var q=function(t,e){return t["_wrap_"+e]};var U=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n},Z={};var K=function(t){var e=Z[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,Z[t]=e}return e};var J=function(t){var e=0,n=0,i=0,r=0;return u(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}},Q=function(t,e,n){return t<e?e:t>n?n:t},tt=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return r>20&&(r=20),parseFloat(t.toFixed(r))},et=function(t){return l(t,"Number")},nt=function(t){return et(t)&&t%1!=0},it=function(t){return et(t)&&t%2==0},rt=Number.isInteger?Number.isInteger:function(t){return et(t)&&t%1==0},ot=function(t){return et(t)&&t<0};function at(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}var st=function(t){return et(t)&&t%2!=0},lt=function(t){return et(t)&&t>0},ct=function(t,e){if(u(t)){var n,i,r=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(i=c(e)?e(t):t[e])>n&&(r=t,n=i)})),r}},ht=function(t,e){if(u(t)){var n,i,r=t[0];return n=c(e)?e(t[0]):t[0][e],p(t,(function(t){(i=c(e)?e(t):t[e])<n&&(r=t,n=i)})),r}},ut=function(t,e){return(t%e+e)%e},dt=180/Math.PI,pt=function(t){return dt*t},ft=parseInt,gt=Math.PI/180,mt=function(t){return gt*t},vt=p,yt=function(t,e){return t.hasOwnProperty(e)},xt=yt,bt=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return p(t,(function(n,i){c(t)&&"prototype"===i||e.push(n)})),e},wt=function(t,e){return r(bt(t),e)},Ct=function(t){return h(t)?"":t.toString()},_t=function(t){return Ct(t).toLowerCase()},St=function(t){var e=Ct(t);return e.charAt(0).toLowerCase()+e.substring(1)};var Ot=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t},Mt=function(t){return Ct(t).toUpperCase()},kt=function(t){var e=Ct(t);return e.charAt(0).toUpperCase()+e.substring(1)},At={}.toString,Tt=function(t){return At.call(t).replace(/^\[object /,"").replace(/]$/,"")},Dt=function(t){return l(t,"Arguments")},Pt=function(t){return l(t,"Boolean")},It=function(t){return l(t,"Date")},Et=function(t){return l(t,"Error")},jt=function(t){return et(t)&&isFinite(t)},Lt=function(t){return null===t},Bt=Object.prototype,Nt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)},Rt=function(t){return l(t,"RegExp")},Ft=function(t){return void 0===t},zt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Vt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function Ht(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Wt(t,e,n,i){return e&&Ht(t,e),n&&Ht(t,n),i&&Ht(t,i),t}var $t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=t[i];c(r)&&(r=r.prototype),Wt(n.prototype,r)}},Yt=function(t){if("object"!=typeof t||null===t)return t;var e;if(u(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=Yt(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=Yt(t[r]):e[r]=t[r];return e},Xt=Yt;var qt=function(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||t.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}},Ut=function(t,e){if(!c(t))throw new TypeError("Expected a function");var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,i);return a.set(o,s),s};return n.cache=new Map,n};function Zt(t,e,n,i){for(var r in n=n||0,i=i||5,e)if(e.hasOwnProperty(r)){var o=e[r];null!==o&&v(o)?(v(t[r])||(t[r]={}),n<i?Zt(t[r],o,n+1,i):t[r]=e[r]):u(o)?(t[r]=[],t[r]=t[r].concat(o)):void 0!==o&&(t[r]=o)}}var Kt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)Zt(t,e[i]);return t},Jt=function(t,e,n,i){c(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},o=r(e.prototype,t);return t.prototype=Wt(o,t.prototype),t.superclass=r(e.prototype,e),Wt(o,n),Wt(t,i),t},Qt=function(t,e){if(!i(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,o=0;o<t.length;o++)if(t[o]===e){r=o;break}return r},te=Object.prototype.hasOwnProperty;var ee=function(t){if(h(t))return!0;if(i(t))return!t.length;var e=Tt(t);if("Map"===e||"Set"===e)return!t.size;if(Nt(t))return!Object.keys(t).length;for(var n in t)if(te.call(t,n))return!1;return!0},ne=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(E(t)||E(e))return!1;if(i(t)||i(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=ne(t[r],e[r]));r++);return n}if(m(t)||m(e)){var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(n=!0,r=0;r<o.length&&(n=ne(t[o[r]],e[o[r]]));r++);return n}return!1},ie=ne,re=function(t,e,n){return c(n)?!!n(t,e):ie(t,e)},oe=function(t,e){if(!i(t))return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o,r))}return n},ae=function(t){return t},se=function(t,e){void 0===e&&(e=ae);var n={};return d(t)&&!h(t)&&Object.keys(t).forEach((function(i){n[i]=e(t[i],i)})),n},le=function(t,e,n){for(var i=0,r=E(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},ce=function(t,e,n){var i=t,r=E(e)?e.split("."):e;return r.forEach((function(t,e){e<r.length-1?(d(i[t])||(i[t]=et(r[e+1])?[]:{}),i=i[t]):i[t]=n})),t},he=Object.prototype.hasOwnProperty,ue=function(t,e){if(null===t||!v(t))return{};var n={};return p(e,(function(e){he.call(t,e)&&(n[e]=t[e])})),n},de=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),i=null,a=t.apply(r,o),i||(r=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var h=e-(c-s);return r=this,o=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),s=c,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,h)),a};return c.cancel=function(){clearTimeout(i),s=0,i=r=o=null},c},pe=function(t){return i(t)?Array.prototype.slice.call(t):[]},fe={},ge=function(t){return fe[t=t||"g"]?fe[t]+=1:fe[t]=1,t+fe[t]},me=function(){},ve=function(t){return t};function ye(t){return h(t)?0:i(t)?t.length:Object.keys(t).length}var xe=function(){function t(){this.map={}}return t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return u})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return x})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return _})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return M}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function u(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function x(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function M(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return u})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return x})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return O})),n.d(e,"__classPrivateFieldGet",(function(){return M})),n.d(e,"__classPrivateFieldSet",(function(){return k}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function u(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function x(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var _=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return _(e,t),e}function O(t){return t&&t.__esModule?t:{default:t}}function M(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function k(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e){var n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},i={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},r=Object.prototype.toString,o=Array.prototype,a=o.forEach,s=o.filter,l=o.slice,c=o.map,h=o.reduce,u={};function d(t){if(null==t||"object"!=typeof t)return t;var e=t,o=r.call(t);if("[object Array]"===o){if(!_(t)){e=[];for(var a=0,s=t.length;a<s;a++)e[a]=d(t[a])}}else if(i[o]){if(!_(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else{e=new l(t.length);for(a=0,s=t.length;a<s;a++)e[a]=d(t[a])}}}else if(!n[o]&&!_(t)&&!C(t))for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=d(t[c]));return e}function p(t,e,n){if(!b(e)||!b(t))return n?d(e):t;for(var i in e)if(e.hasOwnProperty(i)){var r=t[i],o=e[i];!b(o)||!b(r)||x(o)||x(r)||C(o)||C(r)||w(o)||w(r)||_(o)||_(r)?!n&&i in t||(t[i]=d(e[i])):p(r,o,n)}return t}function f(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}var g,m=function(){return u.createCanvas()};function v(t,e,n){if(t&&e)if(t.forEach&&t.forEach===a)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function y(t,e){var n=l.call(arguments,2);return function(){return t.apply(e,n.concat(l.call(arguments)))}}function x(t){return"[object Array]"===r.call(t)}function b(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function w(t){return!!n[r.call(t)]}function C(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}u.createCanvas=function(){return document.createElement("canvas")};function _(t){return t.__ec_primitive__}function S(t){var e=x(t);this.data={};var n=this;function i(t,i){e?n.set(t,i):n.set(i,t)}t instanceof S?t.each(i):t&&v(t,i)}S.prototype={constructor:S,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=y(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=function(t,e){"createCanvas"===t&&(g=null),u[t]=e},e.clone=d,e.merge=p,e.mergeAll=function(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=p(n,t[i],e);return n},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.defaults=f,e.createCanvas=m,e.getContext=function(){return g||(g=m().getContext("2d")),g},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},e.inherits=function(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,e,n){f(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=v,e.map=function(t,e,n){if(t&&e){if(t.map&&t.map===c)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}},e.reduce=function(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===h)return t.reduce(e,n,i);for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}},e.filter=function(t,e,n){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}},e.find=function(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]},e.bind=y,e.curry=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},e.isArray=x,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===r.call(t)},e.isObject=b,e.isBuiltInObject=w,e.isTypedArray=function(t){return!!i[r.call(t)]},e.isDom=C,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=function(){return Function.call.apply(l,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t.__ec_primitive__=!0},e.isPrimitive=_,e.createHashMap=function(t){return new S(t)},e.concatArray=function(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var r=t.length;for(i=0;i<e.length;i++)n[i+r]=e[i];return n},e.noop=function(){}},function(t,e,n){"use strict";n.r(e),n.d(e,"mat3",(function(){return r})),n.d(e,"vec2",(function(){return o})),n.d(e,"vec3",(function(){return a})),n.d(e,"ext",(function(){return i}));var i={};n.r(i),n.d(i,"leftTranslate",(function(){return s})),n.d(i,"leftRotate",(function(){return l})),n.d(i,"leftScale",(function(){return c})),n.d(i,"transform",(function(){return h})),n.d(i,"direction",(function(){return u})),n.d(i,"angleTo",(function(){return d})),n.d(i,"vertical",(function(){return p}));var r=n(94),o=n(171),a=n(141);function s(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromTranslation(i,n),r.multiply(t,i,e)}function l(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromRotation(i,n),r.multiply(t,i,e)}function c(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return r.fromScaling(i,n),r.multiply(t,i,e)}function h(t,e){for(var n,i,o,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],h=0,u=e.length;h<u;h++){var d=e[h];switch(d[0]){case"t":s(a,a,[d[1],d[2]]);break;case"s":c(a,a,[d[1],d[2]]);break;case"r":l(a,a,d[1]);break;case"m":n=a,i=a,o=d[1],r.multiply(n,o,i)}}return a}function u(t,e){return t[0]*e[1]-e[0]*t[1]}function d(t,e,n){var i=o.angle(t,e),r=u(t,e)>=0;return n?r?2*Math.PI-i:i:r?i:2*Math.PI-i}function p(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},function(t,e,n){n(12).__DEV__;var i=n(121),r=n(3),o=n(50),a=n(25),s=n(180),l=n(68),c=n(251),h=n(264),u=n(44),d=n(424),p=n(425),f=n(427),g=n(30),m=n(31),v=n(127),y=n(51),x=n(6),b=n(11),w=n(61).throttle,C=n(428),_=n(429),S=n(430),O=n(431),M=n(432),k=n(433);n(265);var A=n(189),T=r.assert,D=r.each,P=r.isFunction,I=r.isObject,E=g.parseClassType,j={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},L="__flagInMainProcess",B=/^[a-zA-Z0-9_]+$/;function N(t,e){return function(n,i,r){e||!this._disposed?(n=n&&n.toLowerCase(),l.prototype[t].call(this,n,i,r)):this.id}}function R(){l.call(this)}function F(t,e,n){n=n||{},"string"==typeof e&&(e=ct[e]),this.id,this.group,this._dom=t;var o=this._zr=i.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=w(r.bind(o.flush,o),17),(e=r.clone(e))&&p(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new u;var a,c,d=this._api=(c=(a=this)._coordSysMgr,r.extend(new h(a),{getCoordinateSystems:r.bind(c.getCoordinateSystems,c),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return a._model.getComponent(e.mainType,e.index);t=t.parent}}}));function f(t,e){return t.__prio-e.__prio}s(lt,f),s(ot,f),this._scheduler=new O(this,d,ot,lt),l.call(this,this._ecEventProcessor=new nt),this._messageCenter=new R,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",(function(){e.trigger("rendered"),!t.animation.isFinished()||e.__optionUpdated||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))}(o,this),r.setAsPrimitive(this)}R.prototype.on=N("on",!0),R.prototype.off=N("off",!0),R.prototype.one=N("one",!0),r.mixin(R,l);var z=F.prototype;function V(t,e,n){if(this._disposed)this.id;else{var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=b.parseFinder(r,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(i=s[t](r,e,n)))return i}}}z._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this.__optionUpdated){var e=this.__optionUpdated.silent;this[L]=!0,H(this),G.update.call(this),this[L]=!1,this.__optionUpdated=!1,X.call(this,e),q.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),$(this,i),t.performVisualTasks(i),J(this,this._model,r,"remain"),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},z.getDom=function(){return this._dom},z.getZr=function(){return this._zr},z.setOption=function(t,e,n){if(this._disposed)this.id;else{var i;if(I(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[L]=!0,!this._model||e){var r=new d(this._api),o=this._theme,a=this._model=new c;a.scheduler=this._scheduler,a.init(null,null,o,r)}this._model.setOption(t,at),n?(this.__optionUpdated={silent:i},this[L]=!1):(H(this),G.update.call(this),this._zr.flush(),this.__optionUpdated=!1,this[L]=!1,X.call(this,i),q.call(this,i))}},z.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},z.getModel=function(){return this._model},z.getOption=function(){return this._model&&this._model.getOption()},z.getWidth=function(){return this._zr.getWidth()},z.getHeight=function(){return this._zr.getHeight()},z.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},z.getRenderedCanvas=function(t){if(a.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},z.getSvgDataURL=function(){if(a.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return r.each(e,(function(t){t.stopAnimation(!0)})),t.painter.toDataURL()}},z.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;D(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return D(i,(function(t){t.group.ignore=!1})),o}this.id},z.getConnectedDataURL=function(t){if(this._disposed)this.id;else if(a.canvasSupported){var e="svg"===t.type,n=this.group,o=Math.min,s=Math.max;if(dt[n]){var l=1/0,c=1/0,h=-1/0,u=-1/0,d=[],p=t&&t.pixelRatio||1;r.each(ut,(function(i,a){if(i.group===n){var p=e?i.getZr().painter.getSvgDom().innerHTML:i.getRenderedCanvas(r.clone(t)),f=i.getDom().getBoundingClientRect();l=o(f.left,l),c=o(f.top,c),h=s(f.right,h),u=s(f.bottom,u),d.push({dom:p,left:f.left,top:f.top})}}));var f=(h*=p)-(l*=p),g=(u*=p)-(c*=p),m=r.createCanvas(),v=i.init(m,{renderer:e?"svg":"canvas"});if(v.resize({width:f,height:g}),e){var y="";return D(d,(function(t){var e=t.left-l,n=t.top-c;y+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return t.connectedBackgroundColor&&v.add(new x.Rect({shape:{x:0,y:0,width:f,height:g},style:{fill:t.connectedBackgroundColor}})),D(d,(function(t){var e=new x.Image({style:{x:t.left*p-l,y:t.top*p-c,image:t.dom}});v.add(e)})),v.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},z.convertToPixel=r.curry(V,"convertToPixel"),z.convertFromPixel=r.curry(V,"convertFromPixel"),z.containPixel=function(t,e){if(!this._disposed){var n,i=this._model;return t=b.parseFinder(i,t),r.each(t,(function(t,i){i.indexOf("Models")>=0&&r.each(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n|=o.containPoint(e,t))}}),this)}),this),!!n}this.id},z.getVisual=function(t,e){var n=this._model,i=(t=b.parseFinder(n,t,{defaultMainType:"series"})).seriesModel.getData(),r=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=r?i.getItemVisual(r,e):i.getVisual(e)},z.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},z.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var G={prepareAndUpdate:function(t){H(this),G.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,s=this._scheduler;if(e){s.restoreData(e,t),s.performSeriesTasks(e),r.create(e,n),s.performDataProcessorTasks(e,t),$(this,e),r.update(e,n),Z(e),s.performVisualTasks(e,t),K(this,e,n,t);var l=e.get("backgroundColor")||"transparent";if(a.canvasSupported)i.setBackgroundColor(l);else{var c=o.parse(l);l=o.stringify(c,"rgb"),0===c[3]&&(l="transparent")}Q(e,n)}},updateTransform:function(t){var e=this._model,n=this,i=this._api;if(e){var o=[];e.eachComponent((function(r,a){var s=n.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,e,i,t);l&&l.update&&o.push(s)}else o.push(s)}));var a=r.createHashMap();e.eachSeries((function(r){var o=n._chartsMap[r.__viewId];if(o.updateTransform){var s=o.updateTransform(r,e,i,t);s&&s.update&&a.set(r.uid,1)}else a.set(r.uid,1)})),Z(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:a}),J(n,e,i,t,a),Q(e,this._api)}},updateView:function(t){var e=this._model;e&&(y.markUpdateMethod(t,"updateView"),Z(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),K(this,this._model,this._api,t),Q(e,this._api))},updateVisual:function(t){G.update.call(this,t)},updateLayout:function(t){G.update.call(this,t)}};function H(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),U(t,"component",e,n),U(t,"chart",e,n),n.plan()}function W(t,e,n,i,o){var a=t._model;if(i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};o&&(l.subType=o);var c=n.excludeSeriesId;null!=c&&(c=r.createHashMap(b.normalizeToArray(c))),a&&a.eachComponent(l,(function(e){c&&null!=c.get(e.id)||h(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else D(t._componentsViews.concat(t._chartsViews),h);function h(i){i&&i.__alive&&i[e]&&i[e](i.__model,a,t._api,n)}}function $(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))}function Y(t,e){var n=t.type,i=t.escapeConnect,o=it[n],a=o.actionInfo,s=(a.update||"update").split(":"),l=s.pop();s=null!=s[0]&&E(s[0]),this[L]=!0;var c=[t],h=!1;t.batch&&(h=!0,c=r.map(t.batch,(function(e){return(e=r.defaults(r.extend({},e),t)).batch=null,e})));var u,d=[],p="highlight"===n||"downplay"===n;D(c,(function(t){(u=(u=o.action(t,this._model,this._api))||r.extend({},t)).type=a.event||u.type,d.push(u),p?W(this,l,t,"series"):s&&W(this,l,t,s.main,s.sub)}),this),"none"===l||p||s||(this.__optionUpdated?(H(this),G.update.call(this,t),this.__optionUpdated=!1):G[l].call(this,t)),u=h?{type:a.event||n,escapeConnect:i,batch:d}:d[0],this[L]=!1,!e&&this._messageCenter.trigger(u.type,u)}function X(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Y.call(this,n,t)}}function q(t){!t&&this.trigger("updated")}function U(t,e,n,i){for(var r="component"===e,o=r?t._componentsViews:t._chartsViews,a=r?t._componentsMap:t._chartsMap,s=t._zr,l=t._api,c=0;c<o.length;c++)o[c].__alive=!1;function h(t){var e="_ec_"+t.id+"_"+t.type,c=a[e];if(!c){var h=E(t.type);(c=new(r?v.getClass(h.main,h.sub):y.getClass(h.sub))).init(n,l),a[e]=c,o.push(c),s.add(c.group)}t.__viewId=c.__id=e,c.__alive=!0,c.__model=t,c.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!r&&i.prepareView(c,t,n,l)}r?n.eachComponent((function(t,e){"series"!==t&&h(e)})):n.eachSeries(h);for(c=0;c<o.length;){var u=o[c];u.__alive?c++:(!r&&u.renderTask.dispose(),s.remove(u.group),u.dispose(n,l),o.splice(c,1),delete a[u.__id],u.__id=u.group.__ecComponentInfo=null)}}function Z(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function K(t,e,n,i){!function(t,e,n,i,r){D(r||t._componentsViews,(function(t){var r=t.__model;t.render(r,e,n,i),et(r,t)}))}(t,e,n,i),D(t._chartsViews,(function(t){t.__alive=!1})),J(t,e,n,i),D(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))}function J(t,e,n,i,r){var o,s=t._scheduler;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var a=n.renderTask;s.updatePayload(a,i),r&&r.get(e.uid)&&a.dirty(),o|=a.perform(s.getPerformArgs(a)),n.group.silent=!!e.get("silent"),et(e,n),function(t,e){var n=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.setStyle("blend",n)}))}))}(e,n)})),s.unfinished|=o,function(t,e){var n=t._zr.storage,i=0;n.traverse((function(t){i++})),i>e.get("hoverLayerThreshold")&&!a.node&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse((function(t){t.useHoverLayer=!0}))}}))}(t,e),_(t._zr.dom,e)}function Q(t,e){D(st,(function(n){n(t,e)}))}z.resize=function(t){if(this._disposed)this.id;else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this[L]=!0,n&&H(this),G.update.call(this),this[L]=!1,X.call(this,i),q.call(this,i)}}},z.showLoading=function(t,e){if(this._disposed)this.id;else if(I(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),ht[t]){var n=ht[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},z.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},z.makeActionFromEvent=function(t){var e=r.extend({},t);return e.type=rt[t.type],e},z.dispatchAction=function(t,e){this._disposed?this.id:(I(e)||(e={silent:!!e}),it[t.type]&&this._model&&(this[L]?this._pendingActions.push(t):(Y.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&a.browser.weChat&&this._throttledZrFlush(),X.call(this,e.silent),q.call(this,e.silent))))},z.appendData=function(t){if(this._disposed)this.id;else{var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0}},z.on=N("on",!1),z.off=N("off",!1),z.one=N("one",!1);var tt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function et(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))}))}function nt(){this.eventInfo}z._initEvents=function(){D(tt,(function(t){var e=function(e){var n,i=this.getModel(),o=e.target;if("globalout"===t)n={};else if(o&&null!=o.dataIndex){var a=o.dataModel||i.getSeriesByIndex(o.seriesIndex);n=a&&a.getDataParams(o.dataIndex,o.dataType,o)||{}}else o&&o.eventData&&(n=r.extend({},o.eventData));if(n){var s=n.componentType,l=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=n.seriesIndex);var c=s&&null!=l&&i.getComponent(s,l),h=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:o,packedEvent:n,model:c,view:h},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)}),this),D(rt,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},z.isDisposed=function(){return this._disposed},z.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},z.dispose=function(){if(this._disposed)this.id;else{this._disposed=!0,b.setAttribute(this.getDom(),gt,"");var t=this._api,e=this._model;D(this._componentsViews,(function(n){n.dispose(e,t)})),D(this._chartsViews,(function(n){n.dispose(e,t)})),this._zr.dispose(),delete ut[this.id]}},r.mixin(F,l),nt.prototype={constructor:nt,normalizeQuery:function(t){var e={},n={},i={};if(r.isString(t)){var o=E(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};r.each(t,(function(t,r){for(var o=!1,l=0;l<a.length;l++){var c=a[l],h=r.lastIndexOf(c);if(h>0&&h===r.length-c.length){var u=r.slice(0,h);"data"!==u&&(e.mainType=u,e[c.toLowerCase()]=t,o=!0)}}s.hasOwnProperty(r)&&(n[r]=t,o=!0),o||(i[r]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:i}},filter:function(t,e,n){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=e.cptQuery,c=e.dataQuery;return h(l,a,"mainType")&&h(l,a,"subType")&&h(l,a,"index","componentIndex")&&h(l,a,"name")&&h(l,a,"id")&&h(c,o,"name")&&h(c,o,"dataIndex")&&h(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function h(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},afterTrigger:function(){this.eventInfo=null}};var it={},rt={},ot=[],at=[],st=[],lt=[],ct={},ht={},ut={},dt={},pt=new Date-0,ft=new Date-0,gt="_echarts_instance_";function mt(t){dt[t]=!1}var vt=mt;function yt(t){return ut[b.getAttribute(t,gt)]}function xt(t,e){ct[t]=e}function bt(t){at.push(t)}function wt(t,e){St(ot,t,e,1e3)}function Ct(t,e,n){"function"==typeof e&&(n=e,e="");var i=I(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,T(B.test(i)&&B.test(e)),it[i]||(it[i]={action:n,actionInfo:t}),rt[e]=i}function _t(t,e){St(lt,t,e,3e3,"visual")}function St(t,e,n,i,r){(P(e)||I(e))&&(n=e,e=i);var o=O.wrapStageHandler(n,r);return o.__prio=e,o.__raw=n,t.push(o),o}function Ot(t,e){ht[t]=e}_t(2e3,C),bt(p),wt(900,f),Ot("default",S),Ct({type:"highlight",event:"highlight",update:"highlight"},r.noop),Ct({type:"downplay",event:"downplay",update:"downplay"},r.noop),xt("light",M),xt("dark",k);e.version="4.9.0",e.dependencies={zrender:"4.3.2"},e.PRIORITY=j,e.init=function(t,e,n){var i=yt(t);if(i)return i;var r=new F(t,e,n);return r.id="ec_"+pt++,ut[r.id]=r,b.setAttribute(t,gt,r.id),function(t){var e="__connectUpdateStatus";function n(t,n){for(var i=0;i<t.length;i++){t[i][e]=n}}D(rt,(function(i,r){t._messageCenter.on(r,(function(i){if(dt[t.group]&&0!==t[e]){if(i&&i.escapeConnect)return;var r=t.makeActionFromEvent(i),o=[];D(ut,(function(e){e!==t&&e.group===t.group&&o.push(e)})),n(o,0),D(o,(function(t){1!==t[e]&&t.dispatchAction(r)})),n(o,2)}}))}))}(r),r},e.connect=function(t){if(r.isArray(t)){var e=t;t=null,D(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+ft++,D(e,(function(e){e.group=t}))}return dt[t]=!0,t},e.disConnect=mt,e.disconnect=vt,e.dispose=function(t){"string"==typeof t?t=ut[t]:t instanceof F||(t=yt(t)),t instanceof F&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=yt,e.getInstanceById=function(t){return ut[t]},e.registerTheme=xt,e.registerPreprocessor=bt,e.registerProcessor=wt,e.registerPostUpdate=function(t){st.push(t)},e.registerAction=Ct,e.registerCoordinateSystem=function(t,e){u.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=u.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){St(lt,t,e,1e3,"layout")},e.registerVisual=_t,e.registerLoading=Ot,e.extendComponentModel=function(t){return g.extend(t)},e.extendComponentView=function(t){return v.extend(t)},e.extendSeriesModel=function(t){return m.extend(t)},e.extendChartView=function(t){return y.extend(t)},e.setCanvasCreator=function(t){r.$override("createCanvas",t)},e.registerMap=function(t,e,n){A.registerMap(t,e,n)},e.getMap=function(t){var e=A.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},e.dataTool={};var Mt=n(267);!function(){for(var t in Mt)Mt.hasOwnProperty(t)&&(e[t]=Mt[t])}()},function(t,e,n){var i=n(3),r=n(252),o=n(50),a=n(37),s=n(18),l=n(24),c=n(122),h=n(81);e.Image=h;var u=n(69);e.Group=u;var d=n(70);e.Text=d;var p=n(257);e.Circle=p;var f=n(413);e.Sector=f;var g=n(414);e.Ring=g;var m=n(259);e.Polygon=m;var v=n(261);e.Polyline=v;var y=n(183);e.Rect=y;var x=n(262);e.Line=x;var b=n(417);e.BezierCurve=b;var w=n(418);e.Arc=w;var C=n(419);e.CompoundPath=C;var _=n(185);e.LinearGradient=_;var S=n(420);e.RadialGradient=S;var O=n(20);e.BoundingRect=O;var M=n(186);e.IncrementalDisplayable=M;var k=n(184),A=Math.max,T=Math.min,D={},P=1,I={},E={};function j(t,e){E[t]=e}function L(t,e,n,i){var o=r.createFromString(t,e);return n&&("center"===i&&(n=B(n,o.getBoundingRect())),R(o,n)),o}function B(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r<=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}var N=r.mergePath;function R(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}var F=k.subPixelOptimize;function z(t){return null!=t&&"none"!==t}var V=i.createHashMap(),G=0;function H(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.__zr,i=t.useHoverLayer&&n&&"canvas"===n.painter.type;if(t.__highlighted=i?"layer":"plain",!(t.isGroup||!n&&t.useHoverLayer)){var r=t,o=t.style;i&&(o=(r=n.addHover(t)).style),ot(o),i||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var r in e)null!=e[r]&&(n[r]=i[r]);n.fill=i.fill,n.stroke=i.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(r),o.extendFrom(e),W(o,e,"fill"),W(o,e,"stroke"),rt(o),i||(t.dirty(!1),t.z2+=1)}}}function W(t,e,n){!z(e[n])&&z(t[n])&&(t[n]=function(t){if("string"!=typeof t)return t;var e=V.get(t);return e||(e=o.lift(t,-.1),G<1e4&&(V.set(t,e),G++)),e}(t[n]))}function $(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var n=t.style,i=t.__cachedNormalStl;i&&(ot(n),t.setStyle(i),rt(n));var r=t.__cachedNormalZ2;null!=r&&t.z2-r==1&&(t.z2=r)}}function Y(t,e,n){var i,r="normal",o="normal";t.__highlighted&&(r="emphasis",i=!0),e(t,n),t.__highlighted&&(o="emphasis",i=!0),t.isGroup&&t.traverse((function(t){!t.isGroup&&e(t,n)})),i&&t.__highDownOnUpdate&&t.__highDownOnUpdate(r,o)}function X(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,$(t),H(t))}function q(t){!J(this,t)&&!this.__highByOuter&&Y(this,H)}function U(t){!J(this,t)&&!this.__highByOuter&&Y(this,$)}function Z(t){this.__highByOuter|=1<<(t||0),Y(this,H)}function K(t){!(this.__highByOuter&=~(1<<(t||0)))&&Y(this,$)}function J(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Q(t,e){var n=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!n||t.__highDownDispatcher){var i=n?"off":"on";t[i]("mouseover",q)[i]("mouseout",U),t[i]("emphasis",Z)[i]("normal",K),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!n}}function tt(t,e,n,r,o){return et(t,e,r,o),n&&i.extend(t,n),t}function et(t,e,n,r){if((n=n||D).isRectText){var o;n.getTextPosition?o=n.getTextPosition(e,r):"outside"===(o=e.getShallow("position")||(r?null:"inside"))&&(o="top"),t.textPosition=o,t.textOffset=e.getShallow("offset");var a=e.getShallow("rotate");null!=a&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=i.retrieve2(e.getShallow("distance"),r?null:5)}var s,l=e.ecModel,c=l&&l.option.textStyle,h=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||D).rich;if(n)for(var i in e=e||{},n)n.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}(e);if(h)for(var u in s={},h)if(h.hasOwnProperty(u)){var d=e.getModel(["rich",u]);nt(s[u]={},d,c,n,r)}return t.rich=s,nt(t,e,c,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function nt(t,e,n,r,o,a){n=!o&&n||D,t.textFill=it(e.getShallow("color"),r)||n.color,t.textStroke=it(e.getShallow("textBorderColor"),r)||n.textBorderColor,t.textStrokeWidth=i.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),o||(a&&(t.insideRollbackOpt=r,rt(t)),null==t.textFill&&(t.textFill=r.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&r.disableBox||(t.textBackgroundColor=it(e.getShallow("backgroundColor"),r),t.textPadding=e.getShallow("padding"),t.textBorderColor=it(e.getShallow("borderColor"),r),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function it(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function rt(t){var e,n=t.textPosition,i=t.insideRollbackOpt;if(i&&null==t.textFill){var r=i.autoColor,o=i.isRectText,a=i.useInsideStyle,s=!1!==a&&(!0===a||o&&n&&"string"==typeof n&&n.indexOf("inside")>=0),l=!s&&null!=r;(s||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=r,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=r)}t.insideRollback=e}function ot(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function at(t,e,n,i,r,o){if("function"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()){var a=t?"Update":"",s=i.getShallow("animationDuration"+a),l=i.getShallow("animationEasing"+a),c=i.getShallow("animationDelay"+a);"function"==typeof c&&(c=c(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),"function"==typeof s&&(s=s(r)),s>0?e.animateTo(n,s,c||0,l,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())}else e.stopAnimation(),e.attr(n),o&&o()}function st(t,e,n,i,r){at(!0,t,e,n,i,r)}function lt(t,e,n){return e&&!i.isArrayLike(e)&&(e=c.getLocalTransform(e)),n&&(e=a.invert([],e)),s.applyTransform([],t,e)}function ct(t,e,n,i,r,o,a,s){var l,c=n-t,h=i-e,u=a-r,d=s-o,p=ht(u,d,c,h);if((l=p)<=1e-6&&l>=-1e-6)return!1;var f=t-r,g=e-o,m=ht(f,g,c,h)/p;if(m<0||m>1)return!1;var v=ht(f,g,u,d)/p;return!(v<0||v>1)}function ht(t,e,n,i){return t*i-n*e}j("circle",p),j("sector",f),j("ring",g),j("polygon",m),j("polyline",v),j("rect",y),j("line",x),j("bezierCurve",b),j("arc",w),e.Z2_EMPHASIS_LIFT=1,e.CACHED_LABEL_STYLE_PROPERTIES={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},e.extendShape=function(t){return l.extend(t)},e.extendPath=function(t,e){return r.extendFromString(t,e)},e.registerShape=j,e.getShapeClass=function(t){if(E.hasOwnProperty(t))return E[t]},e.makePath=L,e.makeImage=function(t,e,n){var i=new h({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(B(e,r))}}});return i},e.mergePath=N,e.resizePath=R,e.subPixelOptimizeLine=function(t){return k.subPixelOptimizeLine(t.shape,t.shape,t.style),t},e.subPixelOptimizeRect=function(t){return k.subPixelOptimizeRect(t.shape,t.shape,t.style),t},e.subPixelOptimize=F,e.setElementHoverStyle=X,e.setHoverStyle=function(t,e){Q(t,!0),Y(t,X,e)},e.setAsHighDownDispatcher=Q,e.isHighDownDispatcher=function(t){return!(!t||!t.__highDownDispatcher)},e.getHighlightDigit=function(t){var e=I[t];return null==e&&P<=32&&(e=I[t]=P++),e},e.setLabelStyle=function(t,e,n,r,o,a,s){var l,c=(o=o||D).labelFetcher,h=o.labelDataIndex,u=o.labelDimIndex,d=o.labelProp,p=n.getShallow("show"),f=r.getShallow("show");(p||f)&&(c&&(l=c.getFormattedLabel(h,"normal",null,u,d)),null==l&&(l=i.isFunction(o.defaultText)?o.defaultText(h,o):o.defaultText));var g=p?l:null,m=f?i.retrieve2(c?c.getFormattedLabel(h,"emphasis",null,u,d):null,l):null;null==g&&null==m||(tt(t,n,a,o),tt(e,r,s,o,!0)),t.text=g,e.text=m},e.modifyLabelStyle=function(t,e,n){var r=t.style;e&&(ot(r),t.setStyle(e),rt(r)),r=t.__hoverStl,n&&r&&(ot(r),i.extend(r,n),rt(r))},e.setTextStyle=tt,e.setText=function(t,e,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,et(t,e,r,i)},e.getFont=function(t,e){var n=e&&e.getModel("textStyle");return i.trim([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))},e.updateProps=st,e.initProps=function(t,e,n,i,r){at(!1,t,e,n,i,r)},e.getTransform=function(t,e){for(var n=a.identity([]);t&&t!==e;)a.mul(n,t.getLocalTransform(),n),t=t.parent;return n},e.applyTransform=lt,e.transformDirection=function(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=lt(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},e.groupTransition=function(t,e,n,r){if(t&&e){var o,a=(o={},t.traverse((function(t){!t.isGroup&&t.anid&&(o[t.anid]=t)})),o);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=a[t.anid];if(e){var i=l(t);t.attr(l(e)),st(t,i,n,t.dataIndex)}}}))}function l(t){var e={position:s.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=i.extend({},t.shape)),e}},e.clipPointsByRect=function(t,e){return i.map(t,(function(t){var n=t[0];n=A(n,e.x),n=T(n,e.x+e.width);var i=t[1];return i=A(i,e.y),[n,i=T(i,e.y+e.height)]}))},e.clipRectByRect=function(t,e){var n=A(t.x,e.x),i=T(t.x+t.width,e.x+e.width),r=A(t.y,e.y),o=T(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}},e.createIcon=function(t,e,n){var r=(e=i.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),i.defaults(r,n),new h(e)):L(t.replace("path://",""),e,n,"center")},e.linePolygonIntersect=function(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(ct(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}},e.lineLineIntersect=ct},function(t,e,n){"use strict";function i(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var r,o,a,s;function l(t){r||(r=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:o,th:o,"*":document.createElement("div")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e="*");var n=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var i=n.childNodes[0];return n.removeChild(i),i}function c(t,e,n){var i;try{i=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{i=void 0===i?n:i}return i}function h(t,e){var n=c(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}function u(t,e){var n=h(t,e),i=parseFloat(c(t,"borderTopWidth"))||0,r=parseFloat(c(t,"paddingTop"))||0,o=parseFloat(c(t,"paddingBottom"))||0;return n+i+(parseFloat(c(t,"borderBottomWidth"))||0)+r+o+(parseFloat(c(t,"marginTop"))||0)+(parseFloat(c(t,"marginBottom"))||0)}function d(t,e){var n=c(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}function p(t,e){var n=d(t,e),i=parseFloat(c(t,"borderLeftWidth"))||0,r=parseFloat(c(t,"paddingLeft"))||0,o=parseFloat(c(t,"paddingRight"))||0,a=parseFloat(c(t,"borderRightWidth"))||0,s=parseFloat(c(t,"marginRight"))||0;return n+i+a+r+o+(parseFloat(c(t,"marginLeft"))||0)+s}function f(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}n.r(e),n.d(e,"addEventListener",(function(){return i})),n.d(e,"createDom",(function(){return l})),n.d(e,"getHeight",(function(){return h})),n.d(e,"getOuterHeight",(function(){return u})),n.d(e,"getOuterWidth",(function(){return p})),n.d(e,"getRatio",(function(){return f})),n.d(e,"getStyle",(function(){return c})),n.d(e,"getWidth",(function(){return d})),n.d(e,"modifyCSS",(function(){return g}))},function(t,e,n){var i=n(3);var r=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function o(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}e.linearMap=function(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]},e.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n},e.round=function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},e.asc=function(t){return t.sort((function(t,e){return t-e})),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},e.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(".");return r<0?0:e.length-1-r},e.getPixelPrecision=function(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20},e.getPercentWithPrecision=function(t,e,n){if(!t[e])return 0;var r=i.reduce(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===r)return 0;for(var o=Math.pow(10,n),a=i.map(t,(function(t){return(isNaN(t)?0:t)/r*o*100})),s=100*o,l=i.map(a,(function(t){return Math.floor(t)})),c=i.reduce(l,(function(t,e){return t+e}),0),h=i.map(a,(function(t,e){return t-l[e]}));c<s;){for(var u=Number.NEGATIVE_INFINITY,d=null,p=0,f=h.length;p<f;++p)h[p]>u&&(u=h[p],d=p);++l[d],h[d]=0,++c}return l[e]/o},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return t>-1e-4&&t<1e-4},e.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=r.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))},e.quantity=function(t){return Math.pow(10,o(t))},e.quantityExponent=o,e.nice=function(t,e){var n=o(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+t.toFixed(n<0?-n:0):t},e.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},e.reformIntervals=function(t){t.sort((function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t},e.isNumeric=function(t){return t-parseFloat(t)>=0}},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(t,e){return l.call(e),h(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"d",(function(){return w})),n.d(e,"b",(function(){return C})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return S})),n.d(e,"l",(function(){return O})),n.d(e,"j",(function(){return M}));var i=n(67),r=n.n(i);n.d(e,"i",(function(){return r.a}));var o=n(53),a=n.n(o);n.d(e,"k",(function(){return a.a}));var s=n(80),l=n.n(s);n.d(e,"h",(function(){return l.a}));var c=n(41),h=n.n(c);n.d(e,"g",(function(){return h.a}));var u=n(54),d=n.n(u);n.d(e,"c",(function(){return d.a}));var p=n(92),f=n.n(p);n.d(e,"o",(function(){return f.a}));var g=n(91),m=n.n(g);n.d(e,"m",(function(){return m.a}));n(120);var v=n(172),y=n.n(v);n.d(e,"n",(function(){return y.a}));var x=n(173),b=n.n(x);function w(){return window?window.devicePixelRatio:1}function C(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)}function _(t,e,n,i,r,o){return r>=t&&r<=t+n&&o>=e&&o<=e+i}function S(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function O(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function M(t,e){return t[0]===e[0]&&t[1]===e[1]}n.d(e,"a",(function(){return b.a}))},function(t,e,n){var i=n(3),r=n(25),o=i.each,a=i.isObject,s=i.isArray;function l(t){return t instanceof Array?t:null==t?[]:[t]}function c(t){return a(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}var h=0;function u(t,e){return t&&t.hasOwnProperty(e)}e.normalizeToArray=l,e.defaultEmphasis=function(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}},e.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],e.getDataItemValue=function(t){return!a(t)||s(t)||t instanceof Date?t:t.value},e.isDataItemOption=function(t){return a(t)&&!(t instanceof Array)},e.mappingToExists=function(t,e){e=(e||[]).slice();var n=i.map(t||[],(function(t,e){return{exist:t}}));return o(e,(function(t,i){if(a(t)){for(var r=0;r<n.length;r++)if(!n[r].option&&null!=t.id&&n[r].exist.id===t.id+"")return n[r].option=t,void(e[i]=null);for(r=0;r<n.length;r++){var o=n[r].exist;if(!(n[r].option||null!=o.id&&null!=t.id||null==t.name||c(t)||c(o)||o.name!==t.name+""))return n[r].option=t,void(e[i]=null)}}})),o(e,(function(t,e){if(a(t)){for(var i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&!c(r)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({option:t})}})),n},e.makeIdAndName=function(t){var e=i.createHashMap();o(t,(function(t,n){var i=t.exist;i&&e.set(i.id,t)})),o(t,(function(t,n){var r=t.option;i.assert(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})})),o(t,(function(t,n){var i=t.exist,r=t.option,o=t.keyInfo;if(a(r)){if(o.name=null!=r.name?r.name+"":i?i.name:"series\0"+n,i)o.id=i.id;else if(null!=r.id)o.id=r.id+"";else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(e.get(o.id))}e.set(o.id,t)}}))},e.isNameSpecified=function(t){var e=t.name;return!(!e||!e.indexOf("series\0"))},e.isIdInner=c,e.compressBatches=function(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++)for(var o=t[i].seriesId,a=l(t[i].dataIndex),s=n&&n[o],c=0,h=a.length;c<h;c++){var u=a[c];s&&s[u]?s[u]=null:(e[o]||(e[o]={}))[u]=1}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}},e.queryDataIndex=function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?i.isArray(e.dataIndex)?i.map(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?i.isArray(e.name)?i.map(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0},e.makeInner=function(){var t="__\0ec_inner_"+h+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}},e.parseFinder=function(t,e,n){if(i.isString(e)){var r={};r[e+"Index"]=0,e=r}var a=n&&n.defaultMainType;!a||u(e,a+"Index")||u(e,a+"Id")||u(e,a+"Name")||(e[a+"Index"]=0);var s={};return o(e,(function(r,o){r=e[o];if("dataIndex"!==o&&"dataIndexInside"!==o){var a=o.match(/^(\w+)(Index|Id|Name)$/)||[],l=a[1],c=(a[2]||"").toLowerCase();if(!(!l||!c||null==r||"index"===c&&"none"===r||n&&n.includeMainTypes&&i.indexOf(n.includeMainTypes,l)<0)){var h={mainType:l};"index"===c&&"all"===r||(h[c]=r);var u=t.queryComponents(h);s[l+"Models"]=u,s[l+"Model"]=u[0]}}else s[o]=r})),s},e.setAttribute=function(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n},e.getAttribute=function(t,e){return t.getAttribute?t.getAttribute(e):t[e]},e.getTooltipRenderMode=function(t){return"auto"===t?r.domSupported?"html":"richText":t||"html"},e.groupData=function(t,e){var n=i.createHashMap(),r=[];return i.each(t,(function(t){var i=e(t);(n.get(i)||(r.push(i),n.set(i,[]))).push(t)})),{keys:r,buckets:n}}},function(t,e,n){(function(t){var n;"undefined"!=typeof window?n=window.__DEV__:void 0!==t&&(n=t.__DEV__),void 0===n&&(n=!0);var i=n;e.__DEV__=i}).call(this,n(99))},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o}));var i=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,n){var i=n(3),r=n(20),o=n(8).parsePercent,a=n(15),s=i.each,l=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function h(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild((function(l,c){var h,u,d=l.position,p=l.getBoundingRect(),f=e.childAt(c+1),g=f&&f.getBoundingRect();if("horizontal"===t){var m=p.width+(g?-g.x+p.x:0);(h=o+m)>i||l.newline?(o=0,h=m,a+=s+n,s=p.height):s=Math.max(s,p.height)}else{var v=p.height+(g?-g.y+p.y:0);(u=a+v)>r||l.newline?(o+=s+n,a=0,u=v,s=p.width):s=Math.max(s,p.width)}l.newline||(d[0]=o,d[1]=a,"horizontal"===t?o=h+n:a=u+n)}))}var u=h,d=i.curry(h,"vertical"),p=i.curry(h,"horizontal");function f(t,e,n){n=a.normalizeCssArray(n||0);var i=e.width,s=e.height,l=o(t.left,i),c=o(t.top,s),h=o(t.right,i),u=o(t.bottom,s),d=o(t.width,i),p=o(t.height,s),f=n[2]+n[0],g=n[1]+n[3],m=t.aspect;switch(isNaN(d)&&(d=i-h-g-l),isNaN(p)&&(p=s-u-f-c),null!=m&&(isNaN(d)&&isNaN(p)&&(m>i/s?d=.8*i:p=.8*s),isNaN(d)&&(d=m*p),isNaN(p)&&(p=d/m)),isNaN(l)&&(l=i-h-d-g),isNaN(c)&&(c=s-u-p-f),t.left||t.right){case"center":l=i/2-d/2-n[3];break;case"right":l=i-d-g}switch(t.top||t.bottom){case"middle":case"center":c=s/2-p/2-n[0];break;case"bottom":c=s-p-f}l=l||0,c=c||0,isNaN(d)&&(d=i-g-l-(h||0)),isNaN(p)&&(p=s-f-c-(u||0));var v=new r(l+n[3],c+n[0],d,p);return v.margin=n,v}function g(t,e){return e&&t&&s(l,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}e.LOCATION_PARAMS=l,e.HV_NAMES=c,e.box=u,e.vbox=d,e.hbox=p,e.getAvailableSize=function(t,e,n){var i=e.width,r=e.height,s=o(t.x,i),l=o(t.y,r),c=o(t.x2,i),h=o(t.y2,r);return(isNaN(s)||isNaN(parseFloat(t.x)))&&(s=0),(isNaN(c)||isNaN(parseFloat(t.x2)))&&(c=i),(isNaN(l)||isNaN(parseFloat(t.y)))&&(l=0),(isNaN(h)||isNaN(parseFloat(t.y2)))&&(h=r),n=a.normalizeCssArray(n||0),{width:Math.max(c-s-n[1]-n[3],0),height:Math.max(h-l-n[0]-n[2],0)}},e.getLayoutRect=f,e.positionElement=function(t,e,n,o,a){var s=!a||!a.hv||a.hv[0],l=!a||!a.hv||a.hv[1],c=a&&a.boundingMode||"all";if(s||l){var h;if("raw"===c)h="group"===t.type?new r(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(h=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(h=h.clone()).applyTransform(u)}e=f(i.defaults({width:h.width,height:h.height},e),n,o);var d=t.position,p=s?e.x-h.x:0,g=l?e.y-h.y:0;t.attr("position","raw"===c?[p,g]:[d[0]+p,d[1]+g])}},e.sizeCalculable=function(t,e){return null!=t[c[e][0]]||null!=t[c[e][1]]&&null!=t[c[e][2]]},e.mergeLayoutParam=function(t,e,n){!i.isObject(n)&&(n={});var r=n.ignoreSize;!i.isArray(r)&&(r=[r,r]);var o=l(c[0],0),a=l(c[1],1);function l(n,i){var o={},a=0,l={},c=0;if(s(n,(function(e){l[e]=t[e]})),s(n,(function(t){h(e,t)&&(o[t]=l[t]=e[t]),u(o,t)&&a++,u(l,t)&&c++})),r[i])return u(e,n[1])?l[n[2]]=null:u(e,n[2])&&(l[n[1]]=null),l;if(2!==c&&a){if(a>=2)return o;for(var d=0;d<n.length;d++){var p=n[d];if(!h(o,p)&&h(t,p)){o[p]=t[p];break}}return o}return l}function h(t,e){return t.hasOwnProperty(e)}function u(t,e){return null!=t[e]&&"auto"!==t[e]}function d(t,e,n){s(t,(function(t){e[t]=n[t]}))}d(c[0],t,o),d(c[1],t,a)},e.getLayoutParams=function(t){return g({},t)},e.copyLayoutParams=g},function(t,e,n){var i=n(3),r=n(39),o=n(8);var a=i.normalizeCssArray,s=/([&<>"'])/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function c(t){return null==t?"":(t+"").replace(s,(function(t,e){return l[e]}))}var h=["a","b","c","d","e","f","g"],u=function(t,e){return"{"+t+(null==e?"":e)+"}"};function d(t,e){return"0000".substr(0,e-(t+="").length)+t}var p=r.truncateText;e.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")},e.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=a,e.encodeHTML=c,e.formatTpl=function(t,e,n){i.isArray(e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var s=h[a];t=t.replace(u(s),u(s,0))}for(var l=0;l<r;l++)for(var d=0;d<o.length;d++){var p=e[l][o[d]];t=t.replace(u(h[d],l),n?c(p):p)}return t},e.formatTplSimple=function(t,e,n){return i.each(e,(function(e,i){t=t.replace("{"+i+"}",n?c(e):e)})),t},e.getTooltipMarker=function(t,e){var n=(t=i.isString(t)?{color:t,extraCssText:e}:t||{}).color,r=t.type,o=(e=t.extraCssText,t.renderMode||"html"),a=t.markerId||"X";return n?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+c(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+c(n)+";"+(e||"")+'"></span>':{renderMode:o,content:"{marker"+a+"|}  ",style:{color:n}}:""},e.formatTime=function(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=o.parseDate(e),r=n?"UTC":"",a=i["get"+r+"FullYear"](),s=i["get"+r+"Month"]()+1,l=i["get"+r+"Date"](),c=i["get"+r+"Hours"](),h=i["get"+r+"Minutes"](),u=i["get"+r+"Seconds"](),p=i["get"+r+"Milliseconds"]();return t=t.replace("MM",d(s,2)).replace("M",s).replace("yyyy",a).replace("yy",a%100).replace("dd",d(l,2)).replace("d",l).replace("hh",d(c,2)).replace("h",c).replace("mm",d(h,2)).replace("m",h).replace("ss",d(u,2)).replace("s",u).replace("SSS",d(p,3))},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=p,e.getTextBoundingRect=function(t){return r.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},e.getTextRect=function(t,e,n,i,o,a,s,l){return r.getBoundingRect(t,e,n,i,o,l,a,s)},e.windowOpen=function(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location=t}else window.open(t,e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return ze})),n.d(e,"Event",(function(){return R})),n.d(e,"Base",(function(){return ot})),n.d(e,"AbstractCanvas",(function(){return Ne})),n.d(e,"AbstractGroup",(function(){return Re})),n.d(e,"AbstractShape",(function(){return Fe})),n.d(e,"PathUtil",(function(){return i}));var i={};n.r(i),n.d(i,"catmullRomToBezier",(function(){return c})),n.d(i,"fillPath",(function(){return P})),n.d(i,"fillPathByDiff",(function(){return j})),n.d(i,"formatPath",(function(){return N})),n.d(i,"intersection",(function(){return A})),n.d(i,"parsePathArray",(function(){return v})),n.d(i,"parsePathString",(function(){return l})),n.d(i,"pathToAbsolute",(function(){return u})),n.d(i,"pathToCurve",(function(){return g})),n.d(i,"rectPath",(function(){return _}));var r=n(0),o="\t\n\v\f\r \u2028\u2029",a=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),l=function(t){if(!t)return null;if(Object(r.isArray)(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(a,(function(i,r,o){var a=[],l=r.toLowerCase();if(o.replace(s,(function(t,e){e&&a.push(+e)})),"m"===l&&a.length>2&&(n.push([r].concat(a.splice(0,2))),l="l",r="m"===r?"l":"L"),"o"===l&&1===a.length&&n.push([r,a[0]]),"r"===l)n.push([r].concat(a));else for(;a.length>=e[l]&&(n.push([r].concat(a.splice(0,e[l]))),e[l]););return t})),n},c=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},h=function(t,e,n,i,r){var o=[];if(null===r&&null===i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!==r){var a=Math.PI/180,s=t+n*Math.cos(-i*a),l=t+n*Math.cos(-r*a);o=[["M",s,e+n*Math.sin(-i*a)],["A",n,n,0,+(r-i>180),0,l,e+n*Math.sin(-r*a)]]}else o=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return o},u=function(t){if(!(t=l(t))||!t.length)return[["M",0,0]];var e,n,i=[],r=0,o=0,a=0,s=0,u=0;"M"===t[0][0]&&(a=r=+t[0][1],s=o=+t[0][2],u++,i[0]=["M",r,o]);for(var d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),p=void 0,f=void 0,g=u,m=t.length;g<m;g++){if(i.push(p=[]),(e=(f=t[g])[0])!==e.toUpperCase())switch(p[0]=e.toUpperCase(),p[0]){case"A":p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=+f[6]+r,p[7]=+f[7]+o;break;case"V":p[1]=+f[1]+o;break;case"H":p[1]=+f[1]+r;break;case"R":for(var v=2,y=(n=[r,o].concat(f.slice(1))).length;v<y;v++)n[v]=+n[v]+r,n[++v]=+n[v]+o;i.pop(),i=i.concat(c(n,d));break;case"O":i.pop(),(n=h(r,o,f[1],f[2])).push(n[0]),i=i.concat(n);break;case"U":i.pop(),i=i.concat(h(r,o,f[1],f[2],f[3])),p=["U"].concat(i[i.length-1].slice(-2));break;case"M":a=+f[1]+r,s=+f[2]+o;break;default:for(v=1,y=f.length;v<y;v++)p[v]=+f[v]+(v%2?r:o)}else if("R"===e)n=[r,o].concat(f.slice(1)),i.pop(),i=i.concat(c(n,d)),p=["R"].concat(f.slice(-2));else if("O"===e)i.pop(),(n=h(r,o,f[1],f[2])).push(n[0]),i=i.concat(n);else if("U"===e)i.pop(),i=i.concat(h(r,o,f[1],f[2],f[3])),p=["U"].concat(i[i.length-1].slice(-2));else for(var x=0,b=f.length;x<b;x++)p[x]=f[x];if("O"!==(e=e.toUpperCase()))switch(p[0]){case"Z":r=+a,o=+s;break;case"H":r=p[1];break;case"V":o=p[1];break;case"M":a=p[p.length-2],s=p[p.length-1];break;default:r=p[p.length-2],o=p[p.length-1]}}return i},d=function(t,e,n,i){return[t,e,n,i,n,i]},p=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},f=function(t,e,n,i,r,o,a,s,l,c){n===i&&(n+=1);var h,u,d,p,g,m=120*Math.PI/180,v=Math.PI/180*(+r||0),y=[],x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(c)u=c[0],d=c[1],p=c[2],g=c[3];else{t=(h=x(t,e,-v)).x,e=h.y,s=(h=x(s,l,-v)).x,l=h.y,t===s&&e===l&&(s+=1,l+=1);var b=(t-s)/2,w=(e-l)/2,C=b*b/(n*n)+w*w/(i*i);C>1&&(n*=C=Math.sqrt(C),i*=C);var _=n*n,S=i*i,O=(o===a?-1:1)*Math.sqrt(Math.abs((_*S-_*w*w-S*b*b)/(_*w*w+S*b*b)));p=O*n*w/i+(t+s)/2,g=O*-i*b/n+(e+l)/2,u=Math.asin(((e-g)/i).toFixed(9)),d=Math.asin(((l-g)/i).toFixed(9)),u=t<p?Math.PI-u:u,d=s<p?Math.PI-d:d,u<0&&(u=2*Math.PI+u),d<0&&(d=2*Math.PI+d),a&&u>d&&(u-=2*Math.PI),!a&&d>u&&(d-=2*Math.PI)}var M=d-u;if(Math.abs(M)>m){var k=d,A=s,T=l;d=u+m*(a&&d>u?1:-1),s=p+n*Math.cos(d),l=g+i*Math.sin(d),y=f(s,l,n,i,r,0,a,A,T,[d,k,p,g])}M=d-u;var D=Math.cos(u),P=Math.sin(u),I=Math.cos(d),E=Math.sin(d),j=Math.tan(M/4),L=4/3*n*j,B=4/3*i*j,N=[t,e],R=[t+L*P,e-B*D],F=[s+L*E,l-B*I],z=[s,l];if(R[0]=2*N[0]-R[0],R[1]=2*N[1]-R[1],c)return[R,F,z].concat(y);for(var V=[],G=0,H=(y=[R,F,z].concat(y).join().split(",")).length;G<H;G++)V[G]=G%2?x(y[G-1],y[G],v).y:x(y[G],y[G+1],v).x;return V},g=function(t,e){var n,i=u(t),r=e&&u(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],c="",h="",g=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(f.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(p(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(p(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(d(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(d(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(d(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(d(e.x,e.y,e.X,e.Y))}return t},m=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",r&&(l[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(i.length,r&&r.length||0)}},v=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(i.length,r&&r.length||0))};n=Math.max(i.length,r&&r.length||0);for(var y=0;y<n;y++){i[y]&&(c=i[y][0]),"C"!==c&&(s[y]=c,y&&(h=s[y-1])),i[y]=g(i[y],o,h),"A"!==s[y]&&"C"===c&&(s[y]="C"),m(i,y),r&&(r[y]&&(c=r[y][0]),"C"!==c&&(l[y]=c,y&&(h=l[y-1])),r[y]=g(r[y],a,h),"A"!==l[y]&&"C"===c&&(l[y]="C"),m(r,y)),v(i,r,o,a,y),v(r,i,a,o,y);var x=i[y],b=r&&r[y],w=x.length,C=r&&b.length;o.x=x[w-2],o.y=x[w-1],o.bx=parseFloat(x[w-4])||o.x,o.by=parseFloat(x[w-3])||o.y,a.bx=r&&(parseFloat(b[C-4])||a.x),a.by=r&&(parseFloat(b[C-3])||a.y),a.x=r&&b[C-2],a.y=r&&b[C-1]}return r?[i,r]:i},m=/,?([a-z]),?/gi,v=function(t){return t.join(",").replace(m,"$1")},y=function(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n},x=function(t,e,n,i,r,o,a,s,l){null===l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var f=c*h[p]+c,g=y(f,t,n,r,a),m=y(f,e,i,o,s),v=g*g+m*m;d+=u[p]*Math.sqrt(v)}return c*d},b=function(t,e,n,i,r,o,a,s){for(var l,c,h,u,d=[],p=[[],[]],f=0;f<2;++f)if(0===f?(c=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*a,h=3*n-3*t):(c=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*s,h=3*i-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;(u=-h/c)>0&&u<1&&d.push(u)}else{var g=c*c-4*h*l,m=Math.sqrt(g);if(!(g<0)){var v=(-c+m)/(2*l);v>0&&v<1&&d.push(v);var y=(-c-m)/(2*l);y>0&&y<1&&d.push(y)}}for(var x,b=d.length,w=b;b--;)x=1-(u=d[b]),p[0][b]=x*x*x*t+3*x*x*u*n+3*x*u*u*r+u*u*u*a,p[1][b]=x*x*x*e+3*x*x*u*i+3*x*u*u*o+u*u*u*s;return p[0][w]=t,p[1][w]=e,p[0][w+1]=a,p[1][w+1]=s,p[0].length=p[1].length=w+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},w=function(t,e,n,i,r,o,a,s){if(!(Math.max(t,n)<Math.min(r,a)||Math.min(t,n)>Math.max(r,a)||Math.max(e,i)<Math.min(o,s)||Math.min(e,i)>Math.max(o,s))){var l=(t-n)*(o-s)-(e-i)*(r-a);if(l){var c=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/l,h=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/l,u=+c.toFixed(2),d=+h.toFixed(2);if(!(u<+Math.min(t,n).toFixed(2)||u>+Math.max(t,n).toFixed(2)||u<+Math.min(r,a).toFixed(2)||u>+Math.max(r,a).toFixed(2)||d<+Math.min(e,i).toFixed(2)||d>+Math.max(e,i).toFixed(2)||d<+Math.min(o,s).toFixed(2)||d>+Math.max(o,s).toFixed(2)))return{x:c,y:h}}}},C=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},_=function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=v,o},S=function(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:_(t,e,n,i),vb:[t,e,n,i].join(" ")}},O=function(t,e,n,i,o,a,s,l){Object(r.isArray)(t)||(t=[t,e,n,i,o,a,s,l]);var c=b.apply(null,t);return S(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},M=function(t,e,n,i,r,o,a,s,l){var c=1-l,h=Math.pow(c,3),u=Math.pow(c,2),d=l*l,p=d*l,f=t+2*l*(n-t)+d*(r-2*n+t),g=e+2*l*(i-e)+d*(o-2*i+e),m=n+2*l*(r-n)+d*(a-2*r+n),v=i+2*l*(o-i)+d*(s-2*o+i);return{x:h*t+3*u*l*n+3*c*l*l*r+p*a,y:h*e+3*u*l*i+3*c*l*l*o+p*s,m:{x:f,y:g},n:{x:m,y:v},start:{x:c*t+l*n,y:c*e+l*i},end:{x:c*r+l*a,y:c*o+l*s},alpha:90-180*Math.atan2(f-m,g-v)/Math.PI}},k=function(t,e,n){if(!function(t,e){return t=S(t),e=S(e),C(e,t.x,t.y)||C(e,t.x2,t.y)||C(e,t.x,t.y2)||C(e,t.x2,t.y2)||C(t,e.x,e.y)||C(t,e.x2,e.y)||C(t,e.x,e.y2)||C(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}(O(t),O(e)))return n?0:[];for(var i=~~(x.apply(0,t)/8),r=~~(x.apply(0,e)/8),o=[],a=[],s={},l=n?0:[],c=0;c<i+1;c++){var h=M.apply(0,t.concat(c/i));o.push({x:h.x,y:h.y,t:c/i})}for(c=0;c<r+1;c++){h=M.apply(0,e.concat(c/r));a.push({x:h.x,y:h.y,t:c/r})}for(c=0;c<i;c++)for(var u=0;u<r;u++){var d=o[c],p=o[c+1],f=a[u],g=a[u+1],m=Math.abs(p.x-d.x)<.001?"y":"x",v=Math.abs(g.x-f.x)<.001?"y":"x",y=w(d.x,d.y,p.x,p.y,f.x,f.y,g.x,g.y);if(y){if(s[y.x.toFixed(4)]===y.y.toFixed(4))continue;s[y.x.toFixed(4)]=y.y.toFixed(4);var b=d.t+Math.abs((y[m]-d[m])/(p[m]-d[m]))*(p.t-d.t),_=f.t+Math.abs((y[v]-f[v])/(g[v]-f[v]))*(g.t-f.t);b>=0&&b<=1&&_>=0&&_<=1&&(n?l+=1:l.push({x:y.x,y:y.y,t1:b,t2:_}))}}return l},A=function(t,e){return function(t,e,n){var i,r,o,a,s,l,c,h,u,d;t=g(t),e=g(e);for(var p=n?0:[],f=0,m=t.length;f<m;f++){var v=t[f];if("M"===v[0])i=s=v[1],r=l=v[2];else{"C"===v[0]?(u=[i,r].concat(v.slice(1)),i=u[6],r=u[7]):(u=[i,r,i,r,s,l,s,l],i=s,r=l);for(var y=0,x=e.length;y<x;y++){var b=e[y];if("M"===b[0])o=c=b[1],a=h=b[2];else{"C"===b[0]?(d=[o,a].concat(b.slice(1)),o=d[6],a=d[7]):(d=[o,a,o,a,c,h,c,h],o=c,a=h);var w=k(u,d,n);if(n)p+=w;else{for(var C=0,_=w.length;C<_;C++)w[C].segment1=f,w[C].segment2=y,w[C].bez1=u,w[C].bez2=d;p=p.concat(w)}}}}}return p}(t,e)};function T(t,e){var n=[],i=[];return t.length&&function t(e,r){if(1===e.length)n.push(e[0]),i.push(e[0]);else{for(var o=[],a=0;a<e.length-1;a++)0===a&&n.push(e[0]),a===e.length-2&&i.push(e[a+1]),o[a]=[(1-r)*e[a][0]+r*e[a+1][0],(1-r)*e[a][1]+r*e[a+1][1]];t(o,r)}}(t,e),{left:n,right:i.reverse()}}var D=function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,a=1/n,s=0;s<n-1;s++){var l=T(o,a/(1-a*s));r.push(l.left),o=l.right}return r.push(o),r.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])}))}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var o=0;o<=n-1;o++)i.push(r)}return i},P=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,r=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<i-n;a++)t.push(t[0]);return t}for(a=0;a<i;a++){var s=Math.floor(r*a);o[s]=(o[s]||0)+1}var l=o.reduce((function(e,i,r){return r===n?e.concat(t[n]):e.concat(D(t[r],t[r+1],i))}),[]);return l.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||l.push("Z"),l},I=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(r.each)(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function E(t,e,n){var i=null,r=n;return e<r&&(r=e,i="add"),t<r&&(r=t,i="del"),{type:i,min:r}}var j=function(t,e){var n=function(t,e){var n,i,r=t.length,o=e.length,a=0;if(0===r||0===o)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=o;c++)s[0][c]={min:c};for(l=1;l<=r;l++){n=t[l-1];for(c=1;c<=o;c++){i=e[c-1],a=I(n,i)?0:1;var h=s[l-1][c].min+1,u=s[l][c-1].min+1,d=s[l-1][c-1].min+a;s[l][c]=E(h,u,d)}}return s}(t,e),i=t.length,r=e.length,o=[],a=1,s=1;if(n[i][r].min!==i){for(var l=1;l<=i;l++){var c=n[l][l].min;s=l;for(var h=a;h<=r;h++)n[l][h].min<c&&(c=n[l][h].min,s=h);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var u=r-(i=t.length);if(i<r)for(l=0;l<u;l++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]),i+=1;return t};function L(t,e,n){for(var i,r=[].concat(t),o=1/(n+1),a=B(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}function B(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var N=function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=B(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=L(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=L(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=L(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[i]=e[i]}return t},R=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),F=n(1),z=n(32),V=n(67),G=n.n(V),H=n(80),W=n.n(H),$=n(53),Y=n.n($),X=n(118),q=n.n(X),U=(n(41),n(169)),Z=n.n(U),K=n(54),J=n.n(K),Q=n(170),tt=n.n(Q);function et(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var nt="undefined"!=typeof window&&void 0!==window.document;function it(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),i=!1;n;){if(n===t){i=!0;break}n=n.getParent()}return i}function rt(t){return t.cfg.visible&&t.cfg.capture}var ot=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=Z()(i,e),n}return Object(F.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(z.default),at=n(326),st=n(4);function lt(t,e){var n=[],i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=e[0],p=e[1],f=e[2],g=e[3],m=e[4],v=e[5],y=e[6],x=e[7],b=e[8];return n[0]=d*i+p*a+f*c,n[1]=d*r+p*s+f*h,n[2]=d*o+p*l+f*u,n[3]=g*i+m*a+v*c,n[4]=g*r+m*s+v*h,n[5]=g*o+m*l+v*u,n[6]=y*i+x*a+b*c,n[7]=y*r+x*s+b*h,n[8]=y*o+x*l+b*u,n}function ct(t,e){var n=[],i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}var ht=["zIndex","capture","visible","type"],ut=["repeat"];function dt(t,e){var n={},i=e.attrs;for(var r in t)n[r]=i[r];return n}function pt(t,e){var n={},i=e.attr();return Object(r.each)(t,(function(t,e){-1!==ut.indexOf(e)||Object(r.isEqual)(i[e],t)||(n[e]=t)})),n}function ft(t,e){if(e.onFrame)return t;var n=e.startTime,i=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(r.each)(t,(function(t){n+i<t.startTime+t.delay+t.duration&&o>t.delay&&Object(r.each)(e.toAttrs,(function(e,n){a.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var gt=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var i=n.getDefaultAttrs();return Object(r.mix)(i,e.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return Object(F.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],o=e[1];if(!i)return this.attrs;if(Object(r.isObject)(i)){for(var a in i)this.setAttr(a,i[a]);return this.afterAttrsChange(i),this}return 2===e.length?(this.setAttr(i,o),this.afterAttrsChange(((t={})[i]=o,t)),this):this.attrs[i]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(et(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr("matrix")},e.prototype.setMatrix=function(t){this.attr("matrix",t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.get("totalMatrix");if(!t){var e=this.attr("matrix"),n=this.get("parentMatrix");t=n&&e?lt(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?lt(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?ct(e,t):t},e.prototype.invertFromMatrix=function(t){var e,n,i,r,o,a,s,l,c,h,u,d,p,f,g,m=this.attr("matrix");if(m){var v=(n=[],i=(e=m)[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],u=e[8],(g=i*(d=u*s-l*h)+r*(p=-u*a+l*c)+o*(f=h*a-s*c))?(g=1/g,n[0]=d*g,n[1]=(-u*r+o*h)*g,n[2]=(l*r-o*s)*g,n[3]=p*g,n[4]=(u*i-o*c)*g,n[5]=(-l*i+o*a)*g,n[6]=f*g,n[7]=(-h*i+r*c)*g,n[8]=(s*i-r*a)*g,n):null);if(v)return ct(v,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var i=this.getShapeBase()[Object(r.upperFirst)(t.type)];i&&(n=new i({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(r.each)(e,(function(t,i){Object(r.isArray)(e[i])?n[i]=function(t){for(var e=[],n=0;n<t.length;n++)Object(r.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[i]):n[i]=e[i]}));var i=new(0,this.constructor)({attrs:n});return Object(r.each)(ht,(function(e){i.set(e,t.get(e))})),i},e.prototype.destroy=function(){this.destroyed||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var i=this.get("animations")||[];n.timer||n.initTimer();var o,a,s,l,c,h=t[0],u=t[1],d=t[2],p=void 0===d?"easeLinear":d,f=t[3],g=void 0===f?r.noop:f,m=t[4],v=void 0===m?0:m;Object(r.isFunction)(h)?(o=h,h={}):Object(r.isObject)(h)&&h.onFrame&&(o=h.onFrame,a=h.repeat),Object(r.isObject)(u)?(u=(c=u).duration,p=c.easing||"easeLinear",v=c.delay||0,a=c.repeat||a||!1,g=c.callback||r.noop,s=c.pauseCallback||r.noop,l=c.resumeCallback||r.noop):(Object(r.isNumber)(g)&&(v=g,g=null),Object(r.isFunction)(p)?(g=p,p="easeLinear"):p=p||"easeLinear");var y=pt(h,this),x={fromAttrs:dt(y,this),toAttrs:y,duration:u,easing:p,repeat:a,callback:g,pauseCallback:s,resumeCallback:l,delay:v,startTime:n.getTime(),id:Object(r.uniqueId)(),onFrame:o,pathFormatted:!1};i.length>0?i=ft(i,x):n.addAnimator(this),i.push(x),this.set("animations",i),this.set("_pause",{isPaused:!1})},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(r.each)(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(r.each)(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline").getTime(),e=this.get("animations"),n=this.get("_pause").pauseTime;return Object(r.each)(e,(function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null,e.resumeCallback&&e.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",e),this},e.prototype.emitDelegation=function(t,e){var n,i=this,o=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var a=function(t){var a=o[t],l=a.get("name");if(l){if((a.isGroup()||a.isCanvas&&a.isCanvas())&&n&&it(a,n))return"break";Object(r.isArray)(l)?Object(r.each)(l,(function(t){i.emitDelegateEvent(a,t,e)})):s.emitDelegateEvent(a,l,e)}},s=this,l=0;l<o.length;l++){if("break"===a(l))break}},e.prototype.emitDelegateEvent=function(t,e,n){var i=this.getEvents(),r=e+":"+n.type;(i[r]||i["*"])&&(n.name=r,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(r,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),i=st.ext.transform(n,[["t",t,e]]);return this.setMatrix(i),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-n,e-i),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),i=st.ext.transform(n,[["s",t,e||t]]);return this.setMatrix(i),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=st.ext.transform(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,i=e.y,r=this.getMatrix(),o=st.ext.transform(r,[["t",-n,-i],["r",t],["t",n,i]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var i=this.getMatrix(),r=st.ext.transform(i,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(r),this},e}(ot),mt={};var vt,yt,xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.__extends)(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,r=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(J()(a,(function(t){var e=t.getBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Math.min.apply(null,r),e=Math.max.apply(null,r),n=Math.min.apply(null,o),i=Math.max.apply(null,o)):(t=0,e=0,n=0,i=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n}},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,r=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));return a.length>0?(J()(a,(function(t){var e=t.getCanvasBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=Math.min.apply(null,r),e=Math.max.apply(null,r),n=Math.min.apply(null,o),i=Math.max.apply(null,o)):(t=0,e=0,n=0,i=0),{x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n}},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.children=[],e},e.prototype.onAttrChange=function(e,n,i){if(t.prototype.onAttrChange.call(this,e,n,i),"matrix"===e){var r=this.getTotalMatrix();this._applyChildrenMarix(r)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();J()(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1];q()(n)?i=n:i.type=n;var r=mt[i.type];r||(r=tt()(i.type),mt[i.type]=r);var o=this.getShapeBase(),a=new o[r](i);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i=t[0],r=t[1];if(W()(i))n=new i(r||{parent:this});else{var o=i||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},e.prototype.getShape=function(t,e,n){if(!rt(this))return null;var i,r=this.getChildren();if(this.isCanvas())i=this._findShape(r,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(i=this._findShape(r,o[0],o[1],n))}return i},e.prototype._findShape=function(t,e,n,i){for(var r=null,o=t.length-1;o>=0;o--){var a=t[o];if(rt(a)&&(a.isGroup()?r=a.getShape(e,n,i):a.isHit(e,n)&&(r=a)),r)break}return r},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),i=this.get("timeline"),r=t.getParent();r&&function(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),et(t.getChildren(),e)}(r,t,!1),t.set("parent",this),e&&function t(e,n){if(e.set("canvas",n),e.isGroup()){var i=e.get("children");i.length&&i.forEach((function(e){t(e,n)}))}}(t,e),i&&function t(e,n){if(e.set("timeline",n),e.isGroup()){var i=e.get("children");i.length&&i.forEach((function(e){t(e,n)}))}}(t,i),n.push(t),function(t){t.isGroup()?(t.isEntityGroup()||t.get("children").length)&&t.onCanvasChange("add"):t.onCanvasChange("add")}(t),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t,e=this.getChildren();J()(e,(function(t,e){return t._INDEX=e,t})),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var i=t(e,n);return 0===i?e._INDEX-n._INDEX:i})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){return this.getChildren()[t]},e.prototype.getCount=function(){return this.getChildren().length},e.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return J()(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return J()(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(gt),bt=0,wt=0,Ct=0,_t=0,St=0,Ot=0,Mt="object"==typeof performance&&performance.now?performance:Date,kt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function At(){return St||(kt(Tt),St=Mt.now()+Ot)}function Tt(){St=0}function Dt(){this._call=this._time=this._next=null}function Pt(t,e,n){var i=new Dt;return i.restart(t,e,n),i}function It(){St=(_t=Mt.now())+Ot,bt=wt=0;try{!function(){At(),++bt;for(var t,e=vt;e;)(t=St-e._time)>=0&&e._call.call(null,t),e=e._next;--bt}()}finally{bt=0,function(){var t,e,n=vt,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:vt=e);yt=t,jt(i)}(),St=0}}function Et(){var t=Mt.now(),e=t-_t;e>1e3&&(Ot-=e,_t=t)}function jt(t){bt||(wt&&(wt=clearTimeout(wt)),t-St>24?(t<1/0&&(wt=setTimeout(It,t-Mt.now()-Ot)),Ct&&(Ct=clearInterval(Ct))):(Ct||(_t=Mt.now(),Ct=setInterval(Et,1e3)),bt=1,kt(It)))}Dt.prototype=Pt.prototype={constructor:Dt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?At():+n)+(null==e?0:+e),this._next||yt===this||(yt?yt._next=this:vt=this,yt=this),this._call=t,this._time=n,jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,jt())}};var Lt=n(167),Bt=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Nt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Rt(){}var Ft="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gt=/^#([0-9a-f]{3,8})$/,Ht=new RegExp("^rgb\\("+[Ft,Ft,Ft]+"\\)$"),Wt=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),$t=new RegExp("^rgba\\("+[Ft,Ft,Ft,zt]+"\\)$"),Yt=new RegExp("^rgba\\("+[Vt,Vt,Vt,zt]+"\\)$"),Xt=new RegExp("^hsl\\("+[zt,Vt,Vt]+"\\)$"),qt=new RegExp("^hsla\\("+[zt,Vt,Vt,zt]+"\\)$"),Ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zt(){return this.rgb().formatHex()}function Kt(){return this.rgb().formatRgb()}function Jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Qt(e):3===n?new ie(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?te(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?te(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ht.exec(t))?new ie(e[1],e[2],e[3],1):(e=Wt.exec(t))?new ie(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$t.exec(t))?te(e[1],e[2],e[3],e[4]):(e=Yt.exec(t))?te(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xt.exec(t))?se(e[1],e[2]/100,e[3]/100,1):(e=qt.exec(t))?se(e[1],e[2]/100,e[3]/100,e[4]):Ut.hasOwnProperty(t)?Qt(Ut[t]):"transparent"===t?new ie(NaN,NaN,NaN,0):null}function Qt(t){return new ie(t>>16&255,t>>8&255,255&t,1)}function te(t,e,n,i){return i<=0&&(t=e=n=NaN),new ie(t,e,n,i)}function ee(t){return t instanceof Rt||(t=Jt(t)),t?new ie((t=t.rgb()).r,t.g,t.b,t.opacity):new ie}function ne(t,e,n,i){return 1===arguments.length?ee(t):new ie(t,e,n,null==i?1:i)}function ie(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function re(){return"#"+ae(this.r)+ae(this.g)+ae(this.b)}function oe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ae(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function se(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ce(t,e,n,i)}function le(t){if(t instanceof ce)return new ce(t.h,t.s,t.l,t.opacity);if(t instanceof Rt||(t=Jt(t)),!t)return new ce;if(t instanceof ce)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new ce(a,s,l,t.opacity)}function ce(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function he(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ue(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}Bt(Rt,Jt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zt,formatHex:Zt,formatHsl:function(){return le(this).formatHsl()},formatRgb:Kt,toString:Kt}),Bt(ie,ne,Nt(Rt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ie(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ie(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:re,formatHex:re,formatRgb:oe,toString:oe})),Bt(ce,(function(t,e,n,i){return 1===arguments.length?le(t):new ce(t,e,n,null==i?1:i)}),Nt(Rt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ce(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ie(he(t>=240?t-240:t+120,r,i),he(t,r,i),he(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var de=function(t){return function(){return t}};function pe(t,e){return function(n){return t+n*e}}function fe(t){return 1==(t=+t)?ge:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):de(isNaN(e)?n:e)}}function ge(t,e){var n=e-t;return n?pe(t,n):de(isNaN(t)?e:t)}var me=function t(e){var n=fe(e);function i(t,e){var i=n((t=ne(t)).r,(e=ne(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=ge(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function ve(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=ne(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}ve((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return ue((n-i/e)*e,a,r,o,s)}})),ve((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return ue((n-i/e)*e,r,o,a,s)}}));var ye=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}};function xe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function be(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=ke(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}var we=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},Ce=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},_e=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=ke(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oe=new RegExp(Se.source,"g");var Me=function(t,e){var n,i,r,o=Se.lastIndex=Oe.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Se.exec(t))&&(i=Oe.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ce(n,i)})),o=Oe.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})},ke=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?de(e):("number"===i?Ce:"string"===i?(n=Jt(e))?(e=n,me):Me:e instanceof Jt?me:e instanceof Date?we:xe(e)?ye:Array.isArray(e)?be:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_e:Ce)(t,e)},Ae=[1,0,0,0,1,0,0,0,1];function Te(t,e,n){var i,o=e.startTime;if(n<o+e.delay||e._paused)return!1;var a=e.duration,s=e.easing;if(n=n-o-e.delay,e.repeat)i=n%a/a,i=Lt[s](i);else{if(!((i=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=Lt[s](i)}if(e.onFrame){var c=e.onFrame(i);t.attr(c)}else!function(t,e,n){var i={},o=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var s,c,h,u;for(var d in a)if(!Object(r.isEqual)(o[d],a[d]))if("path"===d){var p=a[d],f=o[d];p.length>f.length?(p=l(a[d]),f=l(o[d]),f=j(f,p),f=N(f,p),e.fromAttrs.path=f,e.toAttrs.path=p):e.pathFormatted||(p=l(a[d]),f=l(o[d]),f=N(f,p),e.fromAttrs.path=f,e.toAttrs.path=p,e.pathFormatted=!0),i[d]=[];for(var g=0;g<p.length;g++){for(var m=p[g],v=f[g],y=[],x=0;x<m.length;x++)Object(r.isNumber)(m[x])&&v&&Object(r.isNumber)(v[x])?(s=ke(v[x],m[x]),y.push(s(n))):y.push(m[x]);i[d].push(y)}}else if("matrix"===d){var b=(h=o[d]||Ae,(xe(u=a[d]||Ae)?ye:be)(h,u))(n);i[d]=b}else["fill","stroke","fillStyle","strokeStyle"].includes(d)&&(c=a[d],/^[r,R,L,l]{1}[\s]*\(/.test(c))?i[d]=a[d]:Object(r.isFunction)(a[d])||(s=ke(o[d],a[d]),i[d]=s(n));t.attr(i)}}(t,e,i);return!1}var De=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,i=this;this.timer=Pt((function(r){if(i.current=r,i.animators.length>0){for(var o=i.animators.length-1;o>=0;o--)if((t=i.animators[o]).destroyed)i.removeAnimator(o);else{if(!t.isAnimatePaused())for(var a=(e=t.get("animations")).length-1;a>=0;a--)n=e[a],Te(t,n,r)&&(e.splice(a,1),!1,n.callback&&n.callback());0===e.length&&i.removeAnimator(o)}i.canvas.get("autoDraw")||i.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Pe=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Ie(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Ee(t,e,n){if(n.bubbles){var i=void 0,r=!1;if("mouseenter"===e?(i=n.fromShape,r=!0):"mouseleave"===e&&(r=!0,i=n.toShape),t.isCanvas()&&r)return;if(i&&it(t,i))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var je=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){if(e.canvas.get("el")!==t.target&&(e.dragging||e.currentShape)){var n=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,n,e.draggingShape)}},this._onDocumentMouseUp=function(t){if(e.canvas.get("el")!==t.target&&e.dragging){var n=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,n,null),e._emitEvent("dragend",t,n,e.draggingShape),e._afterDrag(e.draggingShape,n,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");J()(Pe,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");J()(Pe,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,i,r,o){var a=new R(t,e);return a.fromShape=r,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(i),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),i=e.getPointByEvent(t);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),i=this._getShape(n,e),r=this["_on"+t],o=!1;if(r)r.call(this,n,i,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,i),i&&this._emitEvent(t,e,n,i,null,i),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var s=this.canvas;s.get("el").style.cursor=i.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,i){var r=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",t,e,n,n,i),this._emitEvent("mouseleave",t,e,n,n,i),i&&!i.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",t,e,i,n,i),this._emitEvent("mouseenter",t,e,i,n,i)))},t.prototype._emitDragoverEvents=function(t,e,n,i,r){i?(i!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,i),this._emitEvent("dragenter",t,e,i,n,i)),r||this._emitEvent("dragover",t,e,i)):n&&this._emitEvent("dragleave",t,e,n,n,i),r&&this._emitEvent("dragover",t,e,i)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(e,n);i!==t&&this._emitMouseoverEvents(n,e,t,i),this.currentShape=i},t.prototype._onmouseup=function(t,e,n){if(0===n.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,i),this._afterDrag(i,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,t,i,e,!0)},t.prototype._onmousemove=function(t,e,n){var i=this.canvas,r=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,r,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,l=n.timeStamp-this.mousedownTimeStamp,c=a.clientX-t.clientX,h=a.clientY-t.clientY;l>120||c*c+h*h>40?s&&s.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,i,r,o){var a=this._getEventObj(t,e,n,i,r,o);if(i){a.shape=i,Ie(i,t,a);for(var s=i.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||Ee(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Ie(this.canvas,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Le=Object(at.a)(),Be=Le&&"firefox"===Le.name,Ne=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Object(F.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.cursor="default",e.supportCSSTransform=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Y()(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new je({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new De(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");nt&&(n.style.width=t+"px",n.style.height=e+"px")},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");nt&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Be&&!G()(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!G()(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,i=e.y;return this.getPointByClient(n,i)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){this.get("eventController").destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(xt),Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.__extends)(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var r=n[i];e.add(r.clone())}return e},e}(xt),Fe=function(t){function e(e){return t.call(this,e)||this}return Object(F.__extends)(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.get("bbox");return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.get("canvasBox");return t||(t=this.calculateCanvasBBox(),this.set("canvasBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,i=t.minY,r=t.maxX,o=t.maxY;if(e){var a=ct(e,[t.minX,t.minY]),s=ct(e,[t.maxX,t.minY]),l=ct(e,[t.minX,t.maxY]),c=ct(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],l[0],c[0]),r=Math.max(a[0],s[0],l[0],c[0]),i=Math.min(a[1],s[1],l[1],c[1]),o=Math.max(a[1],s[1],l[1],c[1])}var h=this.attrs;if(h.shadowColor){var u=h.shadowBlur,d=void 0===u?0:u,p=h.shadowOffsetX,f=void 0===p?0:p,g=h.shadowOffsetY,m=void 0===g?0:g,v=n-d+f,y=r+d+f,x=i-d+m,b=o+d+m;n=Math.min(n,v),r=Math.max(r,y),i=Math.min(i,x),o=Math.max(o,b)}return{x:n,y:i,minX:n,minY:i,maxX:r,maxY:o,width:r-n,height:o-i}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),i=this.get("endArrowShape"),r=[t,e,1],o=(r=this.invertFromMatrix(r))[0],a=r[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(i&&i.isHit(o,a))return!0}return!1},e}(gt),ze=n(351).version},function(t,e,n){"use strict";n.r(e),n.d(e,"Component",(function(){return B})),n.d(e,"GroupComponent",(function(){return F})),n.d(e,"HtmlComponent",(function(){return Ot})),n.d(e,"Axis",(function(){return l})),n.d(e,"Annotation",(function(){return i})),n.d(e,"Grid",(function(){return h})),n.d(e,"Legend",(function(){return u})),n.d(e,"Tooltip",(function(){return p})),n.d(e,"Crosshair",(function(){return c})),n.d(e,"Slider",(function(){return se})),n.d(e,"Scrollbar",(function(){return ce}));var i={};n.r(i),n.d(i,"Line",(function(){return $})),n.d(i,"Text",(function(){return Y})),n.d(i,"Arc",(function(){return X})),n.d(i,"Region",(function(){return q})),n.d(i,"Image",(function(){return U})),n.d(i,"DataMarker",(function(){return Z})),n.d(i,"DataRegion",(function(){return K})),n.d(i,"RegionFilter",(function(){return J}));var r={};n.r(r),n.d(r,"getDefault",(function(){return nt})),n.d(r,"ellipsisHead",(function(){return it})),n.d(r,"ellipsisTail",(function(){return rt})),n.d(r,"ellipsisMiddle",(function(){return ot}));var o={};n.r(o),n.d(o,"getDefault",(function(){return ct})),n.d(o,"reserveFirst",(function(){return ht})),n.d(o,"reserveLast",(function(){return ut})),n.d(o,"reserveBoth",(function(){return dt})),n.d(o,"equidistance",(function(){return pt}));var a={};n.r(a),n.d(a,"getDefault",(function(){return gt})),n.d(a,"fixedAngle",(function(){return mt})),n.d(a,"unfixedAngle",(function(){return vt}));var s={};n.r(s),n.d(s,"autoHide",(function(){return o})),n.d(s,"autoRotate",(function(){return a})),n.d(s,"autoEllipsis",(function(){return r}));var l={};n.r(l),n.d(l,"Line",(function(){return xt})),n.d(l,"Circle",(function(){return bt})),n.d(l,"Base",(function(){return tt}));var c={};n.r(c),n.d(c,"Line",(function(){return Ct})),n.d(c,"Circle",(function(){return _t})),n.d(c,"Base",(function(){return wt})),n.d(c,"Html",(function(){return kt}));var h={};n.r(h),n.d(h,"Base",(function(){return At})),n.d(h,"Circle",(function(){return Dt})),n.d(h,"Line",(function(){return Pt}));var u={};n.r(u),n.d(u,"Category",(function(){return Et})),n.d(u,"Continuous",(function(){return jt})),n.d(u,"Base",(function(){return It}));var d={};n.r(d),n.d(d,"CONTAINER_CLASS",(function(){return Bt})),n.d(d,"TITLE_CLASS",(function(){return Nt})),n.d(d,"LIST_CLASS",(function(){return Rt})),n.d(d,"LIST_ITEM_CLASS",(function(){return Ft})),n.d(d,"MARKER_CLASS",(function(){return zt})),n.d(d,"VALUE_CLASS",(function(){return Vt})),n.d(d,"NAME_CLASS",(function(){return Gt})),n.d(d,"CROSSHAIR_X",(function(){return Ht})),n.d(d,"CROSSHAIR_Y",(function(){return Wt}));var p={};n.r(p),n.d(p,"Html",(function(){return Yt}));var f=n(1),g=n(0),m=n(216),v=n.n(m);var y=n(4),x=[1,0,0,0,1,0,0,0,1];function b(t,e,n){return void 0===n&&(n=x),e?y.ext.transform(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function w(t,e){return t.x||t.y?y.ext.transform(e||x,[["t",t.x,t.y]]):null}function C(t,e){var n=[0,0];return y.vec2.transformMat3(n,e,t),n}function _(t,e,n,i){if(e){var r=b({x:n,y:i},e,t.getMatrix());t.setMatrix(r)}}function S(t,e,n){var i=w({x:e,y:n});t.attr("matrix",i)}function O(t){var e=0,n=0,i=0,r=0;return Object(g.isNumber)(t)?e=n=i=r=t:Object(g.isArray)(t)&&(e=t[0],i=Object(g.isNil)(t[1])?t[0]:t[1],r=Object(g.isNil)(t[2])?t[0]:t[2],n=Object(g.isNil)(t[3])?i:t[3]),[e,i,r,n]}function M(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])}function k(t){var e=t.start,n=t.end,i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}}function A(t,e,n,i){return{x:t,y:e,width:n,height:i,minX:t,minY:e,maxX:t+n,maxY:e+i}}function T(t,e,n){return(1-n)*t+e*n}function D(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}function P(t){var e,n,i,r,o,a=t.getClip(),s=a&&a.getBBox();if(t.isGroup()){var l=1/0,c=-1/0,h=1/0,u=-1/0,d=t.getChildren();d.length>0?Object(g.each)(d,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=P(t),n=t.applyToMatrix([e.minX,e.minY,1]),i=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(n[0],i[0],r[0],o[0]),s=Math.max(n[0],i[0],r[0],o[0]),d=Math.min(n[1],i[1],r[1],o[1]),p=Math.max(n[1],i[1],r[1],o[1]);a<l&&(l=a),s>c&&(c=s),d<h&&(h=d),p>u&&(u=p)}})):(l=0,c=0,h=0,u=0),e=A(l,h,c-l,u-h)}else e=t.getBBox();return s?(n=e,i=s,r=Math.max(n.minX,i.minX),o=Math.max(n.minY,i.minY),A(r,o,Math.min(n.maxX,i.maxX)-r,Math.min(n.maxY,i.maxY)-o)):e}function I(t){return t+"px"}function E(t,e,n,i){var r,o,a,s,l=i/(r=t,a=(o=e).x-r.x,s=o.y-r.y,Math.sqrt(a*a+s*s)),c=0;return"start"===n?c=0-l:"end"===n&&(c=1+l),{x:T(t.x,e.x,c),y:T(t.y,e.y,c)}}var j=n(16),L={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},B=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg");Object(g.each)(t,(function(t,i){var r=t;e.get(i)!==t&&(Object(g.isObject)(t)&&n[i]&&(r=Object(g.deepMix)({},n[i],t)),e.set(i,r))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){Object(g.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),Object(g.hasKey)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=Object(f.__assign)({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),i=L[n];return Object(g.each)(i,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");Object(g.each)(e,(function(e,n){var i=t.get(n);if(Object(g.isObject)(i)){var r=Object(g.deepMix)({},e,i);t.set(n,r)}}))},e}(j.Base),N=["visible","tip","delegateObject"],R=["container","group","shapesMap","isRegister","isUpdating","destroyed"],F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear(),this.get("group").remove()},e.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return Object(g.each)(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},e.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=function(t,e){var n=C(t,[e.minX,e.minY]),i=C(t,[e.maxX,e.minY]),r=C(t,[e.minX,e.maxY]),o=C(t,[e.maxX,e.maxY]),a=Math.min(n[0],i[0],r[0],o[0]),s=Math.max(n[0],i[0],r[0],o[0]),l=Math.min(n[1],i[1],r[1],o[1]),c=Math.max(n[1],i[1],r[1],o[1]);return{x:a,y:l,minX:a,minY:l,maxX:s,maxY:c,width:s-a,height:c-l}}(n,e)),e},e.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){this.get("group").emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),function(t,e,n){var i=new v.a(e,n);i.target=t,i.propagationPath.push(t),t.emitDelegation(e,i);for(var r=t.getParent();r;)r.emitDelegation(e,i),i.propagationPath.push(r),r=r.getParent()}(n,t,e)},e.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",P(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,i=e.component,r=Object(f.__rest)(e,["id","component"]),o=new i(Object(f.__assign)(Object(f.__assign)({},r),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){this.get("group").off()},e.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=w(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var i=e.attr("opacity");Object(g.isNil)(i)&&(i=1),e.attr("opacity",0),e.animate({opacity:i},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,i){e.animate(n,i)},e.prototype.updateElements=function(t,e){var n,i=this,r=this.get("animate"),o=this.get("animateOption"),a=t.getChildren().slice(0);Object(g.each)(a,(function(t){var a=t.get("id"),s=i.getElementById(a),l=t.get("name");if(s)if(t.get("isComponent")){var c=t.get("component"),h=s.get("component"),u=Object(g.pick)(c.cfg,Object(g.difference)(Object(g.keys)(c.cfg),R));h.update(u),s.set("update_status","update")}else{var d=i.getReplaceAttrs(s,t);r&&o.update?i.updateAnimation(l,s,d,o.update):s.attr(d),t.isGroup()&&i.updateElements(t,s),Object(g.each)(N,(function(e){s.set(e,t.get(e))})),function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var i={type:n.get("type"),attrs:n.attr()};t.setClip(i)}else t.setClip(null)}}(s,t),n=s,s.set("update_status","update")}else{e.add(t);var p=e.getChildren();if(p.splice(p.length-1,1),n){var f=p.indexOf(n);p.splice(f+1,0,t)}else p.unshift(t);if(i.registerElement(t),t.set("update_status","add"),t.get("isComponent"))(c=t.get("component")).set("container",e);else t.isGroup()&&i.registerNewGroup(t);if(n=t,r){var m=i.get("isInit")?o.appear:o.enter;m&&i.addAnimation(l,t,m)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(g.each)(e,(function(t){t.set("update_status",null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(g.mix)(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),i=e.attr();return Object(g.each)(n,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),i},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();Object(g.each)(n,(function(t){e.registerElement(t),t.set("update_status","add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];Object(g.each)(e,(function(t,e){!t.get("update_status")||t.destroyed?n.push([e,t]):t.set("update_status",null)}));var i=this.get("animate"),r=this.get("animateOption");Object(g.each)(n,(function(n){var o=n[0],a=n[1];if(!a.destroyed){var s=a.get("name");if(i&&r.leave){var l=Object(g.mix)({callback:function(){t.removeElement(a)}},r.leave);t.removeAnimation(s,a,l)}else t.removeElement(a)}delete e[o]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(B);function z(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}function V(t){var e=0;return Object(g.each)(t,(function(t){var n=t.getBBox().width;e<n&&(e=n)})),e}function G(t,e,n,i){void 0===i&&(i="tail");var r=e.attr("text"),o=function(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}(t,e),a=function(t){for(var e=0,n=0;n<t.length;n++)e+=z(t,n);return e}(r),s=!1;if(n<o){var l=Math.floor(n/o*a)-2,c=void 0;(c=l>=0?function(t,e,n){void 0===n&&(n="tail");var i=t.length,r="";if("tail"===n){for(var o=0,a=0;o<e;){if(!(o+z(t,a)<=e))break;r+=t[a],o+=z(t,a),a++}r+=""}else if("head"===n){for(o=0,a=i-1;o<e;){if(!(o+z(t,a)<=e))break;r+=t[a],o+=z(t,a),a--}r=""+r}else{for(var s="",l="",c=(o=0,0),h=i-1;o<e;){var u=z(t,c),d=!1;u+o<=e&&(s+=t[c],c++,o+=u,d=!0);var p=z(t,h);if(p+o<=e&&(l=t[h]+l,o+=p,h--,d=!0),!d)break}r=s+""+l}return r}(r,l,i):"")&&(e.attr("text",c),s=!0)}return s?e.set("tip",r):e.set("tip",null),s}function H(t,e){var n=e.x,i=e.y,r=e.content,o=e.style,a=e.id,s=e.name,l=e.rotate,c=e.maxLength,h=e.autoEllipsis,u=e.isVertical,d=e.ellipsisPosition,p=e.background,m=t.addGroup({id:a+"-group",name:s+"-group",attrs:{x:n,y:i}}),v=m.addShape({type:"text",id:a,name:s,attrs:Object(f.__assign)({x:0,y:0,text:r},o)}),y=O(Object(g.get)(p,"padding",0));c&&h&&G(!u,v,c-(y[1]+y[3]),d);if(p){var x=Object(g.get)(p,"style",{}),b=v.getCanvasBBox(),w=b.minX,C=b.minY,M=b.width,k=b.height;m.addShape("rect",{id:a+"-bg",name:a+"-bg",attrs:Object(f.__assign)({x:w-y[3],y:C-y[0],width:M+y[1]+y[3],height:k+y[0]+y[2]},x)}).toBack()}S(m,n,i),_(m,l,n,i)}var W={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:W.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:W.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:W.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),i=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(f.__assign)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},i)})},e.prototype.getLabelPoint=function(t,e,n){var i;return((i="start"===n?0:"center"===n?.5:Object(g.isString)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:Object(g.isNumber)(n)?n:1)>1||i<0)&&(i=1),{x:T(t.x,e.x,i),y:T(t.y,e.y,i)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),i=this.get("end"),r=e.position,o=e.content,a=e.style,s=e.offsetX,l=e.offsetY,c=e.autoRotate,h=e.maxLength,u=e.autoEllipsis,d=e.ellipsisPosition,p=e.background,f=e.isVertical,g=void 0!==f&&f,m=this.getLabelPoint(n,i,r),v=m.x+s,y=m.y+l,x={id:this.getElementId("line-text"),name:"annotation-line-text",x:v,y:y,content:o,style:a,maxLength:h,autoEllipsis:u,ellipsisPosition:d,background:p,isVertical:g};if(c){var b=[i.x-n.x,i.y-n.y];x.rotate=Math.atan2(b[1],b[0])}H(t,x)},e}(F),Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:W.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:W.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,i=e.y,r=this.get("content"),o=this.get("style");H(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:i,content:r,style:o,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,i=e.y,r=this.get("rotate");S(t,n,i),_(t,r,n,i)}},e}(F),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,i=t.startAngle,r=t.endAngle,o=D(e,n,i),a=D(e,n,r),s=r-i>Math.PI?1:0,l=[["M",o.x,o.y]];if(r-i==2*Math.PI){var c=D(e,n,i+Math.PI);l.push(["A",n,n,0,s,1,c.x,c.y]),l.push(["A",n,n,0,s,1,a.x,a.y])}else l.push(["A",n,n,0,s,1,a.x,a.y]);return l},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(f.__assign)({path:e},n)})},e}(F),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:W.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),i=this.get("style"),r=k({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.__assign)({x:r.x,y:r.y,width:r.width,height:r.height},i)})},e}(F),U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),i=k({start:t,end:e}),r=this.get("src");return Object(f.__assign)({x:i.x,y:i.y,img:r,width:i.width,height:i.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(F),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:W.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:W.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:W.fontFamily}}}})},e.prototype.renderInner=function(t){Object(g.get)(this.get("line"),"display")&&this.renderLine(t),Object(g.get)(this.get("text"),"display")&&this.renderText(t),Object(g.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,i=e.y,r=e.text,o=Object(f.__rest)(e,["x","y","text"]),a=this.get("text"),s=a.background,l=a.maxLength,c=a.autoEllipsis,h=a.isVertival,u=a.ellipsisPosition;H(t,{x:n,y:i,id:this.getElementId("text"),name:"annotation-text",content:r,style:o,background:s,maxLength:l,autoEllipsis:c,isVertival:h,ellipsisPosition:u})},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),i=this.get("y"),r=Object(g.get)(this.get("line"),"length",0),o=this.get("coordinateBBox"),a=t.getBBox(),s=a.minX,l=a.maxX,c=a.minY,h=a.maxY,u=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(o){if(u){if(n+s<=o.minX){var f=o.minX-(n+s);S(u,u.attr("x")+f,u.attr("y"))}if(n+l>=o.maxX){f=n+l-o.maxX;S(u,u.attr("x")-f,u.attr("y"))}}if("upward"===e&&i+c<=o.minY||"upward"!==e&&i+h>=o.maxY){var m=void 0,v=void 0;"upward"===e&&i+c<=o.minY?(m="top",v=1):(m="bottom",v=-1),d.attr("textBaseline",m),p&&p.attr("path",[["M",0,0],["L",0,r*v]]),S(u,u.attr("x"),(r+2)*v)}}},e.prototype.getShapeAttrs=function(){var t=Object(g.get)(this.get("line"),"display"),e=Object(g.get)(this.get("point"),"style",{}),n=Object(g.get)(this.get("line"),"style",{}),i=Object(g.get)(this.get("text"),"style",{}),r=this.get("direction"),o=t?Object(g.get)(this.get("line"),"length",0):0,a="upward"===r?-1:1;return{point:Object(f.__assign)({x:0,y:0},e),line:Object(f.__assign)({path:[["M",0,0],["L",0,o*a]]},n),text:Object(f.__assign)({x:0,y:(o+2)*a,text:Object(g.get)(this.get("text"),"content",""),textBaseline:"upward"===r?"bottom":"top"},i)}},e}(F),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:W.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:W.textColor,fontFamily:W.fontFamily}}}})},e.prototype.renderInner=function(t){var e=Object(g.get)(this.get("region"),"style",{}),n=(Object(g.get)(this.get("text"),"style",{}),this.get("lineLength")||0),i=this.get("points");if(i.length){var r=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}}(i),o=[];o.push(["M",i[0].x,r.minY-n]),i.forEach((function(t){o.push(["L",t.x,t.y])})),o.push(["L",i[i.length-1].x,i[i.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.__assign)({path:o},e)}),H(t,Object(f.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(r.minX+r.maxX)/2,y:r.minY-n},this.get("text")))}},e}(F),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),i=this.get("end"),r=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(g.each)(this.get("shapes"),(function(t,n){var i=t.get("type"),o=Object(g.clone)(t.attr());e.adjustShapeAttrs(o),e.addShape(r,{id:e.getElementId("shape-"+i+"-"+n),capture:!1,type:i,attrs:o})}));var o=k({start:n,end:i});r.setClip({type:"rect",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(F);function Q(t,e,n){var i=e+"Style",r=null;return Object(g.each)(n,(function(e,n){t[n]&&e[i]&&(r||(r={}),Object(g.mix)(r,e[i]))})),r}var tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:W.lineColor}},tickLine:{style:{lineWidth:1,stroke:W.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:W.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:W.textColor,textBaseline:"middle",fontFamily:W.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:W.textColor,textBaseline:"middle",fontFamily:W.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:W.uncheckedColor}}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){Object(g.mix)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return Object(g.each)(e,(function(e,i){t[i]&&n.push(i)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);Object(g.each)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Object(g.filter)(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},e.prototype.getTextAnchor=function(t){var e;return Object(g.isNumberEqual)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(g.mix)({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],i=this.get("tickLine"),r=i.alignTick,o=i.length,a=1;return t.length>=2&&(a=t[1].value-t[0].value),Object(g.each)(t,(function(t){var i=t.point;r||(i=e.getTickPoint(t.value-a/2));var s=e.getSidePoint(i,o);n.push({startPoint:i,tickValue:t.value,endPoint:s,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),i=n.count,r=t.length;if(r>=2)for(var o=0;o<r-1;o++)for(var a=t[o],s=t[o+1],l=0;l<i;l++){var c=(l+1)/(i+1),h=(1-c)*a.tickValue+c*s.tickValue,u=this.getTickPoint(h),d=this.getSidePoint(u,n.length);e.push({startPoint:u,endPoint:d,tickValue:h,id:"sub-"+a.id+"-"+l})}return e},e.prototype.getTickLineAttrs=function(t,e){var n=this.get(e).style,i=t.startPoint,r=t.endPoint;return Object(g.mix)({x1:i.x,y1:i.y,x2:r.x,y2:r.y},n)},e.prototype.drawTick=function(t,e,n){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),i=this.get("subTickLine"),r=this.getTickLineItems(n),o=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),a=this.get("tickLine");if(Object(g.each)(r,(function(n){if(a.displayWithLabel){var i=e.getElementId("label-"+n.tickId);t.findById(i)&&e.drawTick(n,o,"tickLine")}else e.drawTick(n,o,"tickLine")})),i){var s=this.getSubTickLineItems(r);Object(g.each)(s,(function(t){e.drawTick(t,o,"subTickLine")}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");Object(g.each)(e,(function(e){e.point=t.getTickPoint(e.value),Object(g.isNil)(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");Object(g.each)(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.getLabelAttrs=function(t,e){var n=this.get("label"),i=n.offset,r=n.style,o=n.rotate,a=n.formatter,s=this.getSidePoint(t.point,i),l=this.getSideVector(i,s),c=a?a(t.name,t,e):t.name,h=Object(g.mix)({x:s.x,y:s.y,text:c,textAlign:this.getTextAnchor(l)},r);return o&&(h.matrix=b(s,o)),h},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),i=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(g.each)(n,(function(t,n){e.addShape(i,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,n),delegateObject:{tick:t,item:t,index:n}})})),this.processOverlap(i)},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,i=t.offset,r=t.spacing,o=void 0===r?0:r,a=t.autoRotate,s=e.fontSize,l=.5;"start"===n?l=0:"end"===n&&(l=1);var c=this.getTickPoint(l),h=this.getSidePoint(c,i||o+s/2),u=Object(g.mix)({x:h.x,y:h.y,text:t.text},e),d=t.rotate,p=d;if(Object(g.isNil)(d)&&a){var f=this.getAxisVector(c);p=y.ext.angleTo(f,[1,0],!0)}if(p){var m=b(h,p);u.matrix=m}return u},e.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},e.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var n=this.get("tickStates"),i=this.getElementId("label-"+t.id),r=e.findById(i);if(r){var o=Q(t,"label",n);o&&r.attr(o)}var a=this.getElementId("tickline-"+t.id),s=e.findById(a);if(s){var l=Q(t,"tickLine",n);l&&s.attr(l)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),i=this.get("label"),r=this.getElementByLocalId("label-"+t.id),o=this.get("tickLine"),a=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(r){var s=Q(t,"label",n);s&&r.attr(s)}if(a){var l=Q(t,"tickLine",n);l&&a.attr(l)}}else r&&r.attr(i.style),a&&a.attr(o.style)},e}(F);function et(t,e,n,i){var r=e.getChildren(),o=!1;return Object(g.each)(r,(function(e){var r=G(t,e,n,i);o=o||r})),o}function nt(){return rt}function it(t,e,n){return et(t,e,n,"head")}function rt(t,e,n){return et(t,e,n,"tail")}function ot(t,e,n){return et(t,e,n,"middle")}function at(t){var e=t.attr("matrix");return e&&1!==e[0]}function st(t,e,n,i,r){void 0===r&&(r=!1);var o=!1;if(t)o=Math.abs(n.y-i.y)<n.height;else if(e){var a=r?i.height:n.height;o=Math.abs(n.x-i.x)<a}else{var s=r?i.width:n.width;o=Math.abs(n.x-i.x)<s}return o}function lt(t,e,n){var i=e.getChildren().slice();if(!i.length)return!1;var r=!1;n&&i.reverse();for(var o=i.length,a=i[0],s=at(a),l=a.getBBox(),c=1;c<o;c++){var h=i[c],u=h.getBBox();st(t,s,l,u,n)?(h.hide(),r=!0):l=u}return r}function ct(){return pt}function ht(t,e){return lt(t,e,!1)}function ut(t,e){return lt(t,e,!0)}function dt(t,e){var n=e.getChildren().slice();if(n.length<=2)return!1;for(var i=!1,r=n.length,o=n[0],a=n[r-1],s=at(o),l=o.getBBox(),c=o,h=1;h<r-1;h++){var u=n[h],d=u.getBBox();st(t,s,l,d)?(u.hide(),i=!0):(l=d,c=u)}return st(t,s,l,a.getBBox())&&(c.hide(),i=!0),i}function pt(t,e){var n=e.getChildren().slice();if(n.length<2)return!1;var i=!1,r=n[0],o=r.getBBox(),a=n[1],s=at(r),l=n.length,c=0;if(t){var h=Math.abs(a.attr("y")-r.attr("y"));c=o.height/h}else if(s){h=Math.abs(a.attr("x")-r.attr("x"));c=o.width/h}else{c=V(n)/(h=Math.abs(a.attr("x")-r.attr("x")))}if(c>1){c=Math.ceil(c);for(var u=0;u<l;u++)u%c!=0&&(n[u].hide(),i=!0)}return i}function ft(t,e,n,i){var r=e.getChildren();if(!r.length)return!1;if(!t&&r.length<2)return!1;var o=V(r),a=!1;t?a=!!n&&o>n:a=o>Math.abs(r[1].attr("x")-r[0].attr("x"));a&&function(t,e){Object(g.each)(t,(function(t){var n=b({x:t.attr("x"),y:t.attr("y")},e);t.attr("matrix",n)}))}(r,i(n,o));return a}function gt(){return mt}function mt(t,e,n){return ft(t,e,n,(function(){return t?W.verticalAxisRotate:W.horizontalAxisRotate}))}function vt(t,e,n){return ft(t,e,n,(function(e,n){if(!e)return t?W.verticalAxisRotate:W.horizontalAxisRotate;if(t)return-Math.acos(e/n);var i=0;return(e>n||(i=Math.asin(e/n))>Math.PI/4)&&(i=Math.PI/4),i}))}var yt,xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),i=t.prototype.getInnerLayoutBBox.call(this),r=Math.min(e.x,n.x,i.x),o=Math.min(e.y,n.y,i.y),a=Math.max(e.x,n.x,i.maxX),s=Math.max(e.y,n.y,i.maxY);return{x:r,y:o,minX:r,minY:o,maxX:a,maxY:s,width:a-r,height:s-o}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(g.isNumberEqual)(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(g.isNumberEqual)(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),i=n.x-e.x,r=n.y-e.y;return{x:e.x+i*t,y:e.y+r*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=y.vec2.normalize([0,0],e),i=this.get("verticalFactor"),r=[n[1],-1*n[0]];return y.vec2.scale([0,0],r,t*i)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),i=this.isHorizontal();if(n||i){var r=this.get("label"),o=this.get("title"),a=this.get("verticalLimitLength"),s=r.offset,l=a,c=0,h=0;o&&(c=o.style.fontSize,h=o.spacing),l&&(l=l-s-h-c);var u=this.get("overlapOrder");if(Object(g.each)(u,(function(n){r[n]&&e.autoProcessOverlap(n,r[n],t,l)})),o){var d=t.getBBox(),p=n?d.width:d.height;Object(g.isNil)(o.offset)&&(o.offset=s+p+h+c/2)}}},e.prototype.autoProcessOverlap=function(t,e,n,i){var r=this,o=this.isVertical(),a=!1,l=s[t];if(!0===e?a=l.getDefault()(o,n,i):Object(g.isFunction)(e)?a=e(o,n,i):l[e]&&(a=l[e](o,n,i)),"autoRotate"===t){if(a){var c=n.getChildren(),h=this.get("verticalFactor");Object(g.each)(c,(function(t){if("center"===t.attr("textAlign")){var e=h>0?"end":"start";t.attr("textAlign",e)}}))}}else if("autoHide"===t){var u=n.getChildren().slice(0);Object(g.each)(u,(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}(tt),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,i=this.get("radius"),r=i,o=this.get("startAngle"),a=this.get("endAngle"),s=[];if(Math.abs(a-o)===2*Math.PI)s=[["M",e,n-r],["A",i,r,0,1,1,e,n+r],["A",i,r,0,1,1,e,n-r],["Z"]];else{var l=this.getCirclePoint(o),c=this.getCirclePoint(a),h=Math.abs(a-o)>Math.PI?1:0,u=o>a?0:1;s=[["M",e,n],["L",l.x,l.y],["A",i,r,0,h,u,c.x,c.y],["L",e,n]]}return s},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y],r=this.get("verticalFactor"),o=y.vec2.length(i);return y.vec2.scale(i,i,r*t/o),i},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e}(tt),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:W.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:W.textColor,textAlign:"center",textBaseline:"middle",fontFamily:W.fontFamily}},textBackground:{padding:5,style:{stroke:W.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,i=e.autoRotate,r=e.content;if(!Object(g.isNil)(r)){var o=this.getTextPoint(),a=null;if(i)a=b(o,this.getRotateAngle());this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({},o),{text:r,matrix:a}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(f.__assign)({path:e},n)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),i=this.get("textBackground");if(i&&n){var r=n.getBBox(),o=O(i.padding),a=i.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(f.__assign)({x:r.x-o[3],y:r.y-o[0],width:r.width+o[1]+o[3],height:r.height+o[0]+o[2],matrix:n.attr("matrix")},a)}).toBack()}},e}(F),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text").position,r=Math.atan2(n.y-e.y,n.x-e.x);return"start"===i?r-Math.PI/2:r+Math.PI/2},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text");return E(e,n,i.position,i.offset)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(wt),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,i=this.getLocation(),r=i.center,o=i.radius,a=i.startAngle,s=i.endAngle,l="start"===e?a:s,c=this.getRotateAngle()-Math.PI,h=D(r,o,l),u=Math.cos(c)*n,d=Math.sin(c)*n;return{x:h.x+u,y:h.y+d}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,i=t.startAngle,r=t.endAngle,o=null;if(r-i==2*Math.PI){var a=e.x,s=e.y;o=[["M",a,s-n],["A",n,n,0,1,1,a,s+n],["A",n,n,0,1,1,a,s-n],["Z"]]}else{var l=D(e,n,i),c=D(e,n,r),h=Math.abs(r-i)>Math.PI?1:0,u=i>r?0:1;o=[["M",l.x,l.y],["A",n,n,0,h,u,c.x,c.y]]}return o},e}(wt),St=n(7),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer();return A(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){M(this.get("container"))},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(Object(g.isNil)(t)){t=this.createDom();var e=this.get("parent");Object(g.isString)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else Object(g.isString)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?Object(g.deepMix)({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n,i=this.get("containerClassName");if(i&&(n=i,e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")))){var r=t[i];Object(St.modifyCSS)(e,r)}}},e.prototype.applyChildrenStyles=function(t,e){Object(g.each)(e,(function(e,n){var i=t.getElementsByClassName(n);Object(g.each)(i,(function(t){Object(St.modifyCSS)(t,e)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");Object(St.modifyCSS)(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return Object(St.createDom)(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){Object(g.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(B),Mt=((yt={})["g2-crosshair"]={position:"relative"},yt["g2-crosshair-line"]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},yt["g2-crosshair-text"]={position:"absolute",color:W.textColor,fontFamily:W.fontFamily},yt),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="g2-crosshair"></div>',crosshairTpl:'<div class="g2-crosshair-line"></div>',textTpl:'<span class="g2-crosshair-text">{content}</span>',domStyles:null,containerClassName:"g2-crosshair",defaultStyles:Mt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),n=Object(St.createDom)(e);t.appendChild(n),this.applyStyle("g2-crosshair-line",n),this.set("crosshairEl",n)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text");return E(e,n,i.position,i.offset)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var i=this.getContainer(),r=Object(g.substitute)(this.get("textTpl"),t);e=Object(St.createDom)(r),i.appendChild(e),this.applyStyle("g2-crosshair-text",e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),i=Math.min(e.x,n.x),r=Math.min(e.y,n.y);this.isVertical(e,n)?Object(St.modifyCSS)(t,{width:"1px",height:I(Math.abs(n.y-e.y))}):Object(St.modifyCSS)(t,{height:"1px",width:I(Math.abs(n.x-e.x))}),Object(St.modifyCSS)(t,{top:I(r),left:I(i)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,i=this.getTextPoint();switch(e){case"center":i.x=i.x-n/2;break;case"right":i.x=i.x-n}Object(St.modifyCSS)(t,{top:I(i.y),left:I(i.x)})}},e.prototype.updateInner=function(e){Object(g.hasKey)(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(Ot),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:W.lineColor}}}})},e.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),i=e.slice(0).reverse(),r=this.getGridPath(i,!0);return this.get("closed")?n=n.concat(r):(r[0][0]="L",(n=n.concat(r)).push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),i=this.get("items"),r=this.get("alternateColor"),o=null;Object(g.each)(i,(function(i,a){var s=i.id||a;if(n){var l=e.getPathStyle(),c=e.getElementId("line-"+s),h=e.getGridPath(i.points);e.addShape(t,{type:"path",name:"grid-line",id:c,attrs:Object(g.mix)({path:h},l)})}if(r&&a>0){var u=e.getElementId("region-"+s),d=a%2==0;if(Object(g.isString)(r))d&&e.drawAlternateRegion(u,t,o.points,i.points,r);else{var p=d?r[1]:r[0];e.drawAlternateRegion(u,t,o.points,i.points,p)}}o=i}))},e.prototype.drawAlternateRegion=function(t,e,n,i,r){var o=this.getAlternatePath(n,i);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:r}})},e}(F);var Tt,Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n,i,r,o,a,s,l=this.getLineType(),c=this.get("closed"),h=[];if(t.length)if("circle"===l){var u=this.get("center"),d=t[0],p=(n=u.x,i=u.y,r=d.x,o=d.y,a=r-n,s=o-i,Math.sqrt(a*a+s*s)),f=e?0:1;c?(h.push(["M",u.x,u.y-p]),h.push(["A",p,p,0,0,f,u.x,u.y+p]),h.push(["A",p,p,0,0,f,u.x,u.y-p]),h.push(["Z"])):Object(g.each)(t,(function(t,e){0===e?h.push(["M",t.x,t.y]):h.push(["A",p,p,0,0,f,t.x,t.y])}))}else Object(g.each)(t,(function(t,e){0===e?h.push(["M",t.x,t.y]):h.push(["L",t.x,t.y])})),c&&h.push(["Z"]);return h},e}(At),Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return Object(g.each)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}(At),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("x"),i=this.get("y"),r=this.get("offsetX"),o=this.get("offsetY"),a=this.get("maxWidth"),s=this.get("maxHeight"),l=n+r,c=i+o,h=e.maxX-l,u=e.maxY-c;return a&&(h=Math.min(h,a)),s&&(u=Math.min(u,s)),A(l,c,h,u)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+i})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),i=O(e.padding),r=Object(f.__assign)({x:0,y:0,width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:r}).toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),i=n.spacing,r=n.style,o=n.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(f.__assign)({text:o,x:e.x,y:e.y},r)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+i})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=O(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(F),Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:W.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:W.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:W.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:W.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:W.uncheckedColor},markerStyle:{fill:W.uncheckedColor,stroke:W.uncheckedColor}},inactive:{nameStyle:{fill:W.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){Object(g.mix)(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var i=this.getElementByLocalId("item-"+t.id);if(i){var r=this.getItems().indexOf(t),o=this.createOffScreenGroup(),a=this.drawItem(t,r,this.getItemHeight(),o);this.updateElements(a,i),this.clearUpdateStatus(i)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return Object(g.each)(e,(function(e,i){t[i]&&n.push(i)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);Object(g.each)(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Object(g.filter)(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");Object(g.each)(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),i=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),r=this.getItemHeight(),o=this.get("itemWidth"),a=this.get("itemSpacing"),s=this.get("currentPoint"),l=s.x,c=s.y,h=this.get("layout"),u=this.get("items"),d=!1,p=0,f=this.get("maxWidth"),m=this.get("maxHeight");Object(g.each)(u,(function(t,n){var u=e.drawItem(t,n,r,i),g=u.getBBox(),v=o||g.width;v>p&&(p=v),"horizontal"===h?(f&&f<s.x+v-l&&(d=!0,s.x=l,s.y+=r),e.moveElementTo(u,s),s.x+=v+a):(m&&m<s.y+r-c&&(d=!0,s.x+=p+a,s.y=c,p=0),e.moveElementTo(u,s),s.y+=r)})),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=l,this.startY=c,this.adjustNavigation(t,i))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=this.get("itemName");e&&(t=e.style.fontSize+8)}return t},e.prototype.drawMarker=function(t,e,n,i){var r=Object(f.__assign)(Object(f.__assign)(Object(f.__assign)({x:0,y:i/2},e.style),{symbol:Object(g.get)(n.marker,"symbol","circle")}),Object(g.get)(n.marker,"style",{})),o=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:r}),a=o.getBBox();o.attr("x",a.width/2);var s=o.attr(),l=s.stroke,c=s.fill;return l&&o.set("isStroke",!0),c&&o.set("isFill",!0),o},e.prototype.drawItemText=function(t,e,n,i,r,o,a){var s=n.formatter,l=Object(f.__assign)({x:o,y:r/2,text:s?s(i[e],i,a):i[e]},n.style);return this.addShape(t,{type:"text",id:this.getElementId("item-"+i.id+"-"+e),name:"legend-item-"+e,attrs:l})},e.prototype.drawItem=function(t,e,n,i){var r="item-"+t.id,o=this.addGroup(i,{name:"legend-item-container",id:this.getElementId("item-container-"+r),delegateObject:{item:t,index:e}}),a=this.addGroup(o,{name:"legend-item",id:this.getElementId(r),delegateObject:{item:t,index:e}}),s=this.get("marker"),l=this.get("itemName"),c=this.get("itemValue"),h=this.get("itemBackground"),u=this.getLimitItemWidth(),d=0;s&&(d=this.drawMarker(a,s,t,n).getBBox().maxX+s.spacing);if(l){var p=this.drawItemText(a,"name",l,t,n,d,e);u&&G(!0,p,Object(g.clamp)(u-d,0,u)),d=p.getBBox().maxX+l.spacing}if(c){var m=this.drawItemText(a,"value",c,t,n,d,e);u&&(c.alignRight?(m.attr({textAlign:"right",x:u}),G(!0,m,Object(g.clamp)(u-d,0,u),"head")):G(!0,m,Object(g.clamp)(u-d,0,u)))}if(h){var v=a.getBBox();this.addShape(a,{type:"rect",name:"legend-item-background",id:this.getElementId(r+"-background"),attrs:Object(f.__assign)({x:0,y:0,width:v.width,height:n},h.style)}).toBack()}return this.applyItemStates(t,a),a},e.prototype.adjustNavigation=function(t,e){var n=this,i=this.startX,r=this.startY,o=this.get("layout"),a=e.findAll((function(t){return"legend-item"===t.get("name")})),s=this.get("maxWidth"),l=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),u=this.getItemHeight(),d=this.drawNavigation(t,o,"00/00",12),p=d.getBBox(),f={x:i,y:r},m=1,v=0,y=0,x=0;if("horizontal"===o)this.pageHeight=u,Object(g.each)(a,(function(t){var e=t.getBBox(),r=c||e.width;(v&&v<f.x+r+h||s<f.x+r+h+p.width)&&(1===m&&(v=f.x+h,n.pageWidth=v,n.moveElementTo(d,{x:s-h-p.width-p.minX,y:f.y+u/2-p.height/2-p.minY})),m+=1,f.x=i,f.y+=u),n.moveElementTo(t,f),t.getParent().setClip({type:"rect",attrs:{x:f.x,y:f.y,width:r+h,height:u}}),f.x+=r+h}));else{Object(g.each)(a,(function(t){var e=t.getBBox();e.width>y&&(y=e.width)})),x=y,y+=h,s&&(y=Math.min(s,y),x=Math.min(s,x)),this.pageWidth=y,this.pageHeight=l-Math.max(p.height,u);var b=Math.floor(this.pageHeight/u);Object(g.each)(a,(function(t,e){0!==e&&e%b==0&&(m+=1,f.x+=y,f.y=r),n.moveElementTo(t,f),t.getParent().setClip({type:"rect",attrs:{x:f.x,y:f.y,width:y,height:u}}),f.y+=u})),this.totalPagesCnt=m,this.moveElementTo(d,{x:i+x/2-p.width/2-p.minX,y:l-p.height-p.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=m,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(d),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,i){var r={x:0,y:0},o=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=this.drawArrow(o,r,"navigation-arrow-left","horizontal"===e?"up":"left",i);a.on("click",this.onNavigationBack);var s=a.getBBox();r.x+=s.width+2;var l=this.addShape(o,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:r.x,y:r.y+i/2,text:n,fontSize:12,fill:"#ccc",textBaseline:"middle"}}).getBBox();return r.x+=l.width+2,this.drawArrow(o,r,"navigation-arrow-right","horizontal"===e?"down":"right",i).on("click",this.onNavigationAfter),o},e.prototype.updateNavigation=function(t){var e=this.currentPageIndex+"/"+this.totalPagesCnt,n=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),i=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),r=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),o=n.getBBox();n.attr("text",e);var a=n.getBBox();n.attr("x",n.attr("x")-(a.width-o.width)/2),i.attr("opacity",1===this.currentPageIndex?.45:1),i.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),r.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),r.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},e.prototype.drawArrow=function(t,e,n,i,r){var o=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:{path:[["M",o+r/2,a],["L",o,a+r],["L",o+r,a+r],["Z"]],fill:"#000",cursor:"pointer"}});return l.attr("matrix",b({x:o+r/2,y:a+r/2},s[i])),l},e.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,n=this.pageHeight;return w("horizontal"===this.get("layout")?{x:0,y:n*(1-t)}:{x:e*(1-t),y:0})},e.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var n=e.getChildren(),i=this.get("itemStates");Object(g.each)(n,(function(e){var n=e.get("name").split("-")[2],r=Q(t,n,i);r&&(e.attr(r),"marker"!==n||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(It),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:W.textColor,textBaseline:"middle",fontFamily:W.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:W.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),i=e.getCurrentValue()[1];i<n&&(i=n),e.setValue([n,i])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),i=e.getCurrentValue()[0];i>n&&(i=n),e.setValue([i,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var i=e.getValueByCanvasPoint(n.x,n.y),r=e.getValueByCanvasPoint(t.x,t.y),o=e.getCurrentValue(),a=o[1]-o[0],s=e.getRange(),l=r-i;l<0?o[0]+l>s.min?e.setValue([o[0]+l,o[1]+l]):e.setValue([s.min,s.min+a]):l>0&&(l>0&&o[1]+l<s.max?e.setValue([o[0]+l,o[1]+l]):e.setValue([s.max-a,s.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),i=n.style,r=n.align,o=this.get(t),a=this.getLabelAlignAttrs(t,r),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:Object(f.__assign)(Object(f.__assign)({x:0,y:0,text:o},i),a)})},e.prototype.getLabelAlignAttrs=function(t,e){var n="center",i="middle";return this.isVertical()?(n="start",i="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(i="top",n="min"===t?"start":"end"):(n="start",i="middle"),{textAlign:n,textBaseline:i}},e.prototype.getRailPath=function(t,e,n,i){var r=this.get("rail"),o=r.size,a=r.defaultLength,s=r.type,l=this.isVertical(),c=n,h=i;c||(c=l?o:a),h||(h=l?a:o);var u=[];return"color"===s?(u.push(["M",t,e]),u.push(["L",t+c,e]),u.push(["L",t+c,e+h]),u.push(["L",t,e+h]),u.push(["Z"])):(u.push(["M",t+c,e]),u.push(["L",t+c,e+h]),u.push(["L",t,e+h]),u.push(["Z"])),u},e.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(f.__assign)({path:this.getRailPath(0,0)},e)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var i=0;i<n;i++){e+=" "+i/(n-1)+":"+t[i]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return Object(g.clone)(e)},e.prototype.getClipTrackAttrs=function(t){var e,n,i,r,o=this.getCurrentValue(),a=o[0],s=o[1],l=this.getRailBBox(t),c=this.getPointByValue(a,t),h=this.getPointByValue(s,t);return this.isVertical()?(e=l.minX,n=c.y,i=l.width,r=h.y-c.y):(e=c.x,n=l.minY,i=h.x-c.x,r=l.height),{x:e,y:n,width:i,height:r}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),i=this.getTrackPath(t);return Object(g.mix)({path:i,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),i=e.findById(n),r=i.getClip(),o=this.getClipTrackAttrs(t);r?r.attr(o):i.setClip({type:"rect",attrs:o})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),i=this.getTrackAttrs(t);n?n.attr(i):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:i})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),i=n.min,r=(t-i)/(n.max-i),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=T(o.minY,o.maxY,r)):(a.x=T(o.minX,o.maxX,r),a.y=o.minY+o.height/2),a},e.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},e.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),i=n.min,r=n.max,o=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get("step"),l=T(i,r,a?(e-o.minY)/o.height:(t-o.minX)/o.width);s&&(l=i+Math.round((l-i)/s)*s);return l>r&&(l=r),l<i&&(l=i),l},e.prototype.getCurrentValue=function(){var t=this.get("value");return t||(t=[this.get("min"),this.get("max")]),t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],i=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",i)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),i=[],r=t.size,o=e.x,a=e.y,s=1.4*r,l=r/2,c=r/6;if(n){var h=o+.4*s;i.push(["M",o,a]),i.push(["L",h,a+l]),i.push(["L",o+s,a+l]),i.push(["L",o+s,a-l]),i.push(["L",h,a-l]),i.push(["Z"]),i.push(["M",h,a+c]),i.push(["L",o+s-2,a+c]),i.push(["M",h,a-c]),i.push(["L",o+s-2,a-c])}else{var u=a+.4*s;i.push(["M",o,a]),i.push(["L",o-l,u]),i.push(["L",o-l,a+s]),i.push(["L",o+l,a+s]),i.push(["L",o+l,u]),i.push(["Z"]),i.push(["M",o-c,u]),i.push(["L",o-c,a+s-2]),i.push(["M",o+c,u]),i.push(["L",o+c,a+s-2])}return i},e.prototype.resetHandler=function(t,e,n){var i=this.getPointByValue(n,t),r=this.get("handler"),o=this.getHandlerPath(r,i),a=this.getElementId("handler-"+e),s=t.findById(a),l=this.isVertical();s?s.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:Object(f.__assign)(Object(f.__assign)({path:o},r.style),{cursor:l?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),i=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,i,e,r):this.fixedHorizontal(n,i,e,r)},e.prototype.fitRailLength=function(t,e,n,i){var r=this.isVertical()?"height":"width",o=this.get("label"),a=o.align,s=o.spacing,l=this.get("max"+Object(g.upperFirst)(r));if(l){var c=("rail"===a?n[r]+t[r]+e[r]+2*s:n[r])-l;c>0&&this.changeRailLength(i,r,n[r]-c)}},e.prototype.changeRailLength=function(t,e,n){var i,r=t.getBBox();i="height"===e?this.getRailPath(r.x,r.y,r.width,n):this.getRailPath(r.x,r.y,n,r.height),t.attr("path",i)},e.prototype.changeRailPosition=function(t,e,n){var i=t.getBBox(),r=this.getRailPath(e,n,i.width,i.height);t.attr("path",r)},e.prototype.fixedHorizontal=function(t,e,n,i){var r=this.get("label"),o=r.align,a=r.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox(),h=s.height;this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===o?(t.attr({x:i.x,y:i.y+h/2}),this.changeRailPosition(n,i.x+l.width+a,i.y),e.attr({x:i.x+l.width+s.width+2*a,y:i.y+h/2})):"top"===o?(t.attr({x:i.x,y:i.y}),e.attr({x:i.x+s.width,y:i.y}),this.changeRailPosition(n,i.x,i.y+l.height+a)):(this.changeRailPosition(n,i.x,i.y),t.attr({x:i.x,y:i.y+s.height+a}),e.attr({x:i.x+s.width,y:i.y+s.height+a}))},e.prototype.fixedVertail=function(t,e,n,i){var r=this.get("label"),o=r.align,a=r.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox();if(this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===o)t.attr({x:i.x,y:i.y}),this.changeRailPosition(n,i.x,i.y+l.height+a),e.attr({x:i.x,y:i.y+l.height+s.height+2*a});else if("right"===o)t.attr({x:i.x+s.width+a,y:i.y}),this.changeRailPosition(n,i.x,i.y),e.attr({x:i.x+s.width+a,y:i.y+s.height});else{var h=Math.max(l.width,c.width);t.attr({x:i.x,y:i.y}),this.changeRailPosition(n,i.x+h+a,i.y),e.attr({x:i.x,y:i.y+s.height})}},e}(It),Lt=n(78),Bt="g2-tooltip",Nt="g2-tooltip-title",Rt="g2-tooltip-list",Ft="g2-tooltip-list-item",zt="g2-tooltip-marker",Vt="g2-tooltip-value",Gt="g2-tooltip-name",Ht="g2-tooltip-crosshair-x",Wt="g2-tooltip-crosshair-y",$t=((Tt={})[""+Bt]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:W.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Tt[""+Nt]={marginBottom:"4px"},Tt[""+Rt]={margin:"0px",listStyleType:"none",padding:"0px"},Tt[""+Ft]={listStyleType:"none",marginBottom:"4px"},Tt[""+zt]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Tt[""+Vt]={display:"inline-block",float:"right",marginLeft:"30px"},Tt[""+Ht]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Tt[""+Wt]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Tt);var Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Bt+'"><div class="'+Nt+'"></div><ul class="'+Rt+'"></ul></div>',itemTpl:'<li class="'+Ft+'" data-index={index}>\n          <span class="'+zt+'" style="background:{color}"></span>\n          <span class="'+Gt+'">{name}</span>:\n          <span class="'+Vt+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+Ht+'"></div>',yCrosshairTpl:'<div class="'+Wt+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Bt,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:$t})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(St.modifyCSS)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(St.modifyCSS)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");n&&Object(St.modifyCSS)(n,{display:e}),i&&Object(St.modifyCSS)(i,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){var n,i,r;this.get("customContent")?this.renderCustomContent():(n=e,i=["title","showTitle"],r=!1,Object(g.each)(i,(function(t){if(Object(g.hasKey)(n,t))return r=!0,!1})),r&&this.resetTitle(),Object(g.hasKey)(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),i=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),c=this.getContainer(),h=this.getBBox(),u=h.width,d=h.height;l&&(t=k(l));var p=function(t,e,n,i,r,o,a){var s=function(t,e,n,i,r,o){var a=t,s=e;switch(o){case"left":a=t-i-n,s=e-r/2;break;case"right":a=t+n,s=e-r/2;break;case"top":a=t-i/2,s=e-r-n;break;case"bottom":a=t-i/2,s=e+n;break;default:a=t+n,s=e-r-n}return{x:a,y:s}}(t,e,n,i,r,o);if(a){var l=function(t,e,n,i,r){return{left:t<r.x,right:t+n>r.x+r.width,top:e<r.y,bottom:e+i>r.y+r.height}}(s.x,s.y,i,r,a);"auto"===o?(l.right&&(s.x=Math.max(0,t-i-n)),l.top&&(s.y=Math.max(0,e-r-n))):"top"===o||"bottom"===o?(l.left&&(s.x=a.x),l.right&&(s.x=a.x+a.width-i),"top"===o&&l.top&&(s.y=e+n),"bottom"===o&&l.bottom&&(s.y=e-r-n)):(l.top&&(s.y=a.y),l.bottom&&(s.y=a.y+a.height-r),"left"===o&&l.left&&(s.x=t+n),"right"===o&&l.right&&(s.x=t-i-n))}return s}(e,n,i,u,d,s,t);Object(St.modifyCSS)(c,{left:I(p.x+o),top:I(p.y+a)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=Object(g.isElement)(n)?n:Object(St.createDom)(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(Nt)[0],n=t.getElementsByClassName(Rt)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=k(t),i=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),r&&(r.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),i&&(i.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),i=this.get(t);"x"===t?Object(St.modifyCSS)(n,{left:I(i),top:I(e.y),height:I(e.height)}):Object(St.modifyCSS)(n,{top:I(i),left:I(e.x),width:I(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),r=d[i],o=this.get(e),a=this.get("parent");return o||(o=Object(St.createDom)(this.get(n)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&(Object(g.each)(t,(function(t){var i=Lt.default.toCSSGradient(t.color),r=Object(f.__assign)(Object(f.__assign)({},t),{color:i}),o=Object(g.substitute)(e,r),a=Object(St.createDom)(o);n.appendChild(a)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&M(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(Ot),Xt={opacity:0},qt={stroke:"#C5C5C5",strokeOpacity:.85},Ut={fill:"#CACED4",opacity:.85},Zt=n(166),Kt=n(23);function Jt(t){return function(t){return Object(g.map)(t,(function(t,e){return[0===e?"M":"L",t[0],t[1]]}))}(t)}function Qt(t,e,n,i){void 0===i&&(i=!0);var r=new Kt.Linear({values:t}),o=new Kt.Category({values:Object(g.map)(t,(function(t,e){return e}))}),a=Object(g.map)(t,(function(t,i){return[o.scale(i)*e,n-r.scale(t)*n]}));return i?function(t){if(t.length<=2)return Jt(t);var e=[];Object(g.each)(t,(function(t){Object(g.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=Object(Zt.a)(e,!1),i=Object(g.head)(t),r=i[0],o=i[1];return n.unshift(["M",r,o]),n}(a):Jt(a)}var te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Xt,lineStyle:qt,areaStyle:Ut})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,i=e.height,r=e.data,o=e.smooth,a=e.isArea,s=e.backgroundStyle,l=e.lineStyle,c=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(f.__assign)({x:0,y:0,width:n,height:i},s)});var h=Qt(r,n,i,o);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(f.__assign)({path:h},l)}),a){var u=function(t,e,n){var i=Object(f.__spreadArrays)(t);return i.push(["L",e,0]),i.push(["L",0,n]),i.push(["Z"]),i}(h,n,i);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(f.__assign)({path:u},c)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(F),ee={fill:"#416180",opacity:.05},ne={fill:"#5B8FF9",opacity:.15,cursor:"move"},ie={width:10,height:24},re={textBaseline:"middle",fill:"#000",opacity:.45},oe={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(f.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"handler",x:0,y:0,width:10,height:24,style:oe})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,i=e.height,r=e.style,o=r.fill,a=r.stroke,s=r.radius,l=r.opacity,c=r.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:i,fill:o,stroke:a,radius:s,opacity:l,cursor:c}});var h=1/3*n,u=2/3*n,d=1/4*i,p=3/4*i;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:d,x2:h,y2:p,stroke:a,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:u,y1:d,x2:u,y2:p,stroke:a,cursor:c}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(F),se=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var i=n.originalEvent;i.stopPropagation(),i.preventDefault(),e.prevX=Object(g.get)(i,"touches.0.pageX",i.pageX),e.prevY=Object(g.get)(i,"touches.0.pageY",i.pageY);var r=e.getContainerDOM();r.addEventListener("mousemove",e.onMouseMove),r.addEventListener("mouseup",e.onMouseUp),r.addEventListener("mouseleave",e.onMouseUp),r.addEventListener("touchmove",e.onMouseMove),r.addEventListener("touchend",e.onMouseUp),r.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,i=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var r=Object(g.get)(t,"touches.0.pageX",t.pageX),o=Object(g.get)(t,"touches.0.pageY",t.pageY),a=r-e.prevX,s=e.adjustOffsetRange(a/n);e.updateStartEnd(s),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=r,e.prevY=o,e.draw(),e.emit("sliderchange",[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:i,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return Object(f.__extends)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),i=this.get("end"),r=Object(g.clamp)(n,t,e),o=Object(g.clamp)(i,t,e);this.get("isInit")||n===r&&i===o||this.setValue([r,o])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if(Object(g.isArray)(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:Object(g.clamp)(t[0],e.min,e.max),end:Object(g.clamp)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:ee,foregroundStyle:ne,handlerStyle:ie,textStyle:re}})},e.prototype.update=function(e){var n=e.start,i=e.end,r=Object(f.__assign)({},e);Object(g.isNil)(n)||(r.start=Object(g.clamp)(n,0,1)),Object(g.isNil)(i)||(r.end=Object(g.clamp)(i,0,1)),t.prototype.update.call(this,r),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},e.prototype.init=function(){this.set("start",Object(g.clamp)(this.get("start"),0,1)),this.set("end",Object(g.clamp)(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),i=e.height,r=e.trendCfg,o=void 0===r?{}:r,a=e.minText,s=e.maxText,l=e.backgroundStyle,c=void 0===l?{}:l,h=e.foregroundStyle,u=void 0===h?{}:h,d=e.textStyle,p=void 0===d?{}:d,m=e.handlerStyle,v=void 0===m?{}:m;Object(g.size)(Object(g.get)(o,"data"))&&this.addComponent(t,Object(f.__assign)({component:te,id:this.getElementId("trend"),x:0,y:0,width:n,height:i},o)),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(f.__assign)({x:0,y:0,width:n,height:i},c)});var y=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(f.__assign)({y:i/2,textAlign:"right",text:a,silent:!1},p)}),x=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(f.__assign)({y:i/2,textAlign:"left",text:s,silent:!1},p)}),b=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(f.__assign)({y:0,height:i},u)}),w=Object(g.get)(v,"height",24);this.minHandler=this.addComponent(t,Object(f.__assign)({component:ae,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(i-w)/2,width:n,height:w,cursor:"ew-resize"},v)),this.maxHandler=this.addComponent(t,Object(f.__assign)({component:ae,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(i-w)/2,width:n,height:w,cursor:"ew-resize"},v)),this.updateUI(b,y,x)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var i=this.cfg,r=i.start,o=i.end,a=i.width,s=i.minText,l=i.maxText,c=i.handlerStyle,h=r*a,u=o*a;t.attr("x",h),t.attr("width",u-h);var d=Object(g.get)(c,"width",10);e.attr("text",s),n.attr("text",l);var p=this._dodgeText([h,u],e,n),f=p[0],m=p[1];this.minHandler&&(this.minHandler.update({x:h-d/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(g.each)(f,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:u-d/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(g.each)(m,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,i=e.end;switch(this.currentTarget){case"minHandler":var r=0-n,o=1-n;return Math.min(o,Math.max(r,t));case"maxHandler":r=0-i,o=1-i;return Math.min(o,Math.max(r,t));case"foreground":r=0-n,o=1-i;return Math.min(o,Math.max(r,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,i=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":i+=t;break;case"foreground":n+=t,i+=t}this.set("start",n),this.set("end",i)},e.prototype._dodgeText=function(t,e,n){var i,r,o=this.cfg,a=o.handlerStyle,s=o.width,l=Object(g.get)(a,"width",10),c=t[0],h=t[1],u=!1;c>h&&(c=(i=[h,c])[0],h=i[1],e=(r=[n,e])[0],n=r[1],u=!0);var d=e.getBBox(),p=n.getBBox(),f=d.width>c-2?{x:c+l/2+2,textAlign:"left"}:{x:c-l/2-2,textAlign:"right"},m=p.width>s-h-2?{x:h-l/2-2,textAlign:"right"}:{x:h+l/2+2,textAlign:"left"};return u?[m,f]:[f,m]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(F),le={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=g.noop,e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var i=t?Object(g.get)(n.originalEvent,"touches.0.clientX"):n.clientX,r=t?Object(g.get)(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?i:r,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[Object(St.addEventListener)(t,"touchmove",e.onMouseMove),Object(St.addEventListener)(t,"touchend",e.onMouseUp),Object(St.addEventListener)(t,"touchcancel",e.onMouseUp)]:[Object(St.addEventListener)(t,"mousemove",e.onMouseMove),Object(St.addEventListener)(t,"mouseup",e.onMouseUp),Object(St.addEventListener)(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,i=n.isHorizontal,r=n.thumbOffset;t.preventDefault();var o=e.isMobile?Object(g.get)(t,"touches.0.clientX"):t.clientX,a=e.isMobile?Object(g.get)(t,"touches.0.clientY"):t.clientY,s=i?o:a,l=s-e.startPos;e.startPos=s,e.updateThumbOffset(r+l)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,i=n.isHorizontal,r=n.x,o=n.y,a=n.thumbLen,s=e.getContainerDOM().getBoundingClientRect(),l=t.clientX,c=t.clientY,h=i?l-s.left-r-a/2:c-s.top-o-a/2,u=e.validateRange(h);e.updateThumbOffset(u)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return Object(f.__extends)(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),i=Object(g.clamp)(n,t,e);n===i||this.get("isInit")||this.setValue(i)},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(g.clamp)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return Object(g.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(f.__assign)(Object(f.__assign)({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:le})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,i=e.theme,r=(void 0===i?{default:{}}:i).default,o=r.lineCap,a=r.trackColor,s=r.size,l=this.get("isHorizontal")?{x1:0+s/2,y1:s/2,x2:n-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:o}:{x1:s/2,y1:0+s/2,x2:s/2,y2:n-s/2,lineWidth:s,stroke:a,lineCap:o};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:l})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,i=e.thumbLen,r=e.theme,o=(void 0===r?{default:{}}:r).default,a=o.size,s=o.lineCap,l=o.thumbColor,c=this.get("isHorizontal")?{x1:n+a/2,y1:a/2,x2:n+i-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"}:{x1:a/2,y1:n+a/2,x2:a/2,y2:n+i-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:c})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,i=e.trackLen,r=t;return t+n>i?r=i-n:t+n<n&&(r=0),r},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,i=e.isHorizontal,r=e.thumbLen,o=e.size,a=this.validateRange(t);if(a!==n){var s=this.getElementByLocalId("thumb");i?s.attr({x1:a+o/2,x2:a+r-o/2}):s.attr({y1:a+o/2,y2:a+r-o/2}),this.emitOffsetChange(a)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,i=e.trackLen,r=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(g.clamp)(t/(i-r),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(F)},function(t,e){var n="undefined"==typeof Float32Array?Array:Float32Array;function i(t){return Math.sqrt(o(t))}var r=i;function o(t){return t[0]*t[0]+t[1]*t[1]}var a=o;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=s;function c(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var h=c;e.create=function(t,e){var i=new n(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},e.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.len=i,e.length=r,e.lenSquare=o,e.lengthSquare=a,e.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.normalize=function(t,e){var n=i(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},e.distance=s,e.dist=l,e.distanceSquare=c,e.distSquare=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t},e.applyTransform=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e,n){"use strict";var i=n(164),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();e.a=o},function(t,e,n){var i,r,o,a,s=n(18),l=n(37),c=s.applyTransform,h=Math.min,u=Math.max;function d(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}d.prototype={constructor:d,union:function(t){var e=h(t.x,this.x),n=h(t.y,this.y);this.width=u(t.x+t.width,this.x+this.width)-e,this.height=u(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(i=[],r=[],o=[],a=[],function(t){if(t){i[0]=o[0]=this.x,i[1]=a[1]=this.y,r[0]=a[0]=this.x+this.width,r[1]=o[1]=this.y+this.height,c(i,i,t),c(r,r,t),c(o,o,t),c(a,a,t),this.x=h(i[0],r[0],o[0],a[0]),this.y=h(i[1],r[1],o[1],a[1]);var e=u(i[0],r[0],o[0],a[0]),n=u(i[1],r[1],o[1],a[1]);this.width=e-this.x,this.height=n-this.y}}),calculateTransform:function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=l.create();return l.translate(r,r,[-e.x,-e.y]),l.scale(r,r,[n,i]),l.translate(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof d||(t=d.create(t));var e=this,n=e.x,i=e.x+e.width,r=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(i<a||s<n||o<l||c<r)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(t){return new d(t.x,t.y,t.width,t.height)};var p=d;t.exports=p},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,l=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},c=o.push,h=o.indexOf,u={},d=u.toString,p=u.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},x=n.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,o=(n=n||x).createElement("script");if(o.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[d.call(t)]||"object":typeof t}var _=function(t,e){return new _.fn.init(t,e)};function S(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}_.fn=_.prototype={jquery:"3.6.0",constructor:_,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=_.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _.each(this,t)},map:function(t){return this.pushStack(_.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},_.extend=_.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(c&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],o=r&&!Array.isArray(n)?[]:r||_.isPlainObject(n)?n:{},r=!1,a[e]=_.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},_.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=a(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&f.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?_.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return l(a)},guid:1,support:m}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=o[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var O=function(t){var e,n,i,r,o,a,s,l,c,h,u,d,p,f,g,m,v,y,x,b="sizzle"+1*new Date,w=t.document,C=0,_=0,S=lt(),O=lt(),M=lt(),k=lt(),A=function(t,e){return t===e&&(u=!0),0},T={}.hasOwnProperty,D=[],P=D.pop,I=D.push,E=D.push,j=D.slice,L=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+N+"*("+R+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+N+"*\\]",z=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",V=new RegExp(N+"+","g"),G=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),W=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),$=new RegExp(N+"|>"),Y=new RegExp(z),X=new RegExp("^"+R+"$"),q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},U=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},at=bt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{E.apply(D=j.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){E={apply:D.length?function(t,e){I.apply(t,j.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var o,s,c,h,u,f,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&(d(e),e=e||p,g)){if(11!==w&&(u=Q.exec(t)))if(o=u[1]){if(9===w){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&x(e,c)&&c.id===o)return i.push(c),i}else{if(u[2])return E.apply(i,e.getElementsByTagName(t)),i;if((o=u[3])&&n.getElementsByClassName&&e.getElementsByClassName)return E.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!k[t+" "]&&(!m||!m.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&($.test(t)||W.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((h=e.getAttribute("id"))?h=h.replace(it,rt):e.setAttribute("id",h=b)),s=(f=a(t)).length;s--;)f[s]=(h?"#"+h:":scope")+" "+xt(f[s]);v=f.join(",")}try{return E.apply(i,y.querySelectorAll(v)),i}catch(e){k(t,!0)}finally{h===b&&e.removeAttribute("id")}}}return l(t.replace(G,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ct(t){return t[b]=!0,t}function ht(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ct((function(e){return e=+e,ct((function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!U.test(e||n&&n.nodeName||"HTML")},d=st.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!=p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,g=!o(p),w!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=ht((function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ht((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ht((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ht((function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(p.querySelectorAll))&&(ht((function(t){var e;f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+B+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ht((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=J.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ht((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",z)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(f.compareDocumentPosition),x=e||J.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==w&&x(w,t)?-1:e==p||e.ownerDocument==w&&x(w,e)?1:h?L(h,t)-L(h,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t==p?-1:e==p?1:r?-1:o?1:h?L(h,t)-L(h,e):0;if(r===o)return dt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?dt(a[i],s[i]):a[i]==w?-1:s[i]==w?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&g&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){k(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=p&&d(t),x(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=p&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&T.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,o=0;if(u=!n.detectDuplicates,h=!n.sortStable&&t.slice(0),t.sort(A),u){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return h=null,t},r=st.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=st.selectors={cacheLength:50,createPseudo:ct,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(V," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,h,u,d,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,x=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(x=(p=(c=(h=(u=(d=m)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===C&&c[1])&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(x=p=0)||f.pop();)if(1===d.nodeType&&++x&&d===e){h[t]=[C,p,x];break}}else if(y&&(x=p=(c=(h=(u=(d=e)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===C&&c[1]),!1===x)for(;(d=++p&&d&&d[g]||(x=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++x||(y&&((h=(u=d[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]=[C,x]),d!==e)););return(x-=r)===i||x%i==0&&x/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=L(t,o[a])]=!(n[i]=o[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:ct((function(t){var e=[],n=[],i=s(t.replace(G,"$1"));return i[b]?ct((function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:ct((function(t){return function(e){return st(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ct((function(t){return X.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt((function(){return[0]})),last:mt((function(t,e){return[e-1]})),eq:mt((function(t,e,n){return[n<0?n+e:n]})),even:mt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:mt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:mt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:mt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function yt(){}function xt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=_++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,h,u,d=[C,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(h=(u=e[b]||(e[b]={}))[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=h[o])&&c[0]===C&&c[1]===s)return d[2]=c[2];if(h[o]=d,d[2]=t(e,n,l))return!0}return!1}}function wt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function _t(t,e,n,i,r,o){return i&&!i[b]&&(i=_t(i)),r&&!r[b]&&(r=_t(r,o)),ct((function(o,a,s,l){var c,h,u,d=[],p=[],f=a.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:Ct(g,d,t,s,l),v=n?r||(o?t:f||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=Ct(v,p),i(c,[],s,l),h=c.length;h--;)(u=c[h])&&(v[p[h]]=!(m[p[h]]=u));if(o){if(r||t){if(r){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);r(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=r?L(o,u):d[h])>-1&&(o[c]=!(a[c]=u))}}else v=Ct(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):E.apply(a,v)}))}function St(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,h=bt((function(t){return t===e}),s,!0),u=bt((function(t){return L(e,t)>-1}),s,!0),d=[function(t,n,i){var r=!a&&(i||n!==c)||((e=n).nodeType?h(t,n,i):u(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])d=[bt(wt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return _t(l>1&&wt(d),l>1&&xt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(G,"$1"),n,l<r&&St(t.slice(l,r)),r<o&&St(t=t.slice(r)),r<o&&xt(t))}d.push(n)}return wt(d)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,a=st.tokenize=function(t,e){var n,r,o,a,s,l,c,h=O[t+" "];if(h)return e?0:h.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=W.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(G," ")}),s=s.slice(n.length)),i.filter)!(r=q[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):O(t,l).slice(0)},s=st.compile=function(t,e){var n,r=[],o=[],s=M[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=St(e[n]))[b]?r.push(s):o.push(s);(s=M(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,l,h){var u,f,m,v=0,y="0",x=o&&[],b=[],w=c,_=o||r&&i.find.TAG("*",h),S=C+=null==w?1:Math.random()||.1,O=_.length;for(h&&(c=a==p||a||h);y!==O&&null!=(u=_[y]);y++){if(r&&u){for(f=0,a||u.ownerDocument==p||(d(u),s=!g);m=t[f++];)if(m(u,a||p,s)){l.push(u);break}h&&(C=S)}n&&((u=!m&&u)&&v--,o&&x.push(u))}if(v+=y,n&&y!==v){for(f=0;m=e[f++];)m(x,b,a,s);if(o){if(v>0)for(;y--;)x[y]||b[y]||(b[y]=P.call(l));b=Ct(b)}E.apply(l,b),h&&!o&&b.length>0&&v+e.length>1&&st.uniqueSort(l)}return h&&(C=S,c=w),x};return n?ct(o):o}(o,r))).selector=t}return s},l=st.select=function(t,e,n,r){var o,l,c,h,u,d="function"==typeof t&&t,p=!r&&a(t=d.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=q.needsContext.test(t)?0:l.length;o--&&(c=l[o],!i.relative[h=c.type]);)if((u=i.find[h])&&(r=u(c.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&xt(l)))return E.apply(n,r),n;break}}return(d||s(t,p))(r,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!u,d(),n.sortDetached=ht((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ht((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ht((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ht((function(t){return null==t.getAttribute("disabled")}))||ut(B,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),st}(n);_.find=O,_.expr=O.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=O.uniqueSort,_.text=O.getText,_.isXMLDoc=O.isXML,_.contains=O.contains,_.escapeSelector=O.escape;var M=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&_(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=_.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return v(e)?_.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?_.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?_.grep(t,(function(t){return h.call(e,t)>-1!==n})):_.filter(e,t,n)}_.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?_.find.matchesSelector(i,t)?[i]:[]:_.find.matches(t,_.grep(e,(function(t){return 1===t.nodeType})))},_.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(_(t).filter((function(){for(e=0;e<i;e++)if(_.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)_.find(t,r[e],n);return i>1?_.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&A.test(t)?_(t):t||[],!1).length}});var I,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:E.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof _?e[0]:e,_.merge(this,_.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:x,!0)),D.test(i[1])&&_.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=x.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(_):_.makeArray(t,this)}).prototype=_.fn,I=_(x);var j=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}_.fn.extend({has:function(t){var e=_(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(_.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&_(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(_(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,n){return M(t,"parentNode",n)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,n){return M(t,"nextSibling",n)},prevUntil:function(t,e,n){return M(t,"previousSibling",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(T(t,"template")&&(t=t.content||t),_.merge([],t.childNodes))}},(function(t,e){_.fn[t]=function(n,i){var r=_.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_.filter(i,r)),this.length>1&&(L[t]||_.uniqueSort(r),j.test(t)&&r.reverse()),this.pushStack(r)}}));var N=/[^\x20\t\r\n\f]+/g;function R(t){return t}function F(t){throw t}function z(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}_.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return _.each(t.match(N)||[],(function(t,n){e[n]=!0})),e}(t):_.extend({},t);var e,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){_.each(n,(function(n,i){v(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==C(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return _.each(arguments,(function(t,e){for(var n;(n=_.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?_.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},_.extend({Deferred:function(t){var e=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return _.Deferred((function(n){_.each(e,(function(e,i){var r=v(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(t<o)){if((n=i.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?r?c.call(n,a(o,e,R,r),a(o,e,F,r)):(o++,c.call(n,a(o,e,R,r),a(o,e,F,r),a(o,e,R,e.notifyWith))):(i!==R&&(s=void 0,l=[n]),(r||e.resolveWith)(s,l))}},h=r?c:function(){try{c()}catch(n){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(n,h.stackTrace),t+1>=o&&(i!==F&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?h():(_.Deferred.getStackHook&&(h.stackTrace=_.Deferred.getStackHook()),n.setTimeout(h))}}return _.Deferred((function(n){e[0][3].add(a(0,n,v(r)?r:R,n.notifyWith)),e[1][3].add(a(0,n,v(t)?t:R)),e[2][3].add(a(0,n,v(i)?i:F))})).promise()},promise:function(t){return null!=t?_.extend(t,r):r}},o={};return _.each(e,(function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add((function(){i=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),o=_.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(z(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)z(r[n],a(n),o.reject);return o.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&V.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},_.readyException=function(t){n.setTimeout((function(){throw t}))};var G=_.Deferred();function H(){x.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),_.ready()}_.fn.ready=function(t){return G.then(t).catch((function(t){_.readyException(t)})),this},_.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==t&&--_.readyWait>0||G.resolveWith(x,[_]))}}),_.ready.then=G.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?n.setTimeout(_.ready):(x.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var W=function(t,e,n,i,r,o,a){var s=0,l=t.length,c=null==n;if("object"===C(n))for(s in r=!0,n)W(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(_(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):o},$=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function q(t){return t.replace($,"ms-").replace(Y,X)}var U=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=_.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},U(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[q(e)]=n;else for(i in e)r[q(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(q):(e=q(e))in i?[e]:e.match(N)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||_.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_.isEmptyObject(e)}};var K=new Z,J=new Z,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}_.extend({hasData:function(t){return J.hasData(t)||K.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return K.access(t,e,n)},_removeData:function(t,e){K.remove(t,e)}}),_.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=q(i.slice(5)),et(o,i,r[i]));K.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){J.set(this,t)})):W(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=J.get(o,t))||void 0!==(n=et(o,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),_.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=K.get(t,e),n&&(!i||Array.isArray(n)?i=K.access(t,e,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=_.queue(t,e),i=n.length,r=n.shift(),o=_._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){_.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return K.get(t,n)||K.access(t,n,{empty:_.Callbacks("once memory").add((function(){K.remove(t,[e+"queue",n])}))})}}),_.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?_.queue(this[0],t):void 0===e?this:this.each((function(){var n=_.queue(this,t,e);_._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){_.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=_.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=K.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=x.documentElement,at=function(t){return _.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(at=function(t){return _.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===_.css(t,"display")};function ct(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return _.css(t,e,"")},l=s(),c=n&&n[3]||(_.cssNumber[e]?"":"px"),h=t.nodeType&&(_.cssNumber[e]||"px"!==c&&+l)&&it.exec(_.css(t,e));if(h&&h[3]!==c){for(l/=2,c=c||h[3],h=+l||1;a--;)_.style(t,e,h+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),h/=o;h*=2,_.style(t,e,h+c),n=n||[]}return n&&(h=+h||+l||0,r=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=h,i.end=r)),r}var ht={};function ut(t){var e,n=t.ownerDocument,i=t.nodeName,r=ht[i];return r||(e=n.body.appendChild(n.createElement(i)),r=_.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ht[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=K.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&lt(i)&&(r[o]=ut(i))):"none"!==n&&(r[o]="none",K.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}_.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?_(this).show():_(this).hide()}))}});var pt,ft,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;pt=x.createDocumentFragment().appendChild(x.createElement("div")),(ft=x.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),pt.appendChild(ft),m.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",m.option=!!pt.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?_.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)K.set(t[n],"globalEval",!e||K.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,m.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function Ct(t,e,n,i,r){for(var o,a,s,l,c,h,u=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===C(o))_.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){for(a=a||u.appendChild(e.createElement("div")),s=(mt.exec(o)||["",""])[1].toLowerCase(),l=yt[s]||yt._default,a.innerHTML=l[1]+_.htmlPrefilter(o)+l[2],h=l[0];h--;)a=a.lastChild;_.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(e.createTextNode(o));for(u.textContent="",p=0;o=d[p++];)if(i&&_.inArray(o,i)>-1)r&&r.push(o);else if(c=at(o),a=xt(u.appendChild(o),"script"),c&&bt(a),n)for(h=0;o=a[h++];)vt.test(o.type||"")&&n.push(o);return u}var _t=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ot(){return!1}function Mt(t,e){return t===function(){try{return x.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)kt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ot;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return _().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=_.guid++)),t.each((function(){_.event.add(this,e,r,i,n)}))}function At(t,e,n){n?(K.set(t,e,!1),_.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=K.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(_.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),K.set(this,e,o),i=n(this,e),this[e](),o!==(r=K.get(this,e))||i?K.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r&&r.value}else o.length&&(K.set(this,e,{value:_.event.trigger(_.extend(o[0],_.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===K.get(t,e)&&_.event.add(t,e,St)}_.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,h,u,d,p,f,g,m=K.get(t);if(U(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_.find.matchesSelector(ot,r),n.guid||(n.guid=_.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==_&&_.event.triggered!==e.type?_.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(N)||[""]).length;c--;)p=g=(s=_t.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(u=_.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=_.event.special[p]||{},h=_.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),_.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,c,h,u,d,p,f,g,m=K.hasData(t)&&K.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(N)||[""]).length;c--;)if(p=g=(s=_t.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=_.event.special[p]||{},d=l[p=(i?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)h=d[o],!r&&g!==h.origType||n&&n.guid!==h.guid||s&&!s.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,f,m.handle)||_.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)_.event.remove(t,p+e[c],n,i,!0);_.isEmptyObject(l)&&K.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=new Array(arguments.length),l=_.event.fix(t),c=(K.get(this,"events")||Object.create(null))[l.type]||[],h=_.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(a=_.event.handlers.call(this,l,c),e=0;(r=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?_(r,this).index(c)>-1:_.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(_.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_.expando]?t:new _.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&T(e,"input")&&At(e,"click",St),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&T(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&T(e,"input")&&K.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_.Event=function(t,e){if(!(this instanceof _.Event))return new _.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(t,e){_.event.special[t]={setup:function(){return At(this,t,Mt),!1},trigger:function(){return At(this,t),!0},_default:function(){return!0},delegateType:e}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){_.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||_.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),_.fn.extend({on:function(t,e,n,i){return kt(this,t,e,n,i)},one:function(t,e,n,i){return kt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,_(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each((function(){_.event.remove(this,t,n,e)}))}});var Tt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&_(t).children("tbody")[0]||t}function Et(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,i,r,o,a,s;if(1===e.nodeType){if(K.hasData(t)&&(s=K.get(t).events))for(r in K.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)_.event.add(e,r,s[r][n]);J.hasData(t)&&(o=J.access(t),a=_.extend({},o),J.set(e,a))}}function Bt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Nt(t,e,n,i){e=l(e);var r,o,a,s,c,h,u=0,d=t.length,p=d-1,f=e[0],g=v(f);if(g||d>1&&"string"==typeof f&&!m.checkClone&&Dt.test(f))return t.each((function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),Nt(o,e,n,i)}));if(d&&(o=(r=Ct(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=_.map(xt(r,"script"),Et)).length;u<d;u++)c=r,u!==p&&(c=_.clone(c,!0,!0),s&&_.merge(a,xt(c,"script"))),n.call(t[u],c,u);if(s)for(h=a[a.length-1].ownerDocument,_.map(a,jt),u=0;u<s;u++)c=a[u],vt.test(c.type||"")&&!K.access(c,"globalEval")&&_.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):w(c.textContent.replace(Pt,""),c,h))}return t}function Rt(t,e,n){for(var i,r=e?_.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(xt(i)),i.parentNode&&(n&&at(i)&&bt(xt(i,"script")),i.parentNode.removeChild(i));return t}_.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=at(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_.isXMLDoc(t)))for(a=xt(s),i=0,r=(o=xt(t)).length;i<r;i++)Bt(o[i],a[i]);if(e)if(n)for(o=o||xt(t),a=a||xt(s),i=0,r=o.length;i<r;i++)Lt(o[i],a[i]);else Lt(t,s);return(a=xt(s,"script")).length>0&&bt(a,!l&&xt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=_.event.special,o=0;void 0!==(n=t[o]);o++)if(U(n)){if(e=n[K.expando]){if(e.events)for(i in e.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,e.handle);n[K.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),_.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return W(this,(function(t){return void 0===t?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Nt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)}))},prepend:function(){return Nt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return _.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!yt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=_.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(_.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,(function(e){var n=this.parentNode;_.inArray(this,t)<0&&(_.cleanData(xt(this)),n&&n.replaceChild(e,this))}),t)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){_.fn[t]=function(t){for(var n,i=[],r=_(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),_(r[a])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var Ft=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Vt=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Gt=new RegExp(rt.join("|"),"i");function Ht(t,e,n){var i,r,o,a,s=t.style;return(n=n||zt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||at(t)||(a=_.style(t,e)),!m.pixelBoxStyles()&&Ft.test(a)&&Gt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(c).appendChild(h);var t=n.getComputedStyle(h);i="1%"!==t.top,l=12===e(t.marginLeft),h.style.right="60%",a=36===e(t.right),r=36===e(t.width),h.style.position="absolute",o=12===e(h.offsetWidth/3),ot.removeChild(c),h=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,s,l,c=x.createElement("div"),h=x.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===h.style.backgroundClip,_.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,i,r;return null==s&&(t=x.createElement("table"),e=x.createElement("tr"),i=x.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",ot.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,ot.removeChild(t)),s}}))}();var $t=["Webkit","Moz","ms"],Yt=x.createElement("div").style,Xt={};function qt(t){var e=_.cssProps[t]||Xt[t];return e||(t in Yt?t:Xt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=$t.length;n--;)if((t=$t[n]+e)in Yt)return t}(t)||t)}var Ut=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Kt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function Qt(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function te(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=_.css(t,n+rt[a],!0,r)),i?("content"===n&&(l-=_.css(t,"padding"+rt[a],!0,r)),"margin"!==n&&(l-=_.css(t,"border"+rt[a]+"Width",!0,r))):(l+=_.css(t,"padding"+rt[a],!0,r),"padding"!==n?l+=_.css(t,"border"+rt[a]+"Width",!0,r):s+=_.css(t,"border"+rt[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function ee(t,e,n){var i=zt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===_.css(t,"boxSizing",!1,i),o=r,a=Ht(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ft.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&T(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===_.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===_.css(t,"boxSizing",!1,i),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+te(t,e,n||(r?"border":"content"),o,i,a)+"px"}function ne(t,e,n,i,r){return new ne.prototype.init(t,e,n,i,r)}_.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=q(e),l=Zt.test(e),c=t.style;if(l||(e=qt(s)),a=_.cssHooks[e]||_.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e];"string"===(o=typeof n)&&(r=it.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(_.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,a,s=q(e);return Zt.test(e)||(e=qt(s)),(a=_.cssHooks[e]||_.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Ht(t,e,i)),"normal"===r&&e in Jt&&(r=Jt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each(["height","width"],(function(t,e){_.cssHooks[e]={get:function(t,n,i){if(n)return!Ut.test(_.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):Vt(t,Kt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var r,o=zt(t),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===_.css(t,"boxSizing",!1,o),l=i?te(t,e,i,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),l&&(r=it.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=_.css(t,e)),Qt(0,n,l)}}})),_.cssHooks.marginLeft=Wt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(t,e){_.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(_.cssHooks[t+e].set=Qt)})),_.fn.extend({css:function(t,e){return W(this,(function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=zt(t),r=e.length;a<r;a++)o[e[a]]=_.css(t,e[a],!1,i);return o}return void 0!==n?_.style(t,e,n):_.css(t,e)}),t,e,arguments.length>1)}}),_.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||_.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=_.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){_.fx.step[t.prop]?_.fx.step[t.prop](t):1!==t.elem.nodeType||!_.cssHooks[t.prop]&&null==t.elem.style[qt(t.prop)]?t.elem[t.prop]=t.now:_.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_.fx=ne.prototype.init,_.fx.step={};var ie,re,oe=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function se(){re&&(!1===x.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(se):n.setTimeout(se,_.fx.interval),_.fx.tick())}function le(){return n.setTimeout((function(){ie=void 0})),ie=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function he(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,a=ue.prefilters.length,s=_.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=ie||le(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:_.extend({},e),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||le(),duration:n.duration,tweens:[],createTween:function(e,n){var i=_.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),h=c.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=q(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=_.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(h,c.opts.specialEasing);o<a;o++)if(i=ue.prefilters[o].call(c,t,h,c.opts))return v(i.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return _.map(h,he,c),v(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(N);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,c,h,u="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&lt(t),m=K.get(t,"fxshow");for(i in n.queue||(null==(a=_._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,_.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[i],oe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||_.style(t,i)}if((l=!_.isEmptyObject(e))||!_.isEmptyObject(p))for(i in u&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=K.get(t,"display")),"none"===(h=_.css(t,"display"))&&(c?h=c:(dt([t],!0),c=t.style.display||c,h=_.css(t,"display"),dt([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===_.css(t,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(h=f.display,c="none"===h?"":h)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=K.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&dt([t],!0),d.done((function(){for(i in g||dt([t]),K.remove(t,"fxshow"),p)_.style(t,i,p[i])}))),l=he(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),_.speed=function(t,e,n){var i=t&&"object"==typeof t?_.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _.fx.speeds?i.duration=_.fx.speeds[i.duration]:i.duration=_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(t,e,n,i){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=_.isEmptyObject(t),o=_.speed(e,n,i),a=function(){var e=ue(this,_.extend({},t),o);(r||K.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=_.timers,a=K.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ae.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||_.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=K.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=_.timers,a=i?i.length:0;for(n.finish=!0,_.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(t,e){var n=_.fn[e];_.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}})),_.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){_.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),_.timers=[],_.fx.tick=function(){var t,e=0,n=_.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||_.fx.stop(),ie=void 0},_.fx.timer=function(t){_.timers.push(t),_.fx.start()},_.fx.interval=13,_.fx.start=function(){re||(re=!0,se())},_.fx.stop=function(){re=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,e){return t=_.fx&&_.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=x.createElement("input"),e=x.createElement("select").appendChild(x.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=x.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var de,pe=_.expr.attrHandle;_.fn.extend({attr:function(t,e){return W(this,_.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){_.removeAttr(this,t)}))}}),_.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?_.prop(t,e,n):(1===o&&_.isXMLDoc(t)||(r=_.attrHooks[e.toLowerCase()]||(_.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void _.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=_.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(N);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?_.removeAttr(t,n):t.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=pe[e]||_.find.attr;pe[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=pe[a],pe[a]=r,r=null!=n(t,e,i)?a:null,pe[a]=o),r}}));var fe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function me(t){return(t.match(N)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}_.fn.extend({prop:function(t,e){return W(this,_.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[_.propFix[t]||t]}))}}),_.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(t)||(e=_.propFix[e]||e,r=_.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=_.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(_.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(v(t))return this.each((function(e){_(this).addClass(t.call(this,e,ve(this)))}));if((e=ye(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(v(t))return this.each((function(e){_(this).removeClass(t.call(this,e,ve(this)))}));if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(n){_(this).toggleClass(t.call(this,n,ve(this),e),e)})):this.each((function(){var e,r,o,a;if(i)for(r=0,o=_(this),a=ye(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&K.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":K.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+me(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;_.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,_(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,(function(t){return null==t?"":t+""}))),(e=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(xe,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(t){var e=_.find.attr(t,"value");return null!=e?e:me(_.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=_(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=_.makeArray(e),a=r.length;a--;)((i=r[a]).selected=_.inArray(_.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=_.inArray(_(t).val(),e)>-1}},m.checkOn||(_.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var be=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};_.extend(_.event,{trigger:function(t,e,i,r){var o,a,s,l,c,h,u,d,f=[i||x],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=i=i||x,3!==i.nodeType&&8!==i.nodeType&&!be.test(g+_.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[_.expando]?t:new _.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:_.makeArray(e,[t]),u=_.event.special[g]||{},r||!u.trigger||!1!==u.trigger.apply(i,e))){if(!r&&!u.noBubble&&!y(i)){for(l=u.delegateType||g,be.test(l+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||x)&&f.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?l:u.bindType||g,(h=(K.get(a,"events")||Object.create(null))[t.type]&&K.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&U(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),e)||!U(i)||c&&v(i[g])&&!y(i)&&((s=i[c])&&(i[c]=null),_.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,we),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,we),_.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(t,e,n){var i=_.extend(new _.Event,n,{type:t,isSimulated:!0});_.event.trigger(i,null,e)}}),_.fn.extend({trigger:function(t,e){return this.each((function(){_.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return _.event.trigger(t,e,n,!0)}}),m.focusin||_.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){_.event.simulate(e,t.target,_.event.fix(t))};_.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=K.access(i,e);r||i.addEventListener(t,n,!0),K.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=K.access(i,e)-1;r?K.access(i,e,r):(i.removeEventListener(t,n,!0),K.remove(i,e))}}}));var Ce=n.location,_e={guid:Date.now()},Se=/\?/;_.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||_.error("Invalid XML: "+(i?_.map(i.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Oe=/\[\]$/,Me=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,i){var r;if(Array.isArray(e))_.each(e,(function(e,r){n||Oe.test(t)?i(t,r):Te(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==C(e))i(t,e);else for(r in e)Te(t+"["+r+"]",e[r],n,i)}_.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!_.isPlainObject(t))_.each(t,(function(){r(this.name,this.value)}));else for(n in t)Te(n,t[n],e,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=_.prop(this,"elements");return t?_.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!_(this).is(":disabled")&&Ae.test(this.nodeName)&&!ke.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:n.replace(Me,"\r\n")}})).get()}});var De=/%20/g,Pe=/#.*$/,Ie=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Le=/^\/\//,Be={},Ne={},Re="*/".concat("*"),Fe=x.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(N)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ve(t,e,n,i){var r={},o=t===Ne;function a(s){var l;return r[s]=!0,_.each(t[s]||[],(function(t,s){var c=s(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ge(t,e){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&_.extend(!0,t,i),t}Fe.href=Ce.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,_.ajaxSettings),e):Ge(_.ajaxSettings,t)},ajaxPrefilter:ze(Be),ajaxTransport:ze(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,s,l,c,h,u,d,p=_.ajaxSetup({},e),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?_(f):_.event,m=_.Deferred(),v=_.Callbacks("once memory"),y=p.statusCode||{},b={},w={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ee.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),O(0,e),this}};if(m.promise(S),p.url=((t||p.url||Ce.href)+"").replace(Le,Ce.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=x.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Fe.protocol+"//"+Fe.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),Ve(Be,p,e,S),c)return S;for(u in(h=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!je.test(p.type),r=p.url.replace(Pe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(De,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Se.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ie,"$1"),d=(Se.test(r)?"&":"?")+"_="+_e.guid+++d),p.url=r+d),p.ifModified&&(_.lastModified[r]&&S.setRequestHeader("If-Modified-Since",_.lastModified[r]),_.etag[r]&&S.setRequestHeader("If-None-Match",_.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Re+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(C="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),i=Ve(Ne,p,e,S)){if(S.readyState=1,h&&g.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(s=n.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,i.send(b,O)}catch(t){if(c)throw t;O(-1,t)}}else O(-1,"No Transport");function O(t,e,a,l){var u,d,x,b,w,C=e;c||(c=!0,s&&n.clearTimeout(s),i=void 0,o=l||"",S.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(b=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,S,a)),!u&&_.inArray("script",p.dataTypes)>-1&&_.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(t,e,n,i){var r,o,a,s,l,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=h.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],h.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,b,S,u),u?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(_.lastModified[r]=w),(w=S.getResponseHeader("etag"))&&(_.etag[r]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,u=!(x=b.error))):(x=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(e||C)+"",u?m.resolveWith(f,[d,C,S]):m.rejectWith(f,[S,C,x]),S.statusCode(y),y=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?d:x]),v.fireWith(f,[S,C]),h&&(g.trigger("ajaxComplete",[S,p]),--_.active||_.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return _.get(t,e,n,"json")},getScript:function(t,e){return _.get(t,void 0,e,"script")}}),_.each(["get","post"],(function(t,e){_[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:t,type:e,dataType:r,data:n,success:i},_.isPlainObject(t)&&t))}})),_.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),_._evalUrl=function(t,e,n){return _.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){_.globalEval(t,e,n)}})},_.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=_(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){_(this).wrapInner(t.call(this,e))})):this.each((function(){var e=_(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){_(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(t){return!_.expr.pseudos.visible(t)},_.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},We=_.ajaxSettings.xhr();m.cors=!!We&&"withCredentials"in We,m.ajax=We=!!We,_.ajaxTransport((function(t){var e,i;if(m.cors||We&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),_.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _.globalEval(t),t}}}),_.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),_.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=_("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),x.head.appendChild(e[0])},abort:function(){n&&n()}}}));var $e,Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||_.expando+"_"+_e.guid++;return this[t]=!0,t}}),_.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+r):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||_.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always((function(){void 0===o?_(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(r)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=(($e=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$e.childNodes.length),_.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,e.head.appendChild(i)):e=x),o=!n&&[],(r=D.exec(t))?[e.createElement(r[1])]:(r=Ct([t],e,o),o&&o.length&&_(o).remove(),_.merge([],r.childNodes)));var i,r,o},_.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=me(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&_.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(i?_("<div>").append(_.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},_.expr.pseudos.animated=function(t){return _.grep(_.timers,(function(e){return t===e.elem})).length},_.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,c=_.css(t,"position"),h=_(t),u={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=_.css(t,"top"),l=_.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=h.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,_.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+r),"using"in e?e.using.call(t,u):h.css(u)}},_.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){_.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===_.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=_(t).offset()).top+=_.css(t,"borderTopWidth",!0),r.left+=_.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-_.css(i,"marginTop",!0),left:e.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===_.css(t,"position");)t=t.offsetParent;return t||ot}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;_.fn[t]=function(i){return W(this,(function(t,i,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),_.each(["top","left"],(function(t,e){_.cssHooks[e]=Wt(m.pixelPosition,(function(t,n){if(n)return n=Ht(t,e),Ft.test(n)?_(t).position()[e]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(t,e){_.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){_.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return W(this,(function(e,n,r){var o;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?_.css(e,n,s):_.style(e,n,r,s)}),e,a?r:void 0,a)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){_.fn[e]=function(t){return this.on(e,t)}})),_.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){_.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||_.guid++,r},_.holdReady=function(t){t?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=T,_.isFunction=v,_.isWindow=y,_.camelCase=q,_.type=C,_.now=Date.now,_.isNumeric=function(t){var e=_.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},_.trim=function(t){return null==t?"":(t+"").replace(qe,"")},void 0===(i=function(){return _}.apply(e,[]))||(t.exports=i);var Ue=n.jQuery,Ze=n.$;return _.noConflict=function(t){return n.$===_&&(n.$=Ze),t&&n.jQuery===_&&(n.jQuery=Ue),_},void 0===r&&(n.jQuery=n.$=_),_}))},function(t,e,n){var i=n(5);!function(){for(var t in i){if(null==i||!i.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=i[t]}}();var r=n(267);!function(){for(var t in r){if(null==r||!r.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=r[t]}}(),n(265),n(440),n(451),n(456),n(461),n(465),n(475),n(489),n(495),n(503),n(518),n(522),n(526),n(538),n(544),n(549),n(555),n(559),n(565),n(569),n(572),n(586),n(592),n(598),n(599),n(611),n(300),n(293),n(614),n(618),n(619),n(631),n(115),n(636),n(643),n(644),n(653),n(656),n(659),n(662),n(309),n(668),n(313),n(312),n(674),n(314),n(323),n(679),n(682)},function(t,e,n){"use strict";n.r(e),n.d(e,"Category",(function(){return u})),n.d(e,"Identity",(function(){return j})),n.d(e,"Linear",(function(){return C})),n.d(e,"Log",(function(){return M})),n.d(e,"Pow",(function(){return k})),n.d(e,"Time",(function(){return A})),n.d(e,"TimeCat",(function(){return b})),n.d(e,"Quantile",(function(){return D})),n.d(e,"Quantize",(function(){return T})),n.d(e,"Scale",(function(){return s})),n.d(e,"getScale",(function(){return I})),n.d(e,"registerScale",(function(){return E})),n.d(e,"getTickMethod",(function(){return o})),n.d(e,"registerTickMethod",(function(){return a}));var i=n(0),r={};function o(t){return r[t]}function a(t,e){r[t]=e}var s=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(i.assign)(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(i.map)(this.ticks,(function(e,n){return Object(i.isObject)(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,r=n?n(t,e):t;return Object(i.isNil)(r)||!Object(i.isFunction)(r.toString)?"":r.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(i.assign)(this,this.__cfg__),this.setDomain(),Object(i.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(i.isString)(t)){var n=o(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(i.isFunction)(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return Object(i.head)(this.range)},t.prototype.rangeMax=function(){return Object(i.last)(this.range)},t.prototype.calcPercent=function(t,e,n){return Object(i.isNumber)(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function c(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}Object.create;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return c(e,t),e.prototype.translate=function(t){var e=Object(i.indexOf)(this.values,t);return-1===e?Object(i.isNumber)(t)?t:NaN:e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(e*n)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},e.prototype.getText=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e;return Object(i.isNumber)(e)&&!this.values.includes(e)&&(o=this.values[o]),t.prototype.getText.apply(this,h([o],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(i.isNil)(this.getConfig("min"))&&(this.min=0),Object(i.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}},e}(s),d=n(34);function p(t,e){return(d.format||d.default.format)(t,e)}function f(t){return Object(i.isString)(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(i.isDate)(t)&&(t=t.getTime()),t}var g=36e5,m=24*g,v=31*m,y=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",g],["HH",6*g],["HH",12*g],["YYYY-MM-DD",m],["YYYY-MM-DD",4*m],["YYYY-WW",7*m],["YYYY-MM",v],["YYYY-MM",4*v],["YYYY-MM",6*v],["YYYY",380*m]];function x(t,e,n){var r,o=(r=function(t){return t[1]},function(t,e,n,o){for(var a=Object(i.isNil)(n)?0:n,s=Object(i.isNil)(o)?t.length:o;a<s;){var l=a+s>>>1;r(t[l])>e?s=l:a=l+1}return a})(y,(e-t)/n)-1,a=y[o];return o<0?a=y[0]:o>=y.length&&(a=Object(i.last)(y)),a}var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return c(e,t),e.prototype.translate=function(t){t=f(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(i.isNumber)(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var i=this.values[n],r=this.formatter;return i=r?r(i,e):p(i,this.mask)}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(i.each)(e,(function(t,n){e[n]=f(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(u),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return c(e,t),e.prototype.scale=function(t){if(Object(i.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=Object(i.head)(e),r=Object(i.last)(e);n<this.min&&(this.min=n),r>this.max&&(this.max=r),Object(i.isNil)(this.minLimit)||(this.min=n),Object(i.isNil)(this.maxLimit)||(this.max=r)},e.prototype.setDomain=function(){var t=Object(i.getRange)(this.values),e=t.min,n=t.max;Object(i.isNil)(this.min)&&(this.min=e),Object(i.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=Object(i.filter)(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(s),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return c(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(w);function _(t,e){var n=Math.E;return e>=0?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t)}function S(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function O(t,e,n){Object(i.isNil)(n)&&(n=Math.max.apply(null,t));var r=n;return Object(i.each)(t,(function(t){t>0&&t<r&&(r=t)})),r===n&&(r=n/e),r>1&&(r=1),r}var M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return c(e,t),e.prototype.invert=function(t){var e,n=this.base,i=S(n,this.max),r=this.rangeMin(),o=this.rangeMax()-r,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(i-(e=S(n,a/n)))*o;if(t<s)return t/s*a}else e=S(n,this.min);var l=(t-r)/o*(i-e)+e;return Math.pow(n,l)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=O(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var i=this.base,r=this.positiveMin;return r&&(n=1*r/i),t<r?t/r/(S(i,e)-S(i,n)):(S(i,t)-S(i,n))/(S(i,e)-S(i,n))},e}(w),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return c(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,i=_(n,this.max),r=_(n,this.min),o=e*(i-r)+r,a=o>=0?1:-1;return Math.pow(o,n)*a},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var i=this.exponent;return(_(i,t)-_(i,n))/(_(i,e)-_(i,n))},e}(w),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return c(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),i=this.formatter;return i?i(n,e):p(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Object(i.isString)(n)||Object(i.isDate)(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return f(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Object(i.isNil)(e)&&Object(i.isNumber)(e)||(this.min=this.translate(this.min)),Object(i.isNil)(n)&&Object(i.isNumber)(n)||(this.max=this.translate(this.max)),t&&t.length){var r=[],o=1/0,a=o,s=0;Object(i.each)(t,(function(t){var e=f(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");o>e?(a=o,o=e):a>e&&(a=e),s<e&&(s=e),r.push(e)})),t.length>1&&(this.minTickInterval=a-o),Object(i.isNil)(e)&&(this.min=o),Object(i.isNil)(n)&&(this.max=s)}},e}(C),T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return c(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,r=this.getInvertPercent(t),o=Math.floor(r*(n-1));if(o>=n-1)return Object(i.last)(e);if(o<0)return Object(i.head)(e);var a=e[o],s=o/(n-1);return a+(r-s)/((o+1)/(n-1)-s)*(e[o+1]-a)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Object(i.last)(e)!==this.max&&e.push(this.max),Object(i.head)(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<Object(i.head)(e))return 0;if(t>Object(i.last)(e))return 1;var n=0;return Object(i.each)(e,(function(e,i){if(!(t>=e))return!1;n=i})),n/(e.length-1)},e}(w),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return c(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(T),P={};function I(t){return P[t]}function E(t,e){if(I(t))throw new Error("type '"+t+"' existed.");P[t]=e}var j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return c(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(i.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(s),L=[1,5,2,2.5,4,3],B=100*Number.EPSILON;function N(t,e,n,r,o,a){var s=Object(i.size)(e),l=Object(i.indexOf)(e,t),c=0,h=function(t,e){return(t%e+e)%e}(r,a);return(h<B||a-h<B)&&r<=0&&o>=0&&(c=1),1-l/(s-1)-n+c}function R(t,e,n){var r=Object(i.size)(e);return 1-Object(i.indexOf)(e,t)/(r-1)-n+1}function F(t,e,n,i,r,o){var a=(t-1)/(o-r),s=(e-1)/(Math.max(o,i)-Math.min(n,r));return 2-Math.max(a/s,s/a)}function z(t,e){return t>=e?2-(t-1)/(e-1):1}function V(t,e,n,i){var r=e-t;return 1-.5*(Math.pow(e-i,2)+Math.pow(t-n,2))/Math.pow(.1*r,2)}function G(t,e,n){var i=e-t;if(n>i){var r=(n-i)/2;return 1-Math.pow(r,2)/Math.pow(.1*i,2)}return 1}function H(t,e,n,r,o,a){if(void 0===n&&(n=5),void 0===r&&(r=!0),void 0===o&&(o=L),void 0===a&&(a=[.25,.2,.5,.05]),t===e||1===n)return{min:t,max:e,ticks:[t]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},l=1;l<1/0;){for(var c=0,h=o;c<h.length;c++){var u=h[c],d=R(u,o,l);if(Number.isNaN(d))throw new Error("NaN");if(a[0]*d+a[1]+a[2]+a[3]<s.score){l=1/0;break}for(var p=2;p<1/0;){var f=z(p,n);if(a[0]*d+a[1]+a[2]*f+a[3]<s.score)break;for(var g=(e-t)/(p+1)/l/u,m=Math.ceil(Math.log10(g));m<1/0;){var v=l*u*Math.pow(10,m),y=G(t,e,v*(p-1));if(a[0]*d+a[1]*y+a[2]*f+a[3]<s.score)break;var x=Math.floor(e/v)*l-(p-1)*l,b=Math.ceil(t/v)*l;if(x>b)m+=1;else{for(var w=x;w<=b;w+=1){var C=w*(v/l),_=C+v*(p-1),S=v,O=N(u,o,l,C,_,S),M=V(t,e,C,_),k=F(p,n,t,e,C,_),A=a[0]*O+a[1]*M+a[2]*k+1*a[3];A>s.score&&(!r||C<=t&&_>=e)&&(s.lmin=C,s.lmax=_,s.lstep=S,s.score=A)}m+=1}}p+=1}}l+=1}for(var T=Number.isInteger(s.lstep)?0:Math.ceil(Math.abs(Math.log10(s.lstep))),D=[],P=s.lmin;P<=s.lmax;P+=s.lstep)D.push(P);var I=T?Object(i.map)(D,(function(t){return Number.parseFloat(t.toFixed(T))})):D;return{min:Math.min(t,Object(i.head)(I)),max:Math.max(e,Object(i.last)(I)),ticks:I}}function W(t){var e=t.values,n=t.tickInterval,r=t.tickCount,o=e;if(Object(i.isNumber)(n))return Object(i.filter)(o,(function(t,e){return e%n==0}));var a=t.min,s=t.max;if(Object(i.isNil)(a)&&(a=0),Object(i.isNil)(s)&&(s=e.length-1),Object(i.isNumber)(r)&&r<s-a){var l=H(a,s,r,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(i.filter)(l,(function(t){return t>=a&&t<=s})).map((function(t){return e[t]}))}return e.slice(a,s+1)}var $=Math.sqrt(50),Y=Math.sqrt(10),X=Math.sqrt(2),q=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var i,r=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(n=[a,o])[0],a=n[1]),(i=U(s,l,t))>0?i=U(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,t):i<0&&(i=U(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,t)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,this.domain(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,this.domain(r)),this},t.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];(i=e<t)&&(r=t,t=e,e=r);if(0===(a=U(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;i&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},t}();function U(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=$?10:o>=Y?5:o>=X?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=$?10:o>=Y?5:o>=X?2:1)}function Z(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e}function K(t,e,n){var r=Z(t,n,"floor"),o=Z(e,n,"ceil");r=Object(i.fixedBase)(r,n),o=Object(i.fixedBase)(o,n);for(var a=[],s=r;s<=o;s+=n){var l=Object(i.fixedBase)(s,n);a.push(l)}return{min:r,max:o,ticks:a}}function J(t,e,n){var r,o=t.minLimit,a=t.maxLimit,s=t.min,l=t.max,c=t.tickCount,h=void 0===c?5:c,u=Object(i.isNil)(o)?Object(i.isNil)(e)?s:e:o,d=Object(i.isNil)(a)?Object(i.isNil)(n)?l:n:a;if(u>d&&(d=(r=[u,d])[0],u=r[1]),h<=2)return[u,d];for(var p=(d-u)/(h-1),f=[],g=0;g<h;g++)f.push(u+p*g);return f}function Q(t,e,n){void 0===n&&(n=5);var i={max:0,min:0,ticks:[]},r=(e-t)/n,o=Math.pow(10,Math.floor(Math.log10(r))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-r<1.5*(r-s)&&5*o-r<2.75*(r-(s=2*o))&&10*o-r<1.5*(r-(s=5*o))&&(s=10*o);var l=Math.ceil(e/s),c=Math.floor(t/s);i.max=Math.max(l*s,e),i.min=Math.min(c*s,t);for(var h=Number.parseFloat((c*s).toFixed(a));h<e;)i.ticks.push(h),h+=s,a&&(h=Number.parseFloat(h.toFixed(a)));return i.ticks.push(h),i}function tt(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function et(t){return new Date(t).getFullYear()}function nt(t){return new Date(t,0,1).getTime()}function it(t){return new Date(t).getMonth()}function rt(t,e){return new Date(t,e,1).getTime()}a("cat",W),a("time-cat",(function(t){var e=W(t),n=Object(i.last)(t.values);return n!==Object(i.last)(e)&&e.push(n),e})),a("wilkinson-extended",(function(t){var e=t.min,n=t.max,r=t.tickCount,o=t.nice,a=t.tickInterval,s=t.minLimit,l=t.maxLimit,c=H(e,n,r,o).ticks;return Object(i.isNil)(s)&&Object(i.isNil)(l)?a?K(e,n,a).ticks:c:J(t,Object(i.head)(c),Object(i.last)(c))})),a("r-pretty",(function(t){var e=t.min,n=t.max,r=t.tickCount,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=Q(e,n,r).ticks;return Object(i.isNil)(a)&&Object(i.isNil)(s)?o?K(e,n,o).ticks:l:J(t,Object(i.head)(l),Object(i.last)(l))})),a("time",(function(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickInterval,o=t.tickCount;if(r)o=Math.ceil((n-e)/r);else{var a=(n-e)/(r=x(e,n,o)[1])/o;a>1&&(r*=Math.ceil(a)),i&&r<i&&(r=i)}for(var s=[],l=e;l<n+r;l+=r)s.push(l);return s})),a("time-pretty",(function(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickInterval,o=t.tickCount,a=[];r||(r=(n-e)/o,i&&r<i&&(r=i));var s=et(e);if(r>31536e6)for(var l=et(n),c=Math.ceil(r/31536e6),h=s;h<=l+c;h+=c)a.push(nt(h));else if(r>v){var u=Math.ceil(r/v),d=it(e),p=function(t,e){var n=et(t),i=et(e),r=it(t);return 12*(i-n)+(it(e)-r)%12}(e,n);for(h=0;h<=p+u;h+=u)a.push(rt(s,h+d))}else if(r>m){var f=(C=new Date(e)).getFullYear(),y=C.getMonth(),x=C.getDate(),b=Math.ceil(r/m),w=function(t,e){return Math.ceil((e-t)/m)}(e,n);for(h=0;h<w+b;h+=b)a.push(new Date(f,y,x+h).getTime())}else if(r>g){f=(C=new Date(e)).getFullYear(),y=C.getMonth(),b=C.getDate();var C,_=C.getHours(),S=Math.ceil(r/g),O=function(t,e){return Math.ceil((e-t)/g)}(e,n);for(h=0;h<=O+S;h+=S)a.push(new Date(f,y,b,_+h).getTime())}else if(r>6e4){var M=function(t,e){return Math.ceil((e-t)/6e4)}(e,n),k=Math.ceil(r/6e4);for(h=0;h<=M+k;h+=k)a.push(e+6e4*h)}else{var A=r;A<1e3&&(A=1e3);var T=1e3*Math.floor(e/1e3),D=Math.ceil((n-e)/1e3),P=Math.ceil(A/1e3);for(h=0;h<D+P;h+=P)a.push(T+1e3*h)}return a})),a("log",(function(t){var e,n=t.base,i=t.tickCount,r=t.min,o=t.max,a=t.values,s=S(n,o);if(r>0)e=Math.floor(S(n,r));else{var l=O(a,n,o);e=Math.floor(S(n,l))}for(var c=s-e,h=Math.ceil(c/i),u=[],d=e;d<s+h;d+=h)u.push(Math.pow(n,d));return r<=0&&u.unshift(0),u})),a("pow",(function(t){var e=t.exponent,n=t.tickCount,i=Math.ceil(_(e,t.max));return Q(Math.floor(_(e,t.min)),i,n).ticks.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))})),a("quantile",(function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var i=n.slice().sort((function(t,e){return t-e})),r=[],o=0;o<e;o++){var a=o/(e-1);r.push(tt(i,a))}return r})),a("d3-linear",(function(t){var e=t.min,n=t.max,r=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=function(t){var e=t.min,n=t.max,i=t.nice,r=t.tickCount,o=new q;return o.domain([e,n]),i&&o.nice(r),o.ticks(r)}(t);return Object(i.isNil)(o)&&Object(i.isNil)(a)?r?K(e,n,r).ticks:s:J(t,Object(i.head)(s),Object(i.last)(s))})),E("cat",u),E("category",u),E("identity",j),E("linear",C),E("log",M),E("pow",k),E("time",A),E("timeCat",b),E("quantize",T),E("quantile",D)},function(t,e,n){var i=n(101),r=n(3),o=n(83),a=n(409),s=n(247).prototype.getCanvasPattern,l=Math.abs,c=new o(!0);function h(t){i.call(this,t),this.path=null}h.prototype={constructor:h,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var n,i=this.style,r=this.path||c,o=i.hasStroke(),a=i.hasFill(),l=i.fill,h=i.stroke,u=a&&!!l.colorStops,d=o&&!!h.colorStops,p=a&&!!l.image,f=o&&!!h.image;(i.bind(t,this,e),this.setTransform(t),this.__dirty)&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(t,l,n)),d&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,h,n)));u?t.fillStyle=this._fillGradient:p&&(t.fillStyle=s.call(l,t)),d?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=s.call(h,t));var g=i.lineDash,m=i.lineDashOffset,v=!!t.setLineDash,y=this.getGlobalScale();if(r.setScale(y[0],y[1],this.segmentIgnoreThreshold),this.__dirtyPath||g&&!v&&o?(r.beginPath(t),g&&!v&&(r.setLineDash(g),r.setLineDashOffset(m)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=i.fillOpacity){var x=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,r.fill(t),t.globalAlpha=x}else r.fill(t);if(g&&v&&(t.setLineDash(g),t.lineDashOffset=m),o)if(null!=i.strokeOpacity){x=t.globalAlpha;t.globalAlpha=i.strokeOpacity*i.opacity,r.stroke(t),t.globalAlpha=x}else r.stroke(t);g&&v&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var i=this.path;i||(i=this.path=new o),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){r.copy(t);var a=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),s>1e-10&&(r.width+=a/s,r.height+=a/s,r.x-=a/s/2,r.y-=a/s/2)}return r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path.data;if(r.hasStroke()){var s=r.lineWidth,l=r.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(r.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),a.containStroke(o,s/l,t,e)))return!0}if(r.hasFill())return a.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(r.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&l(t[0]-1)>1e-10&&l(t[3]-1)>1e-10?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},h.extend=function(t){var e=function(e){h.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var i=this.shape;for(var r in n)!i.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(i[r]=n[r])}t.init&&t.init.call(this,e)};for(var n in r.inherits(e,h),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},r.inherits(h,i);var u=h;t.exports=u},function(t,e){var n="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(e.firefox=!0,e.version=n[1]);i&&(e.ie=!0,e.version=i[1]);r&&(e.edge=!0,e.version=r[1]);o&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent);t.exports=n},function(t,e,n){var i=n(3),r=n(25),o=n(11).makeInner,a=n(56),s=a.enableClassExtend,l=a.enableClassCheck,c=n(406),h=n(407),u=n(408),d=n(421),p=i.mixin,f=o();function g(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function m(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function v(t,e){var n=f(t).getParent;return n?n.call(t,e):t.parentModel}g.prototype={constructor:g,init:null,mergeOption:function(t){i.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:m(this.option,this.parsePath(t),!e&&v(this,t))},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],r=!e&&v(this,t);return null==i&&r&&(i=r.getShallow(t)),i},getModel:function(t,e){var n;return new g(null==t?this.option:m(this.option,t=this.parsePath(t)),e=e||(n=v(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){f(this).getParent=t},isAnimationEnabled:function(){if(!r.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},s(g),l(g),p(g,c),p(g,h),p(g,u),p(g,d);var y=g;t.exports=y},function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"f",(function(){return g})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return v}));var i=n(0),r=n(159),o=n(10);function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function s(t,e){return a(t)*a(e)?(t[0]*e[0]+t[1]*e[1])/(a(t)*a(e)):1}function l(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(s(t,e))}function c(t,e){var n=e[1],i=e[2],r=Object(o.m)(Object(o.o)(e[3]),2*Math.PI),a=e[4],c=e[5],h=t[0],u=t[1],d=e[6],p=e[7],f=Math.cos(r)*(h-d)/2+Math.sin(r)*(u-p)/2,g=-1*Math.sin(r)*(h-d)/2+Math.cos(r)*(u-p)/2,m=f*f/(n*n)+g*g/(i*i);m>1&&(n*=Math.sqrt(m),i*=Math.sqrt(m));var v=n*n*(g*g)+i*i*(f*f),y=v?Math.sqrt((n*n*(i*i)-v)/v):1;a===c&&(y*=-1),isNaN(y)&&(y=0);var x=i?y*n*g/i:0,b=n?y*-i*f/n:0,w=(h+d)/2+Math.cos(r)*x-Math.sin(r)*b,C=(u+p)/2+Math.sin(r)*x+Math.cos(r)*b,_=[(f-x)/n,(g-b)/i],S=[(-1*f-x)/n,(-1*g-b)/i],O=l([1,0],_),M=l(_,S);return s(_,S)<=-1&&(M=Math.PI),s(_,S)>=1&&(M=0),0===c&&M>0&&(M-=2*Math.PI),1===c&&M<0&&(M+=2*Math.PI),{cx:w,cy:C,rx:Object(o.j)(t,[d,p])?0:n,ry:Object(o.j)(t,[d,p])?0:i,startAngle:O,endAngle:O+M,xRotation:r,arcFlag:a,sweepFlag:c}}var h=n(36),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function d(t,e){var n=e.attr();for(var o in n){var a=n[o],s=u[o]?u[o]:o;"matrix"===s&&a?t.transform(a[0],a[1],a[3],a[4],a[6],a[7]):"lineDash"===s&&t.setLineDash?Object(i.isArray)(a)&&t.setLineDash(a):("strokeStyle"===s||"fillStyle"===s?a=Object(r.b)(t,e,a):"globalAlpha"===s&&(a*=t.globalAlpha),t[s]=a)}}function p(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];r.get("visible")?r.draw(t,n):r.skipDraw()}}function f(t,e,n,i){var r=n.path,o=n.startArrow,a=n.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var d=0;d<r.length;d++){var p=r[d],f=p[0];if(0===d&&o&&o.d){var g=t.getStartTangent();u=h.c(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}else if(d===r.length-2&&"Z"===r[d+1][0]&&a&&a.d){if("Z"===r[d+1][0]){g=t.getEndTangent();u=h.c(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}}else if(d===r.length-1&&a&&a.d&&"Z"!==r[0]){g=t.getEndTangent();u=h.c(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}var m=u.dx,v=u.dy;switch(f){case"M":e.moveTo(p[1]-m,p[2]-v),l=[p[1],p[2]];break;case"L":e.lineTo(p[1]-m,p[2]-v);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-m,p[4]-v);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-m,p[6]-v);break;case"A":var y=void 0;i?(y=i[d])||(y=c(s,p),i[d]=y):y=c(s,p);var x=y.cx,b=y.cy,w=y.rx,C=y.ry,_=y.startAngle,S=y.endAngle,O=y.xRotation,M=y.sweepFlag;if(e.ellipse)e.ellipse(x,b,w,C,O,_,S,1-M);else{var k=w>C?w:C,A=w>C?1:w/C,T=w>C?C/w:1;e.translate(x,b),e.rotate(O),e.scale(A,T),e.arc(0,0,k,_,S,1-M),e.scale(1/A,1/T),e.rotate(-O),e.translate(-x,-b)}break;case"Z":e.closePath()}if("Z"===f)s=l;else{var D=p.length;s=[p[D-2],p[D-1]]}}}function g(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw(),t.set("hasChanged",!0)))}function m(t){if(!t.length)return null;var e=[],n=[],r=[],a=[];return Object(i.each)(t,(function(t){var i=function(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var n=t.get("cacheCanvasBBox"),i=n&&!(!n.width||!n.height),r=t.getCanvasBBox(),a=r&&!(!r.width||!r.height);i&&a?e=Object(o.l)(n,r):i?e=n:a&&(e=r)}return e}(t);i&&(e.push(i.minX),n.push(i.minY),r.push(i.maxX),a.push(i.maxY))})),{minX:Math.min.apply(null,e),minY:Math.min.apply(null,n),maxX:Math.max.apply(null,r),maxY:Math.max.apply(null,a)}}function v(t,e){return t&&e&&Object(o.f)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=s.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),c=null,h=0,u=[],d=n(347);function p(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(x(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(x(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function g(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(t.insertAt.before,n);n.insertBefore(e,r)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function x(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=h++;n=c||(c=v(e)),i=C.bind(null,n,a,!1),r=C.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),i=S.bind(null,n,e),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),i=_.bind(null,n),r=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return p(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}t&&p(f(t,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function C(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function _(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function S(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,n){var i=n(3),r=n(26),o=n(103),a=n(56),s=a.enableClassManagement,l=a.parseClassType,c=n(11).makeInner,h=n(14),u=n(422),d=c(),p=r.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){r.call(this,t,e,n,i),this.uid=o.getUID("ec_cpt_model")},init:function(t,e,n,i){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?h.getLayoutParams(t):{},o=e.getTheme();i.merge(t,o.get(this.mainType)),i.merge(t,this.getDefaultOption()),n&&h.mergeLayoutParam(t,r,n)},mergeOption:function(t,e){i.merge(this.option,t,!0);var n=this.layoutMode;n&&h.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=d(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&e.push(r),n=n.superClass}for(var o={},a=e.length-1;a>=0;a--)o=i.merge(o,e[a],!0);t.defaultOption=o}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});s(p,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(p),o.enableTopologicalTravel(p,(function(t){var e=[];i.each(p.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=i.map(e,(function(t){return l(t).main})),"dataset"!==t&&i.indexOf(e,"dataset")<=0&&e.unshift("dataset");return e})),i.mixin(p,u);var f=p;t.exports=f},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(25),o=n(15),a=o.formatTime,s=o.encodeHTML,l=o.addCommas,c=o.getTooltipMarker,h=n(11),u=n(30),d=n(263),p=n(187),f=n(14),g=f.getLayoutParams,m=f.mergeLayoutParam,v=n(188).createTask,y=n(57),x=y.prepareSource,b=y.getSource,w=n(71).retrieveRawValue,C=h.makeInner(),_=u.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=v({count:O,reset:M}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),x(this);var r=this.getInitialData(t,n);A(r,this),this.dataTask.context.data=r,C(this).dataBeforeProcessed=r,S(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?g(t):{},o=this.subType;u.hasClass(o)&&(o+="Series"),i.merge(t,e.getTheme().get(this.subType)),i.merge(t,this.getDefaultOption()),h.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&m(t,r,n)},mergeOption:function(t,e){t=i.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&m(this.option,t,n),x(this);var r=this.getInitialData(t,e);A(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,C(this).dataBeforeProcessed=r,S(this)},fillDataTextStyle:function(t){if(t&&!i.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&h.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=D(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return C(this).data},setData:function(t){var e=D(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}C(this).data=t},getSource:function(){return b(this)},getRawData:function(){return C(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,r){var o=this,u="html"===(r=r||"html")?"<br/>":"\n",d="richText"===r,p={},f=0;function g(t){return{renderMode:r,content:s(l(t)),style:p}}var m=this.getData(),v=m.mapDimension("defaultedTooltip",!0),y=v.length,x=this.getRawValue(t),b=i.isArray(x),C=m.getItemVisual(t,"color");i.isObject(C)&&C.colorStops&&(C=(C.colorStops[0]||{}).color),C=C||"transparent";var _=(y>1||b&&!y?function(n){var h=i.reduce(n,(function(t,e,n){var i=m.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)}),0),u=[];function g(t,n){var i=m.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var g=i.type,v="sub"+o.seriesIndex+"at"+f,y=c({color:C,type:"subItem",renderMode:r,markerId:v}),x="string"==typeof y?y:y.content,b=(h?x+s(i.displayName||"-")+": ":"")+s("ordinal"===g?t+"":"time"===g?e?"":a("yyyy/MM/dd hh:mm:ss",t):l(t));b&&u.push(b),d&&(p[v]=C,++f)}}v.length?i.each(v,(function(e){g(w(m,t,e),e)})):i.each(n,g);var y=h?d?"\n":"<br/>":"",x=y+u.join(y||", ");return{renderMode:r,content:x,style:p}}(x):g(y?w(m,t,v[0]):b?x[0]:x)).content,S=o.seriesIndex+"at"+f,O=c({color:C,type:"item",renderMode:r,markerId:S});p[S]=C,++f;var M=m.getName(t),k=this.name;h.isNameSpecified(this)||(k=""),k=k?s(k)+(e?": ":u):"";var A="string"==typeof O?O:O.content;return{html:e?A+k+_:k+A+(M?s(M)+": "+_:_),markers:p}},isAnimationEnabled:function(){if(r.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel,r=d.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function S(t){var e=t.name;h.isNameSpecified(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),r=[];return i.each(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&r.push(n.displayName)})),r.join(" ")}(t)||e)}function O(t){return t.model.getRawData().count()}function M(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),k}function k(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function A(t,e){i.each(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,i.curry(T,e))}))}function T(t){var e=D(t);e&&e.setOutputEnd(this.count())}function D(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}i.mixin(_,p),i.mixin(_,d);var P=_;t.exports=P},function(t,e,n){"use strict";n.r(e);var i=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0),this},t.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this._events[t]||[],o=this._events["*"]||[],a=function(i){for(var r=i.length,o=0;o<r;o++)if(i[o]){var a=i[o],s=a.callback;a.once&&(i.splice(o,1),0===i.length&&delete e._events[t],r--,o--),s.apply(e,n)}};a(r),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],i=n.length,r=0;r<i;r++)n[r].callback===e&&(n.splice(r,1),i--,r--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e.default=i},function(t,e,n){"use strict";var i=function(){};t.exports=i},function(t,e,n){"use strict";n.r(e),n.d(e,"assign",(function(){return l})),n.d(e,"format",(function(){return M})),n.d(e,"parse",(function(){return k})),n.d(e,"defaultI18n",(function(){return d})),n.d(e,"setGlobalDateI18n",(function(){return f})),n.d(e,"setGlobalDateMasks",(function(){return O}));var i=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="[^\\s]+",o=/\[([^]*?)\]/gm;function a(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}var s=function(t){return function(e,n){var i=n[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return i>-1?i:null}};function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];for(var a in o)t[a]=o[a]}return t}var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],u=a(h,3),d={dayNamesShort:a(c,3),dayNames:c,monthNamesShort:u,monthNames:h,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},p=l({},d),f=function(t){return p=l(p,t)},g=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},m=function(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},v={D:function(t){return String(t.getDate())},DD:function(t){return m(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return m(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return m(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return m(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return m(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return m(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return m(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return m(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return m(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return m(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return m(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+m(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+m(Math.floor(Math.abs(e)/60),2)+":"+m(Math.abs(e)%60,2)}},y=function(t){return+t-1},x=[null,"[1-9]\\d?"],b=[null,r],w=["isPm",r,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],C=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],_={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+r,function(t){return parseInt(t,10)}],M:["month","[1-9]\\d?",y],MM:["month","\\d\\d",y],YY:["year","\\d\\d",function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond","\\d\\d",function(t){return 10*+t}],SSS:["millisecond","\\d{3}"],d:x,dd:x,ddd:b,dddd:b,MMM:["month",r,s("monthNamesShort")],MMMM:["month",r,s("monthNames")],a:w,A:w,ZZ:C,Z:C},S={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},O=function(t){return l(S,t)},M=function(t,e,n){if(void 0===e&&(e=S.default),void 0===n&&(n={}),"number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");var r=[];e=(e=S[e]||e).replace(o,(function(t,e){return r.push(e),"@@@"}));var a=l(l({},p),n);return(e=e.replace(i,(function(e){return v[e](t,a)}))).replace(/@@@/g,(function(){return r.shift()}))};function k(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=S[e]||e,t.length>1e3)return null;var r={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],s=[],c=e.replace(o,(function(t,e){return s.push(g(e)),"@@@"})),h={},u={};c=g(c).replace(i,(function(t){var e=_[t],n=e[0],i=e[1],r=e[3];if(h[n])throw new Error("Invalid format. "+n+" specified twice in format");return h[n]=!0,r&&(u[r]=!0),a.push(e),"("+i+")"})),Object.keys(u).forEach((function(t){if(!h[t])throw new Error("Invalid format. "+t+" is required in specified format")})),c=c.replace(/@@@/g,(function(){return s.shift()}));var d=t.match(new RegExp(c,"i"));if(!d)return null;for(var f=l(l({},p),n),m=1;m<d.length;m++){var v=a[m-1],y=v[0],x=v[2],b=x?x(d[m],f):+d[m];if(null==b)return null;r[y]=b}1===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:0===r.isPm&&12==+r.hour&&(r.hour=0);for(var w=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond),C=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],O=(m=0,C.length);m<O;m++)if(h[C[m][0]]&&r[C[m][0]]!==w[C[m][1]]())return null;return null==r.timezoneOffset?w:new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond))}var A={format:M,parse:k,defaultI18n:d,setGlobalDateI18n:f,setGlobalDateMasks:O};e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=n(171);e.default={box:function(t,e,n,r){return i.getBBoxByArray([t,n],[e,r])},length:function(t,e,n,r){return i.distance(t,e,n,r)},pointAt:function(t,e,n,i,r){return{x:(1-r)*t+r*n,y:(1-r)*e+r*i}},pointDistance:function(t,e,n,r,o,a){var s=(n-t)*(o-t)+(r-e)*(a-e);return s<0?i.distance(t,e,o,a):s>(n-t)*(n-t)+(r-e)*(r-e)?i.distance(n,r,o,a):this.pointToLine(t,e,n,r,o,a)},pointToLine:function(t,e,n,i,o,a){var s=[n-t,i-e];if(r.exactEquals(s,[0,0]))return Math.sqrt((o-t)*(o-t)+(a-e)*(a-e));var l=[-s[1],s[0]];r.normalize(l,l);var c=[o-t,a-e];return Math.abs(r.dot(c,l))},tangentAngle:function(t,e,n,i){return Math.atan2(i-e,n-t)}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p}));var i=n(1),r=n(59),o=Math.sin,a=Math.cos,s=Math.atan2,l=Math.PI;function c(t,e,n,i,c,h,u){var d=e.stroke,p=e.lineWidth,f=s(i-h,n-c),g=new r.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*a(l/6)+","+10*o(l/6)+" L0,0 L"+10*a(l/6)+",-"+10*o(l/6),stroke:d,lineWidth:p}});g.translate(c,h),g.rotateAtPoint(c,h,f),t.set(u?"startArrowShape":"endArrowShape",g)}function h(t,e,n,l,c,h,u){var d=e.startArrow,p=e.endArrow,f=e.stroke,g=e.lineWidth,m=u?d:p,v=m.d,y=m.fill,x=m.stroke,b=m.lineWidth,w=Object(i.__rest)(m,["d","fill","stroke","lineWidth"]),C=s(l-h,n-c);v&&(c-=a(C)*v,h-=o(C)*v);var _=new r.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(i.__assign)(Object(i.__assign)({},w),{stroke:x||f,lineWidth:b||g,fill:y})});_.translate(c,h),_.rotateAtPoint(c,h,C),t.set(u?"startArrowShape":"endArrowShape",_)}function u(t,e,n,i,r){var l=s(i-e,n-t);return{dx:a(l)*r,dy:o(l)*r}}function d(t,e,n,i,r,o){"object"==typeof e.startArrow?h(t,e,n,i,r,o,!0):e.startArrow?c(t,e,n,i,r,o,!0):t.set("startArrowShape",null)}function p(t,e,n,i,r,o){"object"==typeof e.endArrow?h(t,e,n,i,r,o,!1):e.endArrow?c(t,e,n,i,r,o,!1):t.set("startArrowShape",null)}},function(t,e){var n="undefined"==typeof Float32Array?Array:Float32Array;function i(){var t=new n(6);return r(t),t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=i,e.identity=r,e.copy=o,e.mul=function(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t},e.translate=function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},e.rotate=function(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(n),h=Math.cos(n);return t[0]=i*h+a*c,t[1]=-i*c+a*h,t[2]=r*h+s*c,t[3]=-r*c+h*s,t[4]=h*o+c*l,t[5]=h*l-c*o,t},e.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t},e.invert=function(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null},e.clone=function(t){var e=i();return o(e,t),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_MAX_VIEW_PERCENTAGE=e.MIN_CHART_HEIGHT=e.MIN_CHART_WIDTH=e.FIELD_ORIGIN=e.GROUP_ATTRS=e.ELEMENT_STATE=e.PLOT_EVENTS=e.VIEW_LIFE_CIRCLE=e.GROUP_Z_INDEX=e.COMPONENT_TYPE=e.DIRECTION=e.LAYER=void 0,function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}(e.LAYER||(e.LAYER={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}(e.DIRECTION||(e.DIRECTION={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.OTHER="other"}(e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})),e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy"}(e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(e.PLOT_EVENTS||(e.PLOT_EVENTS={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(e.ELEMENT_STATE||(e.ELEMENT_STATE={})),e.GROUP_ATTRS=["color","shape","size"],e.FIELD_ORIGIN="_origin",e.MIN_CHART_WIDTH=1,e.MIN_CHART_HEIGHT=1,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25},function(t,e,n){var i=n(20),r=n(182),o=n(3),a=o.getContext,s=o.extend,l=o.retrieve2,c=o.retrieve3,h=o.trim,u={},d=0,p=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,f={};function g(t,e){var n=t+":"+(e=e||"12px sans-serif");if(u[n])return u[n];for(var i=(t+"").split("\n"),r=0,o=0,a=i.length;o<a;o++)r=Math.max(S(i[o],e).width,r);return d>5e3&&(d=0,u={}),d++,u[n]=r,r}function m(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function v(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function y(t,e,n){var i=e.textPosition,r=e.textDistance,o=n.x,a=n.y;r=r||0;var s=n.height,l=n.width,c=s/2,h="left",u="top";switch(i){case"left":o-=r,a+=c,h="right",u="middle";break;case"right":o+=r+l,a+=c,u="middle";break;case"top":o+=l/2,a-=r,h="center",u="bottom";break;case"bottom":o+=l/2,a+=s+r,h="center";break;case"inside":o+=l/2,a+=c,h="center",u="middle";break;case"insideLeft":o+=r,a+=c,u="middle";break;case"insideRight":o+=l-r,a+=c,h="right",u="middle";break;case"insideTop":o+=l/2,a+=r,h="center";break;case"insideBottom":o+=l/2,a+=s-r,h="center",u="bottom";break;case"insideTopLeft":o+=r,a+=r;break;case"insideTopRight":o+=l-r,a+=r,h="right";break;case"insideBottomLeft":o+=r,a+=s-r,u="bottom";break;case"insideBottomRight":o+=l-r,a+=s-r,h="right",u="bottom"}return(t=t||{}).x=o,t.y=a,t.textAlign=h,t.textVerticalAlign=u,t}function x(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=b(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=w(o[a],r);return o.join("\n")}function b(t,e,n,i){(i=s({},i)).font=e;n=l(n,"...");i.maxIterations=l(i.maxIterations,2);var r=i.minChar=l(i.minChar,0);i.cnCharWidth=g("",e);var o=i.ascCharWidth=g("a",e);i.placeholder=l(i.placeholder,"");for(var a=t=Math.max(0,t-1),c=0;c<r&&a>=o;c++)a-=o;var h=g(n,e);return h>a&&(n="",h=0),a=t-h,i.ellipsis=n,i.ellipsisWidth=h,i.contentWidth=a,i.containerWidth=t,i}function w(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=g(t,i);if(o<=n)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?C(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=g(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function C(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}function _(t){return g("",t)}function S(t,e){return f.measureText(t,e)}function O(t,e,n,i,r){null!=t&&(t+="");var o=l(i,_(e)),a=t?t.split("\n"):[],s=a.length*o,c=s,h=!0;if(n&&(c+=n[0]+n[2]),t&&r){h=!1;var u=r.outerHeight,d=r.outerWidth;if(null!=u&&c>u)t="",a=[];else if(null!=d)for(var p=b(d-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,g=a.length;f<g;f++)a[f]=w(a[f],p)}return{lines:a,height:s,outerHeight:c,lineHeight:o,canCacheByTextString:h}}function M(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var i,o=p.lastIndex=0;null!=(i=p.exec(t));){var a=i.index;a>o&&k(n,t.substring(o,a)),k(n,i[2],i[1]),o=p.lastIndex}o<t.length&&k(n,t.substring(o,t.length));var s=n.lines,h=0,u=0,d=[],f=e.textPadding,m=e.truncate,v=m&&m.outerWidth,y=m&&m.outerHeight;f&&(null!=v&&(v-=f[1]+f[3]),null!=y&&(y-=f[0]+f[2]));for(var b=0;b<s.length;b++){for(var w=s[b],C=0,S=0,O=0;O<w.tokens.length;O++){var M=(N=w.tokens[O]).styleName&&e.rich[N.styleName]||{},A=N.textPadding=M.textPadding,T=N.font=M.font||e.font,D=N.textHeight=l(M.textHeight,_(T));if(A&&(D+=A[0]+A[2]),N.height=D,N.lineHeight=c(M.textLineHeight,e.textLineHeight,D),N.textAlign=M&&M.textAlign||e.textAlign,N.textVerticalAlign=M&&M.textVerticalAlign||"middle",null!=y&&h+N.lineHeight>y)return{lines:[],width:0,height:0};N.textWidth=g(N.text,T);var P=M.textWidth,I=null==P||"auto"===P;if("string"==typeof P&&"%"===P.charAt(P.length-1))N.percentWidth=P,d.push(N),P=0;else{if(I){P=N.textWidth;var E=M.textBackgroundColor,j=E&&E.image;j&&(j=r.findExistImage(j),r.isImageReady(j)&&(P=Math.max(P,j.width*D/j.height)))}var L=A?A[1]+A[3]:0;P+=L;var B=null!=v?v-S:null;null!=B&&B<P&&(!I||B<L?(N.text="",N.textWidth=P=0):(N.text=x(N.text,B-L,T,m.ellipsis,{minChar:m.minChar}),N.textWidth=g(N.text,T),P=N.textWidth+L))}S+=N.width=P,M&&(C=Math.max(C,N.lineHeight))}w.width=S,w.lineHeight=C,h+=C,u=Math.max(u,S)}n.outerWidth=n.width=l(e.textWidth,u),n.outerHeight=n.height=l(e.textHeight,h),f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]);for(b=0;b<d.length;b++){var N,R=(N=d[b]).percentWidth;N.width=parseInt(R,10)/100*u}return n}function k(t,e,n){for(var i=""===e,r=e.split("\n"),o=t.lines,a=0;a<r.length;a++){var s=r[a],l={styleName:n,text:s,isLineHolder:!s&&!i};if(a)o.push({tokens:[l]});else{var c=(o[o.length-1]||(o[0]={tokens:[]})).tokens,h=c.length;1===h&&c[0].isLineHolder?c[0]=l:(s||!h||i)&&c.push(l)}}}f.measureText=function(t,e){var n=a();return n.font=e||"12px sans-serif",n.measureText(t)},e.DEFAULT_FONT="12px sans-serif",e.$override=function(t,e){f[t]=e},e.getWidth=g,e.getBoundingRect=function(t,e,n,r,o,a,s,l){return s?function(t,e,n,r,o,a,s,l){var c=M(t,{rich:s,truncate:l,font:e,textAlign:n,textPadding:o,textLineHeight:a}),h=c.outerWidth,u=c.outerHeight,d=m(0,h,n),p=v(0,u,r);return new i(d,p,h,u)}(t,e,n,r,o,a,s,l):function(t,e,n,r,o,a,s){var l=O(t,e,o,a,s),c=g(t,e);o&&(c+=o[1]+o[3]);var h=l.outerHeight,u=m(0,c,n),d=v(0,h,r),p=new i(u,d,c,h);return p.lineHeight=l.lineHeight,p}(t,e,n,r,o,a,l)},e.adjustTextX=m,e.adjustTextY=v,e.calculateTextPosition=y,e.adjustTextPositionOnRect=function(t,e,n){return y({},{textPosition:t,textDistance:n},e)},e.truncateText=x,e.getLineHeight=_,e.measureText=S,e.parsePlainText=O,e.parseRichText=M,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&h(e)||t.textFont||t.font}},function(t,e,n){var i=n(3),r=n(6),o=n(20),a=n(39).calculateTextPosition,s=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),l=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),c=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),h=Math.cos(c)*a,u=Math.sin(c),d=Math.cos(c),p=.6*a,f=.7*a;t.moveTo(n-h,l+s),t.arc(n,l,a,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+h-u*p,l+s+d*p,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-h+u*p,l+s+d*p,n-h,l+s),t.closePath()}}),h=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),u={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:l,pin:c,arrow:h,triangle:s},d={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},p={};i.each(u,(function(t,e){p[e]=new t}));var f=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=a(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=p[i];r||(r=p[i="rect"]),d[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function g(t,e){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}e.createSymbol=function(t,e,n,i,a,s,l){var c,h=0===t.indexOf("empty");return h&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(c=0===t.indexOf("image://")?r.makeImage(t.slice(8),new o(e,n,i,a),l?"center":"cover"):0===t.indexOf("path://")?r.makePath(t.slice(7),{},new o(e,n,i,a),l?"center":"cover"):new f({shape:{symbolType:t,x:e,y:n,width:i,height:a}})).__isEmptyBrush=h,c.setColor=g,c.setColor(s),c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(168);e.default=function(t){return Array.isArray?Array.isArray(t):i.default(t,"Array")}},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(26),o=n(72),a=n(104),s=n(71),l=s.defaultDimValueGetters,c=s.DefaultDataProvider,h=n(106).summarizeDimensions,u=n(268),d=i.isObject,p={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},f="undefined"==typeof Uint32Array?Array:Uint32Array,g="undefined"==typeof Int32Array?Array:Int32Array,m="undefined"==typeof Uint16Array?Array:Uint16Array;function v(t){return t._rawCount>65535?f:m}var y=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],x=["_extent","_approximateExtent","_rawExtent"];function b(t,e){i.each(y.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,i.each(x,(function(n){t[n]=i.clone(e[n])})),t._calculationInfo=i.extend(e._calculationInfo)}var w=function(t,e){t=t||["x","y"];for(var n={},r=[],o={},a=0;a<t.length;a++){var s=t[a];i.isString(s)?s=new u({name:s}):s instanceof u||(s=new u(s));var l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0),s.otherDims=s.otherDims||{},r.push(l),n[l]=s,s.index=a,s.createInvertedIndices&&(o[l]=[])}this.dimensions=r,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=h(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},C=w.prototype;function _(t,e,n,i,r){var o=p[e.type],a=i-1,s=e.name,l=t[s][a];if(l&&l.length<n){for(var c=new o(Math.min(r-a*n,n)),h=0;h<l.length;h++)c[h]=l[h];t[s][a]=c}for(var u=i*n;u<r;u+=n)t[s].push(new o(Math.min(r-u,n)))}function S(t){var e=t._invertedIndicesMap;i.each(e,(function(n,i){var r=t._dimensionInfos[i].ordinalMeta;if(r){n=e[i]=new g(r.categories.length);for(var o=0;o<n.length;o++)n[o]=-1;for(o=0;o<t._count;o++)n[t.get(i,o)]=o}}))}function O(t,e,n){var i;if(null!=e){var r=t._chunkSize,o=Math.floor(n/r),a=n%r,s=t.dimensions[e],l=t._storage[s][o];if(l){i=l[a];var c=t._dimensionInfos[s].ordinalMeta;c&&c.categories.length&&(i=c.categories[i])}}return i}function M(t){return t}function k(t){return t<this._count&&t>=0?this._indices[t]:-1}function A(t,e){var n=t._idList[e];return null==n&&(n=O(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n}function T(t){return i.isArray(t)||(t=[t]),t}function D(t,e){var n=t.dimensions,r=new w(i.map(n,t.getDimensionInfo,t),t.hostModel);b(r,t);for(var o=r._storage={},a=t._storage,s=0;s<n.length;s++){var l=n[s];a[l]&&(i.indexOf(e,l)>=0?(o[l]=P(a[l]),r._rawExtent[l]=I(),r._extent[l]=null):o[l]=a[l])}return r}function P(t){for(var e,n,i=new Array(t.length),r=0;r<t.length;r++)i[r]=(e=t[r],n=void 0,(n=e.constructor)===Array?e.slice():new n(e));return i}function I(){return[1/0,-1/0]}C.type="list",C.hasItemOption=!0,C.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},C.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},C.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},C.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return!0===e?(i||[]).slice():i&&i[e]},C.initData=function(t,e,n){(a.isInstance(t)||i.isArrayLike(t))&&(t=new c(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=l[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},C.getProvider=function(){return this._rawData},C.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i)},C.appendValues=function(t,e){for(var n=this._chunkSize,i=this._storage,r=this.dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),c=this._chunkCount,h=0;h<o;h++){a[v=r[h]]||(a[v]=I()),i[v]||(i[v]=[]),_(i,this._dimensionInfos[v],n,c,l),this._chunkCount=i[v].length}for(var u=new Array(o),d=s;d<l;d++){for(var p=d-s,f=Math.floor(d/n),g=d%n,m=0;m<o;m++){var v=r[m],y=this._dimValueGetterArrayRows(t[p]||u,v,p,m);i[v][f][g]=y;var x=a[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}e&&(this._nameList[d]=e[p])}this._rawCount=this._count=l,this._extent={},S(this)},C._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,c=this._nameList,h=this._idList,u=this._rawExtent,d=this._nameRepeatCount={},p=this._chunkCount,f=0;f<s;f++){u[w=a[f]]||(u[w]=I());var g=l[w];0===g.otherDims.itemName&&(n=this._nameDimIdx=f),0===g.otherDims.itemId&&(this._idDimIdx=f),o[w]||(o[w]=[]),_(o,g,i,p,e),this._chunkCount=o[w].length}for(var m=new Array(s),v=t;v<e;v++){m=r.getItem(v,m);for(var y=Math.floor(v/i),x=v%i,b=0;b<s;b++){var w,C=o[w=a[b]][y],O=this._dimValueGetter(m,w,v,b);C[x]=O;var M=u[w];O<M[0]&&(M[0]=O),O>M[1]&&(M[1]=O)}if(!r.pure){var k=c[v];if(m&&null==k)if(null!=m.name)c[v]=k=m.name;else if(null!=n){var A=a[n],T=o[A][y];if(T){k=T[x];var D=l[A].ordinalMeta;D&&D.categories.length&&(k=D.categories[k])}}var P=null==m?null:m.id;null==P&&null!=k&&(d[k]=d[k]||0,P=k,d[k]>0&&(P+="__ec__"+d[k]),d[k]++),null!=P&&(h[v]=P)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},S(this)}},C.count=function(){return this._count},C.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){r=new e(n);for(var i=0;i<n;i++)r[i]=t[i]}else r=new e(t.buffer,0,n)}else{var r=new(e=v(this))(this.count());for(i=0;i<r.length;i++)r[i]=i}return r},C.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return n[t][i][r]},C.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return n[i][r]},C._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return this._storage[t][n][i]},C.getValues=function(t,e){var n=[];i.isArray(t)||(e=t,t=this.dimensions);for(var r=0,o=t.length;r<o;r++)n.push(this.get(t[r],e));return n},C.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},C.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=I();if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=this._getFast(t,this.getRawIndex(s));l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[t]=i,i},C.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},C.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},C.getCalculationInfo=function(t){return this._calculationInfo[t]},C.setCalculationInfo=function(t,e){d(t)?i.extend(this._calculationInfo,t):this._calculationInfo[t]=e},C.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},C.getMedian=function(t){var e=[];this.each(t,(function(t,n){isNaN(t)||e.push(t)}));var n=[].concat(e).sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},C.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},C.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},C.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},C.indicesOfNearest=function(t,e,n){var i=[];if(!this._storage[t])return i;null==n&&(n=1/0);for(var r=1/0,o=-1,a=0,s=0,l=this.count();s<l;s++){var c=e-this.get(t,s),h=Math.abs(c);h<=n&&((h<r||h===r&&c>=0&&o<0)&&(r=h,o=c,a=0),c===o&&(i[a++]=s))}return i.length=a,i},C.getRawIndex=M,C.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},C.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||O(this,this._nameDimIdx,e)||""},C.getId=function(t){return A(this,this.getRawIndex(t))},C.each=function(t,e,n,r){"use strict";if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this;for(var o=(t=i.map(T(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:e.call(n,a);break;case 1:e.call(n,this.get(t[0],a),a);break;case 2:e.call(n,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var s=0,l=[];s<o;s++)l[s]=this.get(t[s],a);l[s]=a,e.apply(n,l)}}},C.filterSelf=function(t,e,n,r){"use strict";if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=i.map(T(t),this.getDimension,this);for(var o=this.count(),a=new(v(this))(o),s=[],l=t.length,c=0,h=t[0],u=0;u<o;u++){var d,p=this.getRawIndex(u);if(0===l)d=e.call(n,u);else if(1===l){var f=this._getFast(h,p);d=e.call(n,f,u)}else{for(var g=0;g<l;g++)s[g]=this._getFast(h,p);s[g]=u,d=e.apply(n,s)}d&&(a[c++]=p)}return c<o&&(this._indices=a),this._count=c,this._extent={},this.getRawIndex=this._indices?k:M,this}},C.selectRange=function(t){"use strict";if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var i=e.length;if(i){var r=this.count(),o=new(v(this))(r),a=0,s=e[0],l=t[s][0],c=t[s][1],h=!1;if(!this._indices){var u=0;if(1===i){for(var d=this._storage[e[0]],p=0;p<this._chunkCount;p++)for(var f=d[p],g=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;m<g;m++){((C=f[m])>=l&&C<=c||isNaN(C))&&(o[a++]=u),u++}h=!0}else if(2===i){d=this._storage[s];var y=this._storage[e[1]],x=t[e[1]][0],b=t[e[1]][1];for(p=0;p<this._chunkCount;p++){f=d[p];var w=y[p];for(g=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;m<g;m++){var C=f[m],_=w[m];(C>=l&&C<=c||isNaN(C))&&(_>=x&&_<=b||isNaN(_))&&(o[a++]=u),u++}}h=!0}}if(!h)if(1===i)for(m=0;m<r;m++){var S=this.getRawIndex(m);((C=this._getFast(s,S))>=l&&C<=c||isNaN(C))&&(o[a++]=S)}else for(m=0;m<r;m++){var O=!0;for(S=this.getRawIndex(m),p=0;p<i;p++){var A=e[p];((C=this._getFast(n,S))<t[A][0]||C>t[A][1])&&(O=!1)}O&&(o[a++]=this.getRawIndex(m))}return a<r&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?k:M,this}}},C.mapArray=function(t,e,n,i){"use strict";"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var r=[];return this.each(t,(function(){r.push(e&&e.apply(this,arguments))}),n),r},C.map=function(t,e,n,r){"use strict";n=n||r||this;var o=D(this,t=i.map(T(t),this.getDimension,this));o._indices=this._indices,o.getRawIndex=o._indices?k:M;for(var a=o._storage,s=[],l=this._chunkSize,c=t.length,h=this.count(),u=[],d=o._rawExtent,p=0;p<h;p++){for(var f=0;f<c;f++)u[f]=this.get(t[f],p);u[c]=p;var g=e&&e.apply(n,u);if(null!=g){"object"!=typeof g&&(s[0]=g,g=s);for(var m=this.getRawIndex(p),v=Math.floor(m/l),y=m%l,x=0;x<g.length;x++){var b=t[x],w=g[x],C=d[b],_=a[b];_&&(_[v][y]=w),w<C[0]&&(C[0]=w),w>C[1]&&(C[1]=w)}}}return o},C.downSample=function(t,e,n,i){for(var r=D(this,[t]),o=r._storage,a=[],s=Math.floor(1/e),l=o[t],c=this.count(),h=this._chunkSize,u=r._rawExtent[t],d=new(v(this))(c),p=0,f=0;f<c;f+=s){s>c-f&&(s=c-f,a.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(f+g),y=Math.floor(m/h),x=m%h;a[g]=l[y][x]}var b=n(a),w=this.getRawIndex(Math.min(f+i(a,b)||0,c-1)),C=w%h;l[Math.floor(w/h)][C]=b,b<u[0]&&(u[0]=b),b>u[1]&&(u[1]=b),d[p++]=w}return r._count=p,r._indices=d,r.getRawIndex=k,r},C.getItemModel=function(t){var e=this.hostModel;return new r(this.getRawDataItem(t),e,e&&e.ecModel)},C.diff=function(t){var e=this;return new o(t?t.getIndices():[],this.getIndices(),(function(e){return A(t,e)}),(function(t){return A(e,t)}))},C.getVisual=function(t){var e=this._visual;return e&&e[t]},C.setVisual=function(t,e){if(d(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},C.setLayout=function(t,e){if(d(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},C.getLayout=function(t){return this._layout[t]},C.getItemLayout=function(t){return this._itemLayouts[t]},C.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?i.extend(this._itemLayouts[t]||{},e):e},C.clearItemLayouts=function(){this._itemLayouts.length=0},C.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],r=i&&i[e];return null!=r||n?r:this.getVisual(e)},C.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=i,d(e))for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o],r[o]=!0);else i[e]=n,r[e]=!0},C.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var E=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};C.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(E,e)),this._graphicEls[t]=e},C.getItemGraphicEl=function(t){return this._graphicEls[t]},C.eachItemGraphicEl=function(t,e){i.each(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},C.cloneShallow=function(t){if(!t){var e=i.map(this.dimensions,this.getDimensionInfo,this);t=new w(e,this.hostModel)}if(t._storage=this._storage,b(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?k:M,t},C.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(i.slice(arguments)))})},C.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],C.CHANGABLE_METHODS=["filterSelf","selectRange"];var j=w;t.exports=j},function(t,e,n){"use strict";(function(t){var i=n(164),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.a.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=s}).call(this,n(179)(t))},function(t,e,n){var i=n(3),r={};function o(){this._coordinateSystems=[]}o.prototype={constructor:o,create:function(t,e){var n=[];i.each(r,(function(i,r){var o=i.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},update:function(t,e){i.each(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},o.register=function(t,e){r[t]=e},o.get=function(t){return r[t]};var a=o;t.exports=a},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(437),o=n(129),a=n(128),s=n(8),l=n(130),c=l.prepareLayoutBarSeries,h=l.makeColumnLayout,u=l.retrieveColumnLayout,d=n(20);function p(t,e){var n,r,o,a=t.type,l=e.getMin(),d=e.getMax(),p=t.getExtent();"ordinal"===a?n=e.getCategories().length:(r=e.get("boundaryGap"),i.isArray(r)||(r=[r||0,r||0]),"boolean"==typeof r[0]&&(r=[0,0]),r[0]=s.parsePercent(r[0],1),r[1]=s.parsePercent(r[1],1),o=p[1]-p[0]||Math.abs(p[0])),"dataMin"===l?l=p[0]:"function"==typeof l&&(l=l({min:p[0],max:p[1]})),"dataMax"===d?d=p[1]:"function"==typeof d&&(d=d({min:p[0],max:p[1]}));var f=null!=l,g=null!=d;null==l&&(l="ordinal"===a?n?0:NaN:p[0]-r[0]*o),null==d&&(d="ordinal"===a?n?n-1:NaN:p[1]+r[1]*o),(null==l||!isFinite(l))&&(l=NaN),(null==d||!isFinite(d))&&(d=NaN),t.setBlank(i.eqNaN(l)||i.eqNaN(d)||"ordinal"===a&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(l>0&&d>0&&!f&&(l=0),l<0&&d<0&&!g&&(d=0));var m=e.ecModel;if(m&&"time"===a){var v,y=c("bar",m);if(i.each(y,(function(t){v|=t.getBaseAxis()===e.axis})),v){var x=h(y),b=function(t,e,n,r){var o=n.axis.getExtent(),a=o[1]-o[0],s=u(r,n.axis);if(void 0===s)return{min:t,max:e};var l=1/0;i.each(s,(function(t){l=Math.min(t.offset,l)}));var c=-1/0;i.each(s,(function(t){c=Math.max(t.offset+t.width,c)})),l=Math.abs(l),c=Math.abs(c);var h=l+c,d=e-t,p=d/(1-(l+c)/a)-d;return{min:t-=p*(l/h),max:e+=p*(c/h)}}(l,d,e,x);l=b.min,d=b.max}}return{extent:[l,d],fixMin:f,fixMax:g}}function f(t){var e,n=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof n?(e=n,n=function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}):"function"==typeof n?function(e,r){return null!=i&&(r=e-i),n(g(t,e),r)}:function(e){return t.scale.getLabel(e)}}function g(t,e){return"category"===t.type?t.scale.getLabel(e):e}function m(t){var e=t.get("interval");return null==e?"auto":e}n(438),n(271),e.getScaleExtent=p,e.niceScaleExtent=function(t,e){var n=p(t,e),i=n.extent,r=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var a=e.get("interval");null!=a&&t.setInterval&&t.setInterval(a)},e.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new r(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new o;default:return(a.getClass(e)||o).create(t)}},e.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)},e.makeLabelFormatter=f,e.getAxisRawValue=g,e.estimateLabelUnionRect=function(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var i,r,o="category"===t.type,a=n.getExtent();r=o?n.count():(i=n.getTicks()).length;var s,l,c,h,u,p,g,m,v,y=t.getLabelModel(),x=f(t),b=1;r>40&&(b=Math.ceil(r/40));for(var w=0;w<r;w+=b){var C=x(i?i[w]:a[0]+w),_=y.getTextRect(C),S=(l=_,c=y.get("rotate")||0,h=void 0,u=void 0,p=void 0,g=void 0,m=void 0,v=void 0,void 0,h=c*Math.PI/180,u=l.plain(),p=u.width,g=u.height,m=p*Math.abs(Math.cos(h))+Math.abs(g*Math.sin(h)),v=p*Math.abs(Math.sin(h))+Math.abs(g*Math.cos(h)),new d(u.x,u.y,m,v));s?s.union(S):s=S}return s}},e.getOptionCategoryInterval=m,e.shouldShowAllLabels=function(t){return"category"===t.type&&0===m(t.getLabelModel())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CROSSHAIR_Y=e.CROSSHAIR_X=e.NAME_CLASS=e.VALUE_CLASS=e.MARKER_CLASS=e.LIST_ITEM_CLASS=e.LIST_CLASS=e.TITLE_CLASS=e.CONTAINER_CLASS=void 0,e.CONTAINER_CLASS="g2-tooltip",e.TITLE_CLASS="g2-tooltip-title",e.LIST_CLASS="g2-tooltip-list",e.LIST_ITEM_CLASS="g2-tooltip-list-item",e.MARKER_CLASS="g2-tooltip-marker",e.VALUE_CLASS="g2-tooltip-value",e.NAME_CLASS="g2-tooltip-name",e.CROSSHAIR_X="g2-tooltip-crosshair-x",e.CROSSHAIR_Y="g2-tooltip-crosshair-y"},function(t,e,n){"use strict";(function(t){var i=n(19),r=n(332),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||r.a;e.a=l}).call(this,n(179)(t))},function(t,e,n){"use strict";function i(t){return Math.min.apply(null,t)}function r(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.piMod=e.getBBoxRange=e.getBBoxByArray=e.isNumberEqual=e.distance=void 0,e.distance=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var n=i(t),o=i(e);return{x:n,y:o,width:r(t)-n,height:r(e)-o}},e.getBBoxRange=function(t,e,n,o){return{minX:i([t,n]),maxX:r([t,n]),minY:i([e,o]),maxY:r([e,o])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}},function(t,e,n){var i=n(68);e.Dispatcher=i;var r=n(25),o=n(242),a=o.isCanvasEl,s=o.transformCoordWithViewport,l="undefined"!=typeof window&&!!window.addEventListener,c=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,h=[];function u(t,e,n,i){return n=n||{},i||!r.canvasSupported?d(t,e,n):r.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):d(t,e,n),n}function d(t,e,n){if(r.domSupported&&t.getBoundingClientRect){var i=e.clientX,o=e.clientY;if(a(t)){var l=t.getBoundingClientRect();return n.zrX=i-l.left,void(n.zrY=o-l.top)}if(s(h,t,i,o))return n.zrX=h[0],void(n.zrY=h[1])}n.zrX=n.zrY=0}function p(t){return t||window.event}var f=l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=u,e.getNativeEvent=p,e.normalizeEvent=function(t,e,n){if(null!=(e=p(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];r&&u(t,r,e,n)}else u(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&c.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e},e.addEventListener=function(t,e,n,i){l?t.addEventListener(e,n,i):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n,i){l?t.removeEventListener(e,n,i):t.detachEvent("on"+e,n)},e.stop=f,e.isMiddleOrRightButtonOnMouseUpDown=function(t){return 2===t.which||3===t.which},e.notLeftMouse=function(t){return t.which>1}},function(t,e,n){var i=n(245),r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return(t=Math.round(t))<0?0:t>255?255:t}function a(t){return t<0?0:t>1?1:t}function s(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100):a(parseFloat(t))}function c(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function h(t,e,n){return t+(e-t)*n}function u(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function d(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var p=new i(20),f=null;function g(t,e){f&&d(f,e),f=p.put(t,f||e.slice())}function m(t,e){if(t){e=e||[];var n=p.get(t);if(n)return d(e,n);var i,o=(t+="").replace(/ /g,"").toLowerCase();if(o in r)return d(e,r[o]),g(t,e),e;if("#"===o.charAt(0))return 4===o.length?(i=parseInt(o.substr(1),16))>=0&&i<=4095?(u(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),g(t,e),e):void u(e,0,0,0,1):7===o.length?(i=parseInt(o.substr(1),16))>=0&&i<=16777215?(u(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),g(t,e),e):void u(e,0,0,0,1):void 0;var a=o.indexOf("("),c=o.indexOf(")");if(-1!==a&&c+1===o.length){var h=o.substr(0,a),f=o.substr(a+1,c-(a+1)).split(","),m=1;switch(h){case"rgba":if(4!==f.length)return void u(e,0,0,0,1);m=l(f.pop());case"rgb":return 3!==f.length?void u(e,0,0,0,1):(u(e,s(f[0]),s(f[1]),s(f[2]),m),g(t,e),e);case"hsla":return 4!==f.length?void u(e,0,0,0,1):(f[3]=l(f[3]),v(f,e),g(t,e),e);case"hsl":return 3!==f.length?void u(e,0,0,0,1):(v(f,e),g(t,e),e);default:return}}u(e,0,0,0,1)}}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=l(t[1]),r=l(t[2]),a=r<=.5?r*(i+1):r+i-r*i,s=2*r-a;return u(e=e||[],o(255*c(s,a,n+1/3)),o(255*c(s,a,n)),o(255*c(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),s=Math.ceil(i),l=e[r],c=e[s],u=i-r;return n[0]=o(h(l[0],c[0],u)),n[1]=o(h(l[1],c[1],u)),n[2]=o(h(l[2],c[2],u)),n[3]=a(h(l[3],c[3],u)),n}}var x=y;function b(t,e,n){if(e&&e.length&&t>=0&&t<=1){var i=t*(e.length-1),r=Math.floor(i),s=Math.ceil(i),l=m(e[r]),c=m(e[s]),u=i-r,d=C([o(h(l[0],c[0],u)),o(h(l[1],c[1],u)),o(h(l[2],c[2],u)),a(h(l[3],c[3],u))],"rgba");return n?{color:d,leftIndex:r,rightIndex:s,value:i}:d}}var w=b;function C(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}e.parse=m,e.lift=function(t,e){var n=m(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:t[i]<0&&(n[i]=0);return C(n,4===n.length?"rgba":"rgb")}},e.toHex=function(t){var e=m(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=y,e.fastMapToColor=x,e.lerp=b,e.mapToColor=w,e.modifyHSL=function(t,e,n,i){if(t=m(t))return t=function(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,c=(s+a)/2;if(0===l)e=0,n=0;else{n=c<.5?l/(s+a):l/(2-s-a);var h=((s-i)/6+l/2)/l,u=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;i===s?e=d-u:r===s?e=1/3+h-d:o===s&&(e=2/3+u-h),e<0&&(e+=1),e>1&&(e-=1)}var p=[360*e,n,c];return null!=t[3]&&p.push(t[3]),p}}(t),null!=e&&(t[0]=(r=e,(r=Math.round(r))<0?0:r>360?360:r)),null!=n&&(t[1]=l(n)),null!=i&&(t[2]=l(i)),C(v(t),"rgba");var r},e.modifyAlpha=function(t,e){if((t=m(t))&&null!=e)return t[3]=a(e),C(t,"rgba")},e.stringify=C},function(t,e,n){var i=n(3).each,r=n(69),o=n(103),a=n(56),s=n(11),l=n(6),c=n(188).createTask,h=n(84),u=s.makeInner(),d=h();function p(){this.group=new r,this.uid=o.getUID("viewChart"),this.renderTask=c({plan:v,reset:y}),this.renderTask.context={view:this}}p.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,i){},highlight:function(t,e,n,i){m(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){m(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var f=p.prototype;function g(t,e,n){if(t&&(t.trigger(e,n),t.isGroup&&!l.isHighDownDispatcher(t)))for(var i=0,r=t.childCount();i<r;i++)g(t.childAt(i),e,n)}function m(t,e,n){var r=s.queryDataIndex(t,e),o=e&&null!=e.highlightKey?l.getHighlightDigit(e.highlightKey):null;null!=r?i(s.normalizeToArray(r),(function(e){g(t.getItemGraphicEl(e),n,o)})):t.eachItemGraphicEl((function(t){g(t,n,o)}))}function v(t){return d(t.model)}function y(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&u(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,n,i,r),x[l]}f.updateView=f.updateLayout=f.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},a.enableClassExtend(p,["dispose"]),a.enableClassManagement(p,{registerWhenExtend:!0}),p.markUpdateMethod=function(t,e){u(t).updateMethod=e};var x={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},b=p;t.exports=b},function(t,e,n){var i=n(3),r=i.each,o=i.isString;function a(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}e.enableDataStack=function(t,e,n){var i,a,s,l,c=(n=n||{}).byIndex,h=n.stackedCoordDimension,u=!(!t||!t.get("stack"));if(r(e,(function(t,n){o(t)&&(e[n]=t={name:t}),u&&!t.isExtraCoord&&(c||i||!t.ordinalMeta||(i=t),a||"ordinal"===t.type||"time"===t.type||h&&h!==t.coordDim||(a=t))})),!a||c||i||(c=!0),a){s="__\0ecstackresult",l="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var d=a.coordDim,p=a.type,f=0;r(e,(function(t){t.coordDim===d&&f++})),e.push({name:s,coordDim:d,coordDimIndex:f,type:p,isExtraCoord:!0,isCalculationCoord:!0}),f++,e.push({name:l,coordDim:l,coordDimIndex:f,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:a&&a.name,stackedByDimension:i&&i.name,isStackedByIndex:c,stackedOverDimension:l,stackResultDimension:s}},e.isDimensionStacked=a,e.getStackedDimension=function(t,e){return a(t,e)?t.getCalculationInfo("stackResultDimension"):e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(168);e.default=function(t){return i.default(t,"String")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),r=n(118);e.default=function(t,e){if(t)if(i.default(t))for(var n=0,o=t.length;n<o&&!1!==e(t[n],n);n++);else if(r.default(t))for(var a in t)if(t.hasOwnProperty(a)&&!1===e(t[a],a))break}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.doGroupAppearAnimate=e.doAnimate=e.getDefaultAnimateCfg=e.DEFAULT_ANIMATE_CFG=void 0;var i=n(2),r=n(0),o=n(38),a=n(387);e.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var s={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},l={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};e.getDefaultAnimateCfg=function(t,n,i){var o=s[t];return o&&(r.isFunction(o)&&(o=o(n)),o=r.deepMix({},e.DEFAULT_ANIMATE_CFG,o),i)?o[i]:o},e.doAnimate=function(t,e,n){var i=r.get(t.get("origin"),"data",o.FIELD_ORIGIN),s=e.animation,l=function(t,e){return{delay:r.isFunction(t.delay)?t.delay(e):t.delay,easing:r.isFunction(t.easing)?t.easing(e):t.easing,duration:r.isFunction(t.duration)?t.duration(e):t.duration,callback:t.callback}}(e,i);if(s){var c=a.getAnimation(s);c&&c(t,l,n)}else t.animate(n.toAttrs,l)},e.doGroupAppearAnimate=function(t,n,o,s,c){if(l[o]){var h=l[o](s),u=a.getAnimation(r.get(h,"animation",""));if(u){var d=i.__assign(i.__assign(i.__assign({},e.DEFAULT_ANIMATE_CFG.appear),h),n);t.stopAnimate(),u(t,d,{coordinate:s,minYPoint:c,toAttrs:null})}}}},function(t,e,n){n(12).__DEV__;var i=n(3),r="___EC__COMPONENT__CONTAINER___";function o(t){var e={main:"",sub:""};return t&&(t=t.split("."),e.main=t[0]||"",e.sub=t[1]||""),e}var a=0;function s(t,e){var n=i.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function l(t,e,n){return this.superClass.prototype[e].apply(t,n)}e.parseClassType=o,e.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return i.extend(n.prototype,t),n.extend=this.extend,n.superCall=s,n.superApply=l,i.inherits(n,this),n.superClass=e,n}},e.enableClassCheck=function(t){var e=["__\0is_clz",a++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},e.enableClassManagement=function(t,e){e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(function(t){i.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(e),(e=o(e)).sub){if(e.sub!==r){(function(t){var e=n[t.main];e&&e[r]||((e=n[t.main]={})[r]=!0);return e}(e))[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,i){var o=n[t];if(o&&o[r]&&(o=e?o[e]:null),i&&!o)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){t=o(t);var e=[],a=n[t.main];return a&&a[r]?i.each(a,(function(t,n){n!==r&&e.push(t)})):e.push(a),e},t.hasClass=function(t){return t=o(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return i.each(n,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){t=o(t);var e=n[t.main];return e&&e[r]},t.parseClassType=o,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var n=a.call(this,e);return t.registerClass(n,e.type)})}return t},e.setReadOnly=function(t,e){}},function(t,e,n){n(12).__DEV__;var i=n(11),r=i.makeInner,o=i.getDataItemValue,a=n(3),s=a.createHashMap,l=a.each,c=a.map,h=a.isArray,u=a.isString,d=a.isObject,p=a.isTypedArray,f=a.isArrayLike,g=a.extend,m=(a.assert,n(104)),v=n(105),y=v.SOURCE_FORMAT_ORIGINAL,x=v.SOURCE_FORMAT_ARRAY_ROWS,b=v.SOURCE_FORMAT_OBJECT_ROWS,w=v.SOURCE_FORMAT_KEYED_COLUMNS,C=v.SOURCE_FORMAT_UNKNOWN,_=v.SOURCE_FORMAT_TYPED_ARRAY,S=v.SERIES_LAYOUT_BY_ROW,O={Must:1,Might:2,Not:3},M=r();function k(t){if(t){var e=s();return c(t,(function(t,n){if(null==(t=g({},d(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=e.get(t.name);return i?t.name+="-"+i.count++:e.set(t.name,{count:1}),t}))}}function A(t,e,n,i){if(null==i&&(i=1/0),e===S)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else{var o=n[0]||[];for(r=0;r<o.length&&r<i;r++)t(o[r],r)}}function T(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function D(t,e,n,i,r,a){var s,l,c;if(p(t))return O.Not;if(i){var f=i[a];d(f)?(l=f.name,c=f.type):u(f)&&(l=f)}if(null!=c)return"ordinal"===c?O.Must:O.Not;if(e===x)if(n===S){for(var g=t[a],m=0;m<(g||[]).length&&m<5;m++)if(null!=(s=M(g[r+m])))return s}else for(m=0;m<t.length&&m<5;m++){var v=t[r+m];if(v&&null!=(s=M(v[a])))return s}else if(e===b){if(!l)return O.Not;for(m=0;m<t.length&&m<5;m++){if((C=t[m])&&null!=(s=M(C[l])))return s}}else if(e===w){if(!l)return O.Not;if(!(g=t[l])||p(g))return O.Not;for(m=0;m<g.length&&m<5;m++)if(null!=(s=M(g[m])))return s}else if(e===y)for(m=0;m<t.length&&m<5;m++){var C=t[m],_=o(C);if(!h(_))return O.Not;if(null!=(s=M(_[a])))return s}function M(t){var e=u(t);return null!=t&&isFinite(t)&&""!==t?e?O.Might:O.Not:e&&"-"!==t?O.Must:void 0}return O.Not}e.BE_ORDINAL=O,e.detectSourceFormat=function(t){var e=t.option.source,n=C;if(p(e))n=_;else if(h(e)){0===e.length&&(n=x);for(var i=0,r=e.length;i<r;i++){var o=e[i];if(null!=o){if(h(o)){n=x;break}if(d(o)){n=b;break}}}}else if(d(e)){for(var a in e)if(e.hasOwnProperty(a)&&f(e[a])){n=w;break}}else if(null!=e)throw new Error("Invalid data");M(t).sourceFormat=n},e.getSource=function(t){return M(t).source},e.resetSourceDefaulter=function(t){M(t).datasetMap=s()},e.prepareSource=function(t){var e=t.option,n=e.data,i=p(n)?_:y,r=!1,a=e.seriesLayoutBy,s=e.sourceHeader,c=e.dimensions,d=T(t);if(d){var f=d.option;n=f.source,i=M(d).sourceFormat,r=!0,a=a||f.seriesLayoutBy,null==s&&(s=f.sourceHeader),c=c||f.dimensions}var g=function(t,e,n,i,r){if(!t)return{dimensionsDefine:k(r)};var a,s;if(e===x)"auto"===i||null==i?A((function(t){null!=t&&"-"!==t&&(u(t)?null==s&&(s=1):s=0)}),n,t,10):s=i?1:0,r||1!==s||(r=[],A((function(t,e){r[e]=null!=t?t:""}),n,t)),a=r?r.length:n===S?t.length:t[0]?t[0].length:null;else if(e===b)r||(r=function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e){var i=[];return l(e,(function(t,e){i.push(e)})),i}}(t));else if(e===w)r||(r=[],l(t,(function(t,e){r.push(e)})));else if(e===y){var c=o(t[0]);a=h(c)&&c.length||1}return{startIndex:s,dimensionsDefine:k(r),dimensionsDetectCount:a}}(n,i,a,s,c);M(t).source=new m({data:n,fromDataset:r,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:g.dimensionsDefine,startIndex:g.startIndex,dimensionsDetectCount:g.dimensionsDetectCount,encodeDefine:e.encode})},e.makeSeriesEncodeForAxisCoordSys=function(t,e,n){var i={},r=T(e);if(!r||!t)return i;var o,a,s=[],c=[],h=e.ecModel,u=M(h).datasetMap,p=r.uid+"_"+n.seriesLayoutBy;t=t.slice(),l(t,(function(e,n){!d(e)&&(t[n]={name:e}),"ordinal"===e.type&&null==o&&(o=n,a=m(t[n])),i[e.name]=[]}));var f=u.get(p)||u.set(p,{categoryWayDim:a,valueWayDim:0});function g(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function m(t){var e=t.dimsDef;return e?e.length:1}return l(t,(function(t,e){var n=t.name,r=m(t);if(null==o){var a=f.valueWayDim;g(i[n],a,r),g(c,a,r),f.valueWayDim+=r}else if(o===e)g(i[n],0,r),g(s,0,r);else{a=f.categoryWayDim;g(i[n],a,r),g(c,a,r),f.categoryWayDim+=r}})),s.length&&(i.itemName=s),c.length&&(i.seriesName=c),i},e.makeSeriesEncodeForNameBased=function(t,e,n){var i={};if(!T(t))return i;var r,o=e.sourceFormat,a=e.dimensionsDefine;o!==b&&o!==w||l(a,(function(t,e){"name"===(d(t)?t.name:t)&&(r=e)}));var s=function(){for(var t={},i={},s=[],l=0,c=Math.min(5,n);l<c;l++){var h=D(e.data,o,e.seriesLayoutBy,a,e.startIndex,l);s.push(h);var u=h===O.Not;if(u&&null==t.v&&l!==r&&(t.v=l),(null==t.n||t.n===t.v||!u&&s[t.n]===O.Not)&&(t.n=l),d(t)&&s[t.n]!==O.Not)return t;u||(h===O.Might&&null==i.v&&l!==r&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}function d(t){return null!=t.v&&null!=t.n}return d(t)?t:d(i)?i:null}();if(s){i.value=s.v;var c=null!=r?r:s.n;i.itemName=[c],i.seriesName=[c]}return i},e.guessOrdinal=function(t,e){return D(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}},function(t,e,n){var i=n(3),r=n(42),o=n(85),a=n(105).SOURCE_FORMAT_ORIGINAL,s=n(106).getDimensionTypeByAxis,l=n(11).getDataItemValue,c=n(44),h=n(436).getCoordSysInfoBySeries,u=n(104),d=n(52).enableDataStack,p=n(57).makeSeriesEncodeForAxisCoordSys;var f=function(t,e,n){n=n||{},u.isInstance(t)||(t=u.seriesDataToSource(t));var f,g=e.get("coordinateSystem"),m=c.get(g),v=h(e);v&&(f=i.map(v.coordSysDims,(function(t){var e={name:t},n=v.axisMap.get(t);if(n){var i=n.get("type");e.type=s(i)}return e}))),f||(f=m&&(m.getDimensionsInfo?m.getDimensionsInfo():m.dimensions.slice())||["x","y"]);var y,x,b=o(t,{coordDimensions:f,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?i.curry(p,f,e):null});v&&i.each(b,(function(t,e){var n=t.coordDim,i=v.categoryAxisMap.get(n);i&&(null==y&&(y=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(x=!0)})),x||null==y||(b[y].otherDims.itemName=0);var w=d(e,b),C=new r(b,e);C.setCalculationInfo(w);var _=null!=y&&function(t){if(t.sourceFormat===a){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!i.isArray(l(e))}}(t)?function(t,e,n,i){return i===y?n:this.defaultDimValueGetter(t,e,n,i)}:null;return C.hasItemOption=!1,C.initData(t,null,_),C};t.exports=f},function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return h})),n.d(e,"Circle",(function(){return u})),n.d(e,"Ellipse",(function(){return p})),n.d(e,"Image",(function(){return g})),n.d(e,"Line",(function(){return b})),n.d(e,"Marker",(function(){return O})),n.d(e,"Path",(function(){return G})),n.d(e,"Polygon",(function(){return W})),n.d(e,"Polyline",(function(){return X})),n.d(e,"Rect",(function(){return U})),n.d(e,"Text",(function(){return K}));var i={};n.r(i),n.d(i,"Base",(function(){return h})),n.d(i,"Circle",(function(){return u})),n.d(i,"Ellipse",(function(){return p})),n.d(i,"Image",(function(){return g})),n.d(i,"Line",(function(){return b})),n.d(i,"Marker",(function(){return O})),n.d(i,"Path",(function(){return G})),n.d(i,"Polygon",(function(){return W})),n.d(i,"Polyline",(function(){return X})),n.d(i,"Rect",(function(){return U})),n.d(i,"Text",(function(){return K}));var r=n(1),o=n(16),a=n(10),s=n(27),l=n(160),c=n(93),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return c.a},e.prototype.onCanvasChange=function(t){Object(s.f)(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Object(l.getBBoxMethod)(t)(this),i=e/2,r=n.x-i,o=n.y-i,a=n.x+n.width+i,s=n.y+n.height+i;return{x:r,minX:r,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.getClip();if(e){var i=n?Object(s.d)([this,n]):this.getCanvasBBox();if(!Object(a.f)(e,i))return void this.set("hasChanged",!1)}t.save(),Object(s.a)(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Object(a.f)(t,n))}this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(Object(a.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=i)),this.isStroke()&&n>0&&(Object(a.i)(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),i=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,i,r)},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(o.AbstractShape),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),s=o.x,l=o.y,c=o.r,h=r/2,u=Object(a.b)(s,l,t,e);return i&&n?u<=c+h:i?u<=c:!!n&&(u>=c-h&&u<=c+h)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.r;t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.closePath()},e}(h);function d(t,e,n,i){return t/(n*n)+e/(i*i)}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),a=r/2,s=o.x,l=o.y,c=o.rx,h=o.ry,u=(t-s)*(t-s),p=(e-l)*(e-l);return i&&n?d(u,p,c+a,h+a)<=1:i?d(u,p,c,h)<=1:!!n&&(d(u,p,c-a,h-a)>=1&&d(u,p,c+a,h+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,i,r,o,0,0,2*Math.PI,!1);else{var a=r>o?r:o,s=r>o?1:r/o,l=r>o?o/r:1;t.save(),t.translate(n,i),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(h);function f(t){return t instanceof HTMLElement&&Object(a.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(Object(a.k)(t)){var i=new Image;i.onload=function(){if(e.destroyed)return!1;e.attr("img",i),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},i.src=t,i.crossOrigin="Anonymous",this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):f(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,i=e.y,r=e.width,o=e.height,s=e.sx,l=e.sy,c=e.swidth,h=e.sheight,u=e.img;(u instanceof Image||f(u))&&(Object(a.i)(s)||Object(a.i)(l)||Object(a.i)(c)||Object(a.i)(h)?t.drawImage(u,n,i,r,o):t.drawImage(u,s,l,c,h,n,i,r,o))},e}(h),m=n(35),v=n.n(m);function y(t,e,n,i,r,o,a){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,i),h=Math.max(e,i),u=r/2;return o>=s-u&&o<=l+u&&a>=c-u&&a<=h+u&&v.a.pointToLine(t,e,n,i,o,a)<=r/2}var x=n(36),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2,o=t.startArrow,a=t.endArrow;o&&x.b(this,t,i,r,e,n),a&&x.a(this,t,e,n,i,r)},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){if(!n||!r)return!1;var o=this.attr();return y(o.x1,o.y1,o.x2,o.y2,r,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(l=x.c(n,i,r,o,e.startArrow.d)),s&&s.d&&(c=x.c(n,i,r,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,i+l.dy),t.lineTo(r-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return v.a.length(e,n,i,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2;return v.a.pointAt(n,i,r,o,t)},e}(h),w=n(0),C=n(162),_=n.n(C),S={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["Z"]]},"triangle-down":function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Object(w.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,i=this.attr(),r=i.x,o=i.y,s=i.symbol||"circle",l=this._getR(i);return Object(a.h)(s)?(n=(t=s)(r,o,l),n=_()(n)):n=(t=e.Symbols[s])(r,o,l),t?n:(console.warn(s+" marker is not supported."),null)},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Object(s.c)(this,t,{path:e},n)},e.Symbols=S,e}(h),M=n(79),k=n.n(M),A=n(222),T=n.n(A),D=n(220);function P(t,e,n){var i=Object(D.getOffScreenContext)();return t.createPath(i),i.isPointInPath(e,n)}function I(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function E(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function j(t,e,n){var i=!1,r=t.length;if(r<=2)return!1;for(var o=0;o<r;o++){var a=t[o],s=t[(o+1)%r];if(E(a,s,[e,n]))return!0;I(a[1]-n)>0!=I(s[1]-n)>0&&I(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(i=!i)}return i}var L=n(221),B=n.n(L);function N(t,e,n,i,r,o,s,l){var c=(Math.atan2(l-e,s-t)+2*Math.PI)%(2*Math.PI);if(c<i||c>r)return!1;var h={x:t+n*Math.cos(c),y:e+n*Math.sin(c)};return Object(a.b)(h.x,h.y,s,l)<=o/2}var R=n(94),F=n(141);var z=Object(r.__assign)({hasArc:function(t){for(var e=!1,n=t.length,i=0;i<n;i++){var r=t[i][0];if("C"===r||"A"===r||"Q"===r){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],i=[],r=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(r.length&&(i.push(r),r=[]),r.push([a[1],a[2]])):"Z"===s?r.length&&(n.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&i.push(r),{polygons:n,polylines:i}},isPointInStroke:function(t,e,n,i){for(var r=!1,o=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,h=l.params,u=l.prePoint,d=l.box;if(!d||Object(a.e)(d.x-o,d.y-o,d.width+e,d.height+e,n,i)){switch(l.command){case"L":case"Z":r=y(u[0],u[1],c[0],c[1],e,n,i);break;case"Q":r=B.a.pointDistance(u[0],u[1],h[1],h[2],h[3],h[4],n,i)<=e/2;break;case"C":r=k.a.pointDistance(u[0],u[1],h[1],h[2],h[3],h[4],h[5],h[6],n,i)<=e/2;break;case"A":var p=l.arcParams,f=p.cx,g=p.cy,m=p.rx,v=p.ry,x=p.startAngle,b=p.endAngle,w=p.xRotation,C=[n,i,1],_=[1,0,0,0,1,0,0,0,1],S=m>v?m:v,O=m>v?1:m/v,M=m>v?v/m:1;R.translate(_,_,[-f,-g]),R.rotate(_,_,-w),R.scale(_,_,[1/O,1/M]),F.transformMat3(C,C,_),r=N(0,0,S,x,b,e,C[0],C[1])}if(r)break}}return r}},o.PathUtil);function V(t,e,n){for(var i=!1,r=0;r<t.length;r++){if(i=j(t[r],e,n))break}return i}var G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=_()(t);var e=z.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=T()(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var i=this.getStartTangent();x.b(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(n){i=this.getEndTangent();x.a(this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n&&(s=z.isPointInStroke(o,r,t,e)),!s&&i)if(a)s=P(this,t,e);else{var l=this.attr("path"),c=z.extractPolygons(l);s=V(c.polygons,t,e)||V(c.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(s.c)(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(w.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,i=this.get("tCache");i||(this._calculateCurve(),this._setTcache(),i=this.get("tCache"));var r=this.get("curve");if(!i||0===i.length)return r?{x:r[0][1],y:r[0][2]}:null;Object(w.each)(i,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)}));var o=r[n];if(Object(w.isNil)(o)||Object(w.isNil)(n))return null;var a=o.length,s=r[n+1];return k.a.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",z.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,i,r=0,o=0,a=[],s=this.get("curve");s&&(Object(w.each)(s,(function(t,e){n=s[e+1],i=t.length,n&&(r+=k.a.length(t[i-2],t[i-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",r),0!==r?(Object(w.each)(s,(function(l,c){n=s[c+1],i=l.length,n&&((t=[])[0]=o/r,e=k.a.length(l[i-2],l[i-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/r,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,i=e[1].currentPoint,r=e[1].startTangent;t=[],r?(t.push([n[0]-r[0],n[1]-r[1]]),t.push([n[0],n[1]])):(t.push([i[0],i[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var i=e[n-2].currentPoint,r=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([r[0]-o[0],r[1]-o[1]]),t.push([r[0],r[1]])):(t.push([i[0],i[1]]),t.push([r[0],r[1]]))}return t},e}(h);function H(t,e,n,i,r){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(y(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,i))return!0}if(r){var s=t[0],l=t[o-1];if(y(s[0],s[1],l[0],l[1],e,n,i))return!0}return!1}var W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr().points,a=!1;return n&&(a=H(o,r,t,e,!0)),!a&&i&&(a=j(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var i=e[n];0===n?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},e}(h),$=n(163),Y=n.n($),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,i=e.startArrow,r=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],l=n[o-1][0],c=n[o-1][1];i&&x.b(this,t,n[1][0],n[1][1],a,s),r&&x.a(this,t,n[o-2][0],n[o-2][1],l,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!(!n||!r)&&H(this.attr().points,r,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,i=e.startArrow,r=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],l=n[0][1],c=n[o-1][0],h=n[o-1][1];if(i&&i.d)s+=(a=x.c(s,l,n[1][0],n[1][1],i.d)).dx,l+=a.dy;if(r&&r.d)c-=(a=x.c(n[o-2][0],n[o-2][1],c,h,r.d)).dx,h-=a.dy;t.beginPath(),t.moveTo(s,l);for(var u=0;u<o-1;u++){var d=n[u];t.lineTo(d[0],d[1])}t.lineTo(c,h)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(w.isNil)(e)?(this.set("totalLength",Y.a.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,i=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),Object(w.each)(r,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)})),v.a.pointAt(i[n][0],i[n][1],i[n+1][0],i[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,i,r=0,o=[];Object(w.each)(t,(function(a,s){t[s+1]&&((n=[])[0]=r/e,i=v.a.length(a[0],a[1],t[s+1][0],t[s+1][1]),r+=i,n[1]=r/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(h),q=n(159);var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),s=o.x,l=o.y,c=o.width,h=o.height,u=o.radius;if(u){var d=!1;return n&&(d=function(t,e,n,i,r,o,a,s){return y(t+r,e,t+n-r,e,o,a,s)||y(t+n,e+r,t+n,e+i-r,o,a,s)||y(t+n-r,e+i,t+r,e+i,o,a,s)||y(t,e+i-r,t,e+r,o,a,s)||N(t+n-r,e+r,r,1.5*Math.PI,2*Math.PI,o,a,s)||N(t+n-r,e+i-r,r,0,.5*Math.PI,o,a,s)||N(t+r,e+i-r,r,.5*Math.PI,Math.PI,o,a,s)||N(t+r,e+r,r,Math.PI,1.5*Math.PI,o,a,s)}(s,l,c,h,u,r,t,e)),!d&&i&&(d=P(this,t,e)),d}var p=r/2;return i&&n?Object(a.e)(s-p,l-p,c+p,h+p,t,e):i?Object(a.e)(s,l,c,h,t,e):n?function(t,e,n,i,r,o,s){var l=r/2;return Object(a.e)(t-l,e-l,n,r,o,s)||Object(a.e)(t+n-l,e-l,r,i,o,s)||Object(a.e)(t+l,e+i-l,n,r,o,s)||Object(a.e)(t-l,e+l,r,i,o,s)}(s,l,c,h,r,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,i,r,o);else{var s=Object(q.a)(a),l=s[0],c=s[1],h=s[2],u=s[3];t.moveTo(n+l,i),t.lineTo(n+r-c,i),0!==c&&t.arc(n+r-c,i+c,c,-Math.PI/2,0),t.lineTo(n+r,i+o-h),0!==h&&t.arc(n+r-h,i+o-h,h,0,Math.PI/2),t.lineTo(n+u,i+o),0!==u&&t.arc(n+u,i+o-u,u,Math.PI/2,Math.PI),t.lineTo(n,i+l),0!==l&&t.arc(n+l,i+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(h),Z=n(161),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r.__assign)(Object(r.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(Z.assembleFont)(t)},e.prototype._setText=function(t){var e=null;Object(a.k)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var i,r=this.attrs,o=r.textBaseline,s=r.x,l=r.y,c=1*r.fontSize,h=this._getSpaceingY(),u=Object(Z.getTextHeight)(r.text,r.fontSize,r.lineHeight);Object(a.c)(e,(function(e,r){i=l+r*(h+c)-u+c,"middle"===o&&(i+=u-c-(u-c)/2),"top"===o&&(i+=u-c),n?t.fillText(e,s,i):t.strokeText(e,s,i)}))},e.prototype._drawText=function(t,e){var n=this.attr(),i=n.x,r=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;e?t.fillText(a,i,r):t.strokeText(a,i,r)}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(Object(a.i)(r)||1===r||(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(Object(a.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=i)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(h)},function(t,e,n){var i=n(18),r=i.create,o=i.distSquare,a=Math.pow,s=Math.sqrt,l=s(3),c=r(),h=r(),u=r();function d(t){return t>-1e-8&&t<1e-8}function p(t){return t>1e-8||t<-1e-8}function f(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function g(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}e.cubicAt=f,e.cubicDerivativeAt=function(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)},e.cubicRootAt=function(t,e,n,i,r,o){var c=i+3*(e-n)-t,h=3*(n-2*e+t),u=3*(e-t),p=t-r,f=h*h-3*c*u,g=h*u-9*c*p,m=u*u-3*h*p,v=0;if(d(f)&&d(g)){if(d(h))o[0]=0;else(A=-u/h)>=0&&A<=1&&(o[v++]=A)}else{var y=g*g-4*f*m;if(d(y)){var x=g/f,b=-x/2;(A=-h/c+x)>=0&&A<=1&&(o[v++]=A),b>=0&&b<=1&&(o[v++]=b)}else if(y>0){var w=s(y),C=f*h+1.5*c*(-g+w),_=f*h+1.5*c*(-g-w);(A=(-h-((C=C<0?-a(-C,1/3):a(C,1/3))+(_=_<0?-a(-_,1/3):a(_,1/3))))/(3*c))>=0&&A<=1&&(o[v++]=A)}else{var S=(2*f*h-3*c*g)/(2*s(f*f*f)),O=Math.acos(S)/3,M=s(f),k=Math.cos(O),A=(-h-2*M*k)/(3*c),T=(b=(-h+M*(k+l*Math.sin(O)))/(3*c),(-h+M*(k-l*Math.sin(O)))/(3*c));A>=0&&A<=1&&(o[v++]=A),b>=0&&b<=1&&(o[v++]=b),T>=0&&T<=1&&(o[v++]=T)}}return v},e.cubicExtrema=function(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,l=3*e-3*t,c=0;if(d(a)){if(p(o))(u=-l/o)>=0&&u<=1&&(r[c++]=u)}else{var h=o*o-4*a*l;if(d(h))r[0]=-o/(2*a);else if(h>0){var u,f=s(h),g=(-o-f)/(2*a);(u=(-o+f)/(2*a))>=0&&u<=1&&(r[c++]=u),g>=0&&g<=1&&(r[c++]=g)}}return c},e.cubicSubdivide=function(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,c=(s-a)*r+a,h=(l-s)*r+s,u=(h-c)*r+c;o[0]=t,o[1]=a,o[2]=c,o[3]=u,o[4]=u,o[5]=h,o[6]=l,o[7]=i},e.cubicProjectPoint=function(t,e,n,i,r,a,l,d,p,g,m){var v,y,x,b,w,C=.005,_=1/0;c[0]=p,c[1]=g;for(var S=0;S<1;S+=.05)h[0]=f(t,n,r,l,S),h[1]=f(e,i,a,d,S),(b=o(c,h))<_&&(v=S,_=b);_=1/0;for(var O=0;O<32&&!(C<1e-4);O++)y=v-C,x=v+C,h[0]=f(t,n,r,l,y),h[1]=f(e,i,a,d,y),b=o(h,c),y>=0&&b<_?(v=y,_=b):(u[0]=f(t,n,r,l,x),u[1]=f(e,i,a,d,x),w=o(u,c),x<=1&&w<_?(v=x,_=w):C*=.5);return m&&(m[0]=f(t,n,r,l,v),m[1]=f(e,i,a,d,v)),s(_)},e.quadraticAt=g,e.quadraticDerivativeAt=function(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))},e.quadraticRootAt=function(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),l=t-i,c=0;if(d(o)){if(p(a))(u=-l/a)>=0&&u<=1&&(r[c++]=u)}else{var h=a*a-4*o*l;if(d(h))(u=-a/(2*o))>=0&&u<=1&&(r[c++]=u);else if(h>0){var u,f=s(h),g=(-a-f)/(2*o);(u=(-a+f)/(2*o))>=0&&u<=1&&(r[c++]=u),g>=0&&g<=1&&(r[c++]=g)}}return c},e.quadraticExtremum=function(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i},e.quadraticSubdivide=function(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n},e.quadraticProjectPoint=function(t,e,n,i,r,a,l,d,p){var f,m=.005,v=1/0;c[0]=l,c[1]=d;for(var y=0;y<1;y+=.05){h[0]=g(t,n,r,y),h[1]=g(e,i,a,y),(C=o(c,h))<v&&(f=y,v=C)}v=1/0;for(var x=0;x<32&&!(m<1e-4);x++){var b=f-m,w=f+m;h[0]=g(t,n,r,b),h[1]=g(e,i,a,b);var C=o(h,c);if(b>=0&&C<v)f=b,v=C;else{u[0]=g(t,n,r,w),u[1]=g(e,i,a,w);var _=o(u,c);w<=1&&_<v?(f=w,v=_):m*=.5}}return p&&(p[0]=g(t,n,r,f),p[1]=g(e,i,a,f)),s(v)}},function(t,e){var n="\0__throttleOriginMethod",i="\0__throttleRate";function r(t,e,n){var i,r,o,a,s,l=0,c=0,h=null;function u(){c=(new Date).getTime(),h=null,t.apply(o,a||[])}e=e||0;var d=function(){i=(new Date).getTime(),o=this,a=arguments;var t=s||e,d=s||n;s=null,r=i-(d?l:c)-t,clearTimeout(h),d?h=setTimeout(u,t):r>=0?u():h=setTimeout(u,-r),l=i};return d.clear=function(){h&&(clearTimeout(h),h=null)},d.debounceNextCall=function(t){s=t},d}e.throttle=r,e.createOrUpdate=function(t,e,o,a){var s=t[e];if(s){var l=s[n]||s,c=s["\0__throttleType"];if(s[i]!==o||c!==a){if(null==o||!a)return t[e]=l;(s=t[e]=r(l,o,"debounce"===a))[n]=l,s["\0__throttleType"]=a,s[i]=o}return s}},e.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])}},function(t,e){t.exports={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}}},function(t,e,n){var i=n(3),r=i.each,o=i.map,a=n(8),s=a.linearMap,l=a.getPixelPrecision,c=a.round,h=n(439),u=h.createAxisTicks,d=h.createAxisLabels,p=h.calculateCategoryInterval,f=[0,1],g=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};function m(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}g.prototype={constructor:g,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return l(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&m(n=n.slice(),i.count()),s(t,f,n,e)},coordToData:function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&m(n=n.slice(),i.count());var r=s(t,n,f,e);return this.scale.scale(r)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=u(this,e).ticks,i=o(n,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this);return function(t,e,n,i){var o=e.length;if(!t.onBand||n||!o)return;var a,s,l=t.getExtent();if(1===o)e[0].coord=l[0],a=e[1]={coord:l[0]};else{var h=e[o-1].tickValue-e[0].tickValue,u=(e[o-1].coord-e[0].coord)/h;r(e,(function(t){t.coord-=u/2}));var d=t.scale.getExtent();s=1+d[1]-e[o-1].tickValue,a={coord:e[o-1].coord+u*s},e.push(a)}var p=l[0]>l[1];f(e[0].coord,l[0])&&(i?e[0].coord=l[0]:e.shift());i&&f(l[0],e[0].coord)&&e.unshift({coord:l[0]});f(l[1],a.coord)&&(i?a.coord=l[1]:e.pop());i&&f(a.coord,l[1])&&e.push({coord:l[1]});function f(t,e){return t=c(t),e=c(e),p?t>e:t<e}}(this,i,e.get("alignWithLabel"),t.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return o(e,(function(t){return o(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},getViewLabels:function(){return d(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return p(this)}};var v=g;t.exports=v},function(t,e,n){var i=n(3),r=i.retrieve,o=i.defaults,a=i.extend,s=i.each,l=n(15),c=n(6),h=n(26),u=n(8),d=u.isRadianAroundZero,p=u.remRadian,f=n(40).createSymbol,g=n(37),m=n(18).applyTransform,v=n(45).shouldShowAllLabels,y=Math.PI,x=function(t,e){this.opt=e,this.axisModel=t,o(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new c.Group;var n=new c.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};x.prototype={constructor:x,hasBuilder:function(t){return!!b[t]},add:function(t){b[t].call(this)},getGroup:function(){return this.group}};var b={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(m(r,r,i),m(o,o,i));var l=a({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new c.Line({anid:"line",subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:l,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var h=e.get("axisLine.symbol"),u=e.get("axisLine.symbolSize"),d=e.get("axisLine.symbolOffset")||0;if("number"==typeof d&&(d=[d,d]),null!=h){"string"==typeof h&&(h=[h,h]),"string"!=typeof u&&"number"!=typeof u||(u=[u,u]);var p=u[0],g=u[1];s([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((r[0]-o[0])*(r[0]-o[0])+(r[1]-o[1])*(r[1]-o[1]))}],(function(e,n){if("none"!==h[n]&&null!=h[n]){var i=f(h[n],-p/2,-g/2,p,g,l.stroke,!0),o=e.r+e.offset,a=[r[0]+o*Math.cos(t.rotation),r[1]-o*Math.sin(t.rotation)];i.attr({rotation:e.rotate,position:a,silent:!0,z2:11}),this.group.add(i)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var i=e.axis,r=e.getModel("axisTick");if(!r.get("show")||i.scale.isBlank())return;for(var a=r.getModel("lineStyle"),s=n.tickDirection*r.get("length"),l=k(i.getTicksCoords(),t._transform,s,o(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),c=0;c<l.length;c++)t.group.add(l[c]);return l}(this,t,e),i=function(t,e,n){var i=e.axis;if(!r(n.axisLabelShow,e.get("axisLabel.show"))||i.scale.isBlank())return;var o=e.getModel("axisLabel"),a=o.get("margin"),l=i.getViewLabels(),u=(r(n.labelRotate,o.get("rotate"))||0)*y/180,d=C(n.rotation,u,n.labelDirection),p=e.getCategories&&e.getCategories(!0),f=[],g=_(e),m=e.get("triggerEvent");return s(l,(function(r,s){var l=r.tickValue,u=r.formattedLabel,v=r.rawLabel,y=o;p&&p[l]&&p[l].textStyle&&(y=new h(p[l].textStyle,o,e.ecModel));var x=y.getTextColor()||e.get("axisLine.lineStyle.color"),b=[i.dataToCoord(l),n.labelOffset+n.labelDirection*a],C=new c.Text({anid:"label_"+l,position:b,rotation:d.rotation,silent:g,z2:10});c.setTextStyle(C.style,y,{text:u,textAlign:y.getShallow("align",!0)||d.textAlign,textVerticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||d.textVerticalAlign,textFill:"function"==typeof x?x("category"===i.type?v:"value"===i.type?l+"":l,s):x}),m&&(C.eventData=w(e),C.eventData.targetType="axisLabel",C.eventData.value=v),t._dumbGroup.add(C),C.updateTransform(),f.push(C),t.group.add(C),C.decomposeTransform()})),f}(this,t,e);!function(t,e,n){if(v(t.axis))return;var i=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");n=n||[];var o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=n[0],h=n[1],u=n[n.length-1],d=n[n.length-2];!1===i?(S(o),S(c)):O(o,a)&&(i?(S(a),S(h)):(S(o),S(c)));!1===r?(S(s),S(u)):O(l,s)&&(r?(S(l),S(d)):(S(s),S(u)))}(t,i,n),function(t,e,n){var i=e.axis,r=e.getModel("minorTick");if(!r.get("show")||i.scale.isBlank())return;var a=i.getMinorTicksCoords();if(!a.length)return;for(var s=r.getModel("lineStyle"),l=n.tickDirection*r.get("length"),c=o(s.getLineStyle(),o(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),h=0;h<a.length;h++)for(var u=k(a[h],t._transform,l,c,"minorticks_"+h),d=0;d<u.length;d++)t.group.add(u[d])}(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,n=r(t.axisName,e.get("name"));if(n){var i,o,s=e.get("nameLocation"),h=t.nameDirection,u=e.getModel("nameTextStyle"),f=e.get("nameGap")||0,g=this.axisModel.axis.getExtent(),m=g[0]>g[1]?-1:1,v=["start"===s?g[0]-m*f:"end"===s?g[1]+m*f:(g[0]+g[1])/2,M(s)?t.labelOffset+h*f:0],x=e.get("nameRotate");null!=x&&(x=x*y/180),M(s)?i=C(t.rotation,null!=x?x:t.rotation,h):(i=function(t,e,n,i){var r,o,a=p(n-t.rotation),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;d(a-y/2)?(o=l?"bottom":"top",r="center"):d(a-1.5*y)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*y&&a>y/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:r,textVerticalAlign:o}}(t,s,x||0,g),null!=(o=t.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(i.rotation)),!isFinite(o)&&(o=null)));var b=u.getFont(),S=e.get("nameTruncate",!0)||{},O=S.ellipsis,k=r(t.nameTruncateMaxWidth,S.maxWidth,o),A=null!=O&&null!=k?l.truncateText(n,k,b,O,{minChar:2,placeholder:S.placeholder}):n,T=e.get("tooltip",!0),D=e.mainType,P={componentType:D,name:n,$vars:["name"]};P[D+"Index"]=e.componentIndex;var I=new c.Text({anid:"name",__fullText:n,__truncatedText:A,position:v,rotation:i.rotation,silent:_(e),z2:1,tooltip:T&&T.show?a({content:n,formatter:function(){return n},formatterParams:P},T):null});c.setTextStyle(I.style,u,{text:A,textFont:b,textFill:u.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:u.get("align")||i.textAlign,textVerticalAlign:u.get("verticalAlign")||i.textVerticalAlign}),e.get("triggerEvent")&&(I.eventData=w(e),I.eventData.targetType="axisName",I.eventData.name=n),this._dumbGroup.add(I),I.updateTransform(),this.group.add(I),I.decomposeTransform()}}},w=x.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},C=x.innerTextLayout=function(t,e,n){var i,r,o=p(e-t);return d(o)?(r=n>0?"top":"bottom",i="center"):d(o-y)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<y?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}};var _=x.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function S(t){t&&(t.ignore=!0)}function O(t,e,n){var i=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(i&&r){var o=g.identity([]);return g.rotate(o,o,-t.rotation),i.applyTransform(g.mul([],o,t.getLocalTransform())),r.applyTransform(g.mul([],o,e.getLocalTransform())),i.intersect(r)}}function M(t){return"middle"===t||"center"===t}function k(t,e,n,i,r){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var h=t[l].coord;a[0]=h,a[1]=0,s[0]=h,s[1]=n,e&&(m(a,a,e),m(s,s,e));var u=new c.Line({anid:r+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,silent:!0});o.push(u)}return o}var A=x;t.exports=A},function(t,e){var n={};e.register=function(t,e){n[t]=e},e.get=function(t){return n[t]}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null==t}},function(t,e){var n=Array.prototype.slice,i=function(t){this._$handlers={},this._$eventProcessor=t};function r(t,e,n,i,r,o){var a=t._$handlers;if("function"==typeof n&&(r=i,i=n,n=null),!i||!e)return t;n=function(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}(t,n),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===i)return t;var l={h:i,one:o,query:n,ctx:r||t,callAtLast:i.zrEventfulCallAtLast},c=a[e].length-1,h=a[e][c];return h&&h.callAtLast?a[e].splice(c,0,l):a[e].push(l),t}i.prototype={constructor:i,one:function(t,e,n,i){return r(this,t,e,n,i,!0)},on:function(t,e,n,i){return r(this,t,e,n,i,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var r=arguments,o=r.length;o>3&&(r=n.call(r,1));for(var a=e.length,s=0;s<a;){var l=e[s];if(i&&i.filter&&null!=l.query&&!i.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,r[1]);break;case 3:l.h.call(l.ctx,r[1],r[2]);break;default:l.h.apply(l.ctx,r)}l.one?(e.splice(s,1),a--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var r=arguments,o=r.length;o>4&&(r=n.call(r,1,r.length-1));for(var a=r[r.length-1],s=e.length,l=0;l<s;){var c=e[l];if(i&&i.filter&&null!=c.query&&!i.filter(t,c.query))l++;else{switch(o){case 1:c.h.call(a);break;case 2:c.h.call(a,r[1]);break;case 3:c.h.call(a,r[1],r[2]);break;default:c.h.apply(a,r)}c.one?(e.splice(l,1),s--):l++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var o=i;t.exports=o},function(t,e,n){var i=n(3),r=n(243),o=n(20),a=function(t){for(var e in t=t||{},r.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof a&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,o=i.indexOf(r,t);return o<0||(r.splice(o,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){var t,e,n=this._children,i=this.__storage;for(e=0;e<n.length;e++)t=n[e],i&&(i.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(i)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof a&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof a&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new o(0,0,0,0),i=t||this._children,r=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(n.copy(l),n.applyTransform(c),(e=e||n.clone()).union(n)):(e=e||l.clone()).union(l)}}return e||n}},i.inherits(a,r);var s=a;t.exports=s},function(t,e,n){var i=n(101),r=n(3),o=n(39),a=n(125),s=n(124).ContextCachedBy,l=function(t){i.call(this,t)};l.prototype={constructor:l,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&a.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),a.needDrawText(i,n)?(this.setTransform(t),a.renderText(this,t,i,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=s.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&a.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=o.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,a.getStroke(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},r.inherits(l,i);var c=l;t.exports=c},function(t,e,n){n(12).__DEV__;var i=n(3),r=(i.isTypedArray,i.extend),o=(i.assert,i.each),a=i.isObject,s=n(11),l=s.getDataItemValue,c=s.isDataItemOption,h=n(8).parseDate,u=n(104),d=n(105),p=d.SOURCE_FORMAT_TYPED_ARRAY,f=d.SOURCE_FORMAT_ARRAY_ROWS,g=d.SOURCE_FORMAT_ORIGINAL,m=d.SOURCE_FORMAT_OBJECT_ROWS;function v(t,e){u.isInstance(t)||(t=u.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===p&&(this._offset=0,this._dimSize=e,this._data=n);var o=x[i===f?i+"_"+t.seriesLayoutBy:i];r(this,o)}var y=v.prototype;y.pure=!1,y.persistent=!0,y.getSource=function(){return this._source};var x={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:C},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var r=n[i];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:b,getItem:w,appendData:C},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];e.push(r?r[t]:null)}return e},appendData:function(t){var e=this._data;o(t,(function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])}))}},original:{count:b,getItem:w,appendData:C},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function b(){return this._data.length}function w(t){return this._data[t]}function C(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var _={arrayRows:S,objectRows:function(t,e,n,i){return null!=n?t[i]:t},keyedColumns:S,original:function(t,e,n,i){var r=l(t);return null!=n&&r instanceof Array?r[n]:r},typedArray:S};function S(t,e,n,i){return null!=n?t[n]:t}var O={arrayRows:M,objectRows:function(t,e,n,i){return k(t[e],this._dimensionInfos[e])},keyedColumns:M,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return!this._rawData.pure&&c(t)&&(this.hasItemOption=!0),k(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}};function M(t,e,n,i){return k(t[i],this._dimensionInfos[e])}function k(t,e){var n=e&&e.type;if("ordinal"===n){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+h(t)),null==t||""===t?NaN:+t}e.DefaultDataProvider=v,e.defaultDimValueGetters=O,e.retrieveRawValue=function(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(r=s.name,o=s.index),_[a](i,e,o,r)}}},e.retrieveRawAttr=function(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===g||i===m){var r=t.getRawDataItem(e);return i!==g||a(r)||(r=null),r?r[n]:void 0}}}},function(t,e){function n(t){return t}function i(t,e,i,r,o){this._old=t,this._new=e,this._oldKeyGetter=i||n,this._newKeyGetter=r||n,this.context=o}function r(t,e,n,i,r){for(var o=0;o<t.length;o++){var a="_ec_"+r[i](t[o],o),s=e[a];null==s?(n.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}i.prototype={constructor:i,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},i=[],o=[];for(r(t,{},i,"_oldKeyGetter",this),r(e,n,o,"_newKeyGetter",this),a=0;a<t.length;a++){if(null!=(l=n[s=i[a]]))(h=l.length)?(1===h&&(n[s]=null),l=l.shift()):n[s]=null,this._update&&this._update(l,a);else this._remove&&this._remove(a)}for(var a=0;a<o.length;a++){var s=o[a];if(n.hasOwnProperty(s)){var l;if(null==(l=n[s]))continue;if(l.length)for(var c=0,h=l.length;c<h;c++)this._add&&this._add(l[c]);else this._add&&this._add(l)}}}};var o=i;t.exports=o},function(t,e,n){var i=n(3).isFunction;t.exports=function(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,r,o){var a=t.getData(),s=t.get("symbol"),l=t.get("symbolSize"),c=t.get("symbolKeepAspect"),h=t.get("symbolRotate"),u=i(s),d=i(l),p=i(h),f=u||d||p,g=!u&&s?s:e,m=d?null:l;if(a.setVisual({legendSymbol:n||g,symbol:g,symbolSize:m,symbolKeepAspect:c,symbolRotate:h}),!r.isSeriesFiltered(t))return{dataEach:a.hasItemOption||f?function(e,n){if(f){var i=t.getRawValue(n),r=t.getDataParams(n);u&&e.setItemVisual(n,"symbol",s(i,r)),d&&e.setItemVisual(n,"symbolSize",l(i,r)),p&&e.setItemVisual(n,"symbolRotate",h(i,r))}if(e.hasItemOption){var o=e.getItemModel(n),a=o.getShallow("symbol",!0),c=o.getShallow("symbolSize",!0),g=o.getShallow("symbolRotate",!0),m=o.getShallow("symbolKeepAspect",!0);null!=a&&e.setItemVisual(n,"symbol",a),null!=c&&e.setItemVisual(n,"symbolSize",c),null!=g&&e.setItemVisual(n,"symbolRotate",g),null!=m&&e.setItemVisual(n,"symbolKeepAspect",m)}}:null}}}}},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(133),o=i.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,i){this.axisPointerClass&&r.fixValue(t),o.superApply(this,"render",arguments),a(this,t,e,n,i,!0)},updateAxisPointer:function(t,e,n,i,r){a(this,t,e,n,i,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),o.superApply(this,"remove",arguments)},dispose:function(t,e){s(this,e),o.superApply(this,"dispose",arguments)}});function a(t,e,n,i,a,l){var c=o.getAxisPointerClass(t.axisPointerClass);if(c){var h=r.getAxisPointerModel(e);h?(t._axisPointer||(t._axisPointer=new c)).render(e,h,i,l):s(t,i)}}function s(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}var l=[];o.registerAxisPointerClass=function(t,e){l[t]=e},o.getAxisPointerClass=function(t){return t&&l[t]};var c=o;t.exports=c},function(t,e,n){var i=n(3);function r(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}e.retrieveTargetInfo=function(t,e,n){if(t&&i.indexOf(e,t.type)>=0){var r=n.getData().tree.root,o=t.targetNode;if("string"==typeof o&&(o=r.getNodeById(o)),o&&r.contains(o))return{node:o};var a=t.targetNodeId;if(null!=a&&(o=r.getNodeById(a)))return{node:o}}},e.getPathToRoot=r,e.aboveViewRoot=function(t,e){var n=r(t);return i.indexOf(n,e)>=0},e.wrapTreePathInfo=function(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}},function(t,e,n){var i=n(3),r=n(50),o=n(8).linearMap,a=i.each,s=i.isObject,l=function(t){var e=t.mappingMethod,n=t.type,r=this.option=i.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=x[e];var o=c[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[e],"piecewise"===e?(h(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,i.each(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):"category"===e?r.categories?function(t){var e=t.categories,n=t.visual,r=t.categoryMap={};if(a(e,(function(t,e){r[t]=e})),!i.isArray(n)){var o=[];i.isObject(n)?a(n,(function(t,e){var n=r[e];o[null!=n?n:-1]=t})):o[-1]=n,n=y(t,o)}for(var s=e.length-1;s>=0;s--)null==n[s]&&(delete r[e[s]],e.pop())}(r):h(r,!0):(i.assert("linear"!==e||r.dataExtent),h(r))};l.prototype={constructor:l,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return i.bind(this._normalizeData,this)}};var c=l.visualHandlers={color:{applyVisual:p("color"),getColorMapper:function(){var t=this.option;return i.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),f.call(this,t)}:function(e,n,i){var o=!!i;return!n&&(e=this._normalizeData(e)),i=r.fastLerp(e,t.parsedVisual,i),o?i:r.stringify(i,"rgba")},this)},_doMap:{linear:function(t){return r.stringify(r.fastLerp(t,this.option.parsedVisual),"rgba")},category:f,piecewise:function(t,e){var n=v.call(this,e);return null==n&&(n=r.stringify(r.fastLerp(t,this.option.parsedVisual),"rgba")),n},fixed:g}},colorHue:u((function(t,e){return r.modifyHSL(t,e)})),colorSaturation:u((function(t,e){return r.modifyHSL(t,null,e)})),colorLightness:u((function(t,e){return r.modifyHSL(t,null,null,e)})),colorAlpha:u((function(t,e){return r.modifyAlpha(t,e)})),opacity:{applyVisual:p("opacity"),_doMap:m([0,1])},liftZ:{applyVisual:p("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(t,e,n){var r=this.mapValueToVisual(t);if(i.isString(r))n("symbol",r);else if(s(r))for(var o in r)r.hasOwnProperty(o)&&n(o,r[o])},_doMap:{linear:d,category:f,piecewise:function(t,e){var n=v.call(this,e);return null==n&&(n=d.call(this,t)),n},fixed:g}},symbolSize:{applyVisual:p("symbolSize"),_doMap:m([0,1])}};function h(t,e){var n=t.visual,r=[];i.isObject(n)?a(n,(function(t){r.push(t)})):null!=n&&r.push(n);e||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),y(t,r)}function u(t){return{applyVisual:function(e,n,i){e=this.mapValueToVisual(e),i("color",t(n("color"),e))},_doMap:m([0,1])}}function d(t){var e=this.option.visual;return e[Math.round(o(t,[0,1],[0,e.length-1],!0))]||{}}function p(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function f(t){var e=this.option.visual;return e[this.option.loop&&-1!==t?t%e.length:t]}function g(){return this.option.visual[0]}function m(t){return{linear:function(e){return o(e,t,this.option.visual,!0)},category:f,piecewise:function(e,n){var i=v.call(this,n);return null==i&&(i=o(e,t,this.option.visual,!0)),i},fixed:g}}function v(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[l.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function y(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=i.map(e,(function(t){return r.parse(t)}))),e}var x={linear:function(t){return o(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=l.findPieceIndex(t,e,!0);if(null!=n)return o(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?-1:e},fixed:i.noop};function b(t,e,n){return t?e<=n:e<n}l.listVisualTypes=function(){var t=[];return i.each(c,(function(e,n){t.push(n)})),t},l.addVisualHandler=function(t,e){c[t]=e},l.isValidType=function(t){return c.hasOwnProperty(t)},l.eachVisual=function(t,e,n){i.isObject(t)?i.each(t,e,n):e.call(n,t)},l.mapVisual=function(t,e,n){var r,o=i.isArray(t)?[]:i.isObject(t)?{}:(r=!0,null);return l.eachVisual(t,(function(t,i){var a=e.call(n,t,i);r?o=a:o[i]=a})),o},l.retrieveVisuals=function(t){var e,n={};return t&&a(c,(function(i,r){t.hasOwnProperty(r)&&(n[r]=t[r],e=!0)})),e?n:null},l.prepareVisualTypes=function(t){if(s(t)){var e=[];a(t,(function(t,n){e.push(n)})),t=e}else{if(!i.isArray(t))return[];t=t.slice()}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},l.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},l.findPieceIndex=function(t,e,n){for(var i,r=1/0,o=0,a=e.length;o<a;o++){var s=e[o].value;if(null!=s){if(s===t||"string"==typeof s&&s===t+"")return o;n&&u(s,o)}}for(o=0,a=e.length;o<a;o++){var l=e[o],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(b(h[1],t,c[1]))return o}else if(c[1]===1/0){if(b(h[0],c[0],t))return o}else if(b(h[0],c[0],t)&&b(h[1],t,c[1]))return o;n&&u(c[0],o),n&&u(c[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function u(e,n){var o=Math.abs(e-t);o<r&&(r=o,i=n)}};var w=l;t.exports=w},function(t,e,n){"use strict";n.r(e),n.d(e,"getCoordinate",(function(){return u})),n.d(e,"registerCoordinate",(function(){return d})),n.d(e,"Coordinate",(function(){return a}));var i=n(1),r=n(4),o=n(0),a=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,r=t.matrix,o=void 0===r?[1,0,0,0,1,0,0,0,1]:r,a=t.isTransposed,s=void 0!==a&&a;this.start=e,this.end=n,this.matrix=o,this.originalMatrix=Object(i.__spreadArrays)(o),this.isTransposed=s}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){Object(o.assign)(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,i=this[e],r=i.start,o=i.end;return this.isReflect(e)&&(r=(n=[o,r])[0],o=n[1]),r+t*(o-r)},t.prototype.invertDim=function(t,e){var n,i=this[e],r=i.start,o=i.end;return this.isReflect(e)&&(r=(n=[o,r])[0],o=n[1]),(t-r)/(o-r)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var i=this.matrix,o=[t,e,n];return r.vec3.transformMat3(o,o,i),o},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var i=this.matrix,o=r.mat3.invert([0,0,0,0,0,0,0,0,0],i),a=[t,e,n];return o&&r.vec3.transformMat3(a,a,o),a},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,i=e.y,r=this.applyMatrix(n,i,1);return{x:r[0],y:r[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return r.ext.leftTranslate(e,e,[-n.x,-n.y]),r.ext.leftRotate(e,e,t),r.ext.leftTranslate(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,i=this.center;return r.ext.leftTranslate(n,n,[-i.x,-i.y]),r.ext.leftScale(n,n,[t,e]),r.ext.leftTranslate(n,n,[i.x,i.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return r.ext.leftTranslate(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||Object(i.__spreadArrays)(this.originalMatrix)},t}(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return Object(i.__extends)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,i=t.y;return this.isTransposed&&(n=(e=[i,n])[0],i=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(i,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[i,n])[0],i=e[1]),{x:n,y:i}},e}(a),l=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var i=e.startAngle,r=void 0===i?1.25*Math.PI:i,o=e.endAngle,a=void 0===o?7.25*Math.PI:o,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return n.startAngle=r,n.endAngle=a,n.innerRadius=l,n.radius=c,n.initial(),n}return Object(i.__extends)(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,i=t.y;this.isTransposed&&(n=(e=[i,n])[0],i=e[1]);var r=this.convertDim(n,"x"),o=this.a*r,a=this.convertDim(i,"y");return{x:this.center.x+Math.cos(r)*(o+a),y:this.center.y+Math.sin(r)*(o+a)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,i=r.vec2.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),a=r.ext.angleTo(i,[1,0],!0),s=a*this.a;r.vec2.length(i)<s&&(s=r.vec2.length(i)),a=2*Math.floor((r.vec2.length(i)-s)/n)*Math.PI+a;var l=this.a*a,c=r.vec2.length(i)-l;c=Object(o.isNumberEqual)(c,0)?0:c;var h=this.invertDim(a,"x"),u=this.invertDim(c,"y");return h=Object(o.isNumberEqual)(h,0)?0:h,u=Object(o.isNumberEqual)(u,0)?0:u,this.isTransposed&&(h=(e=[u,h])[0],u=e[1]),{x:h,y:u}},e}(a),c=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var i=e.startAngle,r=void 0===i?-Math.PI/2:i,o=e.endAngle,a=void 0===o?3*Math.PI/2:o,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return n.startAngle=r,n.endAngle=a,n.innerRadius=l,n.radius=c,n.initial(),n}return Object(i.__extends)(e,t),e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),i=n.maxX-n.minX,r=n.maxY-n.minY,o=Math.abs(n.minX)/i,a=Math.abs(n.minY)/r;this.height/r>this.width/i?(e=this.width/i,this.circleCenter={x:this.center.x-(.5-o)*this.width,y:this.center.y-(.5-a)*e*r}):(e=this.height/r,this.circleCenter={x:this.center.x-(.5-o)*e*i,y:this.center.y-(.5-a)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),i=t.x,r=t.y;return this.isTransposed&&(i=(e=[r,i])[0],r=e[1]),i=this.convertDim(i,"x"),r=this.convertDim(r,"y"),{x:n.x+Math.cos(i)*r,y:n.y+Math.sin(i)*r}},e.prototype.invertPoint=function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],i=[1,0,0,0,1,0,0,0,1];r.ext.leftRotate(i,i,this.startAngle);var a=[1,0,0];r.vec3.transformMat3(a,a,i);var s=[a[0],a[1]],l=r.ext.angleTo(s,n,this.endAngle<this.startAngle);Object(o.isNumberEqual)(l,2*Math.PI)&&(l=0);var c=r.vec2.length(n),h=l/(this.endAngle-this.startAngle);h=this.endAngle-this.startAngle>0?h:-h;var u=this.invertDim(c,"y"),d={x:0,y:0};return d.x=this.isTransposed?u:h,d.y=this.isTransposed?h:u,d},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],i=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)n.push(Math.cos(r)),i.push(Math.sin(r));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},e}(a),h={},u=function(t){return h[t.toLowerCase()]},d=function(t,e){h[t.toLowerCase()]=e};d("rect",s),d("cartesian",s),d("polar",c),d("helix",l)},function(t,e,n){"use strict";n.r(e);var i=n(0),r=/rgba?\(([\s.,0-9]+)\)/,o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,l=function(t,e,n,i){return t[i]+(e[i]-t[i])*n};function c(t){return"#"+d(t[0])+d(t[1])+d(t[2])}var h,u=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},d=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},p=function(t){if("#"===t[0]&&7===t.length)return t;var e;h||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),h=e),h.style.color=t;var n=document.defaultView.getComputedStyle(h,"").getPropertyValue("color");return n=c(r.exec(n)[1].split(/\s*,\s*/).map((function(t){return Number(t)})))};e.default={rgb2arr:u,gradient:function(t){var e=Object(i.isString)(t)?t.split("-"):t,n=Object(i.map)(e,(function(t){return u(-1===t.indexOf("#")?p(t):t)}));return function(t){return function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=t.length-1,r=Math.floor(i*n),o=i*n-r,a=t[r],s=r===i?a:t[r+1];return c([l(a,s,o,0),l(a,s,o,1),l(a,s,o,2)])}(n,t)}},toRGB:Object(i.memoize)(p),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,n=void 0;if("l"===t[0]){var r=+(l=o.exec(t))[1]+90;n=l[2],e="linear-gradient("+r+"deg, "}else if("r"===t[0]){var l;e="radial-gradient(",n=(l=a.exec(t))[4]}var c=n.match(s);return Object(i.each)(c,(function(t,n){var i=t.split(":");e+=i[1]+" "+100*i[0]+"%",n!==c.length-1&&(e+=", ")})),e+=")"}return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=n(35),o=n(228);function a(t,e,n,i,r){var o=1-r;return o*o*o*t+3*e*r*o*o+3*n*r*r*o+i*r*r*r}function s(t,e,n,i,r){var o=1-r;return 3*(o*o*(e-t)+2*o*r*(n-e)+r*r*(i-n))}function l(t,e,n,r){var o,a,s,l=-3*t+9*e-9*n+3*r,c=6*t-12*e+6*n,h=3*e-3*t,u=[];if(i.isNumberEqual(l,0))i.isNumberEqual(c,0)||(o=-h/c)>=0&&o<=1&&u.push(o);else{var d=c*c-4*l*h;i.isNumberEqual(d,0)?u.push(-c/(2*l)):d>0&&(a=(-c-(s=Math.sqrt(d)))/(2*l),(o=(-c+s)/(2*l))>=0&&o<=1&&u.push(o),a>=0&&a<=1&&u.push(a))}return u}function c(t,e,n,i,o,s,l,c,h){var u=a(t,n,o,l,h),d=a(e,i,s,c,h),p=r.default.pointAt(t,e,n,i,h),f=r.default.pointAt(n,i,o,s,h),g=r.default.pointAt(o,s,l,c,h),m=r.default.pointAt(p.x,p.y,f.x,f.y,h),v=r.default.pointAt(f.x,f.y,g.x,g.y,h);return[[t,e,p.x,p.y,m.x,m.y,u,d],[u,d,v.x,v.y,g.x,g.y,l,c]]}e.default={extrema:l,box:function(t,e,n,r,o,s,c,h){for(var u=[t,c],d=[e,h],p=l(t,n,o,c),f=l(e,r,s,h),g=0;g<p.length;g++)u.push(a(t,n,o,c,p[g]));for(g=0;g<f.length;g++)d.push(a(e,r,s,h,f[g]));return i.getBBoxByArray(u,d)},length:function(t,e,n,i,r,a,s,l){return function t(e,n,i,r,a,s,l,h,u){if(0===u)return o.snapLength([e,i,a,l],[n,r,s,h]);var d=c(e,n,i,r,a,s,l,h,.5),p=d[0],f=d[1];return p.push(u-1),f.push(u-1),t.apply(null,p)+t.apply(null,f)}(t,e,n,i,r,a,s,l,3)},nearestPoint:function(t,e,n,i,r,s,l,c,h,u){return o.nearestPoint([t,n,r,l],[e,i,s,c],h,u,a)},pointDistance:function(t,e,n,r,o,a,s,l,c,h){var u=this.nearestPoint(t,e,n,r,o,a,s,l,c,h);return i.distance(u.x,u.y,c,h)},interpolationAt:a,pointAt:function(t,e,n,i,r,o,s,l,c){return{x:a(t,n,r,s,c),y:a(e,i,o,l,c)}},divide:function(t,e,n,i,r,o,a,s,l){return c(t,e,n,i,r,o,a,s,l)},tangentAngle:function(t,e,n,r,o,a,l,c,h){var u=s(t,n,o,l,h),d=s(e,r,a,c,h);return i.piMod(Math.atan2(d,u))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(168);e.default=function(t){return i.default(t,"Function")}},function(t,e,n){var i=n(101),r=n(20),o=n(3),a=n(182);function s(t){i.call(this,t)}s.prototype={constructor:s,type:"image",brush:function(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var r=this._image=a.createOrUpdateImage(i,this._image,this,this.onload);if(r&&a.isImageReady(r)){var o=n.x||0,s=n.y||0,l=n.width,c=n.height,h=r.width/r.height;if(null==l&&null!=c?l=c*h:null==c&&null!=l?c=l/h:null==l&&null==c&&(l=r.width,c=r.height),this.setTransform(t),n.sWidth&&n.sHeight){var u=n.sx||0,d=n.sy||0;t.drawImage(r,u,d,n.sWidth,n.sHeight,o,s,l,c)}else if(n.sx&&n.sy){var p=l-(u=n.sx),f=c-(d=n.sy);t.drawImage(r,u,d,p,f,o,s,l,c)}else t.drawImage(r,o,s,l,c);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new r(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(s,i);var l=s;t.exports=l},function(t,e,n){var i=n(3);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,r){for(var o={},a=0;a<t.length;a++){var s=t[a][1];if(!(n&&i.indexOf(n,s)>=0||r&&i.indexOf(r,s)<0)){var l=e.getShallow(s);null!=l&&(o[t[a][0]]=l)}}return o}}},function(t,e,n){var i=n(60),r=n(18),o=n(102),a=n(20),s=n(123).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],h=[],u=[],d=[],p=Math.min,f=Math.max,g=Math.cos,m=Math.sin,v=Math.sqrt,y=Math.abs,x="undefined"!=typeof Float32Array,b=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};b.prototype={constructor:b,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,n){n=n||0,this._ux=y(n/s/t)||0,this._uy=y(n/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,o){return this.addData(l.C,t,e,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,n,i){return this.addData(l.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,o){return this.addData(l.A,t,e,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=g(r)*n+t,this._yi=m(r)*n+e,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(l.R,t,e,n,i),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!x||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();x&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,h=t-l,u=e-c,d=v(h*h+u*u),g=l,m=c,y=a.length;for(o<0&&(o=r+o),g-=(o%=r)*(h/=d),m-=o*(u/=d);h>0&&g<=t||h<0&&g>=t||0===h&&(u>0&&m<=e||u<0&&m>=e);)g+=h*(n=a[i=this._dashIdx]),m+=u*n,this._dashIdx=(i+1)%y,h>0&&g<l||h<0&&g>l||u>0&&m<c||u<0&&m>c||s[i%2?"moveTo":"lineTo"](h>=0?p(g,t):f(g,t),u>=0?p(m,e):f(m,e));h=g-t,u=m-e,this._dashOffset=-v(h*h+u*u)},_dashedBezierTo:function(t,e,n,r,o,a){var s,l,c,h,u,d=this._dashSum,p=this._dashOffset,f=this._lineDash,g=this._ctx,m=this._xi,y=this._yi,x=i.cubicAt,b=0,w=this._dashIdx,C=f.length,_=0;for(p<0&&(p=d+p),p%=d,s=0;s<1;s+=.1)l=x(m,t,n,o,s+.1)-x(m,t,n,o,s),c=x(y,e,r,a,s+.1)-x(y,e,r,a,s),b+=v(l*l+c*c);for(;w<C&&!((_+=f[w])>p);w++);for(s=(_-p)/b;s<=1;)h=x(m,t,n,o,s),u=x(y,e,r,a,s),w%2?g.moveTo(h,u):g.lineTo(h,u),s+=f[w]/b,w=(w+1)%C;w%2!=0&&g.lineTo(o,a),l=o-h,c=a-u,this._dashOffset=-v(l*l+c*c)},_dashedQuadraticTo:function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,x&&(this.data=new Float32Array(t)))},getBoundingRect:function(){c[0]=c[1]=u[0]=u[1]=Number.MAX_VALUE,h[0]=h[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,s=0,p=0;p<t.length;){var f=t[p++];switch(1===p&&(i=e=t[p],s=n=t[p+1]),f){case l.M:e=i=t[p++],n=s=t[p++],u[0]=i,u[1]=s,d[0]=i,d[1]=s;break;case l.L:o.fromLine(e,n,t[p],t[p+1],u,d),e=t[p++],n=t[p++];break;case l.C:o.fromCubic(e,n,t[p++],t[p++],t[p++],t[p++],t[p],t[p+1],u,d),e=t[p++],n=t[p++];break;case l.Q:o.fromQuadratic(e,n,t[p++],t[p++],t[p],t[p+1],u,d),e=t[p++],n=t[p++];break;case l.A:var v=t[p++],y=t[p++],x=t[p++],b=t[p++],w=t[p++],C=t[p++]+w;p+=1;var _=1-t[p++];1===p&&(i=g(w)*x+v,s=m(w)*b+y),o.fromArc(v,y,x,b,w,C,_,u,d),e=g(C)*x+v,n=m(C)*b+y;break;case l.R:i=e=t[p++],s=n=t[p++];var S=t[p++],O=t[p++];o.fromLine(i,s,i+S,s+O,u,d);break;case l.Z:e=i,n=s}r.min(c,c,u),r.max(h,h,d)}return 0===p&&(c[0]=c[1]=h[0]=h[1]=0),new a(c[0],c[1],h[0]-c[0],h[1]-c[1])},rebuildPath:function(t){for(var e,n,i,r,o,a,s=this.data,c=this._ux,h=this._uy,u=this._len,d=0;d<u;){var p=s[d++];switch(1===d&&(e=i=s[d],n=r=s[d+1]),p){case l.M:e=i=s[d++],n=r=s[d++],t.moveTo(i,r);break;case l.L:o=s[d++],a=s[d++],(y(o-i)>c||y(a-r)>h||d===u-1)&&(t.lineTo(o,a),i=o,r=a);break;case l.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),i=s[d-2],r=s[d-1];break;case l.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),i=s[d-2],r=s[d-1];break;case l.A:var f=s[d++],v=s[d++],x=s[d++],b=s[d++],w=s[d++],C=s[d++],_=s[d++],S=s[d++],O=x>b?x:b,M=x>b?1:x/b,k=x>b?b/x:1,A=w+C;Math.abs(x-b)>.001?(t.translate(f,v),t.rotate(_),t.scale(M,k),t.arc(0,0,O,w,A,1-S),t.scale(1/M,1/k),t.rotate(-_),t.translate(-f,-v)):t.arc(f,v,O,w,A,1-S),1===d&&(e=g(w)*x+f,n=m(w)*b+v),i=g(A)*x+f,r=m(A)*b+v;break;case l.R:e=i=s[d],n=r=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case l.Z:t.closePath(),i=e,r=n}}}},b.CMD=l;var w=b;t.exports=w},function(t,e,n){var i=n(11).makeInner;t.exports=function(){var t=i();return function(e){var n=t(e),i=e.pipelineContext,r=n.large,o=n.progressiveRender,a=n.large=i&&i.large,s=n.progressiveRender=i&&i.progressiveRender;return!!(r^a||o^s)&&"reset"}}},function(t,e,n){var i=n(190);t.exports=function(t,e){return i((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}},function(t,e,n){var i=n(3),r={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:i.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=r},function(t,e,n){var i=n(85),r=n(42),o=n(3),a=o.extend,s=o.isArray;t.exports=function(t,e,n){e=s(e)&&{coordDimensions:e}||a({},e);var o=t.getSource(),l=i(o,e),c=new r(l,t);return c.initData(o,n),c}},function(t,e){function n(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function i(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}t.exports=function(t,e,r,o,a,s){t=t||0;var l=r[1]-r[0];if(null!=a&&(a=i(a,[0,l])),null!=s&&(s=Math.max(s,null!=a?a:0)),"all"===o){var c=Math.abs(e[1]-e[0]);c=i(c,[0,l]),a=s=i(c,[a,s]),o=0}e[0]=i(e[0],r),e[1]=i(e[1],r);var h=n(e,o);e[o]+=t;var u=a||0,d=r.slice();h.sign<0?d[0]+=u:d[1]-=u,e[o]=i(e[o],d);var p=n(e,o);return null!=a&&(p.sign!==h.sign||p.span<a)&&(e[1-o]=e[o]+h.sign*a),p=n(e,o),null!=s&&p.span>s&&(e[1-o]=e[o]+p.sign*s),e}},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(25),a=n(11),s=n(206),l=n(627),c=r.each,h=s.eachAxisDim;function u(t){var e={};return c(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}function d(t,e){var n=t._rangePropMode,i=t.get("rangeMode");c([["start","startValue"],["end","endValue"]],(function(t,r){var o=null!=e[t[0]],a=null!=e[t[1]];o&&!a?n[r]="percent":!o&&a?n[r]="value":i?n[r]=i[r]:o&&(n[r]="percent")}))}var p=i.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=u(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this.doInit(i)},mergeOption:function(t){var e=u(t);r.merge(this.option,t,!0),r.merge(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;o.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),d(this,t);var n=this.settledOption;c([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis((function(e,n,i,r){var o=this.dependentModels[e.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new l(e.name,n,this,r));t[e.name+"_"+n]=a}),this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();h((function(e){var n=e.axisIndex;t[n]=a.normalizeToArray(t[n])}),this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;h((function(n){null!=t[n.axisIndex]&&(e=!0)}),this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,i=this.dependentModels;if(t){var o="vertical"===e?"y":"x";i[o+"Axis"].length?(n[o+"AxisIndex"]=[0],t=!1):c(i.singleAxis,(function(i){t&&i.get("orient",!0)===e&&(n.singleAxisIndex=[i.componentIndex],t=!1)}))}t&&h((function(e){if(t){var i=[],r=this.dependentModels[e.axis];if(r.length&&!i.length)for(var o=0,a=r.length;o<a;o++)"category"===r[o].get("type")&&i.push(o);n[e.axisIndex]=i,i.length&&(t=!1)}}),this),t&&this.ecModel.eachSeries((function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&h((function(e){var i=n[e.axisIndex],o=t.get(e.axisIndex),a=t.get(e.axisId);o=t.ecModel.queryComponents({mainType:e.axis,index:o,id:a})[0].componentIndex,r.indexOf(i,o)<0&&i.push(o)}))}),this)},_autoSetOrient:function(){var t;this.eachTargetAxis((function(e){!t&&(t=e.name)}),this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return h((function(i){var r=t.get(i.axisIndex),o=this.dependentModels[i.axis][r];o&&o.get("type")===e||(n=!1)}),this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return h((function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}}),this),t},eachTargetAxis:function(t,e){var n=this.ecModel;h((function(i){c(this.get(i.axisIndex),(function(r){t.call(e,i,r,this,n)}),this)}),this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t){var e=this.option,n=this.settledOption;c([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),d(this,t)},setCalculatedRange:function(t){var e=this.option;c(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});t.exports=p},function(t,e,n){var i=n(127).extend({type:"dataZoom",render:function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.dataZoomModel,e=this.ecModel,n={};return t.eachTargetAxis((function(t,i){var r=e.getComponent(t.axis,i);if(r){var o=r.getCoordSysModel();o&&function(t,e,n,i){for(var r,o=0;o<n.length;o++)if(n[o].model===t){r=n[o];break}r||n.push(r={model:t,axisModels:[],coordIndex:i});r.axisModels.push(e)}(o,r,n[o.mainType]||(n[o.mainType]=[]),o.componentIndex)}}),this),n}});t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return(t%e+e)%e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Math.PI/180;e.default=function(t){return i*t}},function(t,e,n){"use strict";var i=n(1),r=n(16),o=n(59),a=n(27),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.onCanvasChange=function(t){Object(a.f)(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(a.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Object(a.a)(t,this),this._applyClip(t,this.getClip()),Object(a.b)(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(r.AbstractGroup);e.a=s},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return r})),n.d(e,"fromMat4",(function(){return o})),n.d(e,"clone",(function(){return a})),n.d(e,"copy",(function(){return s})),n.d(e,"fromValues",(function(){return l})),n.d(e,"set",(function(){return c})),n.d(e,"identity",(function(){return h})),n.d(e,"transpose",(function(){return u})),n.d(e,"invert",(function(){return d})),n.d(e,"adjoint",(function(){return p})),n.d(e,"determinant",(function(){return f})),n.d(e,"multiply",(function(){return g})),n.d(e,"translate",(function(){return m})),n.d(e,"rotate",(function(){return v})),n.d(e,"scale",(function(){return y})),n.d(e,"fromTranslation",(function(){return x})),n.d(e,"fromRotation",(function(){return b})),n.d(e,"fromScaling",(function(){return w})),n.d(e,"fromMat2d",(function(){return C})),n.d(e,"fromQuat",(function(){return _})),n.d(e,"normalFromMat4",(function(){return S})),n.d(e,"projection",(function(){return O})),n.d(e,"str",(function(){return M})),n.d(e,"frob",(function(){return k})),n.d(e,"add",(function(){return A})),n.d(e,"subtract",(function(){return T})),n.d(e,"multiplyScalar",(function(){return D})),n.d(e,"multiplyScalarAndAdd",(function(){return P})),n.d(e,"exactEquals",(function(){return I})),n.d(e,"equals",(function(){return E})),n.d(e,"mul",(function(){return j})),n.d(e,"sub",(function(){return L}));var i=n(13);function r(){var t=new i.a(9);return i.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new i.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function l(t,e,n,r,o,a,s,l,c){var h=new i.a(9);return h[0]=t,h[1]=e,h[2]=n,h[3]=r,h[4]=o,h[5]=a,h[6]=s,h[7]=l,h[8]=c,h}function c(t,e,n,i,r,o,a,s,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u(t,e){if(t===e){var n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function d(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8],u=h*a-s*c,d=-h*o+s*l,p=c*o-a*l,f=n*u+i*d+r*p;return f?(f=1/f,t[0]=u*f,t[1]=(-h*i+r*c)*f,t[2]=(s*i-r*a)*f,t[3]=d*f,t[4]=(h*n-r*l)*f,t[5]=(-s*n+r*o)*f,t[6]=p*f,t[7]=(-c*n+i*l)*f,t[8]=(a*n-i*o)*f,t):null}function p(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8];return t[0]=a*h-s*c,t[1]=r*c-i*h,t[2]=i*s-r*a,t[3]=s*l-o*h,t[4]=n*h-r*l,t[5]=r*o-n*s,t[6]=o*c-a*l,t[7]=i*l-n*c,t[8]=n*a-i*o,t}function f(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*(c*o-a*l)+n*(-c*r+a*s)+i*(l*r-o*s)}function g(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=n[0],p=n[1],f=n[2],g=n[3],m=n[4],v=n[5],y=n[6],x=n[7],b=n[8];return t[0]=d*i+p*a+f*c,t[1]=d*r+p*s+f*h,t[2]=d*o+p*l+f*u,t[3]=g*i+m*a+v*c,t[4]=g*r+m*s+v*h,t[5]=g*o+m*l+v*u,t[6]=y*i+x*a+b*c,t[7]=y*r+x*s+b*h,t[8]=y*o+x*l+b*u,t}function m(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=n[0],p=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=d*i+p*a+c,t[7]=d*r+p*s+h,t[8]=d*o+p*l+u,t}function v(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=Math.sin(n),p=Math.cos(n);return t[0]=p*i+d*a,t[1]=p*r+d*s,t[2]=p*o+d*l,t[3]=p*a-d*i,t[4]=p*s-d*r,t[5]=p*l-d*o,t[6]=c,t[7]=h,t[8]=u,t}function y(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function b(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function C(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function _(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,l=r+r,c=n*a,h=i*a,u=i*s,d=r*a,p=r*s,f=r*l,g=o*a,m=o*s,v=o*l;return t[0]=1-u-f,t[3]=h-v,t[6]=d+m,t[1]=h+v,t[4]=1-c-f,t[7]=p-g,t[2]=d-m,t[5]=p+g,t[8]=1-c-u,t}function S(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8],u=e[9],d=e[10],p=e[11],f=e[12],g=e[13],m=e[14],v=e[15],y=n*s-i*a,x=n*l-r*a,b=n*c-o*a,w=i*l-r*s,C=i*c-o*s,_=r*c-o*l,S=h*g-u*f,O=h*m-d*f,M=h*v-p*f,k=u*m-d*g,A=u*v-p*g,T=d*v-p*m,D=y*T-x*A+b*k+w*M-C*O+_*S;return D?(D=1/D,t[0]=(s*T-l*A+c*k)*D,t[1]=(l*M-a*T-c*O)*D,t[2]=(a*A-s*M+c*S)*D,t[3]=(r*A-i*T-o*k)*D,t[4]=(n*T-r*M+o*O)*D,t[5]=(i*M-n*A-o*S)*D,t[6]=(g*_-m*C+v*w)*D,t[7]=(m*b-f*_-v*x)*D,t[8]=(f*C-g*b+v*y)*D,t):null}function O(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function M(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function k(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function A(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function T(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function D(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function P(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function I(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function E(t,e){var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=e[0],p=e[1],f=e[2],g=e[3],m=e[4],v=e[5],y=e[6],x=e[7],b=e[8];return Math.abs(n-d)<=i.b*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-p)<=i.b*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(o-f)<=i.b*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-g)<=i.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-m)<=i.b*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-v)<=i.b*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=i.b*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(h-x)<=i.b*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(u-b)<=i.b*Math.max(1,Math.abs(u),Math.abs(b))}var j=g,L=T},function(t,e,n){"use strict";n.d(e,"c",(function(){return Bu})),n.d(e,"b",(function(){return id})),n.d(e,"a",(function(){return wf}));var i={};n.r(i),n.d(i,"Base",(function(){return ci})),n.d(i,"Circle",(function(){return hi})),n.d(i,"Dom",(function(){return ui})),n.d(i,"Ellipse",(function(){return di})),n.d(i,"Image",(function(){return pi})),n.d(i,"Line",(function(){return mi})),n.d(i,"Marker",(function(){return xi})),n.d(i,"Path",(function(){return bi})),n.d(i,"Polygon",(function(){return wi})),n.d(i,"Polyline",(function(){return Si})),n.d(i,"Rect",(function(){return Oi})),n.d(i,"Text",(function(){return Di}));var r={};n.r(r),n.d(r,"version",(function(){return $i})),n.d(r,"Event",(function(){return X.Event})),n.d(r,"Canvas",(function(){return Wi})),n.d(r,"Group",(function(){return si})),n.d(r,"Shape",(function(){return i}));var o={};n.r(o),n.d(o,"EVENT_MAP",(function(){return Ga})),n.d(o,"onEvent",(function(){return Ha}));var a={};n.r(a),n.d(a,"EVENT_MAP",(function(){return Ga})),n.d(a,"onEvent",(function(){return Ha}));var s={};n.r(s),n.d(s,"EVENT_MAP",(function(){return Ga})),n.d(s,"onEvent",(function(){return Ha}));var l={};n.r(l),n.d(l,"EVENT_MAP",(function(){return Ga})),n.d(l,"onEvent",(function(){return Ha}));var c={};n.r(c),n.d(c,"EVENT_MAP",(function(){return Ga})),n.d(c,"onEvent",(function(){return Ha}));var h={};n.r(h),n.d(h,"EVENT_MAP",(function(){return Ga})),n.d(h,"onEvent",(function(){return Ha}));var u={};n.r(u),n.d(u,"EVENT_MAP",(function(){return Ga})),n.d(u,"onEvent",(function(){return Ha}));var d={};n.r(d),n.d(d,"EVENT_MAP",(function(){return Ga})),n.d(d,"onEvent",(function(){return Ha}));var p={};n.r(p),n.d(p,"EVENT_MAP",(function(){return Ga})),n.d(p,"onEvent",(function(){return Ha}));var f={};n.r(f),n.d(f,"EVENT_MAP",(function(){return Ga})),n.d(f,"onEvent",(function(){return Ha}));var g={};n.r(g),n.d(g,"EVENT_MAP",(function(){return Ga})),n.d(g,"onEvent",(function(){return Ha}));var m={};n.r(m),n.d(m,"EVENT_MAP",(function(){return Ga})),n.d(m,"onEvent",(function(){return Ha}));var v={};n.r(v),n.d(v,"EVENT_MAP",(function(){return Ga})),n.d(v,"onEvent",(function(){return Ha}));var y={};n.r(y),n.d(y,"EVENT_MAP",(function(){return Ga})),n.d(y,"onEvent",(function(){return Ha}));var x={};n.r(x),n.d(x,"EVENT_MAP",(function(){return Ga})),n.d(x,"onEvent",(function(){return Ha}));var b={};n.r(b),n.d(b,"EVENT_MAP",(function(){return Ga})),n.d(b,"onEvent",(function(){return Ha}));var w={};n.r(w),n.d(w,"EVENT_MAP",(function(){return Ga})),n.d(w,"onEvent",(function(){return Ha}));var C={};n.r(C),n.d(C,"EVENT_MAP",(function(){return Ga})),n.d(C,"onEvent",(function(){return Ha}));var _={};n.r(_),n.d(_,"EVENT_MAP",(function(){return Ga})),n.d(_,"onEvent",(function(){return Ha}));var S={};n.r(S),n.d(S,"EVENT_MAP",(function(){return Ga})),n.d(S,"onEvent",(function(){return Ha}));var O={};n.r(O),n.d(O,"EVENT_MAP",(function(){return Ga})),n.d(O,"onEvent",(function(){return Ha}));var M,k,A,T=n(215),D=n.n(T),P=n(2),I=n(0);!function(t){t.FORE="fore",t.MID="mid",t.BG="bg"}(M||(M={})),function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"}(k||(k={})),function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.OTHER="other"}(A||(A={}));var E,j,L,B=3,N=2,R=1;!function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy"}(E||(E={})),function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"}(j||(j={})),function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"}(L||(L={}));var F=["color","shape","size"],z={};function V(t,e){z[t]=e}var G=n(7);function H(t){return"number"==typeof t&&!isNaN(t)}function W(t,e,n,i){var r=n,o=i;if(e){var a=function(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}(t);r=a.width?a.width:r,o=a.height?a.height:o}return{width:Math.max(H(r)?r:1,1),height:Math.max(H(o)?o:1,1)}}var $=n(32),Y=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var i=e.visible,r=void 0===i||i;return n.visible=r,n}return Object(P.__extends)(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}($.default),X=n(16),q=(n(98),n(119),n(116)),U=n(77),Z=n(23),K=n(17),J=K.Axis.Line,Q=K.Axis.Circle,tt=K.Grid.Line,et=K.Grid.Circle,nt=K.Legend.Category,it=K.Legend.Continuous,rt=K.Tooltip.Html,ot=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function at(t,e,n){var i=e||[];if(Object(I.isNumber)(t)||Object(I.isNil)(Object(I.firstValue)(i,t))&&Object(I.isEmpty)(n))return new(Object(Z.getScale)("identity"))({field:t.toString(),values:[t]});var r=Object(I.valuesOfKey)(i,t),o=Object(I.get)(n,"type",function(t){var e="linear";return ot.test(t)?e="time":Object(I.isString)(t)&&(e="cat"),e}(r[0]));return new(Object(Z.getScale)(o))(Object(P.__assign)({field:t,values:r},n))}function st(t){return t.alias||t.field}var lt=n(4);function ct(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=function(t){var e,n;switch(t){case k.TOP:e={x:0,y:1},n={x:1,y:1};break;case k.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case k.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case k.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(n=function(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}(t));var i=n.start,r=n.end;return{start:t.convert(i),end:t.convert(r)}}function ht(t){var e=t.start,n=t.end;return e.x===n.x}function ut(t,e){var n=t.start,i=t.end;return ht(t)?(n.y-i.y)*(e.x-n.x)>0?1:-1:(i.x-n.x)*(n.y-e.y)>0?-1:1}function dt(t,e){return Object(I.get)(t,["components","axis",e],{})}function pt(t){var e=t.x,n=t.y,i=t.circleCenter,r=n.start>n.end,o=t.isTransposed?t.convert({x:r?0:1,y:0}):t.convert({x:0,y:r?0:1}),a=[o.x-i.x,o.y-i.y],s=[1,0],l=o.y>i.y?lt.vec2.angle(a,s):-1*lt.vec2.angle(a,s),c=l+(e.end-e.start);return{center:i,radius:Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),startAngle:l,endAngle:c}}function ft(t,e){return Object(I.isBoolean)(t)?!1!==t&&{}:Object(I.get)(t,[e])}function gt(t,e){return Object(I.get)(t,"position",e)}function mt(t,e){return Object(I.get)(e,["title","text"],st(t))}var vt=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(I.deepMix)({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,i=t.padding,r=void 0===i?this.cfg.padding:i,o=this.view.createView({region:e,padding:r});o.data(n||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},t.prototype.createContainer=function(){return this.view.getLayer(M.FORE).addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;Object(I.each)(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.getFieldValues=function(t,e){var n=[],i={};return Object(I.each)(t,(function(t){var r=t[e];Object(I.isNil)(r)||i[r]||(n.push(r),i[r]=!0)})),n},t.prototype.getRegion=function(t,e,n,i){var r=1/(0===e?1:e),o=1/(0===t?1:t);return{start:{x:r*n,y:o*i},end:{x:r*(n+1),y:o*(i+1)}}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),i=n.coordinate,r=t.geometries;if("rect"===Object(I.get)(i,"type","rect")&&r.length){Object(I.isNil)(n.axes)&&(n.axes={});var o=n.axes,a=r[0].getXYFields(),s=a[0],l=a[1],c=ft(o,s),h=ft(o,l);!1!==c&&(n.axes[s]=this.getXAxisOption(s,o,c,e)),!1!==h&&(n.axes[l]=this.getYAxisOption(l,o,h,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return Object(I.every)(t,(function(t){var n=t.field,i=t.value;return!(!Object(I.isNil)(i)&&n)||e[n]===i}))}},t}(),yt={},xt=function(t,e){yt[Object(I.lowerCase)(t)]=e},bt=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){Object(I.assign)(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(bt),Ct={};function _t(t,e,n){Ct[t]={ActionClass:e,cfg:n}}function St(t,e){var n=new wt(e);return n.callback=t,n.name="callback",n}function Ot(t,e,n,i){return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}function Mt(t,e,n,i,r,o){void 0===o&&(o=0);var a=Ot(t,e,n,i),s=Ot(t,e,n,r),l=Ot(t,e,o,i),c=Ot(t,e,o,r);if(r-i==2*Math.PI){var h=Ot(t,e,n,i+Math.PI),u=Ot(t,e,o,i+Math.PI),d=[["M",a.x,a.y],["A",n,n,0,1,1,h.x,h.y],["A",n,n,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(d.push(["A",o,o,0,1,0,u.x,u.y]),d.push(["A",o,o,0,1,0,c.x,c.y])),d.push(["M",a.x,a.y]),d.push(["Z"]),d}var p=r-i<=Math.PI?0:1,f=[["M",a.x,a.y],["A",n,n,0,p,1,s.x,s.y],["L",c.x,c.y]];return o&&f.push(["A",o,o,0,p,0,l.x,l.y]),f.push(["L",a.x,a.y]),f.push(["Z"]),f}function kt(t,e,n,i,r){var o=Ot(t,e,n,i),a=Ot(t,e,n,r);if(Object(I.isNumberEqual)(r-i,2*Math.PI)){var s=Ot(t,e,n,i+Math.PI);return[["M",o.x,o.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,1,o.x,o.y],["A",n,n,0,1,0,s.x,s.y],["A",n,n,0,1,0,o.x,o.y],["Z"]]}var l=r-i<=Math.PI?0:1;return[["M",o.x,o.y],["A",n,n,0,l,1,a.x,a.y]]}function At(t,e){var n,i,r=function(t){if(Object(I.isEmpty)(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,r=t[0].y;return Object(I.each)(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,r=r<t.y?t.y:r})),{minX:e,maxX:n,minY:i,maxY:r,centerX:(e+n)/2,centerY:(i+r)/2}}(t.points),o=e.startAngle,a=e.endAngle-o;return e.isTransposed?(n=r.maxY*a,i=r.minY*a):(n=r.maxX*a,i=r.minX*a),{startAngle:i+=o,endAngle:n+=o}}function Tt(t,e){var n=t.attr(),i=e.attr();return Object(I.each)(n,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),i}function Dt(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return t>=i&&t<=r}function Pt(t,e){return e.forEach((function(e){delete t[e]})),t}function It(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];n[o]||(e.push(o),n[o]=!0)}return e}function Et(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function jt(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Lt(t,e){var n=!1;if(t)if("theta"===t.type){var i=t.start,r=t.end;n=Dt(e.x,i.x,r.x)&&Dt(e.y,i.y,r.y)}else{var o=t.invert(e);n=Dt(o.x,0,1)&&Dt(o.y,0,1)}return n}function Bt(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function Nt(t,e){void 0===e&&(e=0);var n,i=t.start,r=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,c=t.getCenter(),h=t.getRadius();return{type:"path",startState:{path:Mt(c.x,c.y,h+e,s,s)},endState:function(t){var n=(l-s)*t+s;return{path:Mt(c.x,c.y,h+e,s,n)}},attrs:{path:Mt(c.x,c.y,h+e,s,l)}}}return n=t.isTransposed?{height:a+2*e}:{width:o+2*e},{type:"rect",startState:{x:i.x-e,y:r.y-e,width:t.isTransposed?o+2*e:0,height:t.isTransposed?0:a+2*e},endState:n,attrs:{x:i.x-e,y:r.y-e,width:o+2*e,height:a+2*e}}}function Rt(t,e){for(var n=[t[0]],i=1,r=t.length;i<r;i+=2){var o=e.convert({x:t[i],y:t[i+1]});n.push(o.x,o.y)}return n}function Ft(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,c,h=function(t,e,n,i){var r,o,a,s,l=[],c=!!i;if(c){a=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,u=t.length;h<u;h++){var d=t[h];a=lt.vec2.min([0,0],a,d),s=lt.vec2.max([0,0],s,d)}a=lt.vec2.min([0,0],a,i[0]),s=lt.vec2.max([0,0],s,i[1])}h=0;for(var p=t.length;h<p;h++){d=t[h];if(n)r=t[h?h-1:p-1],o=t[(h+1)%p];else{if(0===h||h===p-1){l.push(d);continue}r=t[h-1],o=t[h+1]}var f=[0,0];f=lt.vec2.sub(f,o,r),f=lt.vec2.scale(f,f,e);var g=lt.vec2.distance(d,r),m=lt.vec2.distance(d,o),v=g+m;0!==v&&(g/=v,m/=v);var y=lt.vec2.scale([0,0],f,-g),x=lt.vec2.scale([0,0],f,m),b=lt.vec2.add([0,0],d,y),w=lt.vec2.add([0,0],d,x);c&&(b=lt.vec2.max([0,0],b,a),b=lt.vec2.min([0,0],b,s),w=lt.vec2.max([0,0],w,a),w=lt.vec2.min([0,0],w,s)),l.push(b),l.push(w)}return n&&l.push(l.shift()),l}(r,.4,i,n),u=r.length,d=[];for(o=0;o<u-1;o++)s=h[2*o],l=h[2*o+1],c=r[o+1],d.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return i&&(s=h[u],l=h[u+1],c=r[0],d.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),d}function zt(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var o=t[i];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}function Vt(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return zt(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(i.push(l.x),i.push(l.y),o=l)}var c=Ft(i,e,n||[[0,0],[1,1]]);return c.unshift(["M",r.x,r.y]),c}function Gt(t,e){var n,i,r,o=[];return Object(I.each)(e,(function(a,s){switch(a[0].toLowerCase()){case"m":case"c":case"q":o.push(Rt(a,t));break;case"l":n=e[s-1],i=a,r=t.isTransposed,(r?n[n.length-2]===i[1]:n[n.length-1]===i[2])?o=o.concat(function(t,e,n){var i=n.isTransposed,r=n.startAngle,o=n.endAngle,a={x:t[1],y:t[2]},s={x:e[1],y:e[2]},l=[],c=i?"y":"x",h=Math.abs(s[c]-a[c])*(o-r),u=s[c]>=a[c]?1:0,d=h>Math.PI?1:0,p=n.convert(s),f=jt(n,p);if(f>=.5)if(h===2*Math.PI){var g={x:(s.x+a.x)/2,y:(s.y+a.y)/2},m=n.convert(g);l.push(["A",f,f,0,d,u,m.x,m.y]),l.push(["A",f,f,0,d,u,p.x,p.y])}else l.push(["A",f,f,0,d,u,p.x,p.y]);return l}(n,i,t)):o.push(Rt(a,t));break;case"z":default:o.push(a)}})),function(t){Object(I.each)(t,(function(e,n){if("a"===e[0].toLowerCase()){var i=t[n-1],r=t[n+1];r&&"a"===r[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M")}}))}(o),o}var Ht=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.height=i,this.width=n}return t.fromRange=function(e,n,i,r){return new t(e,n,i-e,r-n)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(I.each)(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(I.each)(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var i=e.width,r=e.height;switch(n){case k.TOP:case k.TOP_LEFT:case k.TOP_RIGHT:return t.fromRange(this.minX,this.minY+r,this.maxX,this.maxY);case k.RIGHT:case k.RIGHT_TOP:case k.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case k.BOTTOM:case k.BOTTOM_LEFT:case k.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-r);case k.LEFT:case k.LEFT_TOP:case k.LEFT_BOTTOM:return t.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=e[0],i=e[1],r=e[2],o=e[3];return new t(this.x+o,this.y+n,this.width-o-i,this.height-n-r)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.size=function(){return this.width*this.height},t}();var Wt=n(217),$t=n.n(Wt);function Yt(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function Xt(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}function qt(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function Ut(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Zt(t){return t&&t.component&&t.component.isList()}function Kt(t){return t&&t.component&&t.component.isSlider()}function Jt(t){var e=t.event.target;return e&&"mask"===e.get("name")}function Qt(t,e){var n,i,r,o;if("path"===t.event.target.get("type")){var a=function(t,e){var n=t.event.target,i=n.getCanvasBBox();return i.width>=e||i.height>=e?n.attr("path"):null}(t,e);if(!a)return;return n=t.view,i=a,r=ee(n),o=oe(i),r.filter((function(t){var e,n,i=t.shape;if("path"===i.get("type"))e=oe(i.attr("path"));else{var r=i.getCanvasBBox();e=[[(n=r).minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}return $t()(o,e)}))}var s=Yt(t,e);return s?re(t.view,s):null}function te(t,e,n){var i=Yt(t,n);if(!i)return null;var r=t.view,o=he(r,e,{x:i.x,y:i.y}),a=he(r,e,{x:i.maxX,y:i.maxY});return re(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})}function ee(t){var e=t.geometries,n=[];return Object(I.each)(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&Object(I.each)(t.views,(function(t){n=n.concat(ee(t))})),n}function ne(t,e){var n=t.geometries,i=[];return Object(I.each)(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));i=i.concat(n)})),i}function ie(t,e){var n=t.getModel().data;return Object(I.isArray)(n)?n[0][e]:n[e]}function re(t,e){var n=ee(t),i=[];return Object(I.each)(n,(function(t){var n,r,o=t.shape.getCanvasBBox();n=e,(r=o).minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY||i.push(t)})),i}function oe(t){var e=[];return Object(I.each)(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var i=t.length;e.push([t[i-2],t[i-1]])}})),e}function ae(t){return t.getComponents().map((function(t){return t.component}))}function se(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function le(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function ce(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n}function he(t,e,n){var i=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(i)}function ue(t,e,n,i){var r=!1;return Object(I.each)(t,(function(t){if(t[n]===e[n]&&t[i]===e[i])return r=!0,!1})),r}function de(t,e){var n=t.getScaleByField(e);return!n&&t.views&&Object(I.each)(t.views,(function(t){if(n=de(t,e))return!1})),n}var pe=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return Object(I.get)(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=ae(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var i=e.getBBox();return t?e.get("name")===t&&le(i,n):le(i,n)}))},t.prototype.destroy=function(){this.view=null,this.event=null,Object(I.each)(this.actions.slice(),(function(t){t.destroy()})),this.actions=null,this.cacheMap=null},t}(),fe=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function ge(t,e){var n=t.split(":"),i=n[0],r=e.getAction(i)||function(t,e){var n=Ct[t],i=null;return n&&((i=new(0,n.ActionClass)(e,n.cfg)).name=t,i.init()),i}(i,e);if(!r)throw new Error("There is no action named "+i);return{action:r,methodName:n[1]}}function me(t){var e=t.action,n=t.methodName;if(!e[n])throw new Error("Action("+e.name+") doesn't have a method called "+n);e[n]()}var ve="start",ye="showEnable",xe="end",be="rollback",we="processing",Ce=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return Object(P.__extends)(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;Object(I.each)(this.steps,(function(e,n){Object(I.each)(e,(function(e){var i=t.getActionCallback(n,e);i&&t.bindEvent(e.trigger,i)}))}))},e.prototype.clearEvents=function(){var t=this;Object(I.each)(this.steps,(function(e,n){Object(I.each)(e,(function(e){var i=t.getActionCallback(n,e);i&&t.offEvent(e.trigger,i)}))}))},e.prototype.initContext=function(){var t=this.view,e=new pe(t);this.context=e;var n=this.steps;Object(I.each)(n,(function(t){Object(I.each)(t,(function(t){if(Object(I.isFunction)(t.action))t.actionObject={action:St(t.action,e),methodName:"execute"};else if(Object(I.isString)(t.action))t.actionObject=ge(t.action,e);else if(Object(I.isArray)(t.action)){var n=t.action;t.actionObject=[],Object(I.each)(n,(function(n){t.actionObject.push(ge(n,e))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===ye)return!0;if(t===we)return e===ve;if(t===ve)return e!==we;if(t===xe)return e===we||e===ve;if(t===be){if(n[xe])return e===xe;if(e===ve)return!0}return!1},e.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==ye&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,i=this.context,r=this.callbackCaches,o=e.actionObject;if(e.action&&o){var a=this.getKey(t,e);if(!r[a]){var s=function(r){i.event=r,n.isAllowExcute(t,e)?(Object(I.isArray)(o)?Object(I.each)(o,(function(t){i.event=r,me(t)})):(i.event=r,me(o)),n.afterExecute(t,e),e.callback&&(i.event=r,e.callback(i))):i.event=null};e.debounce?r[a]=Object(I.debounce)(s,e.debounce.wait,e.debounce.immediate):e.throttle?r[a]=Object(I.throttle)(s,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):r[a]=s}return r[a]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(fe),_e={};function Se(t,e){_e[Object(I.lowerCase)(t)]=e}function Oe(t,e,n){var i=function(t){return _e[Object(I.lowerCase)(t)]}(t);if(!i)return null;if(Object(I.isPlainObject)(i)){var r=Object(I.mix)(Object(I.clone)(i),n);return new Ce(e,r)}return new i(e,n)}var Me=n(46);function ke(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},i={title:{autoRotate:!0,position:"center",style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0},r={line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},o={title:null,marker:{symbol:"circle",style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:t.backgroundColor,defaultColor:t.brandColor,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var i=At(t.getModel(),e),r=(i.startAngle+i.endAngle)/2,o=7.5*Math.cos(r),a=7.5*Math.sin(r);return{matrix:lt.ext.transform(null,[["t",o,a]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:Object(P.__assign)(Object(P.__assign)({},n.line.default),{lineDash:[1,1]})},active:{style:Object(P.__assign)(Object(P.__assign)({},n.line.active),{lineDash:[1,1]})},inactive:{style:Object(P.__assign)(Object(P.__assign)({},n.line.inactive),{lineDash:[1,1]})},selected:{style:Object(P.__assign)(Object(P.__assign)({},n.line.selected),{lineDash:[1,1]})}},dash:{default:{style:Object(P.__assign)(Object(P.__assign)({},n.line.default),{lineDash:[5.5,1]})},active:{style:Object(P.__assign)(Object(P.__assign)({},n.line.active),{lineDash:[5.5,1]})},inactive:{style:Object(P.__assign)(Object(P.__assign)({},n.line.inactive),{lineDash:[5.5,1]})},selected:{style:Object(P.__assign)(Object(P.__assign)({},n.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}}},components:{axis:{top:Object(I.deepMix)({},i,{position:"top",grid:null,title:null,verticalLimitLength:.5}),bottom:Object(I.deepMix)({},i,{position:"bottom",grid:null,title:null,verticalLimitLength:.5}),left:Object(I.deepMix)({},i,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:r,verticalLimitLength:1/3}),right:Object(I.deepMix)({},i,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:r,verticalLimitLength:1/3}),circle:Object(I.deepMix)({},i,{title:null,label:{offset:8},grid:Object(I.deepMix)({},r,{line:{type:"line"}})}),radius:Object(I.deepMix)({},i,{title:null,label:{offset:8},grid:Object(I.deepMix)({},r,{line:{type:"circle"}})})},legend:{right:Object(I.deepMix)({},o,{layout:"vertical"}),left:Object(I.deepMix)({},o,{layout:"vertical"}),top:Object(I.deepMix)({},o,{layout:"horizontal"}),bottom:Object(I.deepMix)({},o,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e[""+Me.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+Me.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+Me.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+Me.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+Me.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+Me.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var Ae="#000",Te="#595959",De="#8C8C8C",Pe="#BFBFBF",Ie="#D9D9D9",Ee="#FFFFFF",je=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Le={default:ke({backgroundColor:"transparent",brandColor:je[0],paletteQualitative10:je,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:Pe,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Te,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Pe,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Ie,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:De,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Ie,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:De,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:je[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Te,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Ie,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:De,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Pe,annotationArcBorderColor:Ie,annotationArcBorder:.5,annotationLineBorderColor:Pe,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Te,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#F2F2F2",annotationTextBorder:1.5,annotationRegionFillColor:Ae,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Pe,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Te,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Te,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ee,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Pe,pointFillColor:je[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ee,pointBorderOpacity:1,pointActiveBorderColor:Ae,pointSelectedBorder:2,pointSelectedBorderColor:Ae,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:je[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ee,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ae,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ae,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:je[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:je[0],areaFillOpacity:.25,areaActiveFillColor:je[0],areaActiveFillOpacity:.5,areaSelectedFillColor:je[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:je[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ae,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ae,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:je[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ae,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ae,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:je[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ee,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ae,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ae,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3})};function Be(t){return Object(I.get)(Le,Object(I.lowerCase)(t),Le.default)}function Ne(t,e,n){var i=n.translate(t),r=n.translate(e);return Object(I.isNumberEqual)(i,r)}function Re(t,e,n){var i=n.coordinate,r=n.getYScale(),o=r.field,a=i.invert(e),s=r.invert(a.y);return Object(I.find)(t,(function(t){var e=t._origin;return e[o][0]<=s&&e[o][1]>=s}))||t[t.length-1]}var Fe=Object(I.memoize)((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,i=t.translate(e[0]),r=i,o=0;o<n;o++){var a=e[o],s=t.translate(a);s<i&&(i=s),s>r&&(r=s)}return(r-i)/(n-1)}));function ze(t){for(var e,n=0,i=function(t){var e=Object(I.values)(t.attributes);return Object(I.filter)(e,(function(t){return Object(I.contains)(F,t.type)}))}(t);n<i.length;n++){var r=i[n],o=r.getScale(r.type);if(o&&o.isLinear){e=o;break}}var a=t.getXScale(),s=t.getYScale();return e||s||a}function Ve(t,e,n){if(0===e.length)return null;var i=n.type,r=n.getXScale(),o=n.getYScale(),a=r.field,s=o.field,l=null;if("heatmap"===i||"point"===i){for(var c=n.coordinate.invert(t),h=r.invert(c.x),u=o.invert(c.y),d=1/0,p=0;p<e.length;p++){var f=e[p],g=f._origin,m=Math.pow(g[a]-h,2)+Math.pow(g[s]-u,2);m<d&&(d=m,l=f)}return l}var v=e[0],y=e[e.length-1],x=function(t,e){var n=e.coordinate,i=e.getXScale(),r=i.range,o=r[r.length-1],a=r[0],s=n.invert(t).x;return n.isPolar&&s>(1+o)/2&&(s=a),i.translate(i.invert(s))}(t,n),b=v._origin[a],w=v._origin[s],C=y._origin[a],_=o.isLinear&&Object(I.isArray)(w);if(Object(I.isArray)(b)){for(p=0;p<e.length;p++){g=(T=e[p])._origin;if(r.translate(g[a][0])<=x&&r.translate(g[a][1])>=x){if(!_){l=T;break}Object(I.isArray)(l)||(l=[]),l.push(T)}}Object(I.isArray)(l)&&(l=Re(l,t,n))}else{var S=void 0;if(r.isLinear||"timeCat"===r.type){if((x>r.translate(C)||x<r.translate(b))&&(x>r.max||x<r.min))return null;for(var O=0,M=e.length-1,k=void 0;O<=M;){var A=e[k=Math.floor((O+M)/2)]._origin[a];if(Ne(A,x,r))return e[k];r.translate(A)<=r.translate(x)?(O=k+1,y=e[k],S=e[k+1]):(0===M&&(y=e[0]),M=k-1)}}else{for(p=0;p<e.length;p++){var T;if(Ne((g=(T=e[p])._origin)[a],x,r)){if(!_){l=T;break}Object(I.isArray)(l)||(l=[]),l.push(T)}else r.translate(g[a])<=x&&(y=T,S=e[p+1])}Object(I.isArray)(l)&&(l=Re(l,t,n))}y&&S&&Math.abs(r.translate(y._origin[a])-x)>Math.abs(r.translate(S._origin[a])-x)&&(y=S)}var D=Fe(n.getXScale());return!l&&Math.abs(r.translate(y._origin[a])-x)<=D/2&&(l=y),l}function Ge(t,e,n){void 0===n&&(n="");var i,r=t._origin,o=function(t,e,n){var i=n;n||(i=e.getAttribute("position").getFields()[0]);var r=e.scales;return r[i]?r[i].getText(t[i]):Object(I.hasKey)(t,i)?t[i]:i}(r,e,n),a=e.tooltipOption,s=e.theme.defaultColor,l=[];function c(e,n){if(!Object(I.isNil)(n)&&""!==n){var i={title:o,data:r,mappingData:t,name:e,value:n,color:t.color||s,marker:!0};l.push(i)}}if(Object(I.isObject)(a)){var h=a.fields,u=a.callback;if(u){var d=h.map((function(e){return t._origin[e]})),p=u.apply(void 0,d),f=Object(P.__assign)({data:t._origin,mappingData:t,title:o,color:t.color||s,marker:!0},p);l.push(f)}else for(var g=e.scales,m=0,v=h;m<v.length;m++){var y=v[m];if(!Object(I.isNil)(r[y])){var x=g[y];c(st(x),i=x.getText(r[y]))}}}else{var b=ze(e);Object(I.isNil)(r[b.field])||(i=function(t,e){var n=t[e.field];return Object(I.isArray)(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(r,b),c(function(t,e){var n,i=e.getGroupScales();if(i.length&&(n=i[0]),n){var r=n.field;return n.getText(t[r])}return st(ze(e))}(r,e),i))}return l}var He={};function We(t,e){He[t]=e}function $e(t){return He[t]}var Ye=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return Object(I.some)(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,i=n.type,r=n.cfg,o="theta"===i,a=Object(P.__assign)({start:t,end:e},r),s=Object(U.getCoordinate)(o?"polar":i);return this.coordinate=new s(a),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return Object(P.__assign)({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;Object(I.each)(n,(function(n){var i,r=n[0],o=n.slice(1);(!!Object(I.isNil)(t)||t.includes(r))&&(i=e.coordinate)[r].apply(i,o)}))},t}(),Xe=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}();function qe(t){return!Object(I.isNumber)(t)&&!Object(I.isArray)(t)}function Ue(t){void 0===t&&(t=0);var e=Object(I.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(P.__spreadArrays)(e,e);break;case 3:e=Object(P.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4)}return e}var Ze=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.top=t,this.right=e,this.bottom=n,this.left=i}return t.prototype.shrink=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return this.top+=e,this.right+=n,this.bottom+=i,this.left+=r,this},t.prototype.inc=function(t,e){var n=t.width,i=t.height;switch(e){case k.TOP:case k.TOP_LEFT:case k.TOP_RIGHT:this.top+=i;break;case k.RIGHT:case k.RIGHT_TOP:case k.RIGHT_BOTTOM:this.right+=n;break;case k.BOTTOM:case k.BOTTOM_LEFT:case k.BOTTOM_RIGHT:this.bottom+=i;break;case k.LEFT:case k.LEFT_TOP:case k.LEFT_BOTTOM:this.left+=n}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t}();function Ke(t){var e=t.getController("axis"),n=t.getController("legend"),i=t.getController("annotation"),r=t.getController("slider"),o=function(t){var e=t.padding;if(!qe(e))return Ue(e);var n=t.viewBBox,i=t.autoPadding,r=new Ze;Object(I.each)(t.getComponents(),(function(t){var e=t.component,i=t.type;if(i!==A.GRID&&i!==A.TOOLTIP){var o=e.getLayoutBBox(),a=new Ht(o.x,o.y,o.width,o.height);if(i===A.AXIS){var s=a.exceed(n);r.shrink(s)}else{var l=t.direction;r.inc(a,l)}}}));var o=r.getPadding();if(i){var a=Ue(t.appendPadding);return[Math.max(i[0]-a[0],o[0]),Math.max(i[1]-a[1],o[1]),Math.max(i[2]-a[2],o[2]),Math.max(i[3]-a[3],o[3])]}return o}(t);t.coordinateBBox=t.viewBBox.shrink(o).shrink(Ue(t.appendPadding)),t.adjustCoordinate(),[e,r,n,i].forEach((function(t){t&&t.layout()}))}var Je=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,i){var r=n,o=this.getScaleMeta(i);if(0===e.length&&o){var a=o.scale,s={type:a.type};a.isCategory&&(s.values=a.values),r=Object(I.deepMix)(s,o.scaleDef,n)}var l=at(t,e,r);return this.cacheScale(l,n,i),l},t.prototype.sync=function(){var t=this;this.syncScales.forEach((function(e,n){var i=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,o=[];Object(I.each)(e,(function(e){var n=t.getScale(e);r=Object(I.isNumber)(n.max)?Math.max(r,n.max):r,i=Object(I.isNumber)(n.min)?Math.min(i,n.min):i,Object(I.each)(n.values,(function(t){o.includes(t)||o.push(t)}))})),Object(I.each)(e,(function(e){var n=t.getScale(e);n.isContinuous?n.change({min:i,max:r,values:o}):n.isCategory&&n.change({values:o})}))}))},t.prototype.cacheScale=function(t,e,n){var i=this.getScaleMeta(n);i&&i.scale.type===t.type?(!function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);t.change(n)}}(i.scale,t),i.scaleDef=e):(i={key:n,scale:t,scaleDef:e},this.scales.set(n,i));var r=this.getSyncKey(i);if(i.syncKey=r,this.removeFromSyncScales(n),r){var o=this.syncScales.get(r);o||(o=[],this.syncScales.set(r,o)),o.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=Object(I.last)(t.split("-")),i=this.syncScales.get(n);i&&i.length&&(e=this.getScaleMeta(i[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,i=this.syncScales.get(n);if(i&&i.length){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,i){var r=n.indexOf(t);if(-1!==r)return n.splice(r,1),0===n.length&&e.syncScales.delete(i),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,i=e.field,r=Object(I.get)(n,["sync"]);return!0===r?i:!1===r?void 0:r},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),Qe=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.id=Object(I.uniqueId)("view"),n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=Object.keys(He),n.scalePool=new Je,n.layoutFunc=Ke,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var i=n.createViewEvent(t);n.doPlotEvent(i),n.emit(e,i)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var i=n.createViewEvent(t);n.emit(e,i)}};var i=e.parent,r=e.canvas,o=e.backgroundGroup,a=e.middleGroup,s=e.foregroundGroup,l=e.region,c=void 0===l?{start:{x:0,y:0},end:{x:1,y:1}}:l,h=e.padding,u=e.appendPadding,d=e.theme,p=e.options,f=e.limitInPlot;return n.parent=i,n.canvas=r,n.backgroundGroup=o,n.middleGroup=a,n.foregroundGroup=s,n.region=c,n.padding=h,n.appendPadding=u,n.options=Object(P.__assign)(Object(P.__assign)({},n.options),p),n.limitInPlot=f,n.themeObject=Object(I.isObject)(d)?Object(I.deepMix)({},Be("default"),d):Be(d),n.init(),n}return Object(P.__extends)(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Ye(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},e.prototype.render=function(t){void 0===t&&(t=!1),this.emit(E.BEFORE_RENDER),this.paint(t),this.emit(E.AFTER_RENDER),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(E.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];var i=this.controllers;for(n=0;n<i.length;n++)i[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var r=this.views;for(n=0;n<r.length;n++)r[n].clear();this.emit(E.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(E.BEFORE_DESTROY);var e=this.interactions;Object(I.each)(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,i=0,r=n.length;i<r;i++){n[i].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,i=0,r=n.length;i<r;i++){n[i].changeVisible(e)}var o=this.controllers;for(i=0,r=o.length;i<r;i++){o[i].changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return Object(I.set)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,e){return Object(I.isFunction)(e)?(Object(I.set)(this.options,["filters",t],e),this):(!e&&Object(I.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return Object(I.isBoolean)(t)?Object(I.set)(this.options,["axes"],t):Object(I.set)(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return Object(I.isBoolean)(t)?Object(I.set)(this.options,["legends"],t):Object(I.isString)(t)?Object(I.set)(this.options,["legends",t],e):Object(I.set)(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return Object(I.isString)(t)?Object(I.set)(this.options,["scales",t],e):Object(I.isObject)(t)&&Object(I.each)(t,(function(t,e){Object(I.set)(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return Object(I.set)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,e){return Object(I.isString)(t)?Object(I.set)(this.options,"coordinate",{type:t,cfg:e}):Object(I.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=function(t){return yt[Object(I.lowerCase)(t)]}(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,Object(P.__assign)(Object(P.__assign)({},e),{type:t})),this},e.prototype.animate=function(t){return Object(I.set)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),Object(I.mix)(this.options,t),this.initOptions(),this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(I.set)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=Object(I.isObject)(t)?Object(I.deepMix)({},this.themeObject,t):Be(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var i=Oe(t,this,e);return i&&(i.init(),this.interactions[t]=i),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(E.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,i=e.length;n<i;n++){e[n].changeData(t)}this.emit(E.AFTER_CHANGE_DATA)},e.prototype.createView=function(t){var n={data:this.options.data,scales:Object(I.clone)(this.options.scales),axes:Object(I.clone)(this.options.axes),coordinate:Object(I.clone)(this.coordinateController.getOption()),tooltip:Object(I.clone)(this.options.tooltip),legends:Object(I.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new e(Object(P.__assign)(Object(P.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:R}),middleGroup:this.middleGroup.addGroup({zIndex:N}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:B}),theme:this.themeObject,padding:this.padding},t),{options:Object(P.__assign)(Object(P.__assign)({},n),Object(I.get)(t,"options",{}))}));return this.views.push(i),i},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var e=Object(I.remove)(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={};return this.geometries.map((function(e){var n=e.getYScale(),i=n.field;if(!t[i])return t[i]=!0,n}))},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},i=0,r=e.length;i<r;i++){var o=e[i],a="x"===t?o.getXScale():o.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},e.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getLayer=function(t){return t===M.BG?this.backgroundGroup:t===M.MID?this.middleGroup:(M.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return Lt(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return Object(I.flatten)(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return It(Object(I.flatten)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},e.prototype.getXY=function(t){var e,n,i=this.getCoordinate(),r=this.getScalesByDim("x"),o=this.getScalesByDim("y");if(Object(I.each)(t,(function(t,i){r[i]&&(e=r[i].scale(t)),o[i]&&(n=o[i].scale(t))})),!Object(I.isNil)(e)&&!Object(I.isNil)(n))return i.convert({x:e,y:n})},e.prototype.getController=function(t){return Object(I.find)(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],i=0,r=e.length;i<r;i++){var o=e[i],a=o.dataArray;o.sort(a);for(var s=void 0,l=0,c=a.length;l<c;l++){(s=Ve(t,a[l],o))&&n.push(s)}}var h=this.views;for(i=0,r=h.length;i<r;i++){var u=h[i].getSnapRecords(t);n=n.concat(u)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,i=e.length;n<i;n++){var r=e[n];t=t.concat(r.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===Object(I.size)(e)?t:Object(I.filter)(t,(function(t,n){return Object.keys(e).every((function(i){return(0,e[i])(t[i],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,i=Object(I.get)(n,t);return Object(I.isUndefined)(i)?e:e.filter((function(e,n){return i(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,i=this.coordinateBBox.bl,r=this.coordinateBBox.tr;Object(I.isEqual)(e,i)&&Object(I.isEqual)(n,r)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(i,r))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(E.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(E.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=Object(I.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,i=e.y,r=e.width,o=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:i,width:r,height:o})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},e.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;qe(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var i=this.views,r=0,o=i.length;r<o;r++){i[r].renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=Nt(this.coordinateInstance),i=n.type,r=n.attrs;e.setClip({type:i,attrs:r})}this.paintGeometries(t),this.renderComponents(t);for(var o=this.views,a=0,s=o.length;a<s;a++){o[a].renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,n,i){var r=Object(I.get)(this.options.scales,[t]),o=Object(P.__assign)(Object(P.__assign)({},r),n);return this.parent?this.parent.createScale(t,e,o,i):this.scalePool.createScale(t,e,o,i)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,i=e.length;n<i;n++){e[n].renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,i;if(this.parent){var r=this.parent.coordinateBBox;t=r.x,e=r.y,n=r.width,i=r.height}else t=0,e=0,n=this.canvas.get("width"),i=this.canvas.get("height");var o=this.region,a=o.start,s=o.end,l=new Ht(t+n*a.x,e+i*a.y,n*(s.x-a.x),i*(s.y-a.y));this.viewBBox&&this.viewBBox.isEqual(l)||(this.viewBBox=new Ht(t+n*a.x,e+i*a.y,n*(s.x-a.x),i*(s.y-a.y)),this.coordinateBBox=this.viewBBox)},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var i=$e(t[e]);i&&this.controllers.push(new i(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,i=e?e.get("origin"):null,r=new Xe(this,t,i);return r.type=n,r},e.prototype.doPlotEvent=function(t){var e=t.type,n={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var i=this.isPointInPlot(n);if(i){var r="plot:"+e;t.type=r,this.emit(r,t),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!i?("mousemove"===e&&(t.type=j.MOUSE_LEAVE,this.emit(j.MOUSE_LEAVE,t)),t.type=j.LEAVE,this.emit(j.LEAVE,t)):!this.isPreMouseInPlot&&i&&("mousemove"===e&&(t.type=j.MOUSE_ENTER,this.emit(j.MOUSE_ENTER,t)),t.type=j.ENTER,this.emit(j.ENTER,t)),this.isPreMouseInPlot=i):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(t.type=j.MOUSE_LEAVE,this.emit(j.MOUSE_LEAVE,t)),t.type=j.LEAVE,this.emit(j.LEAVE,t),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=Object(I.get)(this.options,"scales",{}),i=this.geometries,r=0,o=i.length;r<o;r++){var a=i[r];a.scales=this.getGeometryScales();var s={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?a.update(s):a.init(s)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),i=n.data,r=n.scales,o=void 0===r?{}:r,a=this.filteredData,s=0,l=t.length;s<l;s++){var c=t[s],h=o[c],u=this.getScaleKey(c);this.createScale(c,e.includes(c)?i:a,h,u),this.createdScaleKeys.set(u,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync()},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var i=t[n];e[i]=this.getScaleByField(i)}return e},e.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,i=0;i<n.length;i++){It(n[i].getScaleFields(),t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,i=0;i<n.length;i++){It(n[i].getGroupFields(),t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=Object(P.__spreadArrays)([this.getXScale()],this.getYScales()).filter((function(t){return!!t})),n=this.getCoordinate(),i=this.options.scales;Object(I.each)(e,(function(e){var r=e.field,o=e.values,a=e.isCategory,s=e.isIdentity;if((a||s)&&o&&!Object(I.get)(i,[r,"range"])){var l=o.length,c=void 0;if(1===l)c=[.5,1];else{var h=0;c=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1}(n)?n.isTransposed?[(h=1/l*Object(I.get)(t.theme,"widthRatio.multiplePie",1/1.3))/2,1-h/2]:[0,1-1/l]:[h=1/l/2,1-h]}e.range=c}}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var i=e[n];t?i.update():(i.clear(),i.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),i={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},r=this.geometries,o=0;o<r.length;o++){var a=r[o];a.coordinate=n,a.canvasRegion=i,e||a.animate(!1),a.paint(t)}},e.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){this.getComponents()[e].component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=void 0===e?[]:e,i=t.interactions,r=void 0===i?[]:i,o=t.views,a=void 0===o?[]:o,s=t.annotations,l=void 0===s?[]:s,c=0;c<n.length;c++){var h=n[c];this.createGeometry(h)}for(var u=0;u<r.length;u++){var d=r[u],p=d.type,f=d.cfg;this.interaction(p,f)}for(var g=0;g<a.length;g++){var m=a[g];this.createView(m)}for(var v=this.getController("annotation"),y=0;y<l.length;y++){var x=l[y];v.annotation(x)}},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,i=void 0===n?{}:n;if(this[e]){var r=this[e](i);Object(I.each)(t,(function(t,e){Object(I.isFunction)(r[e])&&r[e](t)}))}},e.prototype.getScaleKey=function(t){return this.id+"-"+t},e}(Y);function tn(t,e){Qe.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=Object(P.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new e(n);return this.geometries.push(i),i}}var en=Qe,nn=(function(t){function e(e){var n=this,i=e.container,r=e.width,o=e.height,a=e.autoFit,s=void 0!==a&&a,l=e.padding,c=e.appendPadding,h=e.renderer,u=void 0===h?"canvas":h,d=e.pixelRatio,p=e.localRefresh,f=void 0===p||p,g=e.visible,m=void 0===g||g,v=e.defaultInteractions,y=void 0===v?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:v,x=e.options,b=e.limitInPlot,w=e.theme,C=Object(I.isString)(i)?document.getElementById(i):i,_=Object(G.createDom)('<div style="position:relative;"></div>');C.appendChild(_);var S=W(C,s,r,o),O=new(function(t){var e=z[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}(u).Canvas)(Object(P.__assign)({container:_,pixelRatio:d,localRefresh:f},S));return(n=t.call(this,{parent:null,canvas:O,backgroundGroup:O.addGroup({zIndex:R}),middleGroup:O.addGroup({zIndex:N}),foregroundGroup:O.addGroup({zIndex:B}),padding:l,appendPadding:c,visible:m,options:x,limitInPlot:b,theme:w})||this).onResize=Object(I.debounce)((function(){n.forceFit()}),300),n.ele=C,n.canvas=O,n.width=S.width,n.height=S.height,n.autoFit=s,n.localRefresh=f,n.renderer=u,n.wrapperElement=_,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(y),n}Object(P.__extends)(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;Object(I.each)(t,(function(t){e.interaction(t)}))},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0)),this},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),e=this.wrapperElement,(n=e.parentNode)&&n.removeChild(e),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=W(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){Object(G.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)}}(en),function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(){Object(I.each)(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}()),rn=function(){function t(t){var e=t.xField,n=t.yField,i=t.adjustNames,r=void 0===i?["x","y"]:i;this.adjustNames=r,this.xField=e,this.yField=n}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var i,r,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(i=0,r=1):s>1?(i=n[0===a?0:a-1],r=n[a===s-1?s-1:a+1],0!==a?i+=(e-i)/2:i-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-n[s-2])/2):(i=0===e?0:e-.5,r=0===e?1:e+.5),{pre:i,next:r}},t.prototype.adjustData=function(t,e){var n=this,i=this.getDimValues(e);I.each(t,(function(t,e){I.each(i,(function(i,r){n.adjustDim(r,i,t,e)}))}))},t.prototype.groupData=function(t,e){return I.each(t,(function(t){void 0===t[e]&&(t[e]=0)})),I.groupBy(t,e)},t.prototype.adjustDim=function(t,e,n,i){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,i={},r=[];if(e&&this.isAdjust("x")&&r.push(e),n&&this.isAdjust("y")&&r.push(n),r.forEach((function(e){i[e]=I.valuesOfKey(t,e).sort((function(t,e){return t-e}))})),!n&&this.isAdjust("y")){i.y=[0,1]}return i},t}(),on={},an=function(t){return on[t.toLowerCase()]},sn=function(t,e){if(an(t))throw new Error("Adjust type '"+t+"' existed.");on[t.toLowerCase()]=e},ln=n(1),cn=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=e.marginRatio,r=void 0===i?.5:i,o=e.dodgeRatio,a=void 0===o?.5:o,s=e.dodgeBy;return n.marginRatio=r,n.dodgeRatio=a,n.dodgeBy=s,n}return Object(ln.__extends)(e,t),e.prototype.process=function(t){var e=I.clone(t),n=I.flatten(e),i=this.dodgeBy,r=i?I.group(n,i):e;return this.cacheMap={},this.adjustDataArray=r,this.mergeData=n,this.adjustData(r,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,i){var r=this,o=this.getDistribution(t),a=this.groupData(n,t);return I.each(a,(function(n,a){var s;s=1===e.length?{pre:e[0]-1,next:e[0]+1}:r.getAdjustRange(t,parseFloat(a),e),I.each(n,(function(e){var n=e[t],a=o[n],l=a.indexOf(i);e[t]=r.getDodgeOffset(s,l,a.length)}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var i=this.dodgeRatio,r=this.marginRatio,o=t.pre,a=t.next,s=a-o,l=s*i/n,c=r*l;return(o+a)/2+(.5*(s-n*l-(n-1)*c)+((e+1)*l+e*c)-.5*l-.5*s)},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,i=n[t];return i||(i={},I.each(e,(function(e,n){var r=I.valuesOfKey(e,t);r.length||r.push(0),I.each(r,(function(t){i[t]||(i[t]=[]),i[t].push(n)}))})),n[t]=i),i},e}(rn);var hn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.process=function(t){var e=I.clone(t),n=I.flatten(e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var i=this,r=this.groupData(n,t);return I.each(r,(function(n,r){return i.adjustGroup(n,t,parseFloat(r),e)}))},e.prototype.getAdjustOffset=function(t){var e,n=t.pre,i=t.next,r=.05*(i-n);return(i-r-(e=n+r))*Math.random()+e},e.prototype.adjustGroup=function(t,e,n,i){var r=this,o=this.getAdjustRange(e,n,i);return I.each(t,(function(t){t[e]=r.getAdjustOffset(o)})),t},e}(rn),un=I.Cache,dn=function(t){function e(e){var n=t.call(this,e)||this,i=e.adjustNames,r=void 0===i?["y"]:i,o=e.height,a=void 0===o?NaN:o,s=e.size,l=void 0===s?10:s,c=e.reverseOrder,h=void 0!==c&&c;return n.adjustNames=r,n.height=a,n.size=l,n.reverseOrder=h,n}return Object(ln.__extends)(e,t),e.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,i=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(i):i},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this.xField,n=this.yField,i=this.reverseOrder?this.reverse(t):t,r=new un,o=new un;return i.map((function(t){return t.map((function(t){var i,a=I.get(t,e,0),s=I.get(t,n),l=a.toString();if(s=I.isArray(s)?s[1]:s,!I.isNil(s)){var c=s>=0?r:o;c.has(l)||c.set(l,0);var h=c.get(l),u=s+h;return c.set(l,u),Object(ln.__assign)(Object(ln.__assign)({},t),((i={})[n]=[h,u],i))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this.xField,i=this.height,r=this.reverseOrder,o=r?this.reverse(t):t,a=new un;return o.map((function(t){return t.map((function(t){var r,o=e.size,s=t[n],l=2*o/i;a.has(s)||a.set(s,l/2);var c=a.get(s);return a.set(s,c+l),Object(ln.__assign)(Object(ln.__assign)({},t),((r={}).y=c,r))}))}))},e}(rn),pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.process=function(t){var e=I.flatten(t),n=this.xField,i=this.yField,r=this.getXValuesMaxMap(e),o=Math.max.apply(Math,Object.keys(r).map((function(t){return r[t]})));return I.map(t,(function(t){return I.map(t,(function(t){var e,a,s=t[i],l=t[n];if(I.isArray(s)){var c=(o-r[l])/2;return Object(ln.__assign)(Object(ln.__assign)({},t),((e={})[i]=I.map(s,(function(t){return c+t})),e))}var h=(o-s)/2;return Object(ln.__assign)(Object(ln.__assign)({},t),((a={})[i]=[h,s+h],a))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,i=this.yField,r=I.groupBy(t,(function(t){return t[n]}));return I.mapValues(r,(function(t){return e.getDimMaxValue(t,i)}))},e.prototype.getDimMaxValue=function(t,e){var n=I.map(t,(function(t){return I.get(t,e,[])})),i=I.flatten(n);return Math.max.apply(Math,i)},e}(rn);sn("Dodge",cn),sn("Jitter",hn),sn("Stack",dn),sn("Symmetric",pn);var fn={};function gn(t){return fn[t.toLowerCase()]}function mn(t,e){fn[t.toLowerCase()]=e}var vn={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},yn={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},xn={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){return{animation:t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function bn(t,e,n){var i=yn[t];return i&&(Object(I.isFunction)(i)&&(i=i(e)),i=Object(I.deepMix)({},vn,i),n)?i[n]:i}function wn(t,e,n){var i=Object(I.get)(t.get("origin"),"data","_origin"),r=e.animation,o=function(t,e){return{delay:Object(I.isFunction)(t.delay)?t.delay(e):t.delay,easing:Object(I.isFunction)(t.easing)?t.easing(e):t.easing,duration:Object(I.isFunction)(t.duration)?t.duration(e):t.duration,callback:t.callback}}(e,i);if(r){var a=gn(r);a&&a(t,o,n)}else t.animate(n.toAttrs,o)}var Cn=n(218),_n=function(t){function e(e){var n=t.call(this,e)||this;n.states=[];var i=e.shapeFactory,r=e.container,o=e.offscreenGroup,a=e.visible,s=void 0===a||a;return n.shapeFactory=i,n.container=r,n.offscreenGroup=o,n.visible=s,n}return Object(P.__extends)(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var i=this.getOffscreenGroup(),r=e.drawShape(this.shapeType,t,i);r.cfg.data=this.data,r.cfg.origin=t,this.syncShapeStyle(n,r,"",this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var i=this.getAnimateCfg("leave");i?wn(n,i,{coordinate:e.coordinate,toAttrs:Object(P.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,i=this,r=i.states,o=i.shapeFactory,a=i.model,s=i.shape,l=i.shapeType,c=r.indexOf(t);if(e){if(c>-1)return;r.push(t),"active"!==t&&"selected"!==t||s.toFront()}else{if(-1===c)return;r.splice(c,1),"active"!==t&&"selected"!==t||s.toBack()}var h=o.drawShape(l,a,this.getOffscreenGroup());r.length?r.forEach((function(t){n.syncShapeStyle(s,h,t,null)})):this.syncShapeStyle(s,h,"reset",null),h.remove(!0);var u={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",u),Object(Cn.propagationDelegate)(this.shape,"statechange",u)},e.prototype.clearStates=function(){var t=this,e=this.states;Object(I.each)(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this.shapeType,e=this.geometry,n=this.shapeFactory,i=e.stateOption,r=n.defaultShapeType,o=n.theme[t]||n.theme[r];this.statesStyle=Object(I.deepMix)({},o,i)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),i=Object(I.get)(n,[t,"style"],{}),r=i[e]||i;return Object(I.isFunction)(r)?r(this):r},e.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},e.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var n=this.shapeFactory,i=this.container,r=this.shapeType;if(this.shape=n.drawShape(r,t,i),this.shape){this.setShapeInfo(this.shape,t);var o=this.shape.cfg.name;o?Object(I.isString)(o)&&(this.shape.cfg.name=["element",o]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var a=e?"enter":"appear",s=this.getAnimateCfg(a);s&&wn(this.shape,s,{coordinate:n.coordinate,toAttrs:Object(P.__assign)({},this.shape.attr())})}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;(t.cfg.origin=e,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,i,r){if(void 0===n&&(n=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],n,i,r+s);else{if(n&&"reset"!==n){var l=t.get("name");Object(I.isArray)(l)&&(l=l[1]);var c=this.getStateStyle(n,l||r);e.attr(c)}var h=Tt(t,e);this.animate?i?wn(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:h,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(h,{duration:300})):t.attr(h):t.attr(h)}},e.prototype.getShapeType=function(t){var e=Object(I.get)(t,"shape");return Object(I.isArray)(e)?e[0]:e},e}(Y),Sn={},On={};function Mn(t,e){Sn[t.toLowerCase()]=e}function kn(t,e){On[t.toLowerCase()]=e}var An=n(166),Tn={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var i=this.defaultShapeType;n=this.getShape(i)}var r=this.theme,o=Object(I.get)(r,[t,"default"],{}),a=n.getMarker(e);return Object(I.deepMix)({},o,a)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},Dn={coordinate:null,parsePath:function(t){var e=this.coordinate,n=Object(An.b)(t);return n=e.isPolar?Gt(e,n):function(t,e){var n=[];return Object(I.each)(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(Rt(e,t));break;case"z":default:n.push(e)}})),n}(e,n)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},Pn={};function In(t,e){var n=Object(I.upperFirst)(t),i=Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({},Tn),e),{geometryType:t});return Pn[n]=i,i}function En(t,e,n){var i=Object(I.upperFirst)(t),r=Pn[i],o=Object(P.__assign)(Object(P.__assign)({},Dn),n);return r[e]=o,o}function jn(t){var e=Object(I.upperFirst)(t);return Pn[e]}function Ln(t,e){return Object(I.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!Object(I.isEqual)(t[n],e[n])}))}function Bn(t){return Object(I.isArray)(t)?t:t.split("*")}var Nn=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=e.container,r=e.labelsContainer,o=e.coordinate,a=e.data,s=e.sortable,l=void 0!==s&&s,c=e.visible,h=void 0===c||c,u=e.theme,d=e.scales,p=void 0===d?{}:d,f=e.scaleDefs,g=void 0===f?{}:f;return n.container=i,n.labelsContainer=r,n.coordinate=o,n.data=a,n.sortable=l,n.visible=h,n.userTheme=u,n.scales=p,n.scaleDefs=g,n}return Object(P.__extends)(e,t),e.prototype.position=function(t){var e=t;Object(I.isPlainObject)(t)||(e={fields:Bn(t)});var n=Object(I.get)(e,"fields");return 1===n.length&&(n.unshift("1"),Object(I.set)(e,"fields",n)),Object(I.set)(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return(Object(I.isString)(t)||Object(I.isPlainObject)(t))&&(e=[t]),Object(I.each)(e,(function(t,n){Object(I.isObject)(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if(Object(I.isString)(t)){var n=Bn(t);this.styleOption={fields:n,callback:e}}else{var i=t,r=(n=i.fields,i.callback),o=i.cfg;this.styleOption=n||r||o?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if(Object(I.isString)(t)){var n=Bn(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if(Object(I.isString)(t)){var i={},r=Bn(t);i.fields=r,Object(I.isFunction)(e)?i.callback=e:Object(I.isPlainObject)(e)&&(i.cfg=e),n&&(i.cfg=n),this.labelOption=i}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,i=t.isCoordinateChanged,r=this.attributeOption,o=this.lastAttributeOption;Object(I.isEqual)(r,o)?!e||!n&&Object(I.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=i},e.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(I.deepMix)({},bn(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={},this.getOffscreenGroup().clear();for(var n=this.beforeMappingData,i=this.beforeMapping(n),r=[],o=0,a=i.length;o<a;o++){var s=i[o],l=this.mapping(s);r.push(l),this.createElements(l,o,t)}if(this.canDoGroupAnimation(t)){var c=this.container,h=this.type,u=this.coordinate,d=Object(I.get)(this.animateOption,"appear"),p=this.getYScale(),f=u.convert({x:0,y:p.scale(this.getYMinValue())});!function(t,e,n,i,r){if(xn[n]){var o=xn[n](i),a=gn(Object(I.get)(o,"animation",""));if(a){var s=Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({},vn.appear),o),e);t.stopAnimate(),a(t,s,{coordinate:i,minYPoint:r,toAttrs:null})}}}(c,d,h,u,f)}this.labelOption&&this.renderLabels(Object(I.flatten)(r),t),this.dataArray=r,Object(I.each)(this.lastElementsMap,(function(t){t.animate=e.animateOption,t.destroy()})),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(P.__assign)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this.container,e=this.geometryLabel,n=this.offscreenGroup;t&&t.clear(),e&&e.clear(),n&&n.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return Object(I.each)(this.attributes,(function(e){F.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&Object(I.isEmpty)(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],i=t.scales,r=0,o=i.length;r<o;r++){var a=i[r],s=a.field;a.isIdentity?n.push(a.values):n.push(e[s])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElementId=function(t){var e=(t=Object(I.isArray)(t)?t[0]:t)._origin;if(this.idFields.length){for(var n=e[this.idFields[0]],i=1;i<this.idFields.length;i++)n+="-"+e[this.idFields[i]];return n}var r,o,a=this.type,s=this.getXScale(),l=this.getYScale(),c=s.field||"x",h=e[l.field||"y"];r="identity"===s.type?s.values[0]:e[c],o="interval"===a||"schema"===a?r:"line"===a||"area"===a||"path"===a?a:r+"-"+h;for(var u=this.groupScales,d=(i=0,u.length);i<d;i++){o=o+"-"+e[u[i].field]}var p=this.getAdjust("dodge");if(p){var f=p.dodgeBy;f&&(o=o+"-"+e[f])}return this.getAdjust("jitter")&&(o=o+"-"+t.x+"-"+t.y),o},e.prototype.getScaleFields=function(){var t=[],e={},n=this.attributeOption,i=this.labelOption,r=this.tooltipOption;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];a.fields?It(a.fields,t,e):a.values&&It(a.values,t,e)}return i&&i.fields&&It(i.fields,t,e),Object(I.isObject)(r)&&r.fields&&It(r.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,i=0,r=n.length;i<r;i++){n[i].changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getGroupFields=function(){for(var t=[],e={},n=0,i=F.length;n<i;n++){var r=F[n],o=this.attributeOption[r];o&&o.fields&&It(o.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,i=0;i<t.length;i++){t[i].sort((function(t,i){return e.translate(t._origin[n])-e.translate(i._origin[n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(jn(t))return this.shapeFactory||(this.shapeFactory=Object(I.clone)(jn(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:n?this.normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e){void 0===e&&(e=!1);var n=this.container,i=this.getDrawCfg(t),r=this.getShapeFactory(),o=new _n({shapeFactory:r,container:n,offscreenGroup:this.getOffscreenGroup()});return o.animate=this.animateOption,o.geometry=this,o.draw(i,e),o},e.prototype.getDrawCfg=function(t){var e=t._origin,n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},i=t.shape;!i&&this.getShapeFactory()&&(i=this.getShapeFactory().defaultShapeType),n.shape=i;var r=this.theme.geometries[this.shapeType];n.defaultStyle=Object(I.get)(r,[i,"default"],{}).style;var o=this.styleOption;return o&&(n.style=this.getStyleCfg(o,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);for(var i=this.lastElementsMap,r=this.elementsMap,o=this.elements,a=0,s=t.length;a<s;a++){var l=t[a],c=this.getElementId(l);r[c]&&(c=c+"-"+e+"-"+a);var h=i[c];if(h){var u=this.getDrawCfg(l),d=h.getModel();(this.isCoordinateChanged||Ln(u,d))&&(h.animate=this.animateOption,h.update(u)),delete i[c]}else h=this.createElement(l,n);o.push(h),r[c]=h}return o},e.prototype.getLabelType=function(){var t=this.labelOption,e=this.coordinate,n=this.type,i=e.type,r=Object(I.get)(t,["cfg","type"]);return r||(r="polar"===i?"polar":"theta"===i?"pie":"interval"===n||"polygon"===n?"interval":"base"),r},e.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},e.prototype.createAttrOption=function(t,e,n){if(Object(I.isNil)(e)||Object(I.isObject)(e))Object(I.isObject)(e)&&Object(I.isEqual)(Object.keys(e),["values"])?Object(I.set)(this.attributeOption,t,{fields:e.values}):Object(I.set)(this.attributeOption,t,e);else{var i={};Object(I.isNumber)(e)?i.values=[e]:i.fields=Bn(e),n&&(Object(I.isFunction)(n)?i.callback=n:i.values=n),Object(I.set)(this.attributeOption,t,i)}},e.prototype.initAttributes=function(){var t=this,e=this.attributes,n=this.attributeOption,i=this.theme,r=this.shapeType;this.groupScales=[];var o={},a=function(a){if(n.hasOwnProperty(a)){var s=n[a];if(!s)return{value:void 0};var l=Object(P.__assign)({},s),c=l.callback,h=l.values,u=l.fields,d=(void 0===u?[]:u).map((function(e){var n=t.scales[e];return n.isCategory&&!o[e]&&F.includes(a)&&(t.groupScales.push(n),o[e]=!0),n}));l.scales=d,"position"!==a&&1===d.length&&"identity"===d[0].type?l.values=d[0].values:c||h||("size"===a?l.values=i.sizes:"shape"===a?l.values=i.shapes[r]||[]:"color"===a&&(d.length?l.values=d[0].values.length<=10?i.colors10:i.colors20:l.values=i.colors10));var p=Object(q.getAttribute)(a);e[a]=new p(l)}};for(var s in n){var l=a(s);if("object"==typeof l)return l.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales.filter((function(t){return t.isCategory})),n=this.groupData(t),i=[],r=0,o=n.length;r<o;r++){for(var a=n[r],s=[],l=0,c=a.length;l<c;l++){var h=a[l],u={};for(var d in h)u[d]=h[d];u._origin=h;for(var p=0,f=e;p<f.length;p++){var g=f[p],m=g.field;u[m]=g.translate(u[m])}s.push(u)}i.push(s)}var v=this.adjustData(i);return this.beforeMappingData=v,v},e.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var i=this.getXScale(),r=this.getYScale(),o=i.field,a=r?r.field:null,s=0,l=e.length;s<l;s++){var c=e[s],h=Object(P.__assign)({xField:o,yField:a},c),u=c.type;if("dodge"===u){var d=[];if(i.isCategory||"identity"===i.type)d.push("x");else{if(r)throw new Error("dodge is not support linear attribute, please use category attribute!");d.push("y")}h.adjustNames=d,h.dodgeRatio=this.theme.columnWidthRatio}else if("stack"===u){var p=this.coordinate;if(!r){h.height=p.getHeight();var f=this.getDefaultValue("size")||3;h.size=f}!p.isTransposed&&Object(I.isNil)(h.reverseOrder)&&(h.reverseOrder=!0)}var g=new(an(u))(h);n=g.process(n),this.adjusts[u]=g}return n},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,i={},r=[],o=0;o<e.length;o++){var a=e[o].field;r.push(a),Object(I.get)(n,[a,"values"])&&(i[a]=n[a].values)}return function(t,e,n){if(void 0===n&&(n={}),!e)return[t];var i=Object(I.groupToMap)(t,e),r=[];if(1===e.length&&n[e[0]])for(var o=0,a=n[e[0]];o<a.length;o++){var s=i["_"+a[o]];s&&r.push(s)}else for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];r.push(c)}return r}(t,r,i)},e.prototype.updateStackRange=function(t,e){for(var n=Object(I.flatten)(e),i=t.field,r=t.min,o=t.max,a=0;a<n.length;a++){var s=n[a],l=Math.min.apply(null,s[i]),c=Math.max.apply(null,s[i]);l<r&&(r=l),c>o&&(o=c)}var h=this.scaleDefs,u={};r<t.min&&!Object(I.get)(h,[i,"min"])&&(u.min=r),o>t.max&&!Object(I.get)(h,[i,"max"])&&(u.max=o),t.change(u)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,i=e.length;n<i;n++){var r=e[n];this.generateShapePoints(r);var o=e[n+1];o&&(this.generateShapePoints(o),r[0].nextPoints=o[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),i=0;i<t.length;i++){var r=t[i],o=this.createShapePointsCfg(r),a=n?this.getAttributeValues(n,r):null,s=e.getShapePoints(a,o);r.points=s}},e.prototype.normalizeValues=function(t,e){var n=[];if(Object(I.isArray)(t))for(var i=0;i<t.length;i++){var r=t[i];n.push(e.scale(r))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],i=0;i<t.length;i++){var r=t[i],o={_origin:r._origin,points:r.points,nextPoints:r.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l=s.names,c=this.getAttributeValues(s,r);if(l.length>1)for(var h=0;h<c.length;h+=1){var u=c[h];o[l[h]]=Object(I.isArray)(u)&&1===u.length?u[0]:u}else o[l[0]]=1===c.length?c[0]:c}this.convertPoint(o),n.push(o)}return n},e.prototype.convertPoint=function(t){var e,n,i,r=t.x,o=t.y,a=this.coordinate;if(Object(I.isArray)(r)&&Object(I.isArray)(o)){e=[],n=[];for(var s=0,l=0,c=r.length,h=o.length;s<c&&l<h;s+=1,l+=1)i=a.convert({x:r[s],y:o[l]}),e.push(i.x),n.push(i.y)}else if(Object(I.isArray)(o)){n=[];for(var u=0;u<o.length;u++){var d=o[u];i=a.convert({x:r,y:d}),e&&e!==i.x?(Object(I.isArray)(e)||(e=[e]),e.push(i.x)):e=i.x,n.push(i.y)}}else if(Object(I.isArray)(r)){e=[];for(u=0;u<r.length;u++){var p=r[u];i=a.convert({x:p,y:o}),n&&n!==i.y?(Object(I.isArray)(n)||(n=[n]),n.push(i.y)):n=i.y,e.push(i.x)}}else{var f=a.convert({x:r,y:o});e=f.x,n=f.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,i=void 0===n?[]:n,r=t.callback,o=t.cfg;if(o)return o;var a=i.map((function(t){return e[t]}));return r.apply(void 0,a)},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,i=t.data,r=t.theme,o=t.scaleDefs;n&&(this.coordinate=n),i&&(this.data=i),o&&(this.scaleDefs=o,this.idFields=[],Object(I.each)(o,(function(t,n){t&&t.key&&e.idFields.push(n)}))),r&&(this.theme=this.userTheme?Object(I.deepMix)({},r,this.userTheme):r)},e.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n=this.geometryLabel;if(!n){var i=this.getLabelType();n=new(0,Sn[i.toLowerCase()])(this),this.geometryLabel=n}n.render(t,e);var r=n.labelsRenderer.shapesMap;Object(I.each)(this.elementsMap,(function(t,e){var n=function(t,e){var n=[];return Object(I.each)(e,(function(e,i){i.split(" ")[0]===t&&n.push(e)})),n}(e,r);if(n.length){t.labelShape=n;for(var i=0;i<n.length;i++)for(var o=n[i].getChildren(),a=0;a<o.length;a++){var s=o[a];s.cfg.name=["element","label"],s.cfg.element=t}}}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(I.get)(this.animateOption,"appear")||Object(I.get)(this.animateOption,"appear")&&void 0===Object(I.get)(this.animateOption,["appear","animation"]))},e}(Y),Rn=lt.ext.transform;function Fn(t,e,n){var i=Rn(t.getMatrix(),[["t",e,n]]);t.setMatrix(i)}function zn(t,e){var n=t.attr(),i=n.x,r=n.y,o=Rn(t.getMatrix(),[["t",-i,-r],["r",e],["t",i,r]]);t.setMatrix(o)}var Vn=function(){function t(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){var i=this;void 0===n&&(n=!1),this.shapesMap={};var r=this.container,o=this.createOffscreenGroup();if(t.length){for(var a=0,s=t;a<s.length;a++){var l=s[a];l&&this.renderLabel(l,o)}this.doLayout(t,e),this.renderLabelLine(t),this.adjustLabel(t)}var c=this.lastShapesMap,h=this.shapesMap;Object(I.each)(h,(function(t,e){if(t.destroyed)delete h[e];else{if(c[e]){var o=t.get("data"),a=t.get("origin"),s=t.get("coordinate"),l=c[e],u=t.get("animateCfg");l.set("data",o),l.set("origin",a),l.set("animateCfg",u),l.set("coordinate",s);var d=Object(I.get)(u,"update"),p=l.getChildren();t.getChildren().map((function(t,e){var n=p[e];n.set("data",o),n.set("origin",a),n.set("animateCfg",u),n.set("coordinate",s);var i=Tt(n,t);d?wn(n,d,{toAttrs:i,coordinate:s}):n.attr(i)})),i.shapesMap[e]=l}else{r.add(t);var f=Object(I.get)(t.get("animateCfg"),n?"enter":"appear");f&&wn(t,f,{toAttrs:Object(P.__assign)({},t.attr()),coordinate:t.get("coordinate")})}delete c[e]}})),Object(I.each)(c,(function(t){var e=Object(I.get)(t.get("animateCfg"),"leave");e?wn(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.lastShapesMap=h,o.destroy()},t.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},t.prototype.renderLabel=function(t,e){var n,i=t.id,r=t.data,o=t.mappingData,a=t.coordinate,s=t.animate,l=t.content,c={id:i,data:r,origin:o,coordinate:a},h=e.addGroup(Object(P.__assign)({name:"label",animateCfg:!1!==this.animate&&null!==s&&!1!==s&&Object(I.deepMix)({},this.animate,s)},c));if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var u=l.getCanvasBBox(),d=u.width,p=u.height,f=Object(I.get)(t,"textAlign","left"),g=t.x;"center"===f?g-=d/2:"right"!==f&&"end"!==f||(g-=d),Fn(l,g,t.y-p/2),n=l,h.add(l)}else n=h.addShape("text",Object(P.__assign)({attrs:Object(P.__assign)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(I.get)(t,"textBaseline","middle"),text:t.content},t.style)},c));t.rotate&&zn(n,t.rotate),this.shapesMap[i]=h},t.prototype.doLayout=function(t,e){var n=this;if(this.layout){var i=Object(I.isArray)(this.layout)?this.layout:[this.layout];Object(I.each)(i,(function(i){var r,o=(r=Object(I.get)(i,"type",""),On[r.toLowerCase()]);if(o){var a=[],s=[];Object(I.each)(n.shapesMap,(function(t,n){a.push(t),s.push(e[n])})),o(t,a,s,n.region,i.cfg)}}))}},t.prototype.renderLabelLine=function(t){var e=this;Object(I.each)(t,(function(t){var n=Object(I.get)(t,"coordinate");if(t&&n){var i=n.getCenter(),r=n.getRadius();if(t.labelLine){var o=Object(I.get)(t,"labelLine",{}),a=t.id,s=o.path;if(!s){var l=Ot(i.x,i.y,r,t.angle);s=[["M",l.x,l.y],["L",t.x,t.y]]}var c=e.shapesMap[a];c.destroyed||c.addShape("path",{capture:!1,attrs:Object(P.__assign)({path:s,stroke:t.color?t.color:Object(I.get)(t,["style","fill"],"#000"),fill:null},o.style),id:a,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},t.prototype.adjustLabel=function(t){var e=this;Object(I.each)(t,(function(t){if(t){var n=t.id,i=e.shapesMap[n];if(!i.destroyed){var r=i.find((function(t){return"text"===t.get("type")}));r&&(t.offsetX&&r.attr("x",r.attr("x")+t.offsetX),t.offsetY&&r.attr("y",r.attr("y")+t.offsetY))}}}))},t}();var Gn=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],i=this.getLabelCfgs(t);return Object(I.each)(t,(function(t,r){var o=i[r];if(!o||Object(I.isNil)(t.x)||Object(I.isNil)(t.y))n.push(null);else{var a=Object(I.isArray)(o.content)?o.content:[o.content];o.content=a;var s=a.length;Object(I.each)(a,(function(i,r){if(Object(I.isNil)(i)||""===i)n.push(null);else{var a=Object(P.__assign)(Object(P.__assign)({},o),e.getLabelPoint(o,t,r));a.textAlign||(a.textAlign=e.getLabelAlign(a,r,s)),a.offset<=0&&(a.labelLine=null),n.push(a)}}))}})),n},t.prototype.render=function(t,e){void 0===e&&(e=!1);var n=this.getLabelItems(t),i=this.getLabelsRenderer(),r=this.getGeometryShapes();i.render(n,r,e)},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(){return Object(I.get)(this.geometry.theme,"labels",{})},t.prototype.setLabelPosition=function(t,e,n,i){},t.prototype.getDefaultOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffset=function(t,e,n){var i=this.getDefaultOffset(t.offset),r=this.getCoordinate().isTransposed,o=r?"x":"y",a=r?1:-1,s={x:0,y:0};return s[o]=e>0||1===n?i*a:i*a*-1,s},t.prototype.getLabelPoint=function(t,e,n){var i=this.getCoordinate(),r=t.content.length;function o(e,n){var i,r,o=e;return Object(I.isArray)(o)&&(1===t.content.length?o.length<=2?o=o[e.length-1]:(i=o,r=0,Object(I.each)(i,(function(t){r+=t})),o=r/i.length):o=o[n]),o}var a={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(e&&"polygon"===this.geometry.type){var s=function(t,e){if(Object(I.isNumber)(t)&&Object(I.isNumber)(e))return[t,e];for(var n,i,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)n=s,s=r,l+=i=t[n]*e[s]-t[s]*e[n],o+=(t[n]+t[s])*i,a+=(e[n]+e[s])*i;return[o/(l*=3),a/l]}(e.x,e.y);a.x=s[0],a.y=s[1]}else a.x=o(e.x,n),a.y=o(e.y,n);var l=Object(I.isArray)(e.shape)?e.shape[0]:e.shape;if("funnel"===l||"pyramid"===l){var c=Object(I.get)(e,"nextPoints"),h=Object(I.get)(e,"points");if(c){var u=i.convert(h[1]),d=i.convert(c[1]);a.x=(u.x+d.x)/2,a.y=(u.y+d.y)/2}else if("pyramid"===l){u=i.convert(h[1]),d=i.convert(h[2]);a.x=(u.x+d.x)/2,a.y=(u.y+d.y)/2}}t.position&&this.setLabelPosition(a,e,n,t.position);var p=this.getLabelOffset(t,n,r);return a.start={x:a.x,y:a.y},a.x+=p.x,a.y+=p.y,a.color=e.color,a},t.prototype.getLabelAlign=function(t,e,n){var i="center";if(this.getCoordinate().isTransposed){var r=this.getDefaultOffset(t.offset);i=r<0?"right":0===r?"center":"left",n>1&&0===e&&("right"===i?i="left":"left"===i&&(i="right"))}return i},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,i=e.getXScale(),r=e.getYScale(),o=t._origin,a=e.getElementId(t);return"line"===n||"area"===n?a+=" "+o[i.field]:"path"===n&&(a+=" "+o[i.field]+"-"+o[r.field]),a},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,i=t.canvasRegion,r=t.animateOption,o=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new Vn({container:e,layout:Object(I.get)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=i,a.animate=!!r&&bn("label",o),a},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,i=this.getDefaultLabelCfg(),r=n.type,o=n.theme,a=n.labelOption,s=n.scales,l=n.coordinate,c=a,h=c.fields,u=c.callback,d=c.cfg,p=h.map((function(t){return s[t]})),f=[];return Object(I.each)(t,(function(t,n){var a,s=t._origin,c=e.getLabelText(s,p);if(u){var g=h.map((function(t){return s[t]}));if(a=u.apply(void 0,g),Object(I.isNil)(a))return void f.push(null)}var m=Object(P.__assign)(Object(P.__assign)({id:e.getLabelId(t),data:s,mappingData:t,coordinate:l},d),a),v=m.content;Object(I.isFunction)(v)?m.content=v(s,t,n):Object(I.isUndefined)(v)&&(m.content=c[0]),Object(I.isFunction)(m.position)&&(m.position=m.position(s,t,n)),m="polygon"===r||m.offset<0&&!["line","point","path"].includes(r)?Object(I.deepMix)({},i,o.innerLabels,m):Object(I.deepMix)({},i,o.labels,m),f.push(m)})),f},t.prototype.getLabelText=function(t,e){var n=[];return Object(I.each)(e,(function(e){var i=t[e.field];i=Object(I.isArray)(i)?i.map((function(t){return e.getText(t)})):e.getText(i),Object(I.isNil)(i)||""===i?n.push(null):n.push(i)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate();return e.isTransposed?e.applyMatrix(t,0):e.applyMatrix(0,t)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return Object(I.each)(t.elementsMap,(function(t,n){e[n]=t.shape})),Object(I.each)(t.getOffscreenGroup().getChildren(),(function(n){var i=t.getElementId(n.get("origin").mappingData);e[i]=n})),e},t}(),Hn=(n(227),"#000"),Wn="#FFFFFF",$n="#A6A6A6",Yn="#737373",Xn="#404040",qn="#262626",Un=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Zn={backgroundColor:"#141414",brandColor:Un[0],paletteQualitative10:Un,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:Xn,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:$n,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Xn,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:qn,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Yn,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:qn,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Yn,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Un[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:$n,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:qn,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Yn,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:qn,annotationArcBorder:.5,annotationLineBorderColor:Xn,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:$n,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#0D0D0D",annotationTextBorder:1.5,annotationRegionFillColor:Wn,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Xn,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:$n,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:$n,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Hn,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Xn,pointFillColor:Un[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Hn,pointBorderOpacity:1,pointActiveBorderColor:Wn,pointSelectedBorder:2,pointSelectedBorderColor:Wn,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Un[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Hn,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Wn,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Wn,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Un[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Un[0],areaFillOpacity:.25,areaActiveFillColor:Un[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Un[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Un[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Wn,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Wn,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Un[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Wn,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Wn,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Un[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Hn,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Wn,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Wn,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Kn=n(142),Jn={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Qn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function ti(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ei(t){var e=Jn[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var i=ti(e);if(t.get("id")&&(i.id=t.get("id")),t.set("el",i),t.set("attrs",{}),n){var r=n.get("el");r||(r=n.createDom(),n.set("el",r)),r.appendChild(i)}return i}function ni(t,e){var n=t.get("el"),i=Object(I.toArray)(n.children).sort(e),r=document.createDocumentFragment();i.forEach((function(t){r.appendChild(t)})),n.appendChild(r)}function ii(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,i=[],r=0;r<9;r+=3)i.push(e[r]+","+e[r+1]);-1===(i=i.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)}}function ri(t,e){var n=t.getClip(),i=t.get("el");if(n){if(n&&!i.hasAttribute("clip-path")){ei(n),n.createPath(e);var r=e.addClip(n);i.setAttribute("clip-path","url(#"+r+")")}}else i.removeAttribute("clip-path")}function oi(t,e){e.forEach((function(e){e.draw(t)}))}function ai(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context"),r=t.getParent(),o=r?r.getChildren():[n],a=t.get("el");if("remove"===e)if(t.get("isClipShape")){var s=a&&a.parentNode,l=s&&s.parentNode;s&&l&&l.removeChild(s)}else a&&a.parentNode&&a.parentNode.removeChild(a);else if("show"===e)a.setAttribute("visibility","visible");else if("hide"===e)a.setAttribute("visibility","hidden");else if("zIndex"===e)!function(t,e){var n=t.parentNode,i=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),r=i[e],o=i.indexOf(t);if(r){if(o>e)n.insertBefore(t,r);else if(o<e){var a=i[e+1];a?n.insertBefore(t,a):n.appendChild(t)}}else n.appendChild(t)}(a,o.indexOf(t));else if("sort"===e){var c=t.get("children");c&&c.length&&ni(t,(function(t,e){return c.indexOf(t)-c.indexOf(e)?1:0}))}else"clear"===e?a&&(a.innerHTML=""):"matrix"===e?ii(t):"clip"===e?ri(t,i):"attr"===e||"add"===e&&t.draw(i)}}var si=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=ti("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,e)}},e.prototype.onCanvasChange=function(t){ai(this,t)},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ri(this,t),this.createPath(t),e.length&&oi(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(t,e){Qn[e]&&i.setAttribute(Qn[e],t)})),ii(this)},e}(X.AbstractGroup),li=n(160),ci=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,e)}},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return si},e.prototype.onCanvasChange=function(t){ai(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Object(li.getBBoxMethod)(this.get("type"));n&&(e=n(this))}if(e){var i=e.x,r=e.y,o=e.width,a=e.height,s=this.getHitLineWidth(),l=s/2,c=i-l,h=r-l;return{x:c,y:h,minX:c,minY:h,maxX:i+o+l,maxY:r+a+l,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||ei(this),ri(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),i=n.fill,r=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,c=n.lineWidth,h=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",i):"fillStyle"in n&&this._setColor(t,"fill",r):this._setColor(t,"fill",i||r),s&&h.setAttribute(Qn.fillOpacity,s)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&h.setAttribute(Qn.strokeOpacity,l),c&&h.setAttribute(Qn.lineWidth,c))},e.prototype._setColor=function(t,e,n){var i=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n))(r=t.find("gradient",n))||(r=t.addGradient(n)),i.setAttribute(Qn[e],"url(#"+r+")");else if(/^[p,P]{1}[\s]*\(/.test(n)){var r;(r=t.find("pattern",n))||(r=t.addPattern(n)),i.setAttribute(Qn[e],"url(#"+r+")")}else i.setAttribute(Qn[e],n);else i.setAttribute(Qn[e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),i=e||n,r=i.shadowOffsetX,o=i.shadowOffsetY,a=i.shadowBlur,s=i.shadowColor;(r||o||a||s)&&function(t,e){var n=t.cfg.el,i=t.attr(),r={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(r.dx||r.dy||r.blur||r.color){var o=e.find("filter",r);o||(o=e.addShadow(r)),n.setAttribute("filter","url(#"+o+")")}else n.removeAttribute("filter")}(this,t)},e.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&ii(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),i=this.get("canvas").get("el").getBoundingClientRect(),r=t+i.left,o=e+i.top,a=document.elementFromPoint(r,o);return!(!a||!a.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(X.AbstractShape),hi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):Qn[e]&&i.setAttribute(Qn[e],t)}))},e}(ci),ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Object(ln.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(t,e){Qn[e]&&i.setAttribute(Qn[e],t)})),i.innerHTML=n.html},e}(ci),di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):Qn[e]&&i.setAttribute(Qn[e],t)}))},e}(ci),pi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(I.each)(e||i,(function(t,e){"img"===e?n._setImage(i.img):Qn[e]&&r.setAttribute(Qn[e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(Object(I.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Object(I.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",i.toDataURL())}},e}(ci),fi=n(35),gi=n.n(fi),mi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(e,r){if("startArrow"===r||"endArrow"===r)if(e){var o=Object(I.isObject)(e)?t.addArrow(n,Qn[r]):t.getDefaultArrow(n,Qn[r]);i.setAttribute(Qn[r],"url(#"+o+")")}else i.removeAttribute(Qn[r]);else Qn[r]&&i.setAttribute(Qn[r],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return gi.a.length(e,n,i,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2;return gi.a.pointAt(n,i,r,o,t)},e}(ci),vi={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["z"]]},triangleDown:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},yi={get:function(t){return vi[t]},register:function(t,e){vi[t]=e},remove:function(t){delete vi[t]},getAll:function(){return vi}},xi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Object(I.isArray)(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,i=e.y,r=e.r||e.radius,o=e.symbol||"circle";return(t=Object(I.isFunction)(o)?o:yi.get(o))?t(n,i,r):(console.warn(t+" symbol is not exist."),null)},e.symbolsFactory=yi,e}(ci),bi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(I.each)(e||i,(function(e,o){if("path"===o&&Object(I.isArray)(e))r.setAttribute("d",n._formatPath(e));else if("startArrow"===o||"endArrow"===o)if(e){var a=Object(I.isObject)(e)?t.addArrow(i,Qn[o]):t.getDefaultArrow(i,Qn[o]);r.setAttribute(Qn[o],"url(#"+a+")")}else r.removeAttribute(Qn[o]);else Qn[o]&&r.setAttribute(Qn[o],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),i=e?e.getPointAtLength(t*n):null;return i?{x:i.x,y:i.y}:null},e}(ci),wi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(t,e){"points"===e&&Object(I.isArray)(t)&&t.length>=2?i.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):Qn[e]&&i.setAttribute(Qn[e],t)}))},e}(ci),Ci=n(163),_i=n.n(Ci),Si=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(I.each)(e||n,(function(t,e){"points"===e&&Object(I.isArray)(t)&&t.length>=2?i.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):Qn[e]&&i.setAttribute(Qn[e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(I.isNil)(e)?(this.set("totalLength",_i.a.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,i=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),Object(I.each)(r,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)})),gi.a.pointAt(i[n][0],i[n][1],i[n+1][0],i[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,i,r=0,o=[];Object(I.each)(t,(function(a,s){t[s+1]&&((n=[])[0]=r/e,i=gi.a.length(a[0],a[1],t[s+1][0],t[s+1][1]),r+=i,n[1]=r/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(ci);var Oi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(I.each)(e||i,(function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&Qn[e]&&r.setAttribute(Qn[e],t):(r.setAttribute("d",n._assembleRect(i)),o=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+i+",0 l 0,"+r+" l"+-i+" 0 z";var a=function(t){var e=0,n=0,i=0,r=0;return Object(I.isArray)(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}}(o);return Object(I.isArray)(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(i-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(r-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-i)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-r)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},e}(ci),Mi=n(328),ki={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Ai={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Ti={left:"left",start:"left",center:"middle",right:"end",end:"end"},Di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Object(ln.__extends)(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");this._setFont(),Object(I.each)(e||i,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?ii(n):Qn[e]&&r.setAttribute(Qn[e],t)})),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,i=e.textAlign,r=Object(Mi.detect)();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",Ai[n]||"alphabetic"):t.setAttribute("alignment-baseline",ki[n]||"baseline"),t.setAttribute("text-anchor",Ti[i]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),i=n.x,r=n.textBaseline,o=void 0===r?"bottom":r;if(t)if(~t.indexOf("\n")){var a=t.split("\n"),s=a.length-1,l="";Object(I.each)(a,(function(t,e){0===e?"alphabetic"===o?l+='<tspan x="'+i+'" dy="'+-s+'em">'+t+"</tspan>":"top"===o?l+='<tspan x="'+i+'" dy="0.9em">'+t+"</tspan>":"middle"===o?l+='<tspan x="'+i+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===o?l+='<tspan x="'+i+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===o&&(l+='<tspan x="'+i+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):l+='<tspan x="'+i+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(ci),Pi=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ii=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Ei=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function ji(t){var e=t.match(Ei);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),Object(I.each)(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}var Li=function(){function t(t){this.cfg={};var e=null,n=Object(I.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,i,r=Pi.exec(t),o=Object(I.mod)(Object(I.toRadian)(parseFloat(r[1])),2*Math.PI),a=r[2];o>=0&&o<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=o&&o<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=o&&o<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var s=Math.tan(o),l=s*s,c=(i.x-n.x+s*(i.y-n.y))/(l+1)+n.x,h=s*(i.x-n.x+s*(i.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",c),e.setAttribute("y2",h),e.innerHTML=ji(a)}(t,e=ti("linearGradient")):function(t,e){var n=Ii.exec(t),i=parseFloat(n[1]),r=parseFloat(n[2]),o=parseFloat(n[3]),a=n[4];e.setAttribute("cx",i),e.setAttribute("cy",r),e.setAttribute("r",o),e.innerHTML=ji(a)}(t,e=ti("radialGradient")),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),Bi={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Ni={x:"-40%",y:"-40%",width:"200%",height:"200%"},Ri=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=ti("filter");return Object(I.each)(Ni,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=Object(I.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return Object(I.each)(Object.keys(i),(function(t){if(i[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[Bi[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),Fi=function(){function t(t,e){this.cfg={};var n=ti("marker"),i=Object(I.uniqueId)("marker_");n.setAttribute("id",i);var r=ti("path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),n.appendChild(r),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=r,this.id=i;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,r):(this.cfg=o,this._setMarker(t.lineWidth,r)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,r=this.cfg.d;Object(I.isArray)(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),n.appendChild(e),r&&n.setAttribute("refX",""+r/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),zi=function(){function t(t){this.type="clip",this.cfg={};var e=ti("clipPath");this.el=e,this.id=Object(I.uniqueId)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),Vi=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Gi=function(){function t(t){this.cfg={};var e=ti("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=ti("image");e.appendChild(n);var i=Object(I.uniqueId)("pattern_");e.id=i,this.el=e,this.id=i,this.cfg=t;var r=Vi.exec(t)[2];n.setAttribute("href",r);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return r.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=r,o.complete?a():(o.onload=a,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),Hi=function(){function t(t){var e=ti("defs"),n=Object(I.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,i=null,r=0;r<n.length;r++)if(n[r].match(t,e)){i=n[r].id;break}return i},t.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new Fi(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},t.prototype.addGradient=function(t){var e=new Li(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new Fi(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new Ri(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new Gi(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new zi(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),Wi=function(t){function e(e){return t.call(this,Object(ln.__assign)(Object(ln.__assign)({},e),{autoDraw:!0,renderer:"svg"}))||this}return Object(ln.__extends)(e,t),e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return si},e.prototype.getShape=function(t,e,n){var i=n.target||n.srcElement;if(!Jn[i.tagName]){for(var r=i.parentNode;r&&!Jn[r.tagName];)r=r.parentNode;i=r}return this.find((function(t){return t.get("el")===i}))},e.prototype.createDom=function(){var t=ti("svg"),e=new Hi(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var i=this.get("children");i&&i.length&&ni(this,(function(t,e){return i.indexOf(t)-i.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var r=e.el;r.innerHTML="",n.appendChild(r)}}else"matrix"===t?ii(this):"clip"===t?ri(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ri(this,t),e.length&&oi(t,e)},e}(X.AbstractCanvas),$i=n(376).version;function Yi(t){return!t&&(null==t||isNaN(t))}function Xi(t){if(Object(I.isArray)(t))return Yi(t[1].y);var e=t.y;return Object(I.isArray)(e)?Yi(e[0]):Yi(e)}function qi(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var i=[],r=0,o=t.length;r<o;r++){Xi(l=t[r])||i.push(l)}return[i]}var a=[],s=[];for(r=0,o=t.length;r<o;r++){var l;Xi(l=t[r])?s.length&&((1!==s.length||n)&&a.push(s),s=[]):s.push(l)}return s.length&&a.push(s),a}function Ui(t,e,n,i){void 0===i&&(i="");var r=t.style,o=void 0===r?{}:r,a=t.defaultStyle,s=t.color,l=t.size,c=Object(P.__assign)(Object(P.__assign)({},a),o);return s&&(e&&(o.stroke||(c.stroke=s)),n&&(o.fill||(c.fill=s))),i&&Object(I.isNil)(o[i])&&!Object(I.isNil)(l)&&(c[i]=l),c}function Zi(t){var e=t.x;return(Object(I.isArray)(t.y)?t.y:[t.y]).map((function(t,n){return{x:Object(I.isArray)(e)?e[n]:e,y:t}}))}var Ki={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function Ji(t,e){var n=t.color;return{symbol:Ki[e],style:{lineWidth:2,r:6,stroke:n}}}function Qi(t,e,n,i,r){return 1===t.length?[["M",t[0].x,t[0].y-r.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+r.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=Vt(t,!1,i)):(o=zt(t,!1),e&&o.push(["Z"])),o);var o}function tr(t,e,n,i,r,o){if(t.length){var a=t[0];return Object(I.isArray)(a.y)?function(t,e,n,i,r,o){var a=[],s=[];Object(I.each)(t,(function(t){var e=Zi(t);a.push(e[1]),s.push(e[0])}));var l=Qi(a,e,i,r,o),c=Qi(s,e,i,r,o);return n?l:l.concat(c)}(t,e,n,i,r,o):Qi(t,e,i,r,o)}return[]}In("line",{defaultShapeType:"line"});Object(I.each)(["line","dot","dash","smooth"],(function(t){En("line",t,{draw:function(e,n){var i,r="smooth"===t;if(r){var o=this.coordinate,a=o.start,s=o.end;i=[[a.x,s.y],[s.x,a.y]]}var l=function(t,e,n){for(var i=t.isStack,r=t.connectNulls,o=t.isInCircle,a=t.showSinglePoint,s=Ui(t,!0,!1,"lineWidth"),l=qi(t.points,r,a),c=[],h=0,u=l.length;h<u;h++){var d=l[h];c=c.concat(tr(d,o,i,e,n,s))}return s.path=c,s}(e,r,i);return n.addShape({type:"path",attrs:l,name:"line"})},getMarker:function(e){return Ji(e,t)}})}));var er=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var i=e.connectNulls,r=void 0!==i&&i,o=e.showSinglePoint,a=void 0===o||o;return n.connectNulls=r,n.showSinglePoint=a,n}return Object(P.__extends)(e,t),e.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);var i=this.lastElementsMap,r=this.elementsMap,o=this.elements,a=this.container,s=this.getElementId(t),l=this.getShapeInfo(t),c=i[s];if(c){var h=c.getModel();(this.isCoordinateChanged||Ln(h,l))&&(c.animate=this.animateOption,c.update(l)),delete i[s]}else{var u=this.getShapeFactory();(c=new _n({shapeFactory:u,container:a,offscreenGroup:this.getOffscreenGroup()})).geometry=this,c.animate=this.animateOption,c.draw(l,n)}return o.push(c),r[s]=c,o},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++){var o=t[i];e.push({x:o.x,y:o.y}),n.push(o._origin)}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),i=n.points,r=n.data;return e.mappingData=t,e.data=r,e.isStack=!!this.getAdjust("stack"),e.points=i,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(Nn);function nr(t,e,n,i,r){var o=[];if(t.length){for(var a=[],s=[],l=0,c=t.length;l<c;l++){var h=t[l];a.push(h[1]),s.push(h[0])}s=s.reverse(),Object(I.each)([a,s],(function(t,l){var c=[],h=i.parsePoints(t),u=h[0];1===a.length&&1===s.length?c=0===l?[["M",u.x-.5,u.y],["L",u.x+.5,u.y]]:[["L",u.x+.5,u.y],["L",u.x-.5,u.y]]:(e&&h.push({x:u.x,y:u.y}),c=n?Vt(h,!1,r):zt(h,!1),l>0&&(c[0][0]="L")),o=o.concat(c)})),o.push(["Z"])}return o}function ir(t,e,n,i,r){for(var o=Ui(t,e,!e,"lineWidth"),a=t.connectNulls,s=t.isInCircle,l=qi(t.points,a,t.showSinglePoint),c=[],h=0,u=l.length;h<u;h++){var d=l[h];c=c.concat(nr(d,s,n,i,r))}return o.path=c,o}function rr(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}In("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return(Object(I.isArray)(t.y)?t.y:[n,t.y]).map((function(t){return{x:e,y:t}}))}});En("area","area",{draw:function(t,e){var n=ir(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var or=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=e.startOnZero,r=void 0===i||i,o=e.sortable,a=void 0===o||o,s=e.showSinglePoint,l=void 0!==s&&s;return n.startOnZero=r,n.sortable=a,n.showSinglePoint=l,n}return Object(P.__extends)(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++){var o=t[i];e.push(o.points),n.push(o._origin)}return{points:e,data:n}},e.prototype.getYMinValue=function(){return this.startOnZero?t.prototype.getYMinValue.call(this):this.getYScale().min},e}(er);In("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return Zi(t)}});En("edge","line",{draw:function(t,e){var n=Ui(t,!0,!1,"lineWidth"),i=zt(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var ar=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return Object(P.__extends)(e,t),e}(Nn),sr=n(78),lr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return Object(P.__extends)(e,t),e.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);var i=this.prepareRange(t),r=this.prepareSize(),o=Object(I.get)(this.styleOption,["style","shadowBlur"]);return Object(I.isNumber)(o)||(o=r/2),this.prepareGreyScaleBlurredCircle(r,o),this.drawWithRange(t,i,r,o),null},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,i=-1/0;return t.forEach((function(t){var r=t._origin[e];r>i&&(i=r),r<n&&(n=r)})),n===i&&(n=i-1),[n,i]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(I.isNumber)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),i=t+e,r=n.getContext("2d");n.width=n.height=2*i,r.clearRect(0,0,n.width,n.height),r.shadowOffsetX=r.shadowOffsetY=2*i,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-i,-i,t,0,2*Math.PI,!0),r.closePath(),r.fill()},e.prototype.drawWithRange=function(t,e,n,i){var r=this.coordinate,o=r.start,a=r.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),c=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var h=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t._origin[c]<=e[1]&&t._origin[c]>=e[0]})));for(var u=this.scales[c],d=0,p=t;d<p.length;d++){var f=p[d],g=this.getDrawCfg(f),m=g.x,v=g.y,y=u.scale(f._origin[c]);this.drawGrayScaleBlurredCircle(m-o.x,v-a.y,n+i,y,h)}var x=h.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(x),h.putImageData(x,0,0);var b=this.getImageShape();b.attr("x",o.x),b.attr("y",a.y),b.attr("width",s),b.attr("height",l),b.attr("img",h.canvas),b.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,i,r){var o=this.getGrayScaleBlurredCanvas();r.globalAlpha=i,r.drawImage(o,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,i=this.paletteCache,r=3;r<n.length;r+=4){var o=n[r];if(Object(I.isNumber)(o)){var a=i[o]?i[o]:sr.default.rgb2arr(e.gradient(o/256));n[r-3]=a[0],n[r-2]=a[1],n[r-1]=a[2],n[r]=o}}},e.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(P.__assign)(Object(P.__assign)({},e),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map((function(t){return t._origin}))},e}(Nn);function cr(t,e){void 0===e&&(e=!1);var n,i,r,o,a=t.x,s=t.y,l=t.y0,c=t.size;Object(I.isArray)(s)?(n=s[0],i=s[1]):(n=l,i=s),Object(I.isArray)(a)?(r=a[0],o=a[1]):(r=a-c/2,o=a+c/2);var h=[{x:r,y:n},{x:r,y:i}];return e?h.push({x:o,y:(i+n)/2}):h.push({x:o,y:i},{x:o,y:n}),h}function hr(t,e){void 0===e&&(e=!0);var n=[],i=t[0];n.push(["M",i.x,i.y]);for(var r=1,o=t.length;r<o;r++)n.push(["L",t[r].x,t[r].y]);return e&&(n.push(["L",i.x,i.y]),n.push(["z"])),n}function ur(t,e,n){var i=[];return Object(I.isNil)(e)?n?i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[2].x,t[2].y],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),i}In("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return cr(t)}});En("interval","rect",{draw:function(t,e){var n=Ui(t,!1,!0),i=this.parsePath(hr(t.points));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function dr(t){var e=t.theme,n=t.coordinate,i=t.getXScale(),r=i.values,o=t.beforeMappingData,a=r.length;if(i.isLinear&&r.length>1){r.sort();var s=function(t,e){var n=t.length,i=t;Object(I.isString)(i[0])&&(i=t.map((function(t){return e.translate(t)})));for(var r=i[1]-i[0],o=2;o<n;o++){var a=i[o]-i[o-1];r>a&&(r=a)}return r}(r,i);a=(i.max-i.min)/s,r.length>a&&(a=r.length)}var l=i.range,c=1/a,h=1;(n.isPolar?h=n.isTransposed&&a>1?e.multiplePieWidthRatio:e.roseWidthRatio:(i.isLinear&&(c*=l[1]-l[0]),h=e.columnWidthRatio),c*=h,t.getAdjust("dodge"))&&(c/=function(t,e){if(e){var n=Object(I.flatten)(t);return Object(I.valuesOfKey)(n,e).length}return t.length}(o,t.getAdjust("dodge").dodgeBy));var u=e.maxColumnWidth,d=e.minColumnWidth,p=Et(t.coordinate);if(u){var f=u/p;c>f&&(c=f)}if(d){var g=d/p;c<g&&(c=g)}return c}var pr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e}return Object(P.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");r?(n=this.getAttributeValues(r,e)[0],n/=Et(this.coordinate)):(this.defaultSize||(this.defaultSize=dr(this)),n=this.defaultSize);return i.size=n,i},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,e.values),e.max)});else{var n=this.scaleDefs,i=e.field,r=e.min,o=e.max;"time"!==e.type&&(r>0&&!Object(I.get)(n,[i,"min"])&&e.change({min:0}),o<=0&&!Object(I.get)(n,[i,"max"])&&e.change({max:0}))}},e}(Nn),fr=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var i=e.sortable,r=void 0===i||i;return n.sortable=r,n}return Object(P.__extends)(e,t),e}(er),gr={hexagon:function(t,e,n){var i=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+i,e-n/2],["L",t+i,e+n/2],["L",t,e+n],["L",t-i,e+n/2],["L",t-i,e-n/2],["Z"]]},bowtie:function(t,e,n){var i=n-1.5;return[["M",t-n,e-i],["L",t+n,e+i],["L",t+n,e-i],["L",t-n,e+i],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},mr=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function vr(t,e,n,i,r){var o=Ui(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(a.length>1){for(var l=n.addGroup(),c=0,h=a;c<h.length;c++){var u=h[c];l.addShape({type:"marker",attrs:Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({},o),{symbol:gr[i]||i}),u)})}return l}return n.addShape({type:"marker",attrs:Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({},o),{symbol:gr[i]||i}),s)})}In("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return Zi(t)}});Object(I.each)(mr,(function(t){En("point","hollow-"+t,{draw:function(e,n){return vr(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:gr[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var yr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return Object(P.__extends)(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return Object(P.__assign)(Object(P.__assign)({},n),{isStack:!!this.getAdjust("stack")})},e}(Nn);In("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return Object(I.each)(t.x,(function(n,i){var r=t.y[i];e.push({x:n,y:r})})),e}});En("polygon","polygon",{draw:function(t,e){if(!Object(I.isEmpty)(t.points)){var n=Ui(t,!0,!0),i=this.parsePath(function(t){for(var e=t[0],n=1,i=[["M",e.x,e.y]];n<t.length;){var r=t[n];r.x===t[n-1].x&&r.y===t[n-1].y||(i.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&n<t.length-1&&(e=t[n+1],i.push(["Z"]),i.push(["M",e.x,e.y]),n++)),n++}return Object(I.isEqual)(Object(I.last)(i),e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}(t.points));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var xr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return Object(P.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=i.x,o=i.y;if(!Object(I.isArray)(r)||!Object(I.isArray)(o)){var a=this.getXScale(),s=this.getYScale(),l=.5/a.values.length,c=.5/s.values.length;a.isCategory&&s.isCategory?(r=[r-l,r-l,r+l,r+l],o=[o-c,o+c,o+c,o-c]):Object(I.isArray)(r)?(r=[(n=r)[0],n[0],n[1],n[1]],o=[o-c/2,o+c/2,o+c/2,o-c/2]):Object(I.isArray)(o)&&(o=[(n=o)[0],n[1],n[1],n[0]],r=[r-l/2,r-l/2,r+l/2,r+l/2]),i.x=r,i.y=o}return i},e}(Nn),br=(In("schema",{defaultShapeType:""}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return Object(P.__extends)(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");r?(n=this.getAttributeValues(r,e)[0],n/=Et(this.coordinate)):(this.defaultSize||(this.defaultSize=dr(this)),n=this.defaultSize);return i.size=n,i},e}(Nn));function wr(t,e){var n=[];n.push({x:t.x,y:1*t.y/2+1*e.y/2}),n.push({x:e.x,y:1*t.y/2+1*e.y/2}),n.push(e);var i=["C"];return Object(I.each)(n,(function(t){i.push(t.x,t.y)})),i}function Cr(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return Object(I.each)(n,(function(t){i.push(t.x,t.y)})),i}En("area","line",{draw:function(t,e){var n=ir(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),En("area","smooth",{draw:function(t,e){var n=ir(t,!1,!0,this,rr(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),En("area","smooth-line",{draw:function(t,e){var n=ir(t,!0,!0,this,rr(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),En("edge","arc",{draw:function(t,e){var n,i=Ui(t,!0,!1,"lineWidth"),r=t.points,o=r.length>2?"weight":"normal";if(t.isInCircle){var a={x:0,y:1};return"normal"===o?n=function(t,e,n){var i=Cr(e,n),r=[["M",t.x,t.y]];return r.push(i),r}(r[0],r[1],a):(i.fill=i.stroke,n=function(t,e){var n=Cr(t[1],e),i=Cr(t[3],e),r=[["M",t[0].x,t[0].y]];return r.push(i),r.push(["L",t[3].x,t[3].y]),r.push(["L",t[2].x,t[2].y]),r.push(n),r.push(["L",t[1].x,t[1].y]),r.push(["L",t[0].x,t[0].y]),r.push(["Z"]),r}(r,a)),n=this.parsePath(n),e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:n})})}if("normal"===o)return n=kt(((r=this.parsePoints(r))[1].x+r[0].x)/2,r[0].y,Math.abs(r[1].x-r[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:n})});var s=wr(r[1],r[3]),l=wr(r[2],r[0]);return n=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],s,["L",r[3].x,r[3].y],["L",r[2].x,r[2].y],l,["Z"]],n=this.parsePath(n),i.fill=i.stroke,e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),En("edge","smooth",{draw:function(t,e){var n=Ui(t,!0,!1,"lineWidth"),i=t.points,r=this.parsePath(function(t,e){var n=wr(t,e),i=[["M",t.x,t.y]];return i.push(n),i}(i[0],i[1]));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});En("edge","vhv",{draw:function(t,e){var n=Ui(t,!0,!1,"lineWidth"),i=t.points,r=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-1/3)+e.y*(1/3)}),n.push({x:e.x,y:t.y*(1-1/3)+e.y*(1/3)}),n.push(e);var i=[["M",t.x,t.y]];return Object(I.each)(n,(function(t){i.push(["L",t.x,t.y])})),i}(i[0],i[1]));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),En("interval","funnel",{getPoints:function(t){return t.size=2*t.size,cr(t)},draw:function(t,e){var n=Ui(t,!1,!0),i=this.parsePath(ur(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),En("interval","hollow-rect",{draw:function(t,e){var n=Ui(t,!0,!1),i=this.parsePath(hr(t.points));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),En("interval","line",{getPoints:function(t){return n=(e=t).x,i=e.y,r=e.y0,Object(I.isArray)(i)?i.map((function(t,e){return{x:Object(I.isArray)(n)?n[e]:n,y:t}})):[{x:n,y:r},{x:n,y:i}];var e,n,i,r},draw:function(t,e){var n=Ui(t,!0,!1,"lineWidth"),i=this.parsePath(hr(t.points,!1));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),En("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,cr(t,!0)},draw:function(t,e){var n=Ui(t,!1,!0),i=this.parsePath(ur(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),En("interval","tick",{getPoints:function(t){return function(t){var e,n,i=t.x,r=t.y,o=t.y0,a=t.size;Object(I.isArray)(r)?(e=r[0],n=r[1]):(e=o,n=r);var s=i+a/2,l=i-a/2;return[{x:i,y:e},{x:i,y:n},{x:l,y:e},{x:s,y:e},{x:l,y:n},{x:s,y:n}]}(t)},draw:function(t,e){var n,i=Ui(t,!0,!1),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]);return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});function _r(t,e){var n=qi(t.points,t.connectNulls,t.showSinglePoint),i=[];return Object(I.each)(n,(function(t){var n=function(t,e){var n=[];return Object(I.each)(t,(function(i,r){var o=t[r+1];if(n.push(i),o){var a=function(t,e,n){var i,r=t.x,o=t.y,a=e.x,s=e.y;switch(n){case"hv":i=[{x:a,y:o}];break;case"vh":i=[{x:r,y:s}];break;case"hvh":var l=(a+r)/2;i=[{x:l,y:o},{x:l,y:s}];break;case"vhv":var c=(o+s)/2;i=[{x:r,y:c},{x:a,y:c}]}return i}(i,o,e);n=n.concat(a)}})),n}(t,e);i=i.concat(function(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}(n))})),Object(P.__assign)(Object(P.__assign)({},Ui(t,!0,!1,"lineWidth")),{path:i})}function Sr(t){var e=Object(I.isArray)(t)?t:[t],n=e[0],i=e[e.length-1],r=e.length>1?e[1]:n;return{min:n,max:i,min1:r,max1:e.length>3?e[3]:i,median:e.length>2?e[2]:r}}function Or(t,e,n){var i,r=n/2;if(Object(I.isArray)(e)){var o=Sr(e),a=o.min,s=o.max,l=o.median,c=o.min1,h=t-r,u=t+r;i=[[h,s],[u,s],[t,s],[t,d=o.max1],[h,c],[h,d],[u,d],[u,c],[t,c],[t,a],[h,a],[u,a],[h,l],[u,l]]}else{e=Object(I.isNil)(e)?.5:e;var d,p=Sr(t),f=(a=p.min,s=p.max,l=p.median,e-r),g=e+r;i=[[a,f],[a,g],[a,e],[c=p.min1,e],[c,f],[c,g],[d=p.max1,g],[d,f],[d,e],[s,e],[s,f],[s,g],[l,f],[l,g]]}return i.map((function(t){return{x:t[0],y:t[1]}}))}function Mr(t){var e=(Object(I.isArray)(t)?t:[t]).sort((function(t,e){return e-t}));return function(t,e,n){if(Object(I.isString)(t))return t.padEnd(e,n);if(Object(I.isArray)(t)){var i=t.length;if(i<e)for(var r=e-i,o=0;o<r;o++)t.push(n)}return t}(e,4,e[e.length-1])}function kr(t,e,n){var i=Mr(e);return[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}]}function Ar(t,e){var n=Math.abs(t[0].x-t[2].x),i=Math.abs(t[0].y-t[2].y),r=Math.min(n,i);return e&&(r=Object(I.clamp)(e,0,Math.min(n,i))),r/=2,{x:(t[0].x+t[2].x)/2-r,y:(t[0].y+t[2].y)/2-r,width:2*r,height:2*r}}Object(I.each)(["hv","vh","hvh","vhv"],(function(t){En("line",t,{draw:function(e,n){var i=_r(e,t);return n.addShape({type:"path",attrs:i,name:"line"})},getMarker:function(e){return Ji(e,t)}})})),Object(I.each)(["cross","tick","plus","hyphen","line"],(function(t){En("point",t,{draw:function(e,n){return vr(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:gr[t],style:{r:4.5,stroke:n,fill:null}}}})})),En("point","image",{draw:function(t,e){var n=Ui(t,!1,!1,"r").r,i=this.parsePoints(t.points),r=i[0];if(t.isStack)r=i[1];else if(i.length>1){for(var o=e.addGroup(),a=0,s=i;a<s.length;a++){var l=s[a];o.addShape("image",{attrs:{x:l.x-n/2,y:l.y-n,width:n,height:n,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:r.x-n/2,y:r.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(I.each)(mr,(function(t){En("point",t,{draw:function(e,n){return vr(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:gr[t]||t,style:{r:4.5,fill:n}}}})})),En("schema","box",{getPoints:function(t){return Or(t.x,t.y,t.size)},draw:function(t,e){var n,i=Ui(t,!0,!1),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]);return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var i=Or(t,[e-6,e-3,e,e+3,e+6],n);return[["M",i[0].x+1,i[0].y],["L",i[1].x-1,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x+1,i[10].y],["L",i[11].x-1,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),En("schema","candle",{getPoints:function(t){return kr(t.x,t.y,t.size)},draw:function(t,e){var n,i=Ui(t,!0,!0),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]);return e.addShape("path",{attrs:Object(P.__assign)(Object(P.__assign)({},i),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var i=kr(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),En("polygon","square",{draw:function(t,e){if(!Object(I.isEmpty)(t.points)){var n=Ui(t,!0,!0),i=this.parsePoints(t.points);return e.addShape("rect",{attrs:Object(P.__assign)(Object(P.__assign)({},n),Ar(i,t.size)),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var Tr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.setLabelPosition=function(t,e,n,i){var r=this.getCoordinate(),o=r.isTransposed,a=e.points,s=r.convert(a[0]),l=r.convert(a[2]),c=o?-1:1,h=(s.x-l.x)/2*c,u=(s.y-l.y)/2*c;switch(i){case"right":o||(t.x-=h,t.y+=u),t.textAlign=Object(I.get)(t,"textAlign","left");break;case"left":o?t.x-=2*h:(t.x+=h,t.y+=u),t.textAlign=Object(I.get)(t,"textAlign","right");break;case"bottom":o?(t.x-=h,t.y-=u):t.y+=2*u,t.textAlign=Object(I.get)(t,"textAlign","center"),t.textBaseline=Object(I.get)(t,"textBaseline","top");break;case"middle":o?t.x-=h:t.y+=u,t.textAlign=Object(I.get)(t,"textAlign","center");break;case"top":o&&(t.x-=h,t.y+=u),t.textAlign=Object(I.get)(t,"textAlign","center"),t.textBaseline=Object(I.get)(t,"textBaseline","bottom")}},e}(Gn),Dr=Math.PI/2,Pr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var i=n.getCenter(),r=this.getDefaultOffset(t.offset);e=Math.abs(t.x-i.x)<1?"center":t.angle>Math.PI||t.angle<=0?r>0?"left":"right":r>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var i,r=1,o=t.content[n];this.isToMiddle(e)?i=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(r=-1),i=this.getArcPoint(e,n));var a=this.getDefaultOffset(t.offset)*r,s=this.getPointAngle(i),l=t.labelEmit,c=this.getCirclePoint(s,a,i,l);return 0===c.r?c.content="":(c.content=o,c.angle=s,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(s,a,l):t.rotate,c.start={x:i.x,y:i.y},c},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(I.isArray)(t.x)||Object(I.isArray)(t.y)?{x:Object(I.isArray)(t.x)?t.x[e]:t.x,y:Object(I.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return Bt(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,i){var r=this.getCoordinate(),o=r.getCenter(),a=jt(r,n);if(0===a)return Object(P.__assign)(Object(P.__assign)({},o),{r:a});var s=t;r.isTransposed&&a>e&&!i?s=t+2*Math.asin(e/(2*a)):a+=e;return{x:o.x+a*Math.cos(s),y:o.y+a*Math.sin(s),r:a}},e.prototype.getLabelRotate=function(t,e,n){var i=t+Dr;return n&&(i-=Dr),i&&(i>Dr?i-=Math.PI:i<-Dr&&(i+=Math.PI)),i},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,i={x:0,y:0};return Object(I.each)(t,(function(t){i.x+=t.x,i.y+=t.y})),i.x/=n,i.y/=n,i=e.convert(i)},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(Gn),Ir=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultLayout="distribute",n}return Object(P.__extends)(e,t),e.prototype.getDefaultLabelCfg=function(){return Object(I.get)(this.geometry.theme,"pieLabels",{})},e.prototype.getDefaultOffset=function(t){return t||0},e.prototype.getLabelRotate=function(t,e,n){var i;return e<0&&((i=t)>Math.PI/2&&(i-=Math.PI),i<-Math.PI/2&&(i+=Math.PI)),i},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate().getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",this.getDefaultOffset(t.offset)<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),i={x:Object(I.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:Object(I.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o=Bt(n,i);if(t.points&&t.points[0].y===t.points[1].y)e=o;else{var a=Bt(n,r);o>=a&&(a+=2*Math.PI),e=o+(a-o)/2}return e},e.prototype.getCirclePoint=function(t,e,n){var i=this.getCoordinate(),r=i.getCenter(),o=i.getRadius()+e;return Object(P.__assign)(Object(P.__assign)({},Ot(r.x,r.y,o,t)),{angle:t,r:o})},e}(Pr);var Er=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,i=t.yGap,r=void 0===i?8:i;this.xGap=n,this.yGap=r}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,i=Math.round(t.minX),r=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=i;s<=r;s+=1)if(n[s]){if(s===i||s===r){for(var l=o;l<=a;l++)if(n[s][l]){e=!1;break}}else if(n[s][o]||n[s][a]){e=!1;break}}else n[s]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),i=Math.round(t.maxX),r=Math.round(t.minY),o=Math.round(t.maxY),a=n;a<=i;a+=1)e[a]||(e[a]={});for(a=n;a<=i;a+=this.xGap){for(var s=r;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=r;a<=o;a+=1)e[n][a]=!0,e[i][a]=!0;if(1!==this.xGap)for(a=n;a<=i;a+=1)e[a][r]=!0,e[a][o]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function jr(t,e,n,i){var r=t.getCanvasBBox(),o=r.width,a=r.height,s={x:e,y:n,textAlign:"center"};switch(i){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=a+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}function Lr(t,e,n,i,r){var o,a,s=n.start,l=n.end,c=n.getWidth(),h=n.getHeight();"y"===r?(o=s.x+c/2,a=i.y<s.y?i.y:s.y):"x"===r?(o=i.x>s.x?i.x:s.x,a=s.y+h/2):"xy"===r&&(n.isPolar?(o=n.getCenter().x,a=n.getCenter().y):(o=(s.x+l.x)/2,a=(s.y+l.y)/2));var u=function(t,e,n){var i,r=e[0],o=e[1];return t.applyToMatrix([r,o,1]),"x"===n?(t.setMatrix(lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,1],["t",r,o]])),i=lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",100,1],["t",r,o]])):"y"===n?(t.setMatrix(lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",1,.01],["t",r,o]])),i=lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",1,100],["t",r,o]])):"xy"===n&&(t.setMatrix(lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]])),i=lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",100,100],["t",r,o]])),i}(t,[o,a],r);t.animate({matrix:u},e)}var Br=n(329),Nr=n.n(Br);function Rr(t,e){var n,i=Nr()(t,e),r=i.startAngle,o=i.endAngle;return!Object(I.isNumberEqual)(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),!Object(I.isNumberEqual)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),0===e[5]&&(r=(n=[o,r])[0],o=n[1]),Object(I.isNumberEqual)(r,1.5*Math.PI)&&(r=-.5*Math.PI),Object(I.isNumberEqual)(o,-.5*Math.PI)&&(o=1.5*Math.PI),{startAngle:r,endAngle:o}}function Fr(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function zr(t){var e,n,i,r=t.filter((function(t){return"A"===t[0]||"a"===t[0]})),o=r[0],a=r.length>1?r[1]:r[0],s=t.indexOf(o),l=t.indexOf(a),c=Fr(t[s-1]),h=Fr(t[l-1]),u=Rr(c,o),d=u.startAngle,p=u.endAngle,f=Rr(h,a),g=f.startAngle,m=f.endAngle;Object(I.isNumberEqual)(d,g)&&Object(I.isNumberEqual)(p,m)?(n=d,i=p):(n=Math.min(d,g),i=Math.max(p,m));var v=o[1],y=r[r.length-1][1];return v<y?(v=(e=[y,v])[0],y=e[1]):v===y&&(y=0),{startAngle:n,endAngle:i,radius:v,innerRadius:y}}function Vr(t,e,n){if(t.isGroup())Object(I.each)(t.getChildren(),(function(t){Vr(t,e,n)}));else{var i=t.getBBox(),r=(i.minX+i.maxX)/2,o=(i.minY+i.maxY)/2;if(t.applyToMatrix([r,o,1]),"zoomIn"===n){var a=lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]]);t.setMatrix(a),t.animate({matrix:lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",100,100],["t",r,o]])},e)}else t.animate({matrix:lt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]])},Object(P.__assign)(Object(P.__assign)({},e),{callback:function(){t.remove(!0)}}))}}function Gr(t){return[k.TOP,k.BOTTOM].includes(t)?{offsetX:0,offsetY:t===k.TOP?-8:8,style:{textAlign:"center",textBaseline:t===k.TOP?"bottom":"top"}}:[k.LEFT,k.RIGHT].includes(t)?{offsetX:t===k.LEFT?-8:8,offsetY:0,style:{textAlign:t===k.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Hr(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){return Object(I.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=2*Math.PI/t,i=-1*Math.PI/2+n*e,r=.5/(1+1/Math.sin(n/2)),o=Hr({x:.5,y:.5},.5-r,i),a=5*Math.PI/4,s=1*Math.PI/4;return{start:Hr(o,r,a),end:Hr(o,r,s)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,i=n.fields,r=n.type,o=i[0];if(!o)throw new Error("No `fields` specified!");var a=this.getFieldValues(t,o),s=a.length,l=[];return a.forEach((function(n,i){var c=[{field:o,value:n,values:a}],h=Object(I.filter)(t,e.getFacetDataFilter(c)),u={type:r,data:h,region:e.getRegion(s,i),columnValue:n,columnField:o,columnIndex:i,columnValuesLength:s,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};l.push(u)})),l},e.prototype.getXAxisOption=function(t,e,n,i){return n},e.prototype.getYAxisOption=function(t,e,n,i){return n},e.prototype.renderTitle=function(){var t=this;Object(I.each)(this.facets,(function(e){var n=e.columnValue,i=e.view,r=Object(I.get)(t.cfg.title,"formatter"),o=Object(I.deepMix)({position:["50%","0%"],content:r?r(n):n},Gr(k.TOP),t.cfg.title);i.annotation().text(o)}))},e}(vt),$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){return Object(I.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,i=this.cfg.cols,r=n[0];if(!r)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,r),a=o.length;i=i||a;var s=this.getPageCount(a,i),l=[];return o.forEach((function(n,c){var h=e.getRowCol(c,i),u=h.row,d=h.col,p=[{field:r,value:n,values:o}],f=Object(I.filter)(t,e.getFacetDataFilter(p)),g={type:e.cfg.type,data:f,region:e.getRegion(s,i,d,u),columnValue:n,rowValue:n,columnField:r,rowField:null,columnIndex:d,rowIndex:u,columnValuesLength:i,rowValuesLength:s,total:a};l.push(g)})),l},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?Object(P.__assign)(Object(P.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(P.__assign)(Object(P.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;Object(I.each)(this.facets,(function(e){var n=e.columnValue,i=e.view,r=Object(I.get)(t.cfg.title,"formatter"),o=Object(I.deepMix)({position:["50%","0%"],content:r?r(n):n},Gr(k.TOP),t.cfg.title);i.annotation().text(o)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},e}(vt),Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){return Object(I.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(P.__assign)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(P.__assign)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,i=e.type,r=n.length,o=r,a=[],s=0;s<o;s++)for(var l=n[s],c=0;c<r;c++){var h=n[c],u={type:i,data:t,region:this.getRegion(r,o,s,c),columnValue:l,rowValue:h,columnField:l,rowField:h,columnIndex:s,rowIndex:c,columnValuesLength:o,rowValuesLength:r};a.push(u)}return a},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(P.__assign)(Object(P.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(P.__assign)(Object(P.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;Object(I.each)(this.facets,(function(e,n){var i=e.columnIndex,r=e.rowIndex,o=e.columnValuesLength,a=(e.rowValuesLength,e.columnValue),s=e.rowValue,l=e.view;if(0===r){var c=Object(I.get)(t.cfg.columnTitle,"formatter"),h=Object(I.deepMix)({position:["50%","0%"],content:c?c(a):a},Gr(k.TOP),t.cfg.columnTitle);l.annotation().text(h)}if(i===o-1){c=Object(I.get)(t.cfg.rowTitle,"formatter"),h=Object(I.deepMix)({position:["100%","50%"],content:c?c(s):s},Gr(k.RIGHT),t.cfg.rowTitle);l.annotation().text(h)}}))},e}(vt),Xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getDefaultCfg=function(){return Object(I.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,i=this,r=this.cfg.fields[0],o=[],a=1,s=1,l=[""],c=[""];return this.cfg.transpose?(e=r,l=this.getFieldValues(t,e).slice(0,2),a=l.length):(n=r,c=this.getFieldValues(t,n).slice(0,2),s=c.length),l.forEach((function(r,h){c.forEach((function(u,d){var p=[{field:e,value:r,values:l},{field:n,value:u,values:c}],f=Object(I.filter)(t,i.getFacetDataFilter(p)),g={type:i.cfg.type,data:f,region:i.getRegion(s,a,h,d),columnValue:r,rowValue:u,columnField:e,rowField:n,columnIndex:h,rowIndex:d,columnValuesLength:a,rowValuesLength:s};o.push(g)}))})),o},e.prototype.getXAxisOption=function(t,e,n,i){return 1===i.columnIndex||1===i.rowIndex?Object(P.__assign)(Object(P.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return n},e.prototype.renderTitle=function(){var t=this;Object(I.each)(this.facets,(function(e,n){var i=e.columnValue,r=e.rowValue,o=e.view,a=Object(I.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var s=Object(I.deepMix)({position:["50%","0%"],content:a?a(i):i},Gr(k.TOP),t.cfg.title);o.annotation().text(s)}else{s=Object(I.deepMix)({position:["100%","50%"],content:a?a(r):r},Gr(k.RIGHT),t.cfg.title);o.annotation().text(s)}}))},e}(vt),qr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return Object(I.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(P.__assign)({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(P.__assign)({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,i=n[0],r=n[1],o=[],a=1,s=1,l=[""],c=[""];return i&&(l=this.getFieldValues(t,i),a=l.length),r&&(c=this.getFieldValues(t,r),s=c.length),l.forEach((function(n,h){c.forEach((function(u,d){var p=[{field:i,value:n,values:l},{field:r,value:u,values:c}],f=Object(I.filter)(t,e.getFacetDataFilter(p)),g={type:e.cfg.type,data:f,region:e.getRegion(s,a,h,d),columnValue:n,rowValue:u,columnField:i,rowField:r,columnIndex:h,rowIndex:d,columnValuesLength:a,rowValuesLength:s};o.push(g)}))})),o},e.prototype.renderTitle=function(){var t=this;Object(I.each)(this.facets,(function(e,n){var i=e.columnIndex,r=e.rowIndex,o=e.columnValuesLength,a=e.columnValue,s=e.rowValue,l=e.view;if(0===r){var c=Object(I.get)(t.cfg.columnTitle,"formatter"),h=Object(I.deepMix)({position:["50%","0%"],content:c?c(a):a},Gr(k.TOP),t.cfg.columnTitle);l.annotation().text(h)}if(i===o-1){c=Object(I.get)(t.cfg.rowTitle,"formatter"),h=Object(I.deepMix)({position:["100%","50%"],content:c?c(s):s},Gr(k.RIGHT),t.cfg.rowTitle);l.annotation().text(h)}}))},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(P.__assign)(Object(P.__assign)({},n),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?Object(P.__assign)(Object(P.__assign)({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(P.__assign)(Object(P.__assign)({},n),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?Object(P.__assign)(Object(P.__assign)({},n),{title:null}):n},e}(vt),Ur=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return Object(P.__extends)(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(E.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Object(I.deepMix)({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,i){var r=1/e,o=1/t,a={x:r*n,y:o*i};return{start:a,end:{x:a.x+r,y:a.y+2*o/3}}},e.prototype.forceColIndex=function(t){var e=this,n=[],i=0;t.forEach((function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=i,i++)})),n.forEach((function(t){t.columnValuesLength=n.length}));for(var r=this.cfg.fields.length-1;r>=0;r--)for(var o=0,a=this.getFacetsByLevel(t,r);o<a.length;o++){var s=a[o];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var i=this,r=this.cfg.fields;if(!(r.length<e)){var o=[],a=r[e-1],s=this.getFieldValues(t,a);return s.forEach((function(r,l){var c=[{field:a,value:r,values:s}],h=t.filter(i.getFacetDataFilter(c));if(h.length){var u={type:i.cfg.type,data:h,region:null,columnValue:r,rowValue:"",columnField:a,rowField:"",columnIndex:l,rowValuesLength:i.getRows(),columnValuesLength:1,rowIndex:e,children:i.getChildFacets(h,e+1,n)};o.push(u),n.push(u)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;Object(I.each)(this.facets,(function(e){var n=e.columnValue,i=e.view,r=Object(I.get)(t.cfg.title,"formatter"),o=Object(I.deepMix)({position:["50%","0%"],content:r?r(n):n},Gr(k.TOP),t.cfg.title);i.annotation().text(o)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,i=t.view.coordinateBBox,r={x:i.x+i.width/2,y:i.y+i.height};e.forEach((function(t){var e=t.view.coordinateBBox,i={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},o={x:r.x,y:r.y+(i.y-r.y)/2},a={x:i.x,y:o.y};n.drawLine([r,o,a,i])}))},e.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:Object(I.assign)({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(P.__assign)(Object(P.__assign)({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.originColIndex&&0!==i.columnIndex?Object(P.__assign)(Object(P.__assign)({},n),{title:null,label:null}):n},e}(vt),Zr=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(M.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(M.BG).addGroup(),n.option=[],n}return Object(P.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(e){var n=e.component,i=e.extra,r=i.type,o=t.getAnnotationTheme(r);n.update(t.getAnnotationCfg(r,i,o))},i=function(e){var n=t.createAnnotation(e);n&&(n.component.init(),"regionFilter"===e.type&&n.component.render(),t.cache.set(e,n))};e.length?Object(I.each)(e,(function(e){"regionFilter"===e.component.get("type")?t.view.getRootView().once(E.AFTER_RENDER,(function(){n(e)})):n(e)})):Object(I.each)(this.option,(function(e){"regionFilter"===e.type?t.view.getRootView().once(E.AFTER_RENDER,(function(){i(e)})):i(e)}))},e.prototype.render=function(){},e.prototype.update=function(){var t=this,e=new WeakMap,n=function(n){var i=n.type,r=t.getAnnotationTheme(i),o=t.getAnnotationCfg(i,n,r),a=t.cache.get(n);if(a)Pt(o,["container"]),a.component.update(o),e.set(n,!0);else{var s=t.createAnnotation(n);s&&(s.component.init(),"regionFilter"===n.type&&s.component.render(),t.cache.set(n,s),e.set(n,!0))}};this.view.once(E.AFTER_RENDER,(function(){Object(I.each)(t.option,(function(t){"regionFilter"===t.type&&n(t)}));var i=new Map;t.cache.forEach((function(t,n){e.has(n)?i.set(n,t):t.component.destroy()})),t.cache=i})),Object(I.each)(this.option,(function(t){"regionFilter"!==t.type&&n(t)}))},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.createAnnotation=function(t){var e=t.type,n=K.Annotation[Object(I.upperFirst)(e)];if(n){var i=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,i);return{component:new n(r),layer:this.isTop(r)?M.FORE:M.BG,direction:k.NONE,type:A.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(Object(P.__assign)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(Object(P.__assign)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(Object(P.__assign)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(Object(P.__assign)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(Object(P.__assign)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(Object(P.__assign)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(Object(P.__assign)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(Object(P.__assign)({type:"regionFilter"},t))},e.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),i=Object(I.isFunction)(t)?t.call(null,e,n):t,r=0,o=0;if(Object(I.isArray)(i)){var a=i[0],s=i[1];if(Object(I.isString)(a)&&-1!==a.indexOf("%")&&!isNaN(a.slice(0,-1)))return this.parsePercentPosition(i);r=this.getNormalizedValue(a,e),o=this.getNormalizedValue(s,Object.values(n)[0])}else if(!Object(I.isNil)(i))for(var l=0,c=Object(I.keys)(i);l<c.length;l++){var h=c[l],u=i[h];h===e.field&&(r=this.getNormalizedValue(u,e)),n[h]&&(o=this.getNormalizedValue(u,n[h]))}return this.view.getCoordinate().convert({x:r,y:o})},e.prototype.getRegionPoints=function(t,e){var n,i=this,r=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],s=r.field,l=this.view.getData(),c=Object(I.isArray)(t)?t[0]:t[s],h=Object(I.isArray)(e)?e[0]:e[s],u=[];return Object(I.each)(l,(function(t,e){if(t[s]===c&&(n=e),e>=n){var r=i.parsePosition([t[s],t[a.field]]);r&&u.push(r)}if(t[s]===h)return!1})),u},e.prototype.getNormalizedValue=function(t,e){var n,i;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":i=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(i);break;case"min":case"max":i=e.isCategory?"min"===t?0:e.values.length-1:e[t],n=e.scale(i);break;default:n=e.scale(t)}return n},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,i=this.view.getCoordinate(),r=i.start,o=i.end,a=Math.min(r.x,o.x),s=Math.min(r.y,o.y);return{x:i.getWidth()*e+a,y:i.getHeight()*n+s}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,i=t.getWidth(),r=t.getHeight(),o={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+i,maxY:o.y+r,width:i,height:r}},e.prototype.getAnnotationCfg=function(t,e,n){var i=this.view.getCoordinate(),r={};if(Object(I.isNil)(e))return null;if("arc"===t){var o=e,a=o.start,s=o.end,l=this.parsePosition(a),c=this.parsePosition(s),h=Bt(i,l),u=Bt(i,c);h>u&&(u=2*Math.PI+u),r={center:i.getCenter(),radius:jt(i,l),startAngle:h,endAngle:u}}else if("image"===t){var d=e;a=d.start,s=d.end;r={start:this.parsePosition(a),end:this.parsePosition(s),src:e.src}}else if("line"===t){var p=e;a=p.start,s=p.end;r={start:this.parsePosition(a),end:this.parsePosition(s),text:Object(I.get)(e,"text",null)}}else if("region"===t){var f=e;a=f.start,s=f.end;r={start:this.parsePosition(a),end:this.parsePosition(s)}}else if("text"===t){var g=this.view.getData(),m=e,v=m.position,y=m.content,x=Object(P.__rest)(m,["position","content"]),b=y;Object(I.isFunction)(y)&&(b=y(g)),r=Object(P.__assign)(Object(P.__assign)(Object(P.__assign)({},this.parsePosition(v)),x),{content:b})}else if("dataMarker"===t){var w=e,C=(v=w.position,w.point),_=w.line,S=w.text,O=w.autoAdjust,M=w.direction;r=Object(P.__assign)(Object(P.__assign)({},this.parsePosition(v)),{coordinateBBox:this.getCoordinateBBox(),point:C,line:_,text:S,autoAdjust:O,direction:M})}else if("dataRegion"===t){var k=e,A=(a=k.start,s=k.end,k.region),T=(S=k.text,k.lineLength);r={points:this.getRegionPoints(a,s),region:A,text:S,lineLength:T}}else if("regionFilter"===t){var D=e,E=(a=D.start,s=D.end,D.apply),j=D.color,L=this.view.geometries,B=[],N=function(t){t&&(t.isGroup()?t.getChildren().forEach((function(t){return N(t)})):B.push(t))};Object(I.each)(L,(function(t){E?Object(I.contains)(E,t.type)&&Object(I.each)(t.elements,(function(t){N(t.shape)})):Object(I.each)(t.elements,(function(t){N(t.shape)}))})),r={color:j,shapes:B,start:this.parsePosition(a),end:this.parsePosition(s)}}var R=Object(I.deepMix)({},n,Object(P.__assign)(Object(P.__assign)({},r),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return R.container=this.getComponentContainer(R),R.animate=this.view.getOptions().animate&&R.animate&&Object(I.get)(e,"animate",R.animate),R.animateOption=Object(I.deepMix)({},vn,R.animateOption,e.animateOption),R},e.prototype.isTop=function(t){return Object(I.get)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return Object(I.get)(this.view.getTheme(),["components","annotation",t],{})},e}(nn);function Kr(t,e){return Object(I.get)(t,["components","axis",e,"grid"],{})}function Jr(t,e,n,i){var r=[],o=e.getTicks();return t.isPolar&&o.push({value:1,text:"",tickValue:""}),o.reduce((function(e,o,a){var s=o.value;if(i)r.push({points:[t.convert("y"===n?{x:0,y:s}:{x:s,y:0}),t.convert("y"===n?{x:1,y:s}:{x:s,y:1})]});else if(a){var l=(e.value+s)/2;r.push({points:[t.convert("y"===n?{x:0,y:l}:{x:l,y:0}),t.convert("y"===n?{x:1,y:l}:{x:l,y:1})]})}return o}),o[0]),r}function Qr(t,e,n,i,r){var o=e.values.length,a=[],s=n.getTicks();return s.reduce((function(e,n){var s=e?e.value:n.value,l=n.value,c=(s+l)/2;return"x"===r?a.push({points:[t.convert({x:i?l:c,y:0}),t.convert({x:i?l:c,y:1})]}):a.push({points:Object(I.map)(Array(o+1),(function(e,n){return t.convert({x:n/o,y:i?l:c})}))}),n}),s[0]),a}function to(t,e){var n=Object(I.get)(e,"grid");if(null===n)return!1;var i=Object(I.get)(t,"grid");return!(void 0===n&&null===i)}var eo=["container"],no=Object(P.__assign)(Object(P.__assign)({},vn),{appear:null}),io=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(M.BG).addGroup(),n.axisContainer=n.view.getLayer(M.BG).addGroup(),n}return Object(P.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();Object(I.each)(this.getComponents(),(function(n){var i,r=n.component,o=n.direction,a=n.type,s=n.extra,l=s.dim,c=s.scale,h=s.alignTick;if(a===A.AXIS)e.isPolar?"x"===l?i=e.isTransposed?ct(e,o):pt(e):"y"===l&&(i=e.isTransposed?pt(e):ct(e,o)):i=ct(e,o);else if(a===A.GRID)if(e.isPolar){i={items:e.isTransposed?"x"===l?Qr(e,t.view.getYScales()[0],c,h,l):Jr(e,c,l,h):"x"===l?Jr(e,c,l,h):Qr(e,t.view.getXScale(),c,h,l),center:t.view.getCoordinate().getCenter()}}else i={items:Jr(e,c,l,h)};r.update(i)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,i){t.has(i)?e.set(i,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=ft(this.option,e.field);if(!1!==n){var i=gt(n,k.BOTTOM),r=M.BG,o=this.view.getCoordinate(),a=this.getId("axis",e.field),s=this.getId("grid",e.field);if(o.isRect){if(l=this.cache.get(a))Pt(h=this.getLineAxisCfg(e,n,i),eo),l.component.update(h),t.set(a,l);else l=this.createLineAxis(e,n,r,i,"x"),this.cache.set(a,l),t.set(a,l);if(c=this.cache.get(s))Pt(h=this.getLineGridCfg(e,n,i,"x"),eo),c.component.update(h),t.set(s,c);else(c=this.createLineGrid(e,n,r,i,"x"))&&(this.cache.set(s,c),t.set(s,c))}else if(o.isPolar){var l,c;if(l=this.cache.get(a)){Pt(h=o.isTransposed?this.getLineAxisCfg(e,n,k.RADIUS):this.getCircleAxisCfg(e,n,i),eo),l.component.update(h),t.set(a,l)}else{if(o.isTransposed){if(Object(I.isUndefined)(n))return;l=this.createLineAxis(e,n,r,k.RADIUS,"x")}else l=this.createCircleAxis(e,n,r,i,"x");this.cache.set(a,l),t.set(a,l)}if(c=this.cache.get(s)){var h;Pt(h=o.isTransposed?this.getCircleGridCfg(e,n,k.RADIUS,"x"):this.getLineGridCfg(e,n,k.CIRCLE,"x"),eo),c.component.update(h),t.set(s,c)}else{if(o.isTransposed){if(Object(I.isUndefined)(n))return;c=this.createCircleGrid(e,n,r,k.RADIUS,"x")}else c=this.createLineGrid(e,n,r,k.CIRCLE,"x");c&&(this.cache.set(s,c),t.set(s,c))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();Object(I.each)(n,(function(n,i){if(n&&!n.isIdentity){var r=n.field,o=ft(e.option,r);if(!1!==o){var a=M.BG,s=e.getId("axis",r),l=e.getId("grid",r),c=e.view.getCoordinate();if(c.isRect){var h=gt(o,0===i?k.LEFT:k.RIGHT);if(u=e.cache.get(s))Pt(p=e.getLineAxisCfg(n,o,h),eo),u.component.update(p),t.set(s,u);else u=e.createLineAxis(n,o,a,h,"y"),e.cache.set(s,u),t.set(s,u);if(d=e.cache.get(l))Pt(p=e.getLineGridCfg(n,o,h,"y"),eo),d.component.update(p),t.set(l,d);else(d=e.createLineGrid(n,o,a,h,"y"))&&(e.cache.set(l,d),t.set(l,d))}else if(c.isPolar){var u,d;if(u=e.cache.get(s)){Pt(p=c.isTransposed?e.getCircleAxisCfg(n,o,k.CIRCLE):e.getLineAxisCfg(n,o,k.RADIUS),eo),u.component.update(p),t.set(s,u)}else{if(c.isTransposed){if(Object(I.isUndefined)(o))return;u=e.createCircleAxis(n,o,a,k.CIRCLE,"y")}else u=e.createLineAxis(n,o,a,k.RADIUS,"y");e.cache.set(s,u),t.set(s,u)}if(d=e.cache.get(l)){var p;Pt(p=c.isTransposed?e.getLineGridCfg(n,o,k.CIRCLE,"y"):e.getCircleGridCfg(n,o,k.RADIUS,"y"),eo),d.component.update(p),t.set(l,d)}else{if(c.isTransposed){if(Object(I.isUndefined)(o))return;d=e.createLineGrid(n,o,a,k.CIRCLE,"y")}else d=e.createCircleGrid(n,o,a,k.RADIUS,"y");d&&(e.cache.set(l,d),t.set(l,d))}}}}}))},e.prototype.createLineAxis=function(t,e,n,i,r){var o={component:new J(this.getLineAxisCfg(t,e,i)),layer:n,direction:i===k.RADIUS?k.NONE:i,type:A.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createLineGrid=function(t,e,n,i,r){var o=this.getLineGridCfg(t,e,i,r);if(o){var a={component:new tt(o),layer:n,direction:k.NONE,type:A.GRID,extra:{dim:r,scale:t,alignTick:Object(I.get)(o,"alignTick",!0)}};return a.component.init(),a}},e.prototype.createCircleAxis=function(t,e,n,i,r){var o={component:new Q(this.getCircleAxisCfg(t,e,i)),layer:n,direction:i,type:A.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},e.prototype.createCircleGrid=function(t,e,n,i,r){var o=this.getCircleGridCfg(t,e,i,r);if(o){var a={component:new et(o),layer:n,direction:k.NONE,type:A.GRID,extra:{dim:r,scale:t,alignTick:Object(I.get)(o,"alignTick",!0)}};return a.component.init(),a}},e.prototype.getLineAxisCfg=function(t,e,n){var i=this.axisContainer,r=this.view.getCoordinate(),o=ct(r,n),a=mt(t,e),s=dt(this.view.getTheme(),n),l=Object(I.get)(e,["title"])?Object(I.deepMix)({title:{style:{text:a}}},e):e,c=Object(I.deepMix)(Object(P.__assign)(Object(P.__assign)({container:i},o),{ticks:t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}})),verticalFactor:r.isPolar?-1*ut(o,r.getCenter()):ut(o,r.getCenter())}),s,l),h=this.getAnimateCfg(c),u=h.animate,d=h.animateOption;c.animateOption=d,c.animate=u;var p=ht(o),f=Object(I.get)(c,"verticalLimitLength",p?1/3:.5);if(f<=1){var g=this.view.getCanvas().get("width"),m=this.view.getCanvas().get("height");c.verticalLimitLength=f*(p?g:m)}return c},e.prototype.getLineGridCfg=function(t,e,n,i){if(to(dt(this.view.getTheme(),n),e)){var r=Kr(this.view.getTheme(),n),o=Object(I.deepMix)({container:this.gridContainer},r,Object(I.get)(e,"grid"),this.getAnimateCfg(e));return o.items=Jr(this.view.getCoordinate(),t,i,Object(I.get)(o,"alignTick",!0)),o}},e.prototype.getCircleAxisCfg=function(t,e,n){var i=this.axisContainer,r=this.view.getCoordinate(),o=t.getTicks().map((function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}));t.isCategory||Math.abs(r.endAngle-r.startAngle)!==2*Math.PI||o.pop();var a=mt(t,e),s=dt(this.view.getTheme(),k.CIRCLE),l=Object(I.get)(e,["title"])?Object(I.deepMix)({title:{style:{text:a}}},e):e,c=Object(I.deepMix)(Object(P.__assign)(Object(P.__assign)({container:i},pt(this.view.getCoordinate())),{ticks:o,verticalFactor:1}),s,l),h=this.getAnimateCfg(c),u=h.animate,d=h.animateOption;return c.animate=u,c.animateOption=d,c},e.prototype.getCircleGridCfg=function(t,e,n,i){if(to(dt(this.view.getTheme(),n),e)){var r=Kr(this.view.getTheme(),k.RADIUS),o=Object(I.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,Object(I.get)(e,"grid"),this.getAnimateCfg(e)),a=Object(I.get)(o,"alignTick",!0),s="x"===i?this.view.getYScales()[0]:this.view.getXScale();return o.items=Qr(this.view.getCoordinate(),s,t,a,i),o}},e.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(I.get)(t,"animate"),animateOption:t&&t.animateOption?Object(I.deepMix)({},no,t.animateOption):no}},e}(nn);function ro(t,e,n){return n===k.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===k.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===k.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===k.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===k.TOP_LEFT||n===k.LEFT_TOP?[t.tl.x,t.tl.y]:n===k.TOP_RIGHT||n===k.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===k.BOTTOM_LEFT||n===k.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===k.BOTTOM_RIGHT||n===k.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function oo(t,e,n){if(!t)return n;var i;if(t.callback&&t.callback.length>1){var r=Array(t.callback.length-1).fill("");i=t.mapping.apply(t,Object(P.__spreadArrays)([e],r)).join("")}else i=t.mapping(e).join("");return i||n}function ao(t){var e=t.symbol;Object(I.isString)(e)&&gr[e]&&(t.symbol=gr[e])}function so(t){return t.startsWith(k.LEFT)||t.startsWith(k.RIGHT)?"vertical":"horizontal"}function lo(t,e){return Object(I.isBoolean)(t)?!1!==t&&{}:Object(I.get)(t,[e],t)}function co(t){return Object(I.get)(t,"position",k.BOTTOM)}var ho=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer(M.FORE).addGroup(),n}return Object(P.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;if(Object(I.get)(this.option,"custom")){var e=this.createCustomLegend(void 0,void 0,void 0,this.option);if(e){e.init();var n=M.FORE,i=co(this.option);this.components.push({id:"global-custom",component:e,layer:n,direction:i,type:A.LEGEND,extra:void 0})}}else this.loopLegends((function(e,n,i){var r=t.createFieldLegend(e,n,i);r&&(r.component.init(),t.components.push(r))}))},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=Object(I.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);Object(I.each)(this.components,(function(n){var i=n.component,r=n.direction,o=so(r),a=t.getCategoryLegendSizeCfg(o),s=i.get("maxWidth"),l=i.get("maxHeight");i.update({maxWidth:Math.min(a.maxWidth,s||0),maxHeight:Math.min(a.maxHeight,l||0)});var c=i.getLayoutBBox(),h=new Ht(c.x,c.y,c.width,c.height),u=ro(t.view.viewBBox,h,r),d=u[0],p=u[1],f=ro(t.layoutBBox,h,r),g=f[0],m=f[1],v=0,y=0;r.startsWith("top")||r.startsWith("bottom")?(v=d,y=m):(v=g,y=p),r.indexOf("left")>=0&&(v+=e[3]),r.indexOf("right")>=0&&(v-=e[1]),r.indexOf("top")>=0&&(y+=e[0]),r.indexOf("bottom")>=0&&(y-=e[2]),i.update({x:v,y:y}),t.layoutBBox=t.layoutBBox.cut(h,r)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if(Object(I.get)(this.option,"custom")){var n="global-custom",i=this.getComponentById(n);if(i){var r=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Pt(r,["container"]),i.component.update(r),e[n]=!0}else{var o=this.createCustomLegend(void 0,void 0,void 0,this.option);if(o){o.init();var a=M.FORE,s=co(this.option);this.components.push({id:n,component:o,layer:a,direction:s,type:A.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends((function(n,i,r){var o=t.getId(r.field),a=t.getComponentById(o);if(a){var s=void 0,l=lo(t.option,r.field);!1!==l&&(Object(I.get)(l,"custom")?s=t.getCategoryCfg(n,i,r,l,!0):r.isLinear?s=t.getContinuousCfg(n,i,r,l):r.isCategory&&(s=t.getCategoryCfg(n,i,r,l))),s&&(Pt(s,["container"]),a.direction=co(l),a.component.update(s),e[o]=!0)}else{var c=t.createFieldLegend(n,i,r);c&&(c.component.init(),t.components.push(c),e[o]=!0)}}));var l=[];Object(I.each)(this.getComponents(),(function(t){e[t.id]?l.push(t):t.component.destroy()})),this.components=l},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return Object(I.each)(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var e=this.getGeometries(this.view),n={};Object(I.each)(e,(function(e){var i=e.getGroupAttributes();Object(I.each)(i,(function(i){var r=i.getScale(i.type);r&&"identity"!==r.type&&!n[r.field]&&(t(e,i,r),n[r.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var i,r=lo(this.option,n.field),o=M.FORE,a=co(r);if(!1!==r&&(Object(I.get)(r,"custom")?i=this.createCustomLegend(t,e,n,r):n.isLinear?i=this.createContinuousLegend(t,e,n,r):n.isCategory&&(i=this.createCategoryLegend(t,e,n,r))),i)return i.set("field",n.field),{id:this.getId(n.field),component:i,layer:o,direction:a,type:A.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,i){var r=this.getCategoryCfg(t,e,n,i,!0);return new nt(r)},e.prototype.createContinuousLegend=function(t,e,n,i){var r=this.getContinuousCfg(t,e,n,i);return new it(r)},e.prototype.createCategoryLegend=function(t,e,n,i){var r=this.getCategoryCfg(t,e,n,i);return new nt(r)},e.prototype.getContinuousCfg=function(t,e,n,i){var r=n.getTicks(),o=Object(I.find)(r,(function(t){return 0===t.value})),a=Object(I.find)(r,(function(t){return 1===t.value})),s=r.map((function(t){var i=t.value,r=t.tickValue,o=e.mapping(n.invert(i)).join("");return{value:r,attrValue:o,color:o,scaleValue:i}}));o||s.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),a||s.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),s.sort((function(t,e){return t.value-e.value}));var l={min:Object(I.head)(s).value,max:Object(I.last)(s).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(l.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(l.colors=s.map((function(t){return t.attrValue})));var c=this.container,h=so(co(i)),u=Object(I.get)(i,"title");return u&&(u=Object(I.deepMix)({text:st(n)},u)),l.container=c,l.layout=h,l.title=u,l.animateOption=vn,this.mergeLegendCfg(l,i,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,i,r){var o=this.container,a=Object(I.get)(i,"position",k.BOTTOM),s=Object(I.get)(this.view.getTheme(),["components","legend",a,"marker"]),l=Object(I.get)(i,"marker"),c=so(a),h=r?function(t,e,n){return n.map((function(n){var i=Object(I.deepMix)({},t,e,n.marker);return ao(i),n.marker=i,n}))}(s,l,i.items):function(t,e,n,i,r){var o=n.getScale(n.type);if(o.isCategory){var a=o.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),c=t.getTheme().defaultColor,h=e.coordinate.isPolar;return o.getTicks().map((function(n){var u,d=n.text,p=n.value,f=d,g=o.invert(p),m=0===t.filterFieldData(a,[(u={},u[a]=g,u)]).length,v=oo(s,g,c),y=oo(l,g,"point"),x=e.getShapeMarker(y,{color:v,isInPolar:h});return ao(x=Object(I.deepMix)({},i,x,r)),{id:g,name:f,value:g,marker:x,unchecked:m}}))}return[]}(this.view,t,e,s,l),u=Object(I.get)(i,"title");u&&(u=Object(I.deepMix)({text:n?st(n):""},u));var d=this.getCategoryLegendSizeCfg(c);d.container=o,d.layout=c,d.items=h,d.title=u,d.animateOption=vn;var p=this.mergeLegendCfg(d,i,a);p.reversed&&p.items.reverse();var f=Object(I.get)(p,"maxItemWidth");return f&&f<=1&&(p.maxItemWidth=this.view.viewBBox.width*f),p},e.prototype.mergeLegendCfg=function(t,e,n){var i=n.split("-")[0],r=Object(I.get)(this.view.getTheme(),["components","legend",i],{});return Object(I.deepMix)({},r,t,e)},e.prototype.getId=function(t){return this.name+"-"+t},e.prototype.getComponentById=function(t){return Object(I.find)(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,i=e.height;return"vertical"===t?{maxWidth:.25*n,maxHeight:i}:{maxWidth:n,maxHeight:.25*i}},e}(nn),uo=function(t){function e(e){var n=t.call(this,e)||this;return n.onValueChanged=function(t){var e=t[0],i=t[1];n.updateMinMaxText(e,i),n.view.render(!0)},n.container=n.view.getLayer(M.FORE).addGroup(),n}return Object(P.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Ht(e.x,e.y,Math.min(e.width,t),e.height),i=ro(this.view.viewBBox,n,k.BOTTOM),r=(i[0],i[1]),o=ro(this.view.coordinateBBox,n,k.BOTTOM),a=o[0];o[1];this.slider.component.update({x:a,y:r,width:t})}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new K.Slider(Object(P.__assign)({container:this.container},t));return e.init(),{component:e,layer:M.FORE,direction:k.BOTTOM,type:A.OTHER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();return Pt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},e.prototype.getSliderCfg=function(){if(Object(I.isObject)(this.option)){var t=Object(P.__assign)({data:this.getData()},Object(I.get)(this.option,"trendCfg",{})),e=this.view.coordinateBBox.width,n=Object(I.deepMix)({},{x:0,y:0,width:e},this.option);return Object(P.__assign)(Object(P.__assign)({},n),{trendCfg:t})}return{}},e.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var i=n[0],r=i.field,o=i.ticks;return t.reduce((function(t,n){return n[r]===o[0]&&t.push(n[e.field]),t}),[])}return t.map((function(t){return t[e.field]||0}))},e.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,i=this.view.getXScale(),r=Object(I.size)(n);if(i&&r){var o=i.field,a=n.reduce((function(t,e){return t.includes(e[o])||t.push(e[o]),t}),[]),s=Object(I.size)(a),l=Math.floor(t*(s-1)),c=Math.floor(e*(s-1)),h=Object(I.get)(a,[l]),u=Object(I.get)(a,[c]),d=this.getSliderCfg().formatter;d&&(h=d(h,n[l],l),u=d(u,n[c],c)),this.slider.component.update({minText:h,maxText:u,start:t,end:e}),this.view.filter(i.field,(function(t,e){var n=a.indexOf(t);return!(n>-1)||Dt(n,l,c)}))}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e}(nn);var po=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return Object(P.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var i=this.getTitle(n),r={x:n[0].x,y:n[0].y};e.emit("tooltip:show",Object(P.__assign)({items:n,title:i},t));var o=this.getTooltipCfg(),a=o.follow,s=o.showMarkers,l=o.showCrosshairs,c=o.showContent,h=o.marker,u=this.items,d=this.title;if(Object(I.isEqual)(d,i)&&Object(I.isEqual)(u,n)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",Object(P.__assign)({items:n,title:i},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(I.mix)({},o,{items:n,title:i},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(n,h)),this.items=n,this.title=i,l){var p=Object(I.get)(o,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:r,o)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var i=this.tooltip;i&&i.hide(),this.view.emit("tooltip:hide",{}),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,n=this.yCrosshair,i=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),n&&n.clear(),i&&i.clear()},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this.tooltip,n=this.tooltipMarkersGroup,i=this.xCrosshair,r=this.yCrosshair;t?(e&&e.show(),n&&n.show(),i&&i.show(),r&&r.show()):(e&&e.hide(),n&&n.hide(),i&&i.hide(),r&&r.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,i=e=Object(I.flatten)(e);n<i.length;n++)for(var r=0,o=i[n];r<o.length;r++){var a=o[r],s=a.mappingData,l=s.x,c=s.y;a.x=Object(I.isArray)(l)?l[l.length-1]:l,a.y=Object(I.isArray)(c)?c[c.length-1]:c}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var h=e[0],u=Math.abs(t.y-h[0].y),d=0,p=e;d<p.length;d++){var f=p[d],g=Math.abs(t.y-f[0].y);g<=u&&(h=f,u=g)}e=[h]}return function(t){for(var e=[],n=function(n){var i=t[n];Object(I.find)(e,(function(t){return t.color===i.color&&t.name===i.name&&t.value===i.value&&t.title===i.title}))||e.push(i)},i=0;i<t.length;i++)n(i);return e}(Object(I.flatten)(e))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),i=Object(I.get)(n,["components","tooltip"],{}),r=Object(I.isUndefined)(Object(I.get)(e,"enterable"))?i.enterable:Object(I.get)(e,"enterable");return Object(I.deepMix)({},i,e,{capture:!(!r&&!this.isLocked)})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),i=new rt(Object(P.__assign)(Object(P.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},e.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),i=0,r=t;i<r.length;i++){var o=r[i],a=o.x,s=o.y,l=Object(P.__assign)(Object(P.__assign)({fill:o.color,symbol:"circle",shadowColor:o.color},e),{x:a,y:s});n.addShape("marker",{attrs:l})}},e.prototype.renderCrosshairs=function(t,e){var n=Object(I.get)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(Lt(n,t)){var i,r;if(n.isRect)n.isTransposed?(i={x:n.start.x,y:t.y},r={x:n.end.x,y:t.y}):(i={x:t.x,y:n.end.y},r={x:t.x,y:n.start.y});else{var o=Bt(n,t),a=n.getCenter(),s=n.getRadius();r=Ot(a.x,a.y,s,o),i=a}var l=Object(I.deepMix)({start:i,end:r,container:this.getTooltipCrosshairsGroup()},Object(I.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete l.type;var c=this.xCrosshair;c?c.update(l):(c=new K.Crosshair.Line(l)).init(),c.render(),c.show(),this.xCrosshair=c}},e.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(Lt(n,t)){var i,r;if(n.isRect){var o=void 0,a=void 0;n.isTransposed?(o={x:t.x,y:n.end.y},a={x:t.x,y:n.start.y}):(o={x:n.start.x,y:t.y},a={x:n.end.x,y:t.y}),i={start:o,end:a},r="Line"}else i={center:n.getCenter(),radius:jt(n,t),startAngle:n.startAngle,endAngle:n.endAngle},r="Circle";delete(i=Object(I.deepMix)({container:this.getTooltipCrosshairsGroup()},i,Object(I.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var s=this.yCrosshair;s?n.isRect&&"circle"===s.get("type")||!n.isRect&&"line"===s.get("type")?(s=new K.Crosshair[r](i)).init():s.update(i):(s=new K.Crosshair[r](i)).init(),s.render(),s.show(),this.yCrosshair=s}},e.prototype.getCrosshairsText=function(t,e,n){var i=Object(I.get)(n,["crosshairs","text"]),r=Object(I.get)(n,["crosshairs","follow"]),o=this.items;if(i){var a=this.getViewWithGeometry(this.view),s=o[0],l=a.getXScale(),c=a.getYScales()[0],h=void 0,u=void 0;if(r){var d=this.view.getCoordinate().invert(e);h=l.invert(d.x),u=c.invert(d.y)}else h=s.data[l.field],u=s.data[c.field];var p="x"===t?h:u;return Object(I.isFunction)(i)?i=i(t,p,o,e):i.content=p,{text:i}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.getTooltipItemsByHitShape=function(t,e,n){var i=[],r=t.container.getShape(e.x,e.y);if(r&&r.get("visible")&&r.get("origin")){var o=Ge(r.get("origin").mappingData,t,n);o.length&&i.push(o)}return i},e.prototype.getTooltipItemsByFindData=function(t,e,n){var i=[],r=t.dataArray;t.sort(r);for(var o=0,a=r;o<a.length;o++){var s=Ve(e,a[o],t);if(s){var l=t.getElementId(s),c=t.elementsMap[l];if("heatmap"===t.type||c.visible){var h=Ge(s,t,n);h.length&&i.push(h)}}}return i},e.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=[],i=t.geometries,r=this.getTooltipCfg(),o=r.shared,a=r.title,s=0,l=i;s<l.length;s++){var c=l[s];if(c.visible&&!1!==c.tooltipOption){var h=c.type,u=void 0;(u=["point","edge","polygon"].includes(h)?this.getTooltipItemsByHitShape(c,e,a):["area","line","path","heatmap"].includes(h)||!1!==o?this.getTooltipItemsByFindData(c,e,a):this.getTooltipItemsByHitShape(c,e,a)).length&&n.push(u)}}for(var d=0,p=t.views;d<p.length;d++){var f=p[d];n=n.concat(this.findItemsFromView(f,e))}return n},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(I.find)(t.views,(function(t){return e.getViewWithGeometry(t)}))},e}(nn),fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!Object(I.isEqual)(n,this.items)&&(this.items=n,n.length)){var i=t.getXScale().field,r=n[0].data[i],o=[],a=t.geometries;if(Object(I.each)(a,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){return t.getData()[i]===r}));o=o.concat(e)}})),o.length){var s=t.getCoordinate(),l=o[0].shape.getCanvasBBox(),c=o[0].shape.getCanvasBBox(),h=l;Object(I.each)(o,(function(t){var e=t.shape.getCanvasBBox();s.isTransposed?(e.minY<l.minY&&(l=e),e.maxY>c.maxY&&(c=e)):(e.minX<l.minX&&(l=e),e.maxX>c.maxX&&(c=e)),h.x=Math.min(e.minX,h.minX),h.y=Math.min(e.minY,h.minY),h.width=Math.max(e.maxX,h.maxX)-h.x,h.height=Math.max(e.maxY,h.maxY)-h.y}));var u=t.backgroundGroup,d=t.coordinateBBox,p=void 0;if(s.isRect){var f=t.getXScale().isLinear?0:.25,g=void 0,m=void 0,v=void 0,y=void 0;s.isTransposed?(g=d.minX,m=Math.min(c.minY,l.minY)-f*c.height,v=d.width,y=h.height+2*f*c.height):(g=Math.min(l.minX,c.minX)-f*l.width,m=Math.min(d.minY,l.minY),v=h.width+2*f*l.width,y=d.height),p=[["M",g,m],["L",g+v,m],["L",g+v,m+y],["L",g,m+y],["Z"]]}else{var x=Object(I.head)(o),b=Object(I.last)(o),w=At(x.getModel(),s).startAngle,C=At(b.getModel(),s).endAngle,_=s.getCenter(),S=s.getRadius(),O=s.innerRadius*S;p=Mt(_.x,_.y,S,w,C,O)}this.regionPath?(this.regionPath.attr("path",p),this.regionPath.show()):this.regionPath=u.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:p,fill:"#CCD6EC",opacity:.3}})}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(bt),go=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(P.__extends)(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view;if(!n.isTooltipLocked()){var i=this.timeStamp,r=+new Date;if(r-i>16){var o=this.location,a={x:e.x,y:e.y};o&&Object(I.isEqual)(o,a)||this.showTooltip(n,a),this.timeStamp=r,this.location=a}}},e.prototype.hide=function(){var t=this.context.view;t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(bt),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.showTooltip=function(t,e){var n=ce(t);Object(I.each)(n,(function(n){var i=he(t,n,e);n.showTooltip(i)}))},e.prototype.hideTooltip=function(t){var e=ce(t);Object(I.each)(e,(function(t){t.hideTooltip()}))},e}(go),vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(P.__extends)(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context.event,e=this.timeStamp,n=+new Date;if(n-e>16){var i=this.location,r={x:t.x,y:t.y};i&&Object(I.isEqual)(i,r)||this.showTooltip(r),this.timeStamp=n,this.location=r}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context.event.target;if(e&&e.get("tip")){this.tooltip||this.renderTooltip();var n=e.get("tip");this.tooltip.update(Object(P.__assign)({title:n},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},i=t.getTheme(),r=Object(I.get)(i,["components","tooltip","domStyles"],{}),o=new rt({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:r});o.init(),o.setCapture(!1),this.tooltip=o},e}(bt),yo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return Object(P.__extends)(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this,n=ne(t,this.stateName);Object(I.each)(n,(function(t){e.setElementState(t,!1)}))},e}(bt);function xo(t){return Object(I.get)(t.get("delegateObject"),"item")}var bo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return Object(P.__extends)(e,t),e.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByComponent=function(t,e,n){var i=this.context.view,r=t.get("field"),o=ee(i);this.setElementsStateByItem(o,r,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var i=de(this.context.view,e),r=ie(t,e);return!Object(I.isNil)(r)&&n.name===i.getText(r)},e.prototype.setElementsStateByItem=function(t,e,n,i){var r=this;Object(I.each)(t,(function(t){r.isMathItem(t,e,n)&&t.setState(r.stateName,i)}))},e.prototype.setStateEnable=function(t){var e=Xt(this.context);if(e)Ut(this.context)&&this.setStateByElement(e,t);else{var n=qt(this.context);if(Zt(n)){var i=n.item,r=n.component;if(i&&r&&!this.isItemIgnore(i,r)){var o=this.context.event.gEvent;if(o&&o.fromShape&&o.toShape&&xo(o.fromShape)===xo(o.toShape))return;this.setStateByComponent(r,i,t)}}}},e.prototype.toggle=function(){var t=Xt(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(yo),wo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(P.__extends)(e,t),e.prototype.active=function(){this.setState()},e}(bo),Co=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return Object(P.__extends)(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},e.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),i=e.shape.getCanvasBBox();return[["M",n.maxX,n.minY],["L",i.minX,i.minY],["L",i.minX,i.maxY],["L",n.maxX,n.maxY],["Z"]]},e.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},e.prototype.linkByElement=function(t){var e=this,n=this.context.view,i=this.getColorScale(n,t);if(i){var r=ie(t,i.field);if(!this.cache[r]){var o=function(t,e,n){return ee(t).filter((function(t){return ie(t,e)===n}))}(n,i.field,r),a=this.linkGroup.addGroup();this.cache[r]=a;var s=o.length;Object(I.each)(o,(function(t,n){if(n<s-1){var i=o[n+1];e.addLinkShape(a,t,i)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=ie(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Xt(t);e&&this.linkByElement(e)},e.prototype.unlink=function(){var t=Xt(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(bt),_o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return Object(P.__extends)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(Jt(this.context))t=Qt(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var i={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)};t=re(this.context.view,i)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=ee(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,i=this.context.view,r=ce(i),o=t.map((function(t){return t.getModel().data})),a=i.getXScale().field,s=i.getYScales()[0].field;Object(I.each)(r,(function(t){var i=ee(t),r=i.filter((function(t){var e=t.getModel().data;return ue(o,e,a,s)}));n.setElementsState(r,e,i)}))},e.prototype.setSiblingsState=function(t){var e=this,n=ce(this.context.view);Jt(this.context)&&Object(I.each)(n,(function(n){var i=ee(n),r=te(e.context,n,10);r&&r.length?e.setElementsState(r,t,i):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var i=this;Object(I.each)(n,(function(n){t.includes(n)?i.setElementState(n,e):i.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=ce(e);Object(I.each)(n,(function(e){t.clearViewState(e)}))}else this.clearViewState(e)},e}(yo),So=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(P.__extends)(e,t),e.prototype.active=function(){this.setState()},e}(_o),Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.setStateEnable=function(t){var e=Xt(this.context);if(e){if(!Ut(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=Xt(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(yo),Mo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(P.__extends)(e,t),e.prototype.active=function(){this.setState()},e}(Oo);function ko(t){var e=ee(t);Object(I.each)(e,(function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("inactive")&&t.setState("inactive",!1)}))}function Ao(t,e,n){Object(I.each)(t,(function(t){e(t)?(t.hasState("inactive")&&t.setState("inactive",!1),t.setState("active",n)):(t.hasState("active")&&t.setState("active",!1),t.setState("inactive",n))}))}var To=L.INACTIVE,Do=L.ACTIVE,Po=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=Do,e}return Object(P.__extends)(e,t),e.prototype.setElementsStateByItem=function(t,e,n,i){var r=this;this.setHighlightBy(t,(function(t){return r.isMathItem(t,e,n)}),i)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(To)&&t.setState(To,!1),t.setState(Do,!0)):t.hasState(Do)||t.setState(To,!0)},e.prototype.setHighlightBy=function(t,e,n){var i=this;if(n)Object(I.each)(t,(function(t){i.setElementHighlight(t,e)}));else{var r=ne(this.context.view,Do),o=!0;Object(I.each)(r,(function(t){if(!e(t))return o=!1,!1})),o?this.clear():Object(I.each)(t,(function(t){e(t)&&(t.hasState(Do)&&t.setState(Do,!1),t.setState(To,!0))}))}},e.prototype.setElementState=function(t,e){var n=ee(this.context.view);this.setHighlightBy(n,(function(e){return t===e}),e)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){ko(this.context.view)},e}(bo),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,i=t.geometry.getAttribute("color");if(i){var r=n.getScaleByField(i.getFields()[0]),o=ie(t,r.field),a=ee(n),s=a.filter((function(t){return ie(t,r.field)===o}));this.setHighlightBy(a,(function(t){return s.includes(t)}),e)}},e}(Po),Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(To)&&t.setState(To,!1),t.setState(Do,!0)):(t.setState(To,!0),t.hasState(Do)&&t.setState(Do,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,i=n.getXScale(),r=ie(t,i.field),o=ee(n),a=o.filter((function(t){return ie(t,i.field)===r}));this.setHighlightBy(o,(function(t){return a.includes(t)}),e)},e.prototype.toggle=function(){var t=Xt(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(Po),jo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(P.__extends)(e,t),e.prototype.clearViewState=function(t){ko(t)},e.prototype.highlight=function(){this.setState()},e.prototype.setElementsState=function(t,e,n){Ao(n,(function(e){return t.indexOf(e)>=0}),e)},e}(_o),Lo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(P.__extends)(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){Ao(ee(this.context.view),(function(e){return t===e}),e)},e.prototype.clear=function(){ko(this.context.view)},e}(Oo),Bo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(P.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}(_o),No=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(P.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}(bo),Ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(P.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}(Oo),Fo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return Object(P.__extends)(e,t),e.prototype.getTriggerListInfo=function(){var t=qt(this.context),e=null;return Zt(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=ae(this.context.view),n=[];return Object(I.each)(e,(function(e){e.isList()&&t.allowSetStateByElement(e)&&n.push(e)})),n},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();Object(I.each)(e,(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var i=de(this.context.view,e);return i&&i.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;return!n.length||0===n.filter((function(n){return e.hasState(t,n)})).length},e.prototype.setStateByElement=function(t,e,n){var i=t.get("field"),r=de(this.context.view,i),o=ie(e,i),a=r.getText(o);this.setItemsState(t,a,n)},e.prototype.setStateEnable=function(t){var e=this,n=Xt(this.context);if(n){var i=this.getAllowComponents();Object(I.each)(i,(function(i){e.setStateByElement(i,n,t)}))}else{var r=qt(this.context);if(Zt(r)){var o=r.item,a=r.component;this.allowSetStateByElement(a)&&this.allowSetStateByItem(o,a)&&this.setItemState(a,o,t)}}},e.prototype.setItemsState=function(t,e,n){var i=this,r=t.getItems();Object(I.each)(r,(function(r){r.name===e&&i.setItemState(t,r,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,i=this.hasState(e,n);this.setItemState(e,n,!i)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(bt),zo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(P.__extends)(e,t),e.prototype.active=function(){this.setState()},e}(Fo);var Vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e.ignoreItemStates=["unchecked"],e}return Object(P.__extends)(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var i=t.getItems();if(n)Object(I.each)(i,(function(n){e(n)?(t.hasState(n,"inactive")&&t.setItemState(n,"inactive",!1),t.setItemState(n,"active",!0)):t.hasState(n,"active")||t.setItemState(n,"inactive",!0)}));else{var r=t.getItemsByState("active"),o=!0;Object(I.each)(r,(function(t){if(!e(t))return o=!1,!1})),o?this.clear():Object(I.each)(i,(function(n){e(n)&&(t.hasState(n,"active")&&t.setItemState(n,"active",!1),t.setItemState(n,"inactive",!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t,e,n=this.getTriggerListInfo();if(n)t=n.list,e=t.getItems(),Object(I.each)(e,(function(e){t.hasState(e,"active")&&t.setItemState(e,"active",!1),t.hasState(e,"inactive")&&t.setItemState(e,"inactive",!1)}));else{var i=this.getAllowComponents();Object(I.each)(i,(function(t){t.clearItemsState("active"),t.clearItemsState("inactive")}))}},e}(Fo),Go=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(P.__extends)(e,t),e.prototype.selected=function(){this.setState()},e}(Fo),Ho=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return Object(P.__extends)(e,t),e.prototype.unchecked=function(){this.setState()},e}(Fo),Wo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return Object(P.__extends)(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,i=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:i.x,y:i.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(P.__assign)({fill:"#C5D4EB",opacity:.3},e)})},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,i=t.y-e.y,r=this.points;Object(I.each)(r,(function(t){t.x+=n,t.y+=i})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(bt),$o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return Object(P.__extends)(e,t),e.prototype.getMaskAttrs=function(){var t=this.points,e=Object(I.last)(this.points),n=0,i=0,r=0;if(t.length){var o=t[0];n=se(o,e)/2,i=(e.x+o.x)/2,r=(e.y+o.y)/2}return{x:i,y:r,r:n}},e}(Wo),Yo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return Object(P.__extends)(e,t),e.prototype.getRegion=function(){var t=this.points;return{start:Object(I.head)(t),end:Object(I.last)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end;return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),width:Math.abs(n.x-e.x),height:Math.abs(n.y-e.y)}},e}(Wo);function Xo(t){t.x=Object(I.clamp)(t.x,0,1),t.y=Object(I.clamp)(t.y,0,1)}var qo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return Object(P.__extends)(e,t),e.prototype.getRegion=function(){var t=null,e=null,n=this.points,i=this.dim,r=this.context.view.getCoordinate(),o=r.invert(Object(I.head)(n)),a=r.invert(Object(I.last)(n));return this.inPlot&&(Xo(o),Xo(a)),"x"===i?(t=r.convert({x:o.x,y:0}),e=r.convert({x:a.x,y:1})):(t=r.convert({x:0,y:o.y}),e=r.convert({x:1,y:a.y})),{start:t,end:e}},e}(Yo),Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&(Object(I.each)(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}(Wo),Zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.getMaskPath=function(){return function(t,e){if(t.length<=2)return zt(t,!1);var n=t[0],i=[];Object(I.each)(t,(function(t){i.push(t.x),i.push(t.y)}));var r=Ft(i,e,null);return r.unshift(["M",n.x,n.y]),r}(this.points,!0)},e}(Uo),Ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}(bt),Jo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.filterView=function(t,e,n){var i=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&Object(I.each)(t.views,(function(t){i.filterView(t,e,n)}))},e.prototype.filter=function(){var t=qt(this.context);if(t){var e=this.context.view,n=t.component,i=n.get("field");if(Zt(t)){if(i){var r=n.getItemsByState("unchecked"),o=de(e,i),a=r.map((function(t){return t.name}));a.length?this.filterView(e,i,(function(t){var e=o.getText(t);return!a.includes(e)})):this.filterView(e,i,null),e.render(!0)}}else if(Kt(t)){var s=n.getValue(),l=s[0],c=s[1];this.filterView(e,i,(function(t){return t>=l&&t<=c})),e.render(!0)}}},e}(bt);function Qo(t,e,n,i){var r=Math.min(n[e],i[e]),o=Math.max(n[e],i[e]),a=t.range,s=a[0],l=a[1];if(r<s&&(r=s),o>l&&(o=l),r===l&&o===l)return null;var c=t.invert(r),h=t.invert(o);if(t.isCategory){var u=t.values.indexOf(c),d=t.values.indexOf(h),p=t.values.slice(u,d+1);return function(t){return p.includes(t)}}return function(t){return t>=c&&t<=h}}var ta,ea,na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return Object(P.__extends)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(Jt(this.context)){var n=this.context.event.target.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var i=this.context.view,r=i.getCoordinate(),o=r.invert(e),a=r.invert(t);if(this.hasDim("x")){var s=i.getXScale(),l=Qo(s,"x",o,a);this.filterView(i,s.field,l)}if(this.hasDim("y")){var c=i.getYScales()[0];l=Qo(c,"y",o,a);this.filterView(i,c.field,l)}this.reRender(i)}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t){t.render(!0)},e}(bt),ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.filterView=function(t,e,n){var i=ce(t);Object(I.each)(i,(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){var e=ce(t);Object(I.each)(e,(function(t){t.render(!0)}))},e}(na),ra=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(P.__extends)(e,t),e.prototype.filter=function(){var t=qt(this.context),e=this.context.view,n=ee(e);if(Jt(this.context)){var i=Qt(this.context,10);i&&Object(I.each)(n,(function(t){i.includes(t)?t.show():t.hide()}))}else if(t){var r=t.component,o=r.get("field");if(Zt(t)){if(o){var a=r.getItemsByState("unchecked"),s=de(e,o),l=a.map((function(t){return t.name}));Object(I.each)(n,(function(t){var e=ie(t,o),n=s.getText(e);l.indexOf(n)>=0?t.hide():t.show()}))}}else if(Kt(t)){var c=r.getValue(),h=c[0],u=c[1];Object(I.each)(n,(function(t){var e=ie(t,o);e>=h&&e<=u?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=ee(this.context.view);Object(I.each)(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(bt),oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return Object(P.__extends)(e,t),e.prototype.filter=function(){Jt(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=Qt(this.context,10);if(e){var n=t.getXScale().field,i=t.getYScales()[0].field,r=e.map((function(t){return t.getModel().data})),o=ce(t);Object(I.each)(o,(function(t){var e=ee(t);Object(I.each)(e,(function(t){var e=t.getModel().data;ue(r,e,n,i)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=ce(this.context.view);Object(I.each)(e,(function(e){var n=te(t.context,e,10),i=ee(e);n&&Object(I.each)(i,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=ce(this.context.view);Object(I.each)(t,(function(t){var e=ee(t);Object(I.each)(e,(function(t){t.show()}))}))},e}(bt),aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return Object(P.__extends)(e,t),e.prototype.getButtonCfg=function(){return Object(I.deepMix)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:Object(P.__assign)({text:t.text},t.textStyle)}).getBBox(),i=Ue(t.padding),r=e.addShape({type:"rect",name:"button-rect",attrs:Object(P.__assign)({x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},t.style)});r.toBack(),e.on("mouseenter",(function(){r.attr(t.activeStyle)})),e.on("mouseleave",(function(){r.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),i=lt.ext.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(i)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(bt),sa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return Object(P.__extends)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):se(t,this.startPoint)>4&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(bt),la=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return Object(P.__extends)(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(se(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,i=lt.ext.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(i),n.foregroundGroup.setMatrix(i),n.middleGroup.setMatrix(i)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(bt),ca=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return Object(P.__extends)(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},e}(bt),ha=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return Object(P.__extends)(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;Object(I.each)(e,(function(e){var n=t.getScale(e),i=n.min,r=n.max,o=n.values;t.startCache[e]={min:i,max:r,values:o}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),r=n.invert(e),o=n.invert(i),a=o.x-r.x,s=o.y-r.y,l=this.context.view,c=this.dims;Object(I.each)(c,(function(e){t.translateDim(e,{x:-1*a,y:-1*s})})),l.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var i=this.context.view,r=this.startCache[t],o=r.min,a=r.max,s=a-o,l=n[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),i.scale(e.field,{nice:!1,min:o+l,max:a+l})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(ca),ua=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return Object(P.__extends)(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;Object(I.each)(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var i=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],o=r.max-r.min,a=e.min,s=e.max,l=n*o,c=a-l,h=s+l,u=(h-c)/o;h>c&&u<100&&u>.01&&i.scale(e.field,{nice:!1,min:a-l,max:s+l})},e}(ca);function da(t){return t.isInPlot()}function pa(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}ta="dark",ea=ke(Zn),Le[Object(I.lowerCase)(ta)]=Object(I.deepMix)({},Le.default,ea),V("canvas",Kn),V("svg",r),tn("Polygon",xr),tn("Interval",pr),tn("Schema",br),tn("Path",er),tn("Point",yr),tn("Line",fr),tn("Area",or),tn("Edge",ar),tn("Heatmap",lr),Mn("base",Gn),Mn("interval",Tr),Mn("pie",Ir),Mn("polar",Pr),kn("overlap",(function(t,e,n,i){var r=new Er;Object(I.each)(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),i=n.x,o=n.y,a=!1,s=0;s<=8;s++){var l=jr(e,i,o,s);if(r.hasGap(l)){r.fillGap(l),a=!0;break}}a||t.remove(!0)})),r.destroy()})),kn("distribute",(function(t,e,n,i){var r=t[0]?t[0].offset:0,o=e[0].get("coordinate"),a=o.getRadius(),s=o.getCenter();if(r>0){var l=2*(a+r)+28,c={start:o.start,end:o.end},h=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?h[0].push(t):h[1].push(t))})),h.forEach((function(t,n){var i=l/14;t.length>i&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(i,t.length-i)),t.sort((function(t,e){return t.y-e.y})),function(t,e,n,i,r,o){var a,s=!0,l=i.start,c=i.end,h=Math.min(l.y,c.y),u=Math.abs(l.y-c.y),d=0,p=Number.MIN_VALUE,f=e.map((function(t){return t.y>d&&(d=t.y),t.y<p&&(p=t.y),{size:n,targets:[t.y-h]}}));for(p-=h,d-h>u&&(u=d-h);s;)for(f.forEach((function(t){var e=(Math.min.apply(p,t.targets)+Math.max.apply(p,t.targets))/2;t.pos=Math.min(Math.max(p,e-t.size/2),u-t.size)})),s=!1,a=f.length;a--;)if(a>0){var g=f[a-1],m=f[a];g.pos+g.size>m.pos&&(g.size+=m.size,g.targets=g.targets.concat(m.targets),g.pos+g.size>u&&(g.pos=u-g.size),f.splice(a,1),s=!0)}a=0,f.forEach((function(t){var i=h+n/2;t.targets.forEach((function(){e[a].y=t.pos+i,i+=n,a++}))}));for(var v={},y=0,x=t;y<x.length;y++){var b=x[y];v[b.get("id")]=b}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var i=Math.sqrt(e-n);t.x=o?r.x+i:r.x-i}var a=v[t.id];a.attr("x",t.x),a.attr("y",t.y);var s=Object(I.find)(a.getChildren(),(function(t){return"text"===t.get("type")}));s&&(s.attr("y",t.y),s.attr("x",t.x))}))}(e,t,14,c,s,n)}))}Object(I.each)(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,i=Ot(s.x,s.y,a,n),r=Ot(s.x,s.y,a+e/2,n),o=t.x+Object(I.get)(t,"offsetX",0),l=t.y+Object(I.get)(t,"offsetY",0),c={x:o-4*Math.cos(n),y:l-4*Math.sin(n)};Object(I.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+i.x,i.y+" Q"+r.x,r.y+" "+c.x,c.y].join(",")}}))})),kn("fixed-overlap",(function(t,e,n,i){var r=new Er;Object(I.each)(e,(function(t){(function(t,e,n){void 0===n&&(n=100);var i,r=t.attr(),o=r.x,a=r.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),c=1,h=0,u=0;if(e.hasGap(s))return e.fillGap(s),!0;for(var d,p,f=!1,g=0,m={};Math.min(Math.abs(h),Math.abs(u))<l&&g<n;)if(d=c+=-1,p=void 0,u=~~(i=[(p=.1*d)*Math.cos(p),p*Math.sin(p)])[1],((h=~~i[0])||u)&&!m[h+"-"+u]&&(t.attr({x:o+h,y:a+u}),h+u<0&&t.attr("textAlign","right"),g++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),f=!0,m[h+"-"+u]=!0;break}return f})(t.find((function(t){return"text"===t.get("type")})),r)||t.remove(!0)})),r.destroy()})),kn("limit-in-shape",(function(t,e,n,i){Object(I.each)(e,(function(t,e){var i=t.getCanvasBBox(),r=n[e].getBBox();(i.minX<r.minX||i.minY<r.minY||i.maxX>r.maxX||i.maxY>r.maxY)&&t.remove(!0)}))})),kn("limit-in-canvas",(function(t,e,n,i){Object(I.each)(e,(function(t){var e=i.minX,n=i.minY,r=i.maxX,o=i.maxY,a=t.getCanvasBBox(),s=a.minX,l=a.minY,c=a.maxX,h=a.maxY,u=a.x,d=a.y,p=a.width,f=a.height,g=u,m=d;(s<e||c<e)&&(g=e),(l<n||h<n)&&(m=n),s>r?g=r-p:c>r&&(g-=c-r),l>o?m=o-f:h>o&&(m-=h-o),g===u&&m===d||Fn(t,g-u,m-d)}))})),kn("pie-outer",(function(t,e,n,i){var r=t[0]?t[0].offset:0,o=e[0].get("coordinate"),a=o.getRadius(),s=o.getCenter();if(r>0){var l=Object(I.get)(t[0],"labelHeight",14),c=a+r,h=2*c+2*l,u={start:o.start,end:o.end},d=[[],[]];t.forEach((function(t){t&&(t.x<s.x?d[0].push(t):d[1].push(t))})),d.forEach((function(t,n){var i=h/l;t.length>i&&(t.sort((function(t,e){return e["data.percent"]-t["data.percent"]})),t.splice(i,t.length-i+1).forEach((function(t){var n=e.findIndex((function(e){return e.get("id")===t.id}));e[n]&&(e[n].remove(!0),e.splice(n,1))})));!function(t,e,n,i,r,o,a){e.sort((function(t,e){return t.y-e.y}));var s,l=i.start,c=i.end,h=Math.min(l.y,c.y),u=Math.max(l.y,c.y),d=e.map((function(t){return{content:t.content,size:n,pos:t.y,targets:[t.y]}})),p=Math.max.apply(Math,d.map((function(t){return t.pos}))),f=Math.min.apply(Math,d.map((function(t){return t.pos})));if(a){for(var g=Math.min(f,u-(d.length-1)*n),m=Math.max(g+d.length*n,p+n),v=!0;v;)for(v=!1,s=d.length;s--;)if(s>0){var y=d[s-1],x=d[s];y.pos+y.size>x.pos&&(x.pos+s*n<m?(y.size+=x.size,y.targets=y.targets.concat(x.targets),d.splice(s,1)):y.pos=x.pos-y.size,v=!0)}}else for(m=Math.max(h+(d.length-1)*n,p),g=Math.min(f,m-(d.length-1)*n),v=!0;v;)for(v=!1,s=d.length;s--;)if(s>0){y=d[s-1],x=d[s];y.pos+y.size>x.pos&&(y.pos-g>s*n?y.pos-=y.size:(y.size+=x.size,y.targets=y.targets.concat(x.targets),d.splice(s,1)),v=!0)}s=0,d.forEach((function(t){var i=t.pos;t.targets.forEach((function(){e[s].y=i,i+=n,s++}))}));for(var b={},w=0,C=t;w<C.length;w++){var _=C[w];b[_.get("id")]=_}var S=(Math.max.apply(Math,e.map((function(t){return t.y})))-Math.min.apply(Math,e.map((function(t){return t.y}))))/2;S=Math.max(S,o),e.forEach((function(t){var e=b[t.id],n=e.find((function(t){return"text"===t.get("type")}));if(n&&n.attr("y")!==t.y){var i=S*S,o=Math.pow(Math.abs(t.y-r.y),2);if(i<o)t.x=r.x;else{var s=Math.sqrt(i-o);t.x=a?r.x+s:r.x-s}}e.attr("x",t.x),e.attr("y",t.y),n&&(n.attr("y",t.y),n.attr("x",t.x))}))}(e,t,l,u,s,c,1===n)}))}Object(I.each)(t,(function(t){if(t&&t.labelLine){var e=t.angle,n=Ot(s.x,s.y,a,e),i=t.x+Object(I.get)(t,"offsetX",0)*(Math.cos(e)>0?1:-1),o=t.y+Object(I.get)(t,"offsetY",0)*(Math.sin(e)>0?1:-1),l={x:i-4*Math.cos(e),y:o-4*Math.sin(e)},c=t.labelLine.smooth,h=[],u=l.x-s.x,d=l.y-s.y,p=Math.atan(d/u);if(u<0&&(p+=Math.PI),!1===c){Object(I.isObject)(t.labelLine)||(t.labelLine={});var f=0;(e<0&&e>-Math.PI/2||e>1.5*Math.PI)&&l.y>n.y&&(f=1),e>=0&&e<Math.PI/2&&l.y>n.y&&(f=1),e>=Math.PI/2&&e<Math.PI&&n.y>l.y&&(f=1),(e<-Math.PI/2||e>=Math.PI&&e<1.5*Math.PI)&&n.y>l.y&&(f=1);var g=r/2>4?4:Math.max(r/2-1,0),m=Ot(s.x,s.y,a+g,e),v=Ot(s.x,s.y,a+r/2,p);h.push("M "+n.x+" "+n.y),h.push("L "+m.x+" "+m.y),h.push("A "+s.x+" "+s.y+" 0 0 "+f+" "+v.x+" "+v.y),h.push("L "+l.x+" "+l.y)}else{m=Ot(s.x,s.y,a+(r/2>4?4:Math.max(r/2-1,0)),e);var y=n.x<s.x?1:-1;h.push("M "+l.x+" "+l.y);var x=(n.y-s.y)/(n.x-s.x),b=(l.y-s.y)/(l.x-s.x);Math.abs(x-b)>Math.pow(Math.E,-16)&&h.push.apply(h,["C",l.x+4*y,l.y,2*m.x-n.x,2*m.y-n.y,n.x,n.y]),h.push("L "+n.x+" "+n.y)}t.labelLine.path=h.join(" ")}}))})),mn("fade-in",(function(t,e,n){var i={fillOpacity:Object(I.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(I.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(I.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(i,e)})),mn("fade-out",(function(t,e,n){var i=e.easing,r=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r,i,(function(){t.remove(!0)}),o)})),mn("grow-in-x",(function(t,e,n){Lr(t,e,n.coordinate,n.minYPoint,"x")})),mn("grow-in-xy",(function(t,e,n){Lr(t,e,n.coordinate,n.minYPoint,"xy")})),mn("grow-in-y",(function(t,e,n){Lr(t,e,n.coordinate,n.minYPoint,"y")})),mn("scale-in-x",(function(t,e,n){var i=t.getBBox(),r=t.get("origin").mappingData.points,o=r[0].y-r[1].y>0?i.maxX:i.minX,a=(i.minY+i.maxY)/2;t.applyToMatrix([o,a,1]);var s=lt.ext.transform(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]]);t.setMatrix(s),t.animate({matrix:lt.ext.transform(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])},e)})),mn("scale-in-y",(function(t,e,n){var i=t.getBBox(),r=t.get("origin").mappingData,o=(i.minX+i.maxX)/2,a=r.points,s=a[0].y-a[1].y<=0?i.maxY:i.minY;t.applyToMatrix([o,s,1]);var l=lt.ext.transform(t.getMatrix(),[["t",-o,-s],["s",1,.01],["t",o,s]]);t.setMatrix(l),t.animate({matrix:lt.ext.transform(t.getMatrix(),[["t",-o,-s],["s",1,100],["t",o,s]])},e)})),mn("wave-in",(function(t,e,n){var i=Nt(n.coordinate,20),r=i.type,o=i.startState,a=i.endState,s=t.setClip({type:r,attrs:o});s.animate(a,Object(P.__assign)(Object(P.__assign)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0)}}))})),mn("zoom-in",(function(t,e,n){Vr(t,e,"zoomIn")})),mn("zoom-out",(function(t,e,n){Vr(t,e,"zoomOut")})),mn("position-update",(function(t,e,n){var i=n.toAttrs,r=i.x,o=i.y;delete i.x,delete i.y,t.attr(i),t.animate({x:r,y:o},e)})),mn("sector-path-update",(function(t,e,n){var i=n.toAttrs,r=n.coordinate,o=i.path,a=o.map((function(t){return t[0]})),s=zr(o),l=s.startAngle,c=s.endAngle,h=s.radius,u=s.innerRadius,d=zr(t.attr("path")),p=d.startAngle,f=d.endAngle,g=r.getCenter(),m=l-p,v=c-f;t.animate((function(t){var e=p+t*m,n=f+t*v;return Object(P.__assign)(Object(P.__assign)({},i),{path:Object(I.isEqual)(a,["M","A","A","Z"])?kt(g.x,g.y,h,e,n):Mt(g.x,g.y,h,e,n,u)})}),Object(P.__assign)(Object(P.__assign)({},e),{callback:function(){t.attr("path",o)}}))})),mn("path-in",(function(t,e,n){var i=t.getTotalLength();t.attr("lineDash",[i]),t.animate((function(t){return{lineDashOffset:(1-t)*i}}),e)})),xt("rect",qr),xt("mirror",Xr),xt("list",$r),xt("matrix",Yr),xt("circle",Wr),xt("tree",Ur),We("axis",io),We("legend",ho),We("tooltip",po),We("annotation",Zr),We("slider",uo),_t("tooltip",go),_t("sibling-tooltip",mo),_t("ellipsis-text",vo),_t("element-active",wo),_t("element-single-active",Mo),_t("element-range-active",So),_t("element-highlight",Po),_t("element-highlight-by-x",Eo),_t("element-highlight-by-color",Io),_t("element-single-highlight",Lo),_t("element-range-highlight",jo),_t("element-sibling-highlight",jo,{effectSiblings:!0,effectByRecord:!0}),_t("element-selected",No),_t("element-single-selected",Ro),_t("element-range-selected",Bo),_t("element-link-by-color",Co),_t("active-region",fo),_t("list-active",zo),_t("list-selected",Go),_t("list-highlight",Vo),_t("list-unchecked",Ho),_t("legend-item-highlight",Vo,{componentNames:["legend"]}),_t("axis-label-highlight",Vo,{componentNames:["axis"]}),_t("rect-mask",Yo),_t("x-rect-mask",qo,{dim:"x"}),_t("y-rect-mask",qo,{dim:"y"}),_t("circle-mask",$o),_t("path-mask",Uo),_t("smooth-path-mask",Zo),_t("cursor",Ko),_t("data-filter",Jo),_t("brush",na),_t("brush-x",na,{dims:["x"]}),_t("brush-y",na,{dims:["y"]}),_t("sibling-filter",ia),_t("sibling-x-filter",ia),_t("sibling-y-filter",ia),_t("element-filter",ra),_t("element-sibling-filter",oa),_t("element-sibling-filter-record",oa,{byRecord:!0}),_t("view-drag",sa),_t("view-move",la),_t("scale-translate",ha),_t("scale-zoom",ua),_t("reset-button",aa,{name:"reset-button",text:"reset"}),Se("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Se("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Se("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Se("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Se("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Se("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Se("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Se("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Se("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Se("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Se("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Se("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Se("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:da,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:da,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:da,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Se("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Se("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:da,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:da,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:da,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Se("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:da,action:"path-mask:start"},{trigger:"mousedown",isEnable:da,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Se("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Se("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Se("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Se("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Se("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Se("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Se("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return pa(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!pa(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Se("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var fa={translate:Fn,rotate:zn,zoom:function(t,e){var n=t.getBBox(),i=(n.minX+n.maxX)/2,r=(n.minY+n.maxY)/2;t.applyToMatrix([i,r,1]);var o=Rn(t.getMatrix(),[["t",-i,-r],["s",e,e],["t",i,r]]);t.setMatrix(o)},transform:Rn,getAngle:At,polarToCartesian:Ot},ga=function(){function t(t){this.EVENT="gesture",this.gm=t}return t.prototype.do=function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"touchcancel":this.onTouchCancel(t);break;default:return}},t.prototype.emit=function(t){this.gm.emit(this.EVENT,t)},t}(),ma=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="pan",e}return Object(ln.__extends)(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,i=e-this.preX,r=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:i,deltaY:r,event:t})},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},e}(ga),va="object"==typeof performance&&performance.now?performance:Date,ya=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="press",e}return Object(ln.__extends)(e,t),e.prototype.onTouchCancel=function(t){this.clearTimeout()},e.prototype.onTouchEnd=function(t){this.clearTimeout()},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>10||n-this.touchStartY>10)&&this.clearTimeout()},e.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,i=t.y;this.touchStartTime=va.now(),this.touchStartX=n,this.touchStartY=i,this.pressTimeout=window.setTimeout((function(){e.emit({x:n,y:i,event:t})}),300)},e.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},e}(ga),xa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="swipe",e.latestMoveTime=0,e.ms=0,e.speedX=0,e.speedY=0,e.preX=0,e.preY=0,e}return Object(ln.__extends)(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(va.now()-this.latestMoveTime<100){var i=t.x,r=t.y;this.emit({x:i,y:r,speedX:e,speedY:n,event:t})}},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,i=va.now(),r=e-this.preX,o=n-this.preY,a=i-this.ms;this.speedX=r/a,this.speedY=o/a,this.latestMoveTime=i},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=va.now()},e}(ga),ba={Pan:ma,Press:ya,Swipe:xa,Tap:function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="tap",e}return Object(ln.__extends)(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<2&&n-this.touchStartY<2&&va.now()-this.touchStartTime<300&&this.emit({x:e,y:n,event:t})},e.prototype.onTouchMove=function(t){},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=va.now(),this.touchStartX=e,this.touchStartY=n},e}(ga)},wa=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;return i.onTouchStart=function(t){i.preventEvent(t),i.element.on("touchmove",i.onTouchMove),i.element.on("touchend",i.onTouchEnd),i.element.on("touchcancel",i.onTouchCancel),i.emit("touchdown",t),i.doGestures(t)},i.onTouchMove=function(t){i.preventEvent(t),i.emit("touchmove",t),i.doGestures(t)},i.onTouchEnd=function(t){i.preventEvent(t),i.emit("touchend",t),i.element.off("touchmove",i.onTouchMove),i.element.off("touchend",i.onTouchEnd),i.element.off("touchcancel",i.onTouchCancel),i.doGestures(t)},i.onTouchCancel=function(t){i.preventEvent(t),i.emit("touchcancel",t),i.element.off("touchmove",i.onTouchMove),i.element.off("touchend",i.onTouchEnd),i.element.off("touchcancel",i.onTouchCancel),i.doGestures(t)},i.element=e,i.options=n,i.initialGestures(),i.bindTouchStart(),i}return Object(ln.__extends)(e,t),e.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},e.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map((function(e){return new(0,ba[e])(t)}))},e.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},e.prototype.preventEvent=function(t){var e=t.type;(this.options.prevents||[]).includes(e)&&t.preventDefault()},e.prototype.doGestures=function(t){this.gestures.forEach((function(e){e.do(t)}))},e}($.default),Ca=n(97).a,_a=function(t){function e(e){var n=t.call(this)||this;return n.rafMs=0,n.onPan=function(t){var e=t.deltaX,i=t.deltaY,r=n.getWrapperEvent(t,e,i);n.emit("wheel",r)},n.onSwipe=function(t){var e=t.speedX,i=t.speedY;n.rafMs=va.now(),n.ms=n.rafMs,0===e&&0===i||n.rafInertia(t)},n.element=e,n.gm=new wa(e,{gestures:["Pan","Swipe"]}),n.gm.on("swipe",n.onSwipe),n.gm.on("pan",n.onPan),n}return Object(ln.__extends)(e,t),e.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},e.prototype.rafInertia=function(t){var e=this,n=t.speedX,i=t.speedY;this.raf=window.requestAnimationFrame((function(){var r=va.now(),o=(r-e.ms)/800;if(o<1){o=Ca(1-o);var a=r-e.rafMs,s=n*o*a,l=i*o*a,c=e.getWrapperEvent(t,s,l);e.emit("wheel",c),e.rafMs=r,e.rafInertia(t)}}))},e.prototype.getWrapperEvent=function(t,e,n){return Object(ln.__assign)(Object(ln.__assign)({},t),{deltaX:-e,deltaY:-n})},e}($.default),Sa=n(38),Oa=n(234),Ma=n.n(Oa),ka=n(176),Aa=(n(237),n(177)),Ta=n(55),Da=(n(238),n(239)),Pa=n.n(Da),Ia=n(178),Ea=n.n(Ia);We("gesture",D.a);var ja,La="origin",Ba=864e5,Na={second:{value:1e3,format:"HH:mm:ss"},miniute:{value:6e4,format:"HH:mm"},hour:{value:36e5,format:"HH"},day:{value:Ba,format:"YYYY-MM-DD"},week:{value:6048e5,format:"YYYY-MM-DD"},month:{value:2592e6,format:"YYYY-MM"},year:{value:31536e6,format:"YYYY"}},Ra=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],Fa=[],za=Object(I.deepMix)(Wa({title:"title",description:"description",breadcrumb:"breadcrumb"}),$a("Plot",Ra)),Va=$a("Layer",Ra),Ga=Object(I.deepMix)({},Wa({axis:"axis-label",label:"label",legend:"legend-item"}),$a("View",Ra),(ja={},Object(I.each)(Fa,(function(t){var e=Object(I.upperFirst)(t);ja["on"+e]=t})),ja));function Ha(t,e,n){t.view.on(e,(function(e){var i={x:null==e?void 0:e.x,y:null==e?void 0:e.y,clientX:null==e?void 0:e.clientX,clientY:null==e?void 0:e.clientY,target:null==e?void 0:e.target,data:(null==e?void 0:e.data)?e.data.data:null,plot:t,canvas:t.canvas,gEvent:null==e?void 0:e.gEvent};n(i)}))}function Wa(t){var e={};return Object(I.each)(t,(function(t,n){var i="on"+Object(I.upperFirst)(n),r=t+":";Object(I.each)(Ra,(function(t){var n=Object(I.upperFirst)(t),o=""+r+t;e[""+i+n]=o}))})),e}function $a(t,e){var n={};return Object(I.each)(e,(function(e){var i=Object(I.upperFirst)(e);n["on"+t+i]=e})),n}var Ya=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.fromBBoxObject=function(t){return new e(t.x,t.y,t.width,t.height)},e}(n(223).BBox),Xa=function(t){function e(e){var n=t.call(this)||this;return n.layers=[],n.destroyed=!1,n.visibility=!0,n.rendered=!1,n.eventHandlers=[],n.options=n.getOptions(e),n.processOptions(n.options),n}return Object(ln.__extends)(e,t),e.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},e.prototype.updateConfig=function(t){this.options=Object(I.deepMix)({},this.options,t),this.processOptions(this.options)},e.prototype.beforeInit=function(){return null},e.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer((function(t){t.init()}))},e.prototype.afterInit=function(){return null},e.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer((function(t){t.render()})),this.canvas.draw()},e.prototype.clear=function(){this.eachLayer((function(t){t.destroy()})),this.layers=[],this.container.clear()},e.prototype.destroy=function(){var t=this;this.eachLayer((function(t){t.destroy()})),Object(I.each)(this.eventHandlers,(function(e){t.off(e.eventName,e.handler)})),this.container.remove(!0),this.destroyed=!0},e.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},e.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},e.prototype.addLayer=function(t){Object(I.findIndex)(this.layers,(function(e){return e===t}))<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},e.prototype.removeLayer=function(t){var e=Object(I.findIndex)(this.layers,(function(e){return e===t}));e>=0&&this.layers.splice(e,1)},e.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},i=Object(I.deepMix)({},n,t);this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer((function(t){t.updateBBoxByParent(),t.render()})),this.canvas.draw()},e.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},e.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},e.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Ya(t.x,t.y,this.width,this.height)},e.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var i={x:0,y:0,width:e,height:n};return Object(I.deepMix)({},i,t)},e.prototype.eachLayer=function(t){Object(I.each)(this.layers,t)},e.prototype.parseEvents=function(t){var e=this,n=Object(I.keys)(Va);Object(I.each)(t,(function(t,i){if(Object(I.contains)(n,i)&&Object(I.isFunction)(t)){var r=Va[i]||i,o=t;e.on(r,o),e.eventHandlers.push({name:r,handler:o})}}))},e.prototype.getLayerBBox=function(){return new Ya(this.x,this.y,this.width,this.height)},e.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,i=this.parent.y;return{start:{x:(this.x-n)/t,y:(this.y-i)/e},end:{x:(this.x+this.width-n)/t,y:(this.y+this.height-i)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},e}($.default);function qa(t){return!!t&&!(!0!==t.visible||"string"!=typeof t.text||!t.text.trim())}function Ua(t,e){var n=Object(ln.__spreadArrays)(t);return e.forEach((function(t,e){n.splice(t+e,0,"\n")})),n.join("")}function Za(t,e){for(var n=t.length;n>0&&!(e>=t[n-1]);)n-=1;return n}function Ka(t,e){return!(t.maxY<e.minY||e.maxY<t.minY)&&!(t.maxX<e.minX||e.maxX<t.minX)}var Ja=function(){function t(t){this.position="top",this.destroyed=!1,Object(I.assign)(this,t),this.init()}return t.prototype.getBBox=function(){var t=this;if(this.shape){var e=this.shape.getBBox();if(0===this.index)return Ya.fromBBoxObject(e);var n=this.plot.theme.description.padding;return Object(I.isArray)(n)&&Object(I.each)(n,(function(e,i){"function"==typeof n[i]&&(n[i]=n[i](t.plot.options.legend.position))})),new Ya(e.maxX,e.minY,e.width,e.height)}return null},t.prototype.clear=function(){this.shape&&this.shape.attr("text","")},t.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},t.prototype.init=function(){var t=this.textWrapper(),e=this.getPosition(),n=e.x,i=e.y;this.shape=this.container.addShape("text",{attrs:Object(I.mix)({x:n,y:i,text:t},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},t.prototype.getPosition=function(){return"left"===this.alignTo?{x:this.leftMargin,y:this.topMargin}:"middle"===this.alignTo?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},t.prototype.getTextAlign=function(){return"left"===this.alignTo?"left":"middle"===this.alignTo?"center":"right"},t.prototype.textWrapper=function(){var t=this.wrapperWidth,e=this.style,n=this.text,i=this.container.addShape("text",{attrs:Object(ln.__assign)({text:"",x:0,y:0},e)}),r=n.split("\n").map((function(e){for(var n="",r=e.split(""),o=[],a=0;a<r.length;a++){var s=r[a];if(i.attr("text",n+=s),i.getBBox().width-1>t){if(0===a)break;o.push(a),n=""}}return Ua(r,o)}));return i.remove(),r.join("\n")},t}(),Qa=function(t){function e(e){var n=t.call(this)||this;return n.container=e.container,n.destroyed=!1,n.config=e,n.disposables=[],n}return Object(ln.__extends)(e,t),e.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},e.prototype.getGroup=function(){return this.group},e.prototype.getConfig=function(){return this.config},e.prototype.getBBox=function(){return this.getGroup().getBBox()},e.prototype.clear=function(){this.group.clear()},e.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},e.prototype.update=function(t){this.config=Object(ln.__assign)(Object(ln.__assign)({},this.config),t),this.initConfig(this.config)},e.prototype.destroy=function(){Object(I.each)(this.disposables,(function(t){t()})),this.disposables=[],this.group.remove(!0),this.destroyed=!0},e.prototype.initGroup=function(){this.group=this.container.addGroup()},e.prototype.getCanvas=function(){return this.container.get("canvas")},e.prototype.addDisposable=function(t){this.disposables.push(t)},e.prototype.initConfig=function(t){},e}($.default),ts=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelsCfgMap={},e.lastLabelsCfgMap={},e}return Object(ln.__extends)(e,t),e.prototype.getGeometry=function(){return this.geometry},e.prototype.getLabels=function(){return this.labels},e.prototype.show=function(){this.container.show()},e.prototype.hide=function(){this.container.hide()},e.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=Object(I.deepMix)(this.getDefaultOptions(),t.label);var i=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,i),this.addDisposable((function(){n.off(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,i)}))},e.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},Object(I.each)(this.geometry.elements,(function(n,i){var r=[].concat(e.drawLabelItem(t,n,i));Object(I.each)(r,(function(t,i){e.adjustLabel(t,n,i),t.destroyed||(e.labels.push(t),e.labelsCfgMap[t.get("id")]=Object(I.clone)(t.attrs))}))})),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,i=this.labelsCfgMap,r=!!this.geometry.animateOption&&Object(Ta.getDefaultAnimateCfg)("label",this.coord);Object(I.each)(i,(function(i,o){var a=t.findById(o);if(a)if(n[o]){var s=n[o],l=Object(I.get)(r,"update");l&&(a.stopAnimate(),a.attr(s),Object(Ta.doAnimate)(a,l,{toAttrs:Object(ln.__assign)({},i),coordinate:e.coord}))}else{var c=Object(I.get)(r,"appear");c&&(a.stopAnimate(),Object(Ta.doAnimate)(a,c,{toAttrs:Object(ln.__assign)({},a.attr()),coordinate:e.coord}))}delete n[o]})),Object(I.each)(n,(function(n,i){var o=Object(I.get)(r,"leave");if(o){var a=t.addShape("text",{attrs:n,id:i,name:"label"});a.stopAnimate(),Object(Ta.doAnimate)(a,o,{toAttrs:null,coordinate:e.coord})}})),this.lastLabelsCfgMap=this.labelsCfgMap},e.prototype.drawLabelText=function(t,e,n){return void 0===n&&(n={}),t.addShape("text",Object(ln.__assign)({attrs:e},n))},e.prototype.drawLabelItem=function(t,e,n){var i=this,r=e.getModel(),o=[].concat(this.getLabelItemAttrs(e,n)),a=this.getDefaultOffset(),s=this.getLabelOffset();return Object(I.map)(o,(function(n,o){var l,c={x:n.x+s.x,y:n.y+s.y},h=Object(I.isArray)(r.mappingData)?r.mappingData[o]:r.mappingData,u=i.getLabelId(h);return i.drawLabelText(t,Object(ln.__assign)(Object(ln.__assign)({},n),c),((l={id:u,name:"label",offset:a,element:e})[La]=h,l))}))},e.prototype.getDefaultOffset=function(){return Number(this.options.offset)},e.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:Object(I.isNumber)(e)?e:0,y:Object(I.isNumber)(n)?n:0}},e.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,i=n.offsetX,r=n.offsetY,o=this.getDefaultOffset(),a={x:0,y:0};return a[t]=o*e,Object(I.isNumber)(i)&&(a.x+=i),Object(I.isNumber)(r)&&(a.y+=r),a},e.prototype.getDefaultOptions=function(){return{}},e.prototype.layoutLabels=function(t,e){},e.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,i=this.geometry.getXScale(),r=this.geometry.getYScale(),o=this.geometry.getElementId(t);return"line"===n||"area"===n?o+=" "+e[i.field]:"path"===n&&(o+=" "+e[i.field]+"-"+e[r.field]),o},e.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Ya(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},e}(Qa),es={};function ns(t,e){es[t]=e}var is=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n,i){return t.reduce((function(t,e){return e(t,n,i)}),e)}},rs=function(t){return function(e){var n=Number(e);return isNaN(n)||Object(I.isNil)(t)?e:n.toFixed(t)}},os=function(t){return function(e){return Object(I.isNil)(t)?e:e+" "+t}};function as(t,e,n){t[n]&&(e[n]=t[n])}var ss=function(){function t(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}return t.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},t.prototype._styleParser=function(){this.config=Object(ln.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,as(this.localProps,this.config,"autoHideLabel"),as(this.localProps,this.config,"autoRotateLabel"),as(this.localProps,this.config,"autoRotateTitle")},t.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+"Axis"]?t[this.dim+"Axis"]:{},n=Object(I.deepMix)({},this.themeConfig,e);return this.localProps=n,!!n.visible},t.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},t.prototype._gridParser=function(){var t,e,n,i,r,o=this,a=null===(e=null===(t=this.localProps.grid)||void 0===t?void 0:t.line)||void 0===e?void 0:e.style,s=null===(i=null===(n=this.localProps.grid)||void 0===n?void 0:n.line)||void 0===i?void 0:i.type,l=null===(r=this.localProps.grid)||void 0===r?void 0:r.alternateColor;Object(I.isFunction)(a)?this.config.grid=function(t,e,n){var i=a(t,e,n);return{line:{type:s,style:Object(I.deepMix)({},Object(I.get)(o.themeConfig,"grid.line.style"),i)},alternateColor:l}}:a&&(this.config.grid={line:{type:s,style:a},alternateColor:l},this.applyThemeConfig("grid"))},t.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},t.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,n=Object(ln.__rest)(t,["style"]),i=Object(ln.__assign)({},n);e&&(i.style=Object(ln.__assign)({},this.localProps.label.style)),i.style=Object(I.deepMix)({},Object(I.get)(this.themeConfig,"label.style"),i.style);var r=this.parseFormatter(i);i.formatter=r,this.config.label=i},t.prototype._titleParser=function(){var t=Object(ln.__assign)({},this.localProps.title),e=this.localProps.title,n=e.visible,i=e.style,r=e.text;n?(this.config.showTitle=!0,i&&(t.style=i),t.style=Object(I.deepMix)({},Object(I.get)(this.config,"title.style"),t.textStyle),r&&(t.text=r)):this.config.showTitle=!1,this.config.title=t},t.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},t.prototype.applyThemeConfig=function(t){this.config[t]=Object(I.deepMix)({},Object(I.get)(this.themeConfig,t+".style"),this.config[t])},t.prototype.parseFormatter=function(t){var e=is((function(t){return t}),rs(t.precision),os(t.suffix));return t.formatter&&(e=is(e,t.formatter)),e},t}();function ls(t,e){return t.x*e.y+t.y*e.x}function cs(t,e,n){void 0===n&&(n=1);var i=[t.x,t.y,n];return lt.vec3.transformMat3(i,i,e),{x:i[0],y:i[1]}}function hs(t,e){for(var n=!1,i=0,r=e.length-1;i<e.length;r=i++){var o=e[i].x,a=e[i].y,s=e[r].x,l=e[r].y;a>t.y!=l>t.y&&t.x<=(s-o)*(t.y-a)/(l-a)+o&&(n=!n)}return n}function us(t){return t*t}function ds(t,e){return Math.sqrt(us(t.x-e.x)+us(t.y-e.y))}function ps(t,e){return Math.sqrt(us(t.x-e.x)+us(t.y-e.y))}function fs(t,e,n){var i=ds(e,n);if(0===i)return ds(t,e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;r=Math.max(0,Math.min(1,r));var o=ds(t,{x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)});return Math.sqrt(o)}function gs(t,e){var n=1/0;Object(I.each)(e,(function(e){var i=Math.sqrt(ds(e,t));n>i&&(n=i)}));for(var i=0,r=e.length-1;i<e.length;r=i++){var o=e[i].x,a=e[i].y,s=e[r].x,l=e[r].y,c=fs(t,{x:o,y:a},{x:s,y:l});n>c&&(n=c)}return n}function ms(t,e){if(function(t,e){for(var n=0,i=t;n<i.length;n++){if(hs(i[n],e))return!0}return!1}(t,e))return 0;var n=1/0,i=1/0;return Object(I.each)(t,(function(t){var i=gs(t,e);n>i&&(n=i)})),Object(I.each)(e,(function(e){var n=gs(e,t);i>n&&(i=n)})),Math.min(n,i)}function vs(t){return t.length<5?t:function t(e,n){for(var i,r=-1/0,o=0,a=e.length-1,s=1;s<a;s++){var l=e[s],c={start:e[0],end:e[a]},h=fs(l,c.start,c.end);h>r&&(r=h,o=s)}if(r>n){var u=t(e.slice(0,o+1),n),d=t(e.slice(o,e.length),n);i=u.concat(d)}else i=[e[0],e[e.length-1]];return i}(t,2)}function ys(t){var e=Object(I.clone)(t);e.sort((function(t,e){return t-e}));var n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2}function xs(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}var bs,ws,Cs=function(){function t(t){Object(I.assign)(this,t),this._init()}return t.prototype._init=function(){var t=this.plot.options,e=t.yField,n=t.data,i=this.plot.processData(n);if(!Object(I.isEmpty)(i)&&Object(I.isNumber)(i[0][e])){var r=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=Object(I.deepMix)({},r.line.style,this.cfg.lineStyle),o.text=Object(I.deepMix)({},r.text,this.cfg.text),this.cfg.type){var a=this._getState(this.cfg.type),s=100*(1-this.getYScale().scale(a))+"%",l=["0%",s],c=["100%",s];this.config=Object(I.mix)({start:l,end:c},o)}else{var h=this.cfg,u=h.start,d=h.end;this.config=Object(I.clone)(o);var p=this.getXScale(),f=this.getYScale(),g=Object(I.clone)(u),m=Object(I.clone)(d);Object(I.each)(u,(function(t,e){Object(I.contains)(Object(I.toArray)(u[e]),"%")&&!Object(I.isNumber)(u[e])||(g[e]=0===e?100*p.scale(u[0])+"%":100*(1-f.scale(u[1]))+"%")})),Object(I.each)(d,(function(t,e){Object(I.contains)(Object(I.toArray)(d[e]),"%")&&!Object(I.isNumber)(d[e])||(m[e]=0===e?100*p.scale(d[0])+"%":100*(1-f.scale(d[1]))+"%")})),this.config.start=g,this.config.end=m}}},t.prototype.getYScale=function(){var t=this._getState("min"),e=this._getState("max");return new(Object(Z.getScale)("linear"))(Object(I.mix)({},{min:"column"===this.plot.type?0:t,max:e,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]))},t.prototype.getXScale=function(){var t=this.extractXValue();if(Object(I.isString)(t[0]))return new(Object(Z.getScale)("cat"))(Object(I.mix)({},{values:t},this.plot.config.scales[this.plot.options.xField]));var e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);return new(Object(Z.getScale)("linear"))(Object(I.mix)({},{min:e,max:n,nice:!0,values:t},this.plot.config.scales[this.plot.options.xField]))},t.prototype._getState=function(t){return this.values=this._extractValues(),"median"===t?ys(this.values):"mean"===t?(e=this.values,n=0,Object(I.each)(e,(function(t){n+=t})),n/e.length):"max"===t?Math.max.apply(Math,this.values):"min"===t?Math.min.apply(Math,this.values):void 0;var e,n},t.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,n=[],i=this.plot.processData(t.data);return Object(I.each)(i,(function(t){Object(I.isArray)(t[e])?n.push.apply(n,t[e]):n.push(t[e])})),n},t.prototype.extractXValue=function(){var t=this.plot.options,e=t.xField,n=[],i=this.plot.processData(t.data);return Object(I.each)(i,(function(t){Object(I.isArray)(t[e])?n.push.apply(n,t[e]):n.push(t[e])})),n},t.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},t.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||"start"===t.position)return"left";if("center"===t.position)return"center";if("end"===t.position)return"right"}},t}(),_s=function(){function t(t){this.config={};var e=t.plot,n=Object(ln.__rest)(t,["plot"]);this.plot=e,this.originConfig=n,this.init(t)}return t.prototype.getConfig=function(){return this.config},t.prototype.init=function(t){var e=this;Object(I.assign)(this.config,t),this.config.callback=function(t){return e.parseCallBack(t)}},t.prototype.parseCallBack=function(t){var e=this.originConfig,n=this.plot.getPlotTheme(),i=Object(ln.__assign)({},e);return this.parseOffset(e,i),e.position&&(Object(I.isFunction)(e.position)?i.position=e.position(t):i.position=e.position),this.parseFormatter(i),e.style&&(Object(I.isFunction)(e.style)?i.textStyle=e.style(t):i.textStyle=e.style),i.textStyle=Object(I.deepMix)({},Object(I.get)(n,"label.style"),i.textStyle),e.autoRotate&&(i.autoRotate=e.autoRotate),i},t.prototype.parseOffset=function(t,e){var n=0;Object(I.each)(["offset","offsetX","offsetY"],(function(i){Object(I.has)(t,i)&&(e[i]=t[i],n++)})),0===n&&"middle"===Object(I.get)(t,"position")&&(e.offset=0)},t.prototype.parseFormatter=function(t){var e=this.originConfig;t.content=function(t,n){var i=t[e.fields[0]];return is((function(t){return t}),rs(e.precision),os(e.suffix),e.formatter?e.formatter:function(t){return t})(i,t,n)}},t}();function Ss(t,e){bs||Os(t),Object(I.each)(bs,(function(t){var n=Ms(t,e);if(ks(n.labelData,n.con)){var i={opacity:1,fontWeight:600,fill:"red"};t.shape.attr(i)}}))}function Os(t){var e;bs=[],ws=[];var n=null===(e=t.view.getController("axis"))||void 0===e?void 0:e.getComponents();Object(I.each)(n,(function(e){var n=e.component,i=[],r=function(t,e){var n=t.options,i="y",r=e.get("position");"bottom"!==r&&"top"!==r||(i="x");var o=n[i+"Field"];return t.view.get("scales")[o]}(t,n),o=n.get("labelRenderer").get("group").get("children");if(Object(I.each)(o,(function(t){"text"===t.type&&(i.push({shape:t}),ws.push(t.attr()))})),r){var a=r.ticks,s=r.field;Object(I.each)(i,(function(t,e){t.value=a[e],t.scaleField=s,t.type=r.type}))}bs.push.apply(bs,i)}))}function Ms(t,e){var n,i=((n={})[t.scaleField]=t.value,n),r=Object(I.clone)(e);return"time"===t.type&&Object(I.isObject)(e)&&!Object(I.isFunction)(r.exp)&&(r.exp=new Date(r.exp).getTime()),{labelData:i,con:r}}function ks(t,e){if(!Object(I.isFunction)(e)){var n=e.name,i=e.exp;return!!t[n]&&(Object(I.isFunction)(i)?i(t[n]):t[n]===i)}return e(t)}var As={active:Ss,selected:Ss,disable:function(t,e){bs||Os(t),Object(I.each)(bs,(function(t,n){var i=Ms(t,e);if(ks(i.labelData,i.con)){var r=ws[n],o={opacity:.2*(r.opacity||1)};t.shape.attr(o)}}))}},Ts=function(t){function e(){var e=t.call(this)||this;return e._states={},e._stateStack={},e}return Object(ln.__extends)(e,t),e.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},e.prototype.getState=function(t){return this._states[t]},e.prototype.getAllStates=function(){return this._states},e.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},e.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout((function(){Object(I.each)(e,(function(n,i){var r=e[i];t._states[i]&&t._states[i]===n||(t._states[i]=n,t._triggerEvent(i,r))})),t._stateStack={}}),16)},e.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},e}($.default);function Ds(t,e){if(!Object(I.isFunction)(e)){var n=e.name,i=e.exp;return Object(I.isFunction)(i)?i(t[n]):t[n]===i}return e(t)}var Ps,Is,Es=function(){function t(t){this.shapeContainers=[],Object(I.assign)(this,t)}return t.prototype.createStateManager=function(){this.stateManager=new Ts},t.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},t.prototype.defaultStates=function(t){var e=this;Object(I.each)(t,(function(t,n){var i=t.condition,r=t.related;e.setState({type:n,condition:i,related:r})}))},t.prototype.setState=function(t){var e=this,n=t.type,i=t.condition,r=t.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),Object(I.each)(this.shapes,(function(r,o){var a=r.get("origin").data;if(Ds(Object(I.isArray)(a)?a[0]:a,i)){var s=t.style?t.style:e._getDefaultStateStyle(n,r),l=e.originAttrs[o],c=void 0;c=Object(I.isFunction)(s)?s(l):Object(I.mix)({},l,s),r.attr(c),e.setZIndex(n,r)}})),r&&this._parserRelated(n,r,i),this.plot.canvas.draw()},t.prototype._updateStateProcess=function(t){var e=this;Object(I.each)(t,(function(t){var n,i=t.state;n=Object(I.isFunction)(i)?function(t){var n=i(t);e.stateManager.setState(n.name,n.exp)}:function(){e.stateManager.setState(i.name,i.exp)},t.event?Ha(e.plot,e._eventParser(t.event),n):n()}))},t.prototype._stateChangeProcess=function(t){var e=this;Object(I.each)(t,(function(t){e.stateManager.on(t.name+":change",(function(n){t.callback(n,e.plot)}))}))},t.prototype._getShapes=function(){var t=this,e=[],n=this.plot.view.geometries;return Object(I.each)(n,(function(n){var i=n.container;t.shapeContainers.push(i),n.destroyed||e.push.apply(e,n.getShapes())})),e},t.prototype._getOriginAttrs=function(){var t=[];return Object(I.each)(this.shapes,(function(e){t.push(Object(I.clone)(e.attr()))})),t},t.prototype._eventParser=function(t){var e=t.split(":");return this.plot.geometryParser("g2",e[0])+":"+e[1]},t.prototype._getDefaultStateStyle=function(t,e){var n=this.plot.theme,i=this.plot.geometryParser("plot",e.name)+"Style";if(n[i]){var r=n[i][t];return Object(I.isFunction)(r)&&(r=r(e.attr())),r}return{}},t.prototype._parserRelated=function(t,e,n){var i=this;Object(I.each)(e,(function(e){i.plot[e]&&function(t,e){return zs[t][e]}(e,t)(i.plot,n)}))},t.prototype.setZIndex=function(t,e){if("active"===t||"selected"===t){var n=e.get("parent").get("children");n[n.length-1].setZIndex(0),e.setZIndex(1)}},t.prototype.resetZIndex=function(){Object(I.each)(this.shapeContainers,(function(t){t.get("children").sort((function(t,e){return t._INDEX-e._INDEX}))}))},t}();function js(t,e){Ps||Ls(t),Object(I.each)(Ps,(function(t,n){if(Ds(t.get("origin"),e)){var i=Is[n],r=Object(I.mix)({},i,{opacity:1});t.attr(r)}}))}function Ls(t){Ps=[],Is=[];var e=t.view.get("elements");Object(I.each)(e,(function(t){var e=t.get("labels");e&&Object(I.each)(e,(function(t){Ps.push(t),Is.push(t.attr())}))}))}var Bs=["xField","yField","angleField"];function Ns(t,e){var n=t.options;if(function(t,e){var n=function(t){var e=[];return Object(I.each)(Bs,(function(n){Object(I.has)(t,n)&&e.push(n)})),e}(t);return!Object(I.isFunction)(e)&&n.indexOf(e.name)}(n,e)){var i=n.data;Object(I.each)(i,(function(n){if(Ds(n,e)){var i=t.view.getXY(n);t.view.on("tooltip:create",(function(t){Rs(e,t,!1)})),t.view.showTooltip(i)}}))}}function Rs(t,e,n){var i=!n,r=Object(I.clone)(e.items);e.items.splice(0),Object(I.each)(r,(function(n){Ds(n.point._origin,t)===i&&e.items.push(n)}))}var Fs={axis:ss,label:_s,guideLine:Cs},zs={tooltip:{active:Ns,selected:Ns,disable:function(t,e){t.view.on("tooltip:change",(function(t){Rs(e,t,!0)}))}},label:{active:js,selected:js,disable:function(t,e){Ps||Ls(t),Object(I.each)(Ps,(function(t,n){if(Ds(t.get("origin"),e)){var i=Is[n],r={opacity:.2*(i.opacity||1)};t.attr(r)}}))}},axis:As};function Vs(t,e){return new(0,Fs[t])(e).config}var Gs,Hs=["start","process","end","reset"],Ws=function(){function t(t){var e=this.getDefaultCfg();Object(I.assign)(this,e,t),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return t.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},t.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},t.prototype.preStart=function(t){},t.prototype.afterStart=function(t){},t.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},t.prototype.preProcess=function(t){},t.prototype.process=function(t){},t.prototype.afterProcess=function(t){},t.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},t.prototype.preEnd=function(t){},t.prototype.end=function(t){},t.prototype.afterEnd=function(t){},t.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},t.prototype.preReset=function(t){},t.prototype.reset=function(t){},t.prototype.afterReset=function(t){},t.prototype._bindEvents=function(){var t=this;Object(I.each)(Hs,(function(e){var n=t[e+"Event"],i=Object(I.wrapBehavior)(t,"_"+e);t.view.on(n,i),t._eventHandlers.push({type:n,handler:i})}))},t.prototype._unbindEvents=function(){var t=this,e=this._eventHandlers;Object(I.each)(e,(function(e){t.view.off(e.type,e.handler)}))},t.prototype.destroy=function(){this._unbindEvents(),this._reset()},t}(),$s=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.viewLayer=n,o.interactionRange=i,o.interactionConfig=r,o.disposables=[],o}return Object(ln.__extends)(e,t),e.registerInteraction=function(t,n){e.GLOBAL_INTERACTION_MAP[t]=n},e.registerPlotInteraction=function(t,n,i){e.PLOT_INTERACTION_MAP[t]||(e.PLOT_INTERACTION_MAP[t]={}),e.PLOT_INTERACTION_MAP[t][n]=i},e.getInteraction=function(t,n){return n&&e.PLOT_INTERACTION_MAP[n]&&e[n][t]?e.PLOT_INTERACTION_MAP[n][t]:e.GLOBAL_INTERACTION_MAP[t]},e.getInteractionRange=function(t,e){},e.prototype.destroy=function(){Object(I.each)(this.disposables,(function(t){t()})),this.disposables=[],this.clear(),t.prototype.destroy.call(this)},e.prototype.getViewLayer=function(){return this.viewLayer},e.prototype.getRange=function(){return this.interactionRange},e.prototype.getInteractionConfig=function(){return this.interactionConfig},e.prototype.addDisposable=function(t){this.disposables.push(t)},e.prototype.render=function(){},e.prototype.start=function(t){},e.GLOBAL_INTERACTION_MAP={},e.PLOT_INTERACTION_MAP={},e}(Ws),Ys=function(t,e,n,i,r){var o=i[0],a=i[1];void 0===r&&(r=!1);var s=Object(I.groupBy)(n,t),l=r?e.slice(e.length-a,e.length-o):e.slice(o,a);return Object(I.flatten)(Object(I.map)(l,(function(t){return s[t]||[]})))};!function(t){t.BEFORE_INIT="beforeinit",t.AFTER_INIT="afterinit",t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata"}(Gs||(Gs={}));var Xs=function(t){void 0===t&&(t={});var e=Object(ln.__assign)({type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),e},qs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChangeFn=Object(I.throttle)(e.onChange.bind(e),20,{leading:!0}),e}return Object(ln.__extends)(e,t),e.getInteractionRange=function(t,e){var n=Xs(e),i=n.padding,r=i[0],o=i[1],a=i[2],s=i[3];return"horizontal"===n.type?new Ya(t.minX,t.maxY-n.height-r-a,t.width,n.height+r+a):new Ya(t.maxX-n.width-s-o,t.minY,n.width+s+o,t.height)},e.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var i=function(){var e=t.view.padding;"auto"===e||Object(I.isEqual)(e,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},r=function(){t.trackLen=0};n.on(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,i),this.addDisposable((function(){return n.off(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,i)})),n.on(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,i),this.addDisposable((function(){return n.off(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,i)})),e.on(Gs.BEFORE_CHANGE_DATA,r),this.addDisposable((function(){return e.off(Gs.BEFORE_CHANGE_DATA,r)}))},e.prototype.start=function(){},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},e.prototype.renderScrollbar=function(){var t=Xs(this.getInteractionConfig()),e=this.getRange(),n="vertical"!==t.type,i=this.view.coordinateBBox,r=t.padding,o=r[0],a=r[3],s=n?{x:i.minX+a,y:e.minY+o}:{x:e.minX+a,y:i.minY+o};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:s.x,y:s.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new K.Scrollbar({container:this.container,x:s.x,y:s.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",999),this.scrollbar.on("scrollchange",this.onChangeFn))},e.prototype.measureScrollBar=function(){var t=Xs(this.getInteractionConfig()),e=t.padding,n=e[0],i=e[1],r=e[2],o=e[3],a="vertical"!==t.type,s=this.view.coordinateBBox,l=this.view.getXScale(),c=this.view.getYScales().filter((function(t){return t}));this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=c,this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-o-i:s.height-n-r,this.thumbLen=Math.max(this.trackLen*Object(I.clamp)(this.step/l.values.length,0,1),20)},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Object(I.clamp)(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},e.prototype.changeViewData=function(t,e){var n=this,i=t[0],r=t[1],o=Xs(this.getInteractionConfig()),a=this.getViewLayer(),s=a.options.meta,l=a.getData(),c=Ys(this.xScaleCfg.field,this.xScaleCfg.values,l,[i,r],"vertical"===o.type);this.yScalesCfg.forEach((function(t){var e=Object(I.get)(s,t.field)||{};n.view.scale(t.field,Object(ln.__assign)(Object(ln.__assign)({formatter:t.formatter},e),{type:t.type,min:t.min,max:t.max}))})),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},e.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var i=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(i),this.renderScrollbar()},e}($s),Us=function(t){void 0===t&&(t={});var e=Object(ln.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},t);t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var n=Object(I.clamp)(Math.min(e.start,e.end),0,1),i=Object(I.clamp)(Math.max(e.start,e.end),0,1);return e.start=n,e.end=i,e},Zs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChangeFn=Object(I.throttle)(e.onChange.bind(e),20,{leading:!0}),e}return Object(ln.__extends)(e,t),e.getInteractionRange=function(t,e){var n=Us(e),i=n.padding||[0,0,0,0],r=i[0],o=i[1],a=i[2],s=i[3];return"horizontal"===n.type?new Ya(t.minX,t.maxY-n.height-r-a,t.width,n.height+r+a):new Ya(t.maxX-n.width-s-o,t.minY,n.width+s+o,t.height)},e.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,i=Us(this.getInteractionConfig());this.curStart=i.start,this.curEnd=i.end,this.xScaleCfg=void 0;var r=function(){var i=t.view.padding;if("auto"!==i&&!Object(I.isEqual)(i,[0,0,0,1])&&!Object(I.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var r=n.getXScale();t.xScaleCfg={field:r.field,values:r.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,r),this.addDisposable((function(){return n.off(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,r)})),n.on(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,r),this.addDisposable((function(){return n.off(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,r)}))},e.prototype.start=function(){},e.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},e.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new K.Slider(Object(ln.__assign)(Object(ln.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},e.prototype.getSliderConfig=function(){var t=this.view.coordinateBBox,e=this.getRange(),n=Us(this.getInteractionConfig())||{},i=n.padding,r=void 0===i?[0,0,0,0]:i,o=n.backgroundStyle,a=n.foregroundStyle,s=n.handlerStyle,l=n.textStyle,c=n.trendCfg,h=void 0===c?{}:c,u=r[0],d=r[1],p=r[2],f=r[3],g=this.getSliderMinMaxText(this.curStart,this.curEnd),m=g.minText,v=g.maxText;return{x:t.minX+f,y:e.minY+u,width:t.width-f-d,height:e.height-u-p,start:this.curStart,end:this.curEnd,minText:m,maxText:v,backgroundStyle:o,foregroundStyle:a,handlerStyle:s,textStyle:l,trendCfg:Object(ln.__assign)(Object(ln.__assign)({isArea:!1,smooth:!1},h),{data:this.getSliderTrendData()})}},e.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return Object(I.map)(e,(function(t){return t[n]}))},e.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),i=Object(I.size)(this.xScaleCfg.values),r=Math.round(t*i),o=Math.max(r+1,Math.round(e*i));return Ys(this.xScaleCfg.field,this.xScaleCfg.values,n,[r,o])},e.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,i=n.data,r=void 0===i?[]:i,o=n.xField,a=Object(I.size)(r),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),c=r.slice(s,l);return{minText:c.length>0?Object(I.head)(c)[o]:"",maxText:c.length>0?Object(I.last)(c)[o]:""}},e.prototype.onChange=function(t){var e=this.view,n=Object(I.clamp)(Math.min(t[0],t[1]),0,1),i=Object(I.clamp)(Math.max(t[0],t[1]),0,1),r=this.getSliderData(n,i),o=this.getSliderMinMaxText(n,i),a=o.minText,s=o.maxText;this.curStart=n,this.curEnd=i,this.slider.update({start:n,end:i,minText:a,maxText:s}),this.slider.render();var l=e.getOptions().animate;e.animate(!1),e.data(r),e.render(),e.animate(l)},e}($s),Ks=function(t){function e(e){return t.call(this,Object(I.deepMix)({},e))||this}return Object(ln.__extends)(e,t),e.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",(function(){e.emit("click")}))},e.prototype.destroy=function(){this.group.off(),t.prototype.destroy.call(this)},e.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},e.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},e.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},e}(Qa),Js=function(t){function e(e){var n=t.call(this,Object(I.deepMix)({},{speed:1,loop:!1},e))||this;return n.onTimeSelectMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=Object(I.get)(t,"touches.0.pageX",t.pageX),i=e-n.prevX;n.setTimeSelectX(i),n.prevX=e},n.onTimeSelectMouseUp=function(){n.syncCurrnentTick(),n.emit("timelineend",null);var t=n.getCanvas().get("container");t&&(t.removeEventListener("mousemove",n.onTimeSelectMouseMove),t.removeEventListener("mouseup",n.onTimeSelectMouseUp),t.removeEventListener("mouseleave",n.onTimeSelectMouseUp),t.removeEventListener("touchmove",n.onTimeSelectMouseMove),t.removeEventListener("touchend",n.onTimeSelectMouseUp),t.removeEventListener("touchcancel",n.onTimeSelectMouseUp))},n.onTimeSelectMouseDown=function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),!1===n.isPlay?n.emit("timelinestart",null):(n.isPlay=!1,n.changePlayStatus(!1)),n.prevX=Object(I.get)(e,"touches.0.pageX",e.pageX);var i=n.getCanvas().get("container");i.addEventListener("mousemove",n.onTimeSelectMouseMove),i.addEventListener("mouseup",n.onTimeSelectMouseUp),i.addEventListener("mouseleave",n.onTimeSelectMouseUp),i.addEventListener("touchmove",n.onTimeSelectMouseMove),i.addEventListener("touchend",n.onTimeSelectMouseUp),i.addEventListener("touchcancel",n.onTimeSelectMouseUp)},n}return Object(ln.__extends)(e,t),e.prototype.renderInner=function(t){var e=this.config,n=e.ticks,i=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(i)?i:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},e.prototype.update=function(e){t.prototype.update.call(this,e),this.emit("timelineupdate",this.currentTick)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},e.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,i=e.x,r=e.y,o=n/2*.8;this.timeLineButton?this.timeLineButton.update({x:i+o,y:r+o+n*(1-.8)/2,r:o}):(this.timeLineButton=new Ks({container:t,x:i+o,y:r+o+n*(1-.8)/2,r:o,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},e.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,i=t.width,r=t.height,o=r/2;return i>0?"M"+e+", "+n+"A"+o+","+o+" 90 0,0 "+e+","+(n+r)+"L"+(e+i)+", "+(n+r)+"A"+o+","+o+" 90 0,0 "+(e+i)+","+n+"L"+e+", "+n:[]},e.prototype.renderTimeLine=function(t){var e=this,n=this.config,i=n.width,r=n.height,o=n.ticks,a=n.x,s=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=.15*r,this.timeLine.x=a+r+20,this.timeLine.y=s+(r/2-this.timeLine.height/2),this.timeLine.width=i-this.timeLine.x-20,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var l=this.timeLine.width/(o.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach((function(t){t.destroy()}));var c=-1/0;this.timeLine.textList=o.map((function(n,i){e.tickPosList.push(e.timeLine.x+i*l);var r=t.addShape("text",{attrs:{x:e.timeLine.x+i*l,y:e.timeLine.y+e.timeLine.height+5,text:n,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),o=r.getBBox();return o.minX>c?(r.show(),c=o.minX+o.width+10):r.hide(),r}))},e.prototype.renderTimeSelect=function(t,e){var n=this.config,i=n.ticks,r=n.height,o=this.timeLine.width/(i.length-1),a=Object(I.findIndex)(i,(function(t){return t===e})),s=this.timeLine.x+a*o,l=this.config.y+r/2,c=.15*r;this.timeSelect?(this.timeSelect.attr("x",s),this.timeSelect.attr("y",l),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:s,y:l,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",s),this.timeSelectText.attr("y",l-.15*r-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:s,y:l-.15*r-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},e.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},e.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit("timelinechange",this.currentTick)),this.getCanvas().draw()},e.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),i=Object(I.findIndex)(e,(function(e){return e===t.currentTick})),r=this.timeLine.x+i*n;this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r),this.getCanvas().draw()},e.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame((function(){var e=t.config,n=e.speed,i=e.ticks,r=t.timeLine.width/i.length/(1e3*n/60);t.setTimeSelectX(r),t.isPlay&&(t.playHandler=t.startPlay())}))},e.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit("timelinestart",null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit("timelineend",null))),this.getCanvas().draw()},e.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",(function(){t.isPlay=!t.isPlay,t.changePlayStatus()})),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",(function(e){t.onTimeSelectMouseDown(e)}))},e}(Qa);function Qs(t){return Object(ln.__assign)({loop:!1,auto:!0,height:40,padding:[0,20,0,0],speed:2},t)}var tl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChangeFn=Object(I.throttle)(e.onChange.bind(e),20,{leading:!0}),e}return Object(ln.__extends)(e,t),e.getInteractionRange=function(t,e){var n=Qs(e),i=n.padding[0],r=n.padding[2];return new Ya(t.minX,t.maxY-n.height-i-r,t.width,n.height+i+r)},e.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach((function(e){e.animate(t)}))},e.prototype.start=function(){},e.prototype.renderTimeLine=function(){var t=this;this.config=Qs(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,i=n.loop,r=n.padding,o=n.speed,a=r[0],s=r[1],l=r[2],c=r[3],h=this.getRange(),u=this.getTicks(),d=e.width-c-s,p={x:e.minX+c,y:h.tl.y+a,width:d,height:h.height-a-l,loop:i,ticks:u,speed:o,defaultCurrentTick:u[0]};this.timeline?Object(I.isEqual)(p,this.timeLineConfig)||(this.timeLineConfig=p,this.timeline.update(p)):(this.container=this.canvas.addGroup(),this.timeline=new Js(Object(ln.__assign)({container:this.container},p)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",(function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)})),this.timeline.on("timelineend",(function(){t.setAnimate(t.originAnimation)})),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(u[0])),this.timeLineConfig=p)},e.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},e.prototype.getFilterData=function(t){var e=this.config.field;return this.getViewLayer().options.data.filter((function(n){return n[e]===t}))},e.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return Object(I.uniq)(e.map((function(e){return e[t]})))},e.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(Sa.VIEW_LIFE_CIRCLE.BEFORE_RENDER,(function(){t.renderTimeLine()})),this.view.on(Sa.VIEW_LIFE_CIRCLE.BEFORE_PAINT,(function(){t.renderTimeLine()})),this.view.on(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,(function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})),this.view.on(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,(function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}))},e.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},e}($s);function el(t,e){var n=e?Object(I.clone)(e):[1,0,0,0,1,0,0,0,1];return lt.ext.transform(n,t)}function nl(t,e,n,i){var r=i?Object(I.clone)(i):[1,0,0,0,1,0,0,0,1];r[6]=e,r[7]=n,t.setMatrix(r)}function il(t,e,n){fa.translate(t,e,n)}var rl,ol,al,sl=document.createElement("canvas").getContext("2d"),ll=Object(I.memoize)((function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return sl.font=[o,a,r,n+"px",i].join(" "),sl.measureText(Object(I.isString)(t)?t:"").width}),(function(t,e){return e?Object(ln.__spreadArrays)([t],Object(I.values)(e)).join(""):t})),cl=function(t,e,n){var i,r=ll("...",n);i=Object(I.isString)(t)?t:Object(I.toString)(t);var o,a,s=e,l=[];if(ll(t,n)<=e)return t;for(;o=i.substr(0,16),!((a=ll(o,n))+r>s&&a>s);)if(l.push(o),s-=a,!(i=i.substr(16)))return l.join("");for(;o=i.substr(0,1),!((a=ll(o,n))+r>s);)if(l.push(o),s-=a,!(i=i.substr(1)))return l.join("");return l.join("")+"..."};!function(t){t.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",t.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",t.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",t.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",t.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",t.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",t.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",t.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",t.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",t.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",t.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"}(rl||(rl={})),function(t){t.ON_SELECT_ITEM="onSelectItem"}(ol||(ol={})),function(t){t[t.LARGE=12]="LARGE",t[t.NORMAL=8]="NORMAL",t[t.SMALL=4]="SMALL"}(al||(al={}));var hl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curX=0,e.curY=0,e.offsetX=0,e.scrollWidth=0,e.onBodyGroupMousemove=function(t){var n=ul(t.target,(function(t){return t.get("name")===rl.TOOLTIP_INDICATOR_ITEM_GROUP}));if(n){var i=n.get("delegateObject");e.doSelectItem(i.item.id)}},e.onWheel=function(t){var n=e.config.width,i=void 0===n?0:n,r=t.deltaX,o=Math.min(e.scrollWidth-i,0)-(e.scrollWidth/2+Math.max(0,(e.scrollWidth-i)/2)),a=Math.max(e.scrollWidth-i,0)+e.scrollWidth/2+Math.max(0,(e.scrollWidth-i)/2),s=Object(I.clamp)(e.offsetX+r,o,a);s!==e.offsetX&&(il(e.bodyGroup,e.offsetX-s,0),e.offsetX=s)},e}return Object(ln.__extends)(e,t),e.prototype.destroy=function(){this.offEvents(),t.prototype.destroy.call(this)},e.prototype.selectItem=function(t){this.doSelectItem(t)},e.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},e.prototype.initConfig=function(t){var e,n=t.theme,i=void 0===n?{}:n,r={x:0,y:0,title:{text:"",spacingY:al.NORMAL,style:{}},line:{spacingX:al.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:al.SMALL,style:{}},itemName:{spacingX:al.NORMAL,spacingY:al.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:al.LARGE};this.config=Object(I.deepMix)({},null===(e=null==i?void 0:i.components)||void 0===e?void 0:e.tooltipIndicator,r,t),this.selectedItemId=this.config.selectedItem},e.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,i=n.items,r=n.x,o=n.y,a=[],s=t.addGroup({name:rl.TOOLTIP_INDICATOR_INNER});this.renderTitle(s),this.bodyGroup=s.addGroup({name:rl.TOOLTIP_INDICATOR_BODY}),null==i||i.forEach((function(t,n){a.push(e.renderItem(e.bodyGroup,t,n))})),this.layoutItems(s),nl(s,r,o),this.applyClip(t),this.bindEvents(s)},e.prototype.renderTitle=function(t){var e=this.config.title;if(null==e?void 0:e.text){var n=t.addShape({type:"text",name:rl.TOOLTIP_INDICATOR_TITLE,attrs:Object(ln.__assign)({text:null==e?void 0:e.text,textAlign:"left",textBaseline:"top"},(null==e?void 0:e.style)||{})}),i=n.getBBox();return this.curY+=i.height,this.curY+=e.spacingY||0,n}},e.prototype.renderItem=function(t,e,n){var i=this.config.itemBackground,r=t.addGroup({name:rl.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),o=this.curX,a=this.curY,s=r.addShape({name:rl.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:Object(ln.__assign)({x:this.curX,y:this.curY,width:1,height:1},i.style||{})}),l=this.renderLine(r,e);this.renderItemTitle(r,e),this.renderItemValues(r,e);var c=r.getBBox();return l.attr({y2:l.attr("y1")+c.height}),this.curX=o+c.width,this.curX+=this.config.itemSpacing||0,s.attr({width:this.curX-o-2*s.attr("lineWidth"),height:this.curY-a-2*s.attr("lineWidth")}),this.curY=a,r},e.prototype.renderLine=function(t,e){var n=this.config.line,i=n.width||2,r=Object(ln.__assign)({x1:this.curX+i/2,y1:this.curY,x2:this.curX+i/2,y2:this.curY,lineWidth:i,stroke:e.color},(null==n?void 0:n.style)||{}),o=t.addShape({name:rl.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:r}),a=o.getBBox();return this.curX+=a.width,this.curX+=n.spacingX||0,o},e.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,i=cl(e.title,160,n.style||{}),r=t.addShape({name:rl.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:Object(ln.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:i},n.style||{})}),o=r.getBBox();return this.curY+=o.height,this.curY+=n.spacingY||0,r},e.prototype.renderItemValues=function(t,e){var n,i=this,r=t.addGroup({name:rl.TOOLTIP_INDICATOR_ITEM_BODY}),o=this.curX;return null===(n=e.values)||void 0===n||n.forEach((function(t,n){var a=r.addGroup({name:rl.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:n}});i.curX=o,i.renderItemValueName(a,t),i.renderItemValueValue(a,t)})),this.layoutItemValues(r),r},e.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var i=t.addShape({name:rl.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:Object(ln.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),r=i.getBBox();return e.wrapLine?(this.curY+=r.height,this.curY+=n.spacingY||0):(this.curX+=r.width,this.curX+=n.spacingX||0),i}},e.prototype.renderItemValueValue=function(t,e){var n=this.config,i=n.itemName,r=n.itemValue,o=t.addShape({name:rl.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:Object(ln.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},r.style||{})}),a=o.getBBox();return this.curY+=a.height,this.curY+=i.spacingY||0,o},e.prototype.layoutItems=function(t){var e=t.findAllByName(rl.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_GROUP);if(e&&0!==n.length){var i=e.getBBox();this.scrollWidth=i.width}},e.prototype.layoutItemValues=function(t){var e=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map((function(t){return Ya.fromBBoxObject(t.getBBox())})),i=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_VALUE).map((function(t){return Ya.fromBBoxObject(t.getBBox())})),r=Math.max.apply(Math,i.map((function(t){return t.maxX})));e.forEach((function(t,e){var i=n[e],o=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_NAME)[0],a=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(o&&a){var s=Ya.fromBBoxObject(o.getBBox()),l=Ya.fromBBoxObject(a.getBBox());s.height<i.height&&o.attr("y",o.attr("y")+(i.height-s.height)/2),l.height<i.height&&a.attr("y",a.attr("y")+(i.height-l.height)/2),l.maxX<r&&a.attr("x",a.attr("x")+r-l.maxX)}}))},e.prototype.applyClip=function(t){var e=this.config,n=e.x,i=e.y,r=e.width,o=e.height,a=t.getBBox();(r||o)&&t.setClip({type:"rect",attrs:{x:n,y:i,width:r||a.width,height:o||a.height}})},e.prototype.doSelectItem=function(t){var e=this,n=this.getGroup().findAllByName(rl.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(n.forEach((function(n){var i=n.get("delegateObject");i&&e.applyItemStyle(n,i.item.id===t?"selected":"inactive")})),this.selectedItemId=t):(n.forEach((function(t){e.applyItemStyle(t)})),this.selectedItemId=void 0),this.emit(ol.ON_SELECT_ITEM,this.selectedItemId)},e.prototype.applyItemStyle=function(t,e){var n=this.config,i=n.line,r=n.itemTitle,o=n.itemName,a=n.itemValue,s=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_LINE)[0],l=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_NAME),h=t.findAllByName(rl.TOOLTIP_INDICATOR_ITEM_VALUE),u=e&&e+"Style";s&&(s.attr(i.style),s.attr(i[u]||{})),l&&(l.attr(r.style),l.attr(r[u]||{})),c.forEach((function(t){t.attr(o.style),t.attr(o[u]||{})})),h.forEach((function(t){t.attr(a.style),t.attr(a[u]||{})}))},e.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(rl.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable((function(){n.off("mousemove",e.onBodyGroupMousemove)})),this.gm=new wa(n),this.wheel=new _a(n),this.wheel.on("wheel",this.onWheel)},e.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},e.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},e}(Qa);function ul(t,e){for(var n=t;n;){if(e(n))return n;n=n.getParent()}}function dl(t,e){return Object(I.head)(function(t,e){return Object(I.filter)(t.geometries,(function(t){return t.type===e}))}(t,e))}function pl(t,e){t.geometries.forEach((function(t){t.elements.forEach((function(t){e(t)}))}))}function fl(t,e,n){return Object(I.some)(e,(function(e){return n(e.get(La),t.get(La))}))}function gl(t,e){var n=t.getBBox(),i=0,r=0;n.minX<e.minX?i=n.minX-e.minX:n.maxX>e.maxX&&(i=n.maxX-e.maxX),i&&t.attr("x",t.attr("x")-i),n.minY<e.minY?r=n.minY-e.minY:n.maxY>e.maxY&&(r=n.maxY-e.maxY),r&&t.attr("y",t.attr("y")-r)}function ml(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}function vl(t,e){var n=t.getBBox();return Object(I.some)(e,(function(t){var e=t.getBBox();return ml(n,e,2)>0}))}var yl,xl=function(t){return void 0===t&&(t={}),Object(ln.__assign)({showTotal:!1,showPercent:!1,padding:[8,24,8,24],height:t.showPercent?72:54},t)};!function(t){t.ACTIVE_ELEMENT="tooltip_indicator_active_element",t.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"}(yl||(yl={})),_t("tooltip-indicator",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state="selected",e.isSingle=!1,e}return Object(ln.__extends)(e,t),e.prototype.active=function(){var t=Aa.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},e.prototype.setState=function(t){var e=this;pl(this.getView(),(function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)})),this.isSingle=!0,this.getView().emit(yl.ACTIVE_ELEMENT,{element:t,isSingle:!0})},e.prototype.setStateByX=function(t){var e=this,n=this.getXField(),i=t.getData()[n];pl(this.getView(),(function(t){t.getData()[n]===i?t.hasState(e.state)||t.setState(e.state,!0):t.setState(e.state,!1)})),this.isSingle=!1,this.getView().emit(yl.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},e.prototype.setStateByField=function(t,e){var n=this,i=this.getView().getXScale().field,r=this.getView().getGroupScales()[0].field;pl(this.getView(),(function(o){var a=o.getData();o.setState(n.state,a[i]===t&&(void 0===e||a[r]===e))}))},e.prototype.getView=function(){return this.context.view},e.prototype.getXField=function(){return this.context.view.getXScale().field},e}(bt)),Se("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onElementActive=function(t){var n=t.element,i=t.isSingle,r=e.view.getXScale(),o=e.view.getXScale().field,a=e.view.getGroupScales()[0].field,s=n.getData(),l=s[o],c=e.getLegendItems(l);e.component.update({items:c,title:{text:r.getText(l)}}),e.component.render(),i&&e.component.selectItem(s[a]),e.curX=l},e.onSelectTooltipIndicatorItem=function(t){e.component&&t&&e.getInteractionAction().setStateByField(e.curX,t)},e}return Object(ln.__extends)(e,t),e.getInteractionRange=function(t,e){var n=xl(e),i=n.padding,r=i[0],o=i[2];return new Ya(t.minX,t.minY,t.width,n.height+r+o)},e.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},e.prototype.render=function(){var t=this,e=this.view,n=function(){var e=t.view.getXScale(),n=Object(I.last)(e.getTicks()).tickValue,i=t.view.padding;Object(I.isEqual)([0,0,0,0],i)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(ol.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=n,t.component.update({title:{text:e.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(n))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(yl.ACTIVE_ELEMENT,this.onElementActive),e.on(yl.ACTIVE_ELEMENT_BY_X,this.onElementActive)},e.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},e.prototype.createComponent=function(){var t=xl(this.getInteractionConfig()).padding,e=t[0],n=t[1],i=t[2],r=t[3],o=this.getLegendItems(),a=this.getRange(),s=this.view.getXScale(),l=Object(I.last)(s.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new hl({container:this.container,x:a.x+r,y:a.y+e,width:a.width-r-n,height:a.height-e-i,theme:this.getViewLayer().getPlotTheme(),items:o}),this.component.init(),this.getInteractionAction().setStateByField(l)},e.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},e.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),i=e.getTheme().defaultColor,r=e.getXScale(),o=e.getYScales()[0],a=t||Object(I.last)(r.getTicks()).tickValue,s=e.getLegendAttributes().find((function(t){return"color"===t.type})),l=[],c=e.getGroupScales()[0],h=c.field;c&&c.isCategory&&c.getTicks().forEach((function(t){var e=t.text,n=t.tickValue,r=s.mapping(n).join("")||i;l.push({id:n,title:e,color:r,values:[]})}));var u=(null==n?void 0:n.filter((function(t){return t[r.field]===a})))||[];return l.forEach((function(t){var e=u.find((function(e){return e[h]===t.id}));t.values.push({value:o.formatter?o.formatter(e[o.field]):e[o.field]})})),l},e}($s);$s.registerInteraction("slider",Zs),$s.registerInteraction("scrollbar",qs),$s.registerInteraction("timeline",tl),$s.registerInteraction("tooltip-indicator",bl);var wl=$s,Cl=function(){function t(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}return t.prototype.registerPadding=function(t,e,n){void 0===e&&(e="outer"),void 0===n&&(n=!1),"inner"===e?n&&this.innerPaddingComponents.find((function(e){return e==t}))||this.innerPaddingComponents.push(t):n&&this.outerPaddingComponents.find((function(e){return e==t}))||this.outerPaddingComponents.push(t)},t.prototype.getPaddingComponents=function(t){return void 0===t&&(t="outer"),("outer"===t?this.outerPaddingComponents:this.innerPaddingComponents)||[]},t.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=Object(I.filter)(this.outerPaddingComponents,(function(t){return t.afterRender}))},t.prototype.clearOuterComponents=function(){Object(I.each)(this.outerPaddingComponents,(function(t){t.afterRender&&t.destroy()})),this.outerPaddingComponents=[]},t.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return"auto"===e?[0,0,0,1]:e},t.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},t.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Ya(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var t=this.plot.layerBBox.minX,e=this.plot.layerBBox.maxX,n=this.plot.layerBBox.minY,i=this.plot.layerBBox.maxY;return Object(I.each)(this.outerPaddingComponents,(function(r){var o=r.position;if(!r.destroyed){var a=r.getBBox(),s=a.minX,l=a.maxX,c=a.minY,h=a.maxY;h>=n&&h<=i&&"top"===o&&(n=h),c>=n&&c<=i&&"bottom"===o&&(i=c),l>t&&l<=e&&"left"===o&&(t=l),s>=t&&l<=e&&"right"===o&&(e=s)}})),new Ya(t,n,e-t,i-n)},t.prototype._getInnerAutoPadding=function(){var t,e=this.plot.options,n=this.plot.view,i=n.coordinateBBox,r=i.maxX,o=i.maxY,a=i.minY,s=i.minX,l=this.plot.config.theme.bleeding;Object(I.isArray)(l)&&Object(I.each)(l,(function(t,n){"function"==typeof l[n]&&(l[n]=l[n](e))})),this.bleeding=Object(I.clone)(l);var c=[new Ya(i.minX,i.minY,i.width,i.height)];"cartesian"===(null===(t=this.plot.config.coordinate)||void 0===t?void 0:t.type)&&this._getCartesianAxis(n,c[0],c);var h=this._mergeBBox(c);this._getLegend(n,h,c),h=this._mergeBBox(c);var u=this.innerPaddingComponents;Object(I.each)(u,(function(t){var e=t.getBBox();c.push(e)}));var d=[a-(h=this._mergeBBox(c)).minY+this.bleeding[0],h.maxX-r+this.bleeding[1],h.maxY-o+this.bleeding[2],s-h.minX+this.bleeding[3]],p=this._getPanel(n);return d[0]+=p[0],d[1]+=p[1],d[2]+=p[2],d[3]+=p[3],d},t.prototype._getCartesianAxis=function(t,e,n){var i=function(t){return t.getComponents().filter((function(t){return t.type===Sa.COMPONENT_TYPE.AXIS})).map((function(t){return t.component}))}(t),r=t.getCoordinate().isTransposed;Object(I.each)(i,(function(t){if(0!==t.get("group").get("children").length){var i=t.get("position"),o=t.getLayoutBBox(),a=o.minX,s=o.minY,l=o.width,c=o.height;r?"bottom"===i?n.push(new Ya(e.minX-l,s,l,c)):"left"===i?n.push(new Ya(a,e.maxY,l,c)):"top"===i&&n.push(new Ya(e.maxX,s,l,c)):"left"===i?n.push(new Ya(e.minX-l,s,l,c)):"bottom"===i?n.push(new Ya(a,e.maxY,l,c)):"right"===i&&n.push(new Ya(e.maxX,s,l,c))}}))},t.prototype._getLegend=function(t,e,n){var i=function(t){return t.getComponents().filter((function(t){return t.type===Sa.COMPONENT_TYPE.LEGEND})).map((function(t){return t.component}))}(t);Object(I.each)(i,(function(t){var i=t.get("position").split("-")[0],r=t.getLayoutBBox(),o=r.minX,a=r.minY,s=r.width,l=r.height;"top"===i?n.push(new Ya(o,e.minY-l,s,l)):"bottom"===i?n.push(new Ya(o,e.maxY,s,l)):"left"===i?n.push(new Ya(e.minX-s,a,s,l)):n.push(new Ya(e.maxX,a,s,l))}))},t.prototype._getPanel=function(t){var e=[],n=t.geometries;Object(I.each)(n,(function(t){t.labelsContainer&&e.push(t.labelsContainer)}));var i=1/0,r=-1/0,o=1/0,a=-1/0;Object(I.each)(e,(function(t){t.get("children").forEach((function(t){if("group"!==t.type||0!==t.get("children").length){var e=t.getBBox();e.minX<i&&(i=e.minX),e.maxX>r&&(r=e.maxX),e.minY<o&&(o=e.minY),e.maxY>a&&(a=e.maxY)}}))}));var s=t.coordinateBBox,l=Math.max(r-parseFloat(s.maxX),0);l>0&&(l*=s.width/(s.width+l));var c=Math.max(parseFloat(s.minX)-i,0);c>0&&(c*=s.width/(s.width+c));var h=Math.max(parseFloat(s.minY)-o,0);h>0&&(h*=s.height/(s.height+h));var u=Math.max(a-parseFloat(s.maxY),0);u>0&&(u*=s.height/(s.height+u));return[h,l,u,c]},t.prototype._mergeBBox=function(t){var e=1/0,n=-1/0,i=1/0,r=-1/0;return Object(I.each)(t,(function(t){var o=t;e=Math.min(o.minX,e),n=Math.max(o.maxX,n),i=Math.min(o.minY,i),r=Math.max(o.maxY,r)})),{minX:e,maxX:n,minY:i,maxY:r}},t}(),_l=function(t){return t&&"top"===t.split("-")[0]?12:24},Sl=function(t){var e=t.title&&t.title.visible,n=t.description&&t.description.visible;return e||n?12:24},Ol=function(t){return Object(I.some)(t.interactions||[],(function(t){return("slider"===t.type||"scrollbar"===t.type)&&"vertical"!==(t.cfg&&t.cfg.type)}))?8:24},Ml={width:400,height:400,bleeding:[Sl,24,Ol,24],padding:"auto",defaultColor:"#5B8FF9",colors:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],colors_20:["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,_l,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},kl={default:Ml,dark:{backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Sl,24,Ol,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,_l,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}}};function Al(t){void 0===t&&(t="default");var e=kl[t.toLowerCase()];return e||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",t),Ml)}var Tl={};function Dl(t,e){var n={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},i={};"area"===t&&(n={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var r={};return Object(I.each)(e,(function(t,e){var o;if(Object(I.has)(n,e)){var a=n[e];Object(I.each)(t,(function(t,e){Object(I.set)(r,a+"."+["normal"===e?"default":"disable"===e?"inactive":e]+".style",t)}))}else i=Object(I.deepMix)({},i,((o={})[e]=t,o))})),Object(I.isEmpty)(r)||(i=Object(I.deepMix)({},i,{geometries:r})),i}function Pl(t,e){Tl[t.toLowerCase()]=Dl(t,e)}function Il(t){return Tl[t.toLowerCase()]||{}}var El={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},jl={default:El};function Ll(t,e){jl[t.toLowerCase()]=Object(I.deepMix)({},El,e)}function Bl(t){var e=jl[t.toLowerCase()];return e||El}var Nl=Be(),Rl=function(){function t(){}return t.getGlobalTheme=function(t){return Object(I.isString)(t)?Al(t):Object(I.deepMix)({},Al(),t)},t.prototype.getPlotTheme=function(t,e){var n=t.theme;return Object(I.isString)(n)?Object(I.deepMix)({},Al(n),Il(e)):Object(I.deepMix)({},Al(),Il(e),Dl(e,n))},t.prototype.getTheme=function(t,e){var n=function(t){var e=Object(I.clone)(t);return e.legend||(e.legend={}),e}(this.getPlotTheme(t,e));return Object(I.deepMix)({},Nl,n)},t.prototype.getResponsiveTheme=function(t){return Bl(t)||Bl("default")},t}(),Fl=function(t){function e(e){var n=t.call(this,e)||this;return n.interactions=[],n.labels=[],n.options=n.getOptions(e),n.initialOptions=Object(I.deepMix)({},n.options),n.paddingController=new Cl({plot:n}),n.stateController=new Es({plot:n}),n.themeController=new Rl,n}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},e.prototype.getOptions=function(e){var n=this.options||{},i=t.prototype.getOptions.call(this,e),r=this.constructor.getDefaultOptions(e),o=Object(I.reduce)(Object(I.flatten)(Object(I.map)([i,r,Object(I.hasKey)(e,"interactions")?e:n],(function(t){return Object(I.get)(t,"interactions",[])}))),(function(t,e){var n=Object(I.findIndex)(t,(function(t){return t.type===e.type}));return n>=0&&t.splice(n,1),Object(ln.__spreadArrays)(t,[e])}),[]);return Object(I.deepMix)({},i,r,n,e,{interactions:o})},e.prototype.beforeInit=function(){this.emit(Gs.BEFORE_INIT),t.prototype.beforeInit.call(this)},e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var n=this.viewRangeToRegion(this.viewRange);this.view=new en({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:n}),this.applyInteractions(),this.view.on(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,(function(){e.afterRender()}))},e.prototype.afterInit=function(){t.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&("auto"!==this.options.padding&&this.parseEvents(),this.emit(Gs.AFTER_INIT))},e.prototype.afterRender=function(){var t,e;if(this.view&&!this.view.destroyed){var n=this.options,i=n.padding?n.padding:this.config.theme.padding;n.defaultState&&"auto"!==i&&this.stateController.defaultStates(n.defaultState),"auto"===i&&this.paddingController.processAutoPadding(),(null===(e=null===(t=n.tooltip)||void 0===t?void 0:t.custom)||void 0===e?void 0:e.onChange)&&"auto"!==n.padding&&this.customTooltip()}},e.prototype.render=function(){this.emit(Gs.BEFORE_RENDER),t.prototype.render.call(this);var e=this.options.data;Object(I.isEmpty)(e)||this.view.render(),this.emit(Gs.AFTER_RENDER)},e.prototype.repaint=function(){this.canvas&&this.canvas.draw()},e.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},e.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},e.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},e.prototype.getColorScale=function(){var t=this.options;if(Object(I.contains)(t,"colorField"))return this.view.getScaleByField(t)},e.prototype.getShapes=function(){var t=this.view.geometries,e={};return Object(I.each)(t,(function(t){var n=t.type;e[n]=t.getShapes()})),e},e.prototype.destroy=function(){this.doDestroy(),t.prototype.destroy.call(this)},e.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&"auto"===this.initialOptions.padding&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},e.prototype.changeData=function(t){this.emit(Gs.BEFORE_CHANGE_DATA);var e=Object(I.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Gs.AFTER_CHANGE_DATA)},e.prototype.getPlot=function(){return this.view},e.prototype.getLabels=function(){return this.labels},e.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},e.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},e.prototype.getInteractions=function(){return this.interactions},e.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},e.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},e.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},e.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},e.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},e.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},e.prototype.processData=function(t){return t},e.prototype.scale=function(){var t=Object(I.mapValues)(this.config.scales,(function(t){var e=t.type;return e?{type:e}:{}})),e=Object(I.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},e.prototype.axis=function(){var t=Vs("axis",{plot:this,dim:"x"}),e=Vs("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},e.prototype.tooltip=function(){var t,e;if(!1!==this.options.tooltip.visible){var n=Object(I.get)(this.options,"tooltip");(null===(t=n.custom)||void 0===t?void 0:t.container)&&(n.container=n.custom.container),(null===(e=n.custom)||void 0===e?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",Object(I.deepMix)({},n)),Object(I.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)}else this.setConfig("tooltip",!1)},e.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},e.prototype.customTooltip=function(){var t,e=this.options.tooltip.custom;e.container&&(t=Object(I.isString)(e.container)?document.getElementById(e.container):e.container),t||(t=this.createTooltipContainer()),this.view.on("tooltip:show",(function(n){(null==e?void 0:e.onChange)&&e.onChange(t,n)})),this.view.hideTooltip(),this.view.on("tooltip:change",(function(n){e.onChange(t,n)}))},e.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&"center"===e[1]?e[0]:t},e.prototype.legend=function(){var t;if(!1!==this.options.legend.visible){var e=Object(I.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition(Object(I.get)(e,"position")),offsetX:Object(I.get)(e,"offsetX"),offsetY:Object(I.get)(e,"offsetY"),flipPage:Object(I.get)(e,"flipPage"),marker:Object(I.get)(e,"marker"),title:(null===(t=e.title)||void 0===t?void 0:t.visible)?Object(I.get)(e,"title"):null,itemName:Object(I.get)(e,"text")};this.setConfig("legends",n)}else this.setConfig("legends",!1)},e.prototype.annotation=function(){var t=this,e=[];"cartesian"===this.config.coordinate.type&&this.options.guideLine&&Object(I.each)(this.options.guideLine,(function(n){var i=Vs("guideLine",{plot:t,cfg:n});e.push(i)})),this.setConfig("annotations",e)},e.prototype.interaction=function(){var t=this,e=this.options.interactions,n=void 0===e?[]:e;Object(I.each)(n,(function(e){var n=e.type;if("slider"===n||"scrollbar"===n){t.options.xAxis=Object(I.deepMix)({},t.options.xAxis,{label:{autoHide:!0,autoRotate:!1}})}t.setConfig("interaction",e)}))},e.prototype.animation=function(){!1===this.options.animation&&this.setConfig("animate",!1)},e.prototype.applyInteractions=function(){var t=this,e=Ya.fromBBoxObject(this.layerBBox),n=this.title||this.description,i=new Ya(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(i,Sa.DIRECTION.TOP);var r=this.options.interactions,o=void 0===r?[]:r;this.interactions&&this.interactions.forEach((function(t){t.destroy()})),this.interactions=[],o.forEach((function(n){var i=wl.getInteraction(n.type,t.type);if(i){var r=new i({view:t.view},t,i.getInteractionRange(e,n.cfg),n.cfg);r.render(),t.interactions.push(r)}}))},e.prototype.setConfig=function(t,e){"geometry"!==t?"interaction"!==t?!1!==e?Object(I.assign)(this.config[t],e):this.config[t]=!1:this.config.interactions.push(e):this.config.geometries.push(e)},e.prototype.parseEvents=function(e){var n=this,i=this.options;if(i.events){t.prototype.parseEvents.call(this,i.events);var r=e?e.EVENT_MAP:Ga;Object(I.each)(i.events,(function(t,e){if(Object(I.isFunction)(t)){var i=r[e]||e;Ha(n,i,t)}}))}},e.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),qa(t.title)){var n=this.width,i=this.config.theme,r=new Ja({leftMargin:e.minX+i.title.padding[3],rightMargin:e.maxX-i.title.padding[1],topMargin:e.minY+i.title.padding[0],text:t.title.text,style:Object(I.mix)(i.title,t.title.style),wrapperWidth:n-i.title.padding[3]-i.title.padding[1],container:this.container.addGroup(),theme:i,index:qa(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=r,this.paddingController.registerPadding(r,"outer")}},e.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),qa(t.description)){var n=this.width,i=this.config.theme,r=0;if(this.title){var o=this.title.getBBox();r+=o.minY+o.height,r+=i.description.padding[0]}else r+=e.minY+i.title.padding[0];var a=new Ja({leftMargin:e.minX+i.description.padding[3],topMargin:r,rightMargin:e.maxX-i.title.padding[1],text:t.description.text,style:Object(I.mix)(i.description,t.description.style),wrapperWidth:n-i.description.padding[3]-i.description.padding[1],container:this.container.addGroup(),theme:i,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=a,this.paddingController.registerPadding(a,"outer")}},e.prototype.doRenderLabel=function(t,e){Object(I.each)(this.labels,(function(t){t.destroy()})),this.labels=[];var n,i={layer:this,container:t.labelsContainer,geometry:t,label:e},r=(n=e.type,es[n]);if(r){var o=new r(i);o.init(),o.render(),this.labels.push(o)}},e.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},e.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach((function(t){t.destroy()})),this.interactions=[]},e.prototype.doDestroyLabels=function(){Object(I.each)(this.labels,(function(t){t.destroy()})),this.labels=[]},e.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=void 0===e?[]:e,i=this.paddingController.processOuterPadding();return n.forEach((function(e){var n=wl.getInteraction(e.type,t.type),r=n&&n.getInteractionRange(i,e.cfg),o="";r&&(r.maxY===i.maxY&&r.minY>i.minY?o="bottom":r.maxX===i.maxX&&r.minX>i.minX?o="right":r.minX===i.minX&&r.maxX>i.maxX?o="left":r.minY===i.minY&&r.maxY<i.maxY&&(o="top"),t.paddingController.registerPadding({interaction:e.type,name:e.type,getBBox:function(){return r},position:o},"outer"))})),this.paddingController.processOuterPadding()},e.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!(Object(I.hasKey)(t,"max")||Object(I.hasKey)(t,"min")||Object(I.hasKey)(t,"maxLimit")||Object(I.hasKey)(t,"minLimit"))},e.prototype.viewRangeToRegion=function(t){var e=this.x,n=this.y,i=this.width,r=this.height,o={x:0,y:0},a={x:1,y:1};return o.x=t.minX/(e+i),o.y=t.minY/(n+r),a.x=t.maxX/(e+i),a.y=t.maxY/(n+r),{start:o,end:a}},e}(Xa),zl=n(330),Vl=function(){function t(t){var e=this;this.onResize=Object(I.debounce)((function(){if(!e.plot.destroyed){var t=e.getCanvasSize(),n=t.width,i=t.height;e.width===n&&e.height===i||(e.width=n,e.height=i,e.plot.updateConfig({width:n,height:i}),e.plot.render())}}),300);var n=t.containerDOM,i=t.plot;this.containerDOM=n,this.plot=i,this.init()}return t.prototype.getCanvasSize=function(){var t=Al(),e=this.plot.width?this.plot.width:t.width,n=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,n=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:n),{width:e,height:n}},t.prototype.getCanvasDOM=function(){return this.canvas.get("container")},t.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,n=t.height;this.width=e,this.height=n,this.canvas.changeSize(e,n)},t.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=Rl.getGlobalTheme(t),n=Object(I.get)(e,"backgroundStyle.fill");n&&this.updateCanvasStyle({backgroundColor:n})},t.prototype.updateCanvasStyle=function(t){Object(G.modifyCSS)(this.getCanvasDOM(),t),Object(G.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},t.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},t.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new zl.a(this.onResize),this.resizeObserver.observe(this.containerDOM))},t.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},t.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,n=void 0===e?"canvas":e,i=t.pixelRatio,r=t.localRefresh,o=void 0!==r&&r,a=this.getCanvasSize(),s=a.width,l=a.height,c="canvas"===n?Kn.Canvas:Wi;this.canvas=new c({localRefresh:o,container:this.containerDOM,width:s,height:l,pixelRatio:i}),this.width=s,this.height=l,this.updateCanvasTheme()},t}();var Gl=function(){function t(t){this.plot=t.plot,this.canvas=t.canvas,this.eventHandlers=[]}return t.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",Object(I.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",Object(I.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",Object(I.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",Object(I.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",Object(I.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",Object(I.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",Object(I.wrapBehavior)(this,"onEvents"))},t.prototype.clearEvents=function(){var t=this.eventHandlers;Object(I.each)(t,(function(t){t.target.off(t.type,t.handler)}))},t.prototype.addEvent=function(t,e,n){t.on(e,n),this.eventHandlers.push({target:t,type:e,handler:n})},t.prototype.onEvents=function(t){var e=this.getEventObj(t),n=t.target;!this.isShapeInView(n)&&n.name&&this.plot.emit(n.name+":"+t.type,t),this.plot.emit(""+t.type,e);var i=this.plot.getLayers();i.length>0&&this.onLayerEvent(i,e,t.type)},t.prototype.onMove=function(t){var e,n,i=t.target,r=this.getEventObj(t);!this.isShapeInView(i)&&i.name&&(this.plot.emit(i.name+":"+t.type,r),!this.lastShape||(e=i,n=this.lastShape,e&&n&&e===n)||(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",r),this.plot.emit(i.name+":mouseenter",r)),this.lastShape=i),this.plot.emit("mousemove",r);var o=this.plot.getLayers();o.length>0&&this.onLayerEvent(o,r,"mousemove")},t.prototype.isShapeInView=function(t){for(var e=["frontgroundGroup","backgroundGroup","panelGroup"],n=t.get("parent");n;){var i=n.get("name");if(i&&Object(I.contains)(e,i))return!0;n=n.get("parent")}return!1},t.prototype.getEventObj=function(t){return{clientX:t.clientX,clientY:t.clientY,x:t.x,y:t.y,plot:this.plot,data:t.data?t.data.data:null,canvas:this.canvas,target:t.target,gEvent:t}},t.prototype.onLayerEvent=function(t,e,n){var i=this;Object(I.each)(t,(function(t){var r=t.getGlobalBBox();if(function(t,e){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY}({x:e.x,y:e.y},r)){t.emit(""+n,e);var o=t.layers;o.length>0&&i.onLayerEvent(o,e,n)}}))},t}(),Hl={};function Wl(t,e){Hl[t.toLowerCase()]=e}var $l=function(t){function e(e,n){var i=t.call(this)||this;return i.containerDOM="string"==typeof e?document.getElementById(e):e,i.forceFit=Object(I.isNil)(n.forceFit)?Object(I.isNil)(n.width)&&Object(I.isNil)(n.height):n.forceFit,i.renderer=n.renderer||"canvas",i.pixelRatio=n.pixelRatio||null,i.width=n.width,i.height=n.height,i.theme=n.theme,i.localRefresh=n.localRefresh,i.canvasController=new Vl({containerDOM:i.containerDOM,plot:i}),i.width=i.canvasController.width,i.height=i.canvasController.height,i.canvas=i.canvasController.canvas,i.layers=[],i.destroyed=!1,i.createLayers(n),i.eventController=new Gl({plot:i,canvas:i.canvasController.canvas}),i.eventController.bindEvents(),i.parseEvents(n),i}return Object(ln.__extends)(e,t),e.prototype.destroy=function(){this.eachLayer((function(t){t.destroy()})),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},e.prototype.repaint=function(){this.canvasController.canvas.draw()},e.prototype.updateConfig=function(t,e){if(void 0===e&&(e=!1),e)this.eachLayer((function(e){e instanceof Fl&&e.updateConfig(t)}));else{var n=this.layers[0];n instanceof Xa&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},e.prototype.changeData=function(t,e){if(void 0===e&&(e=!1),e)this.eachLayer((function(e){e instanceof Fl&&e.changeData(t)}));else{var n=this.layers[0];n instanceof Fl&&n.changeData(t)}},e.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},e.prototype.getXScale=function(){return this.layers[0].getXScale()},e.prototype.getYScale=function(){return this.layers[0].getYScale()},e.prototype.getColorScale=function(){return this.layers[0].getColorScale()},e.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},e.prototype.getData=function(){return this.layers[0].getData()},e.prototype.bindStateManager=function(t,e){this.eachLayer((function(n){n instanceof Fl&&n.bindStateManager(t,e)}))},e.prototype.setActive=function(t,e){this.eachLayer((function(n){n instanceof Fl&&n.setActive(t,e)}))},e.prototype.setSelected=function(t,e){this.eachLayer((function(n){n instanceof Fl&&n.setSelected(t,e)}))},e.prototype.setDisable=function(t,e){this.eachLayer((function(n){n instanceof Fl&&n.setDisable(t,e)}))},e.prototype.setDefault=function(t,e){this.eachLayer((function(n){n instanceof Fl&&n.setDefault(t,e)}))},e.prototype.getView=function(){return this.layers[0].view},e.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},e.prototype.getCanvas=function(){return this.canvasController.canvas},e.prototype.getLayers=function(){return this.layers},e.prototype.render=function(){this.eachLayer((function(t){return t.render()}))},e.prototype.eachLayer=function(t){Object(I.each)(this.layers,t)},e.prototype.addLayer=function(t){Object(I.findIndex)(this.layers,(function(e){return e===t}))<0&&this.layers.push(t)},e.prototype.createLayers=function(t){if(t.layers);else if(t.type){var e=new(function(t){return Hl[t.toLowerCase()]}(t.type))(Object(I.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}));this.addLayer(e)}},e.prototype.parseEvents=function(t){var e=this,n=Object(I.keys)(za);t.events&&Object(I.each)(t.events,(function(t,i){if(Object(I.contains)(n,i)&&Object(I.isFunction)(t)){var r=za[i]||i,o=t;e.on(r,o)}}))},e}($.default),Yl=function(){function t(t){Object(I.assign)(this,t),this.init()}return t.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},t}(),Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},e.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),Object(I.has)(t,"color")){var i=t.color;Object(I.isString)(i)?e.values=[i]:Object(I.isFunction)(i)?e.callback=i:Object(I.isArray)(i)&&(n?e.values=i:i.length>0&&(e.values=[i[0]]))}this.config.color=e},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};Object(I.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,n=["stackField","seriesField"];e<n.length;e++){var i=n[e];if(Object(I.get)(t,i))return[t[i]]}},e}(Yl);function ql(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);var s,l,c,h=function(t,e,n,i){var r,o,a,s,l=[],c=!!i;if(c){a=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,u=t.length;h<u;h++){var d=t[h];a=lt.vec2.min([0,0],a,d),s=lt.vec2.max([0,0],s,d)}a=lt.vec2.min([0,0],a,i[0]),s=lt.vec2.max([0,0],s,i[1])}h=0;for(var p=t.length;h<p;h++){d=t[h];if(n)r=t[h?h-1:p-1],o=t[(h+1)%p];else{if(0===h||h===p-1){l.push(d);continue}r=t[h-1],o=t[h+1]}var f=[0,0];f=lt.vec2.sub(f,o,r),f=lt.vec2.scale(f,f,e);var g=lt.vec2.distance(d,r),m=lt.vec2.distance(d,o),v=g+m;0!==v&&(g/=v,m/=v);var y=lt.vec2.scale([0,0],f,-g),x=lt.vec2.scale([0,0],f,m),b=lt.vec2.add([0,0],d,y),w=lt.vec2.add([0,0],d,x);c&&(b=lt.vec2.max([0,0],b,a),b=lt.vec2.min([0,0],b,s),w=lt.vec2.max([0,0],w,a),w=lt.vec2.min([0,0],w,s)),l.push(b),l.push(w)}return n&&l.push(l.shift()),l}(r,.4,i,n),u=r.length,d=[];for(o=0;o<u-1;o++)s=h[2*o],l=h[2*o+1],c=r[o+1],d.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return i&&(s=h[u],l=h[u+1],c=r[0],d.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),d}function Ul(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return function(t,e){return function(t,e){var n=[];if(t.length){for(var i=0,r=t.length;i<r;i+=1){var o=t[i],a=0===i?"M":"L";n.push([a,o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}(t,e);Object(I.each)(t,(function(t){o&&o.x===t.x&&o.y===t.y||(i.push(t.x),i.push(t.y),o=t)}));var a=ql(i,e,n||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a}function Zl(t,e,n){var i=[],r=[];Object(I.each)(t.points,(function(t){i.push(t[1]),r.push(t[0])})),r=e.parsePoints(r.reverse()),i=vs(e.parsePoints(i));var o=n?Ul(i,!1,[[0,0],[1,1]]):Kl(i),a=Kl(r);return a[0][0]="L",o.concat(a)}function Kl(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=0===n?"M":"L";e.push([r,i.x,i.y])}return e}function Jl(t){return"l(90) 0:"+t+" 1:#ffffff"}En("area","miniArea",{draw:function(t,e){var n=t.style?t.style.opacity:null,i=Zl(t,this,!1),r=Object(I.deepMix)({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:{path:i,fill:Jl(t.color||Al().defaultColor),opacity:n||.4},style:r})}}),En("area","miniAreaSmooth",{draw:function(t,e){var n=t.style?t.style.opacity:null,i=Zl(t,this,!0);return e.addShape("path",{attrs:{path:i,fill:Jl(t.color||Al().defaultColor),opacity:n||.5}})}});var Ql={main:Xl,mini:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},e}(Xl)},tc=["colorField","stackField","groupField"],ec={main:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){this.type="interval",t.prototype.init.call(this);var e=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var n=this._getSizeProps(e);n&&this.parseSize(n);var i=this._getStyleProps(e);i&&this.parseStyle(i)},e.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&(Object(I.isString)(t.color)?n.values=[t.color]:Object(I.isFunction)(t.color)?n.callback=t.color:Object(I.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):Object(I.isObject)(t.color)&&(n.fields=e,n.callback=function(e){return t.color[e]})),this.config.color=n},e.prototype.parseSize=function(t){var e=this.plot.options,n={};Object(I.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},e.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,i=this.plot.options[t],r={};Object(I.isFunction)(i)?(r.fields=(null==n?void 0:n.fields)||[e.xField,e.yField],r.callback=i):r.cfg=i,this.config.style=r},e.prototype._getSizeProps=function(t){for(var e=0,n=["columnSize","barSize"];e<n.length;e++){var i=n[e];if(Object(I.get)(t,i))return i}},e.prototype._getStyleProps=function(t){for(var e=0,n=["columnStyle","barStyle","pieStyle","ringStyle"];e<n.length;e++){var i=n[e];if(Object(I.get)(t,i))return i}},e.prototype._getColorMappingField=function(t){for(var e=0,n=tc;e<n.length;e++){var i=n[e];if(Object(I.get)(t,i))return[t[i]]}},e.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=tc;e<n.length;e++){if(t[n[e]])return!0}return!1},e}(Yl)},nc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||Object(I.get)(t,["line","style"]))&&this.parseStyle()},e.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};Object(I.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},e.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),Object(I.has)(t,"color")){var n=t.color;Object(I.isString)(n)?e.values=[n]:Object(I.isFunction)(n)?e.callback=n:Object(I.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||Object(I.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};Object(I.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},e}(Yl),ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},e.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},e.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:Object(I.isString)(t.color)?e.values=[t.color]:Object(I.isFunction)(t.color)?(e.fields=n,e.callback=t.color):Object(I.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},e.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};Object(I.isFunction)(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},e.prototype._needParseAttribute=function(t){var e=this.plot.options;return!!e[t]||!!e.line[t]},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,n=["stackField","seriesField"];e<n.length;e++){var i=n[e];if(Object(I.get)(t,i))return[t[i]]}},e}(nc);En("line","miniLine",{draw:function(t,e){for(var n=vs(t.points),i=[],r=0;r<n.length;r++){var o=n[r],a=0===r?"M":"L";i.push([a,o.x,o.y])}var s=Object(I.deepMix)({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:Object(I.mix)({path:i,stroke:t.color||Al().defaultColor,lineWidth:t.size||2},s)})}}),En("line","miniLineSmooth",{draw:function(t,e){var n=Ul(vs(t.points),!1,[[0,0],[1,1]]);return e.addShape("path",{attrs:Object(I.mix)({path:n,stroke:t.color||Al().defaultColor,lineWidth:t.size||2},t.style)})}});var rc={main:nc,guide:ic,mini:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},e}(nc)},oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=Object(I.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),Object(I.isEmpty)(e)||(this.config.color=e)},e.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=Object(I.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},e.prototype.parseShape=function(t){this.config.shape=t},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},i=t.xField,r=t.yField,o=t.colorField;Object(I.isFunction)(e)?(n.fields=o?Object(I.isArray)(o)?[i,r,o].concat(o):[i,r,o]:[i,r],n.callback=e):(n.cfg=e,Object(I.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},e.prototype._parseColor=function(t,e){Object(I.isString)(t.color)?e.values=[t.color]:Object(I.isFunction)(t.color)?e.callback=t.color:Object(I.isArray)(t.color)&&(e.values=t.color)},e}(Yl);var ac,sc=["seriesField","stackField"],lc={area:Ql,line:rc,point:{guide:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var i=this.plot.getTheme();e.values=[i.defaultColor]}Object(I.keys)(e).length>0&&(this.config.color=e)},e.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},e.prototype.parseShape=function(t){var e={};Object(I.isString)(t)?e.values=[t]:Object(I.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},e.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},i=this._getColorMappingField(t);Object(I.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,i&&n.fields.unshift(i)):n.cfg=e,this.config.style=n},e.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var i=function(t,e){var n=[];return Object(I.each)(e,(function(e){var i=e[t];n.push(i)})),Object(I.uniq)(n)}(n,t.data).length,r=[],o=0;o<i;o++)r.push(t.point.color);e.values=r}else t.color&&this._parseColor(t,e)},e.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);Object(I.isString)(t.color)?e.values=[t.color]:Object(I.isFunction)(t.color)?e.callback=t.color:Object(I.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},e.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&Object(I.has)(e.point,t)},e.prototype._getColorMappingField=function(t){for(var e=0,n=sc;e<n.length;e++){var i=n[e];if(Object(I.get)(t,i))return[t[i]]}},e}(Yl),circle:oc},interval:ec};function cc(t,e,n){return new(0,lc[t][e])(n).config}function hc(t,e){if(!e)return t;var n,i,r,o,a;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&"dateTime"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&("time"===e.type?t.tickInterval=(n=e.tickInterval,i=Na,r=n.split(" "),o=i[r[1]],a=parseInt(r[0],10),[o.format,a*o.value]):t.tickInterval=e.tickInterval),"time"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(t.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(t.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(t.base=e.base),e.tickMethod&&(t.tickMethod=e.tickMethod)}function uc(t,e,n){for(var i=e.points,r=n.start.x+n.getWidth()*t,o=0;o<i.length-1;o++){var a=i[o],s=i[o+1];if(r>=a.x&&r<=s.x){var l=(s.y-a.y)/(s.x-a.x);return[r,a.y+l*(r-a.x)]}}}mn("clipingWithData",(function(t,e){var n=Object(I.deepMix)({},e,{easing:"easeLinear",duration:1e4}),i=t.get("element").geometry;i.labelsContainer.set("visible",!1);var r=t.get("index"),o=i.coordinate,a=i.scales[ac.options.yField],s=Object(I.clone)(t.get("origin"));!function(t,e){var n=e.start,i=e.end,r=e.height;t.setClip({type:"rect",attrs:{x:n.x,y:i.y,width:0,height:r}})}(t,o);var l=t.get("clipShape"),c=t.get("parent"),h=null,u=ac.options.seriesField;u&&(h=c.addShape("text",{attrs:{x:o.start.x+12,y:0,text:s.data[0][u],fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var d=h?16:0,p=c.addShape("text",{attrs:{x:o.start.x+12,y:d,text:"test"+r,fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});n.callback=function(){t&&!t.get("destroyed")&&(t.setClip(null),l.remove(),p.animate({opacity:0},300,(function(){p.remove(),Object(I.isNil)(h)||h.remove();var t=i.labelsContainer;t.get("visible")||t.set("visible",!0)})))};var f=n.delay;Object(I.isFunction)(f)&&(f=n.delay(r));var g=n.easing;Object(I.isFunction)(g)&&(g=n.easing(r)),l.animate({width:o.getWidth()},n.duration,g,n.callback,f),n.onFrame=function(t){var e=uc(t,s,o);if(e){p.attr("x",e[0]+12),p.attr("y",e[1]+d);var n=function(t,e,n){var i=(e-n.start.y)/(n.end.y-n.start.y);return t.invert(i).toFixed(2)}(a,e[1],o);a.formatter&&(n=a.formatter(n)),p.attr("text",n)}},p.animate(n.onFrame,{duration:n.duration,easing:g,callback:n.callback,delay:f}),h&&h.animate({onFrame:function(t){var e=uc(t,s,o);e&&(h.attr("x",e[0]+12),h.attr("y",e[1]))}},n.duration,g,n.callback,f)}));var dc=function(){function t(t){this.type="shape",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=Object(I.deepMix)([],this.nodes)}return t.prototype.measure=function(t){return Object(I.deepMix)({},function(t){var e,n=t.getBBox(),i=n.minX,r=n.minY,o=n.maxX-n.minX,a=n.maxY-n.minY,s=t.attr("matrix"),l=cs({x:0,y:0},e=s?[s[0],s[1],0,s[3],s[4],0,0,0,1]:[1,0,0,0,1,0,0,0,1]);l.x+=i,l.y+=r;var c=cs({x:o,y:0},e);c.x+=i,c.y+=r;var h=cs({x:0,y:a},e);h.x+=i,h.y+=r;var u=cs({x:o,y:a},e);u.x+=i,u.y+=r;var d=[l,c,h,u];d.sort((function(t,e){return t.y-e.y}));var p=d[0].y,f=d[d.length-1].y,g=[d[0],d[1]],m=[d[2],d[3]],v=g[0].x<g[1].x?g[0]:g[1],y=g[0].x<g[1].x?g[1]:g[0],x=m[0].x<m[1].x?m[0]:m[1],b=m[0].x<m[1].x?m[1]:m[0];d.sort((function(t,e){return t.x-e.x}));var w=d[0].x,C=d[d.length-1].x;return{width:C-w,height:f-p,left:w,right:C,top:p,bottom:f,topLeft:v,topRight:y,bottomLeft:x,bottomRight:b,centerX:w+(C-w)/2,centerY:p+(f-p)/2}}(t),{shape:t})},t.prototype.measureNodes=function(){var t=this,e=[],n=[];Object(I.each)(this.shapes,(function(i,r){var o=Object(I.deepMix)({},t.nodes[r],t.measure(i));0!==o.width&&0!==o.height&&(e.push(o),n.push(i))})),this.nodes=e,this.shapes=n},t.prototype._parserNodes=function(){var t=this;Object(I.each)(this.shapes,(function(e){var n=t.measure(e);t.nodes.push(n)}))},t}();var pc={elementDist:{type:"chain",usage:"compare",expression:function(t,e,n){void 0===n&&(n={value:4});var i=ms([t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft]);return Math.round(i)>=n.value}},elementDistVertical:{type:"chain",usage:"compare",expression:function(t,e,n){void 0===n&&(n={value:5});var i=Math.abs(t.bottom-e.top);return Math.round(i)>=n.value}},elementCollision:{type:"group",usage:"compare",expression:function(t,e){var n=ms([t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft]);return Math.round(n)>=2}},elementWidth:{type:"padding",usage:"compare",expression:function(t,e,n){return void 0===n&&(n={ratio:.15}),t.width<e.width*n.ratio}},columnWidth:{type:"padding",usage:"assign",expression:function(t,e,n){return void 0===n&&(n={ratio:.6}),e.width*n.ratio}},ringThickness:{type:"padding",usage:"assign",expression:function(t,e,n){return void 0===n&&(n={ratio:.8}),e.radius*n.ratio}},minRingThickness:{type:"padding",usage:"assign",expression:function(t,e){var n=e.coord.radius/2;return Math.min(n,t.value)}}};function fc(t){t.attr("text","")}function gc(t,e){return!(t.bottom<e.top||e.bottom<t.top)&&!(t.right<e.left||e.right<t.left)}var mc=n(34);function vc(t,e,n,i){var r,o=i.nodes.nodes;r=n===o.length-1?o[n-1].shape.get("delegateObject").item.name:o[n+1].shape.get("delegateObject").item.name;var a=new Date(r),s=t.get("delegateObject").item.name,l=new Date(s),c=o[0].shape.get("delegateObject").item.name,h=new Date(c),u=o[o.length-1].shape.get("delegateObject").item.name,d=yc(h,new Date(u)),p=yc(l,a);if(d!==p){if(0!==n){var f=o[n-1].shape.get("delegateObject").item.name;if(function(t,e,n){var i=xc(e,t),r=xc(n,t);if(i!==r)return!1;return!0}(d,l,new Date(f))){g=function(t,e){for(var n=["year","month","day","hour","minute"],i=["YYYY","MM","DD","HH","MM"],r=n.indexOf(t)+1,o=n.indexOf(e),a="",s=r;s<=o;s++)a+=i[s],s<o&&(a+="-");return a}(d,p);return void t.attr("text",mc.default.format(l,g))}}}else if(0!==n&&n!==o.length-1){var g=function(t){var e=["year","month","day","hour","minute"].indexOf(t);return["YYYY","MM","DD","HH","MM"][e]}(d);t.attr("text",mc.default.format(l,g))}}function yc(t,e){var n,i=Math.abs(t-e),r={minute:[6e4,36e5],hour:[36e5,864e5],day:[864e5,26784e5],month:[26784e5,31536e6],year:[31536e6,1/0]};return Object(I.each)(r,(function(t,e){i>=t[0]&&i<t[1]&&(n=e)})),n}function xc(t,e){return"year"===e?t.getFullYear():"month"===e?t.getMonth()+1:"day"===e?t.getDay()+1:"hour"===e?t.getHours()+1:"minute"===e?t.getMinutes()+1:void 0}var bc={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function wc(t,e,n,i){if(Object(I.has)(i,"node")&&Object(I.has)(i.node,"node")){var r=i.nodes.nodes,o=parseFloat(t.get("origin").text);if(0!==o)if(e.formatter)t.attr("text",e.formatter(o));else if(e.unit){var a=Cc(e,o),s=a.num,l=a.unitname;t.attr("text",s+l)}else{l=function(t){var e=Math.floor(Math.log(t)/Math.log(1e3));return["k","m","b","t"][e-1]}(ys(function(t){var e=[];return Object(I.each)(t,(function(t){var n=parseFloat(t.shape.get("origin").text);e.push(n)})),e}(r)));var c=bc[l].number;s=Cc({unit:l,decimal:function(t,e){var n=Math.floor(Math.log10(e));if(!(t>=e)){var i=Math.floor(Math.log10(t));return Math.abs(i-n)}var r=t%e;if(r>0){var o=Math.floor(Math.log10(r));return Math.abs(o-n)}return 0}(function(t){if(t.length>=2){var e=parseFloat(t[0].shape.get("origin").text),n=parseFloat(t[1].shape.get("origin").text);return Math.abs(e-n)}return 0}(r),c)},o).num;t.attr("text",s+l)}}}function Cc(t,e){var n,i;if("auto"===t.unit){var r=Math.floor(Math.log(e)/Math.log(1e3));i=["k","m","b","t"][r-1],n=(e/Math.pow(1e3,r)).toFixed(t.decimal)}else if(t.unit){var o=bc[t.unit];i=t.unit,n=(e/o.number).toFixed(t.decimal)}return{num:n,unitname:i}}function _c(t,e,n){var i=[];Object(I.each)(t,(function(t){"start"===t?i.push(0===e):"end"===t?i.push(e===n.length-1):Object(I.isNumber)(t)&&i.push(e===t)}));for(var r=0,o=i;r<o.length;r++){if(!0===o[r])return!0}return!1}function Sc(t,e,n){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.shape.get("origin")._origin[e]===n)return o}}function Oc(t,e){var n,i=e.abbreviateBy?e.abbreviateBy:"end",r=t.attr("text");"end"===i&&(n=r[0]+"..."),"start"===i&&(n="..."+r[r.length-1]),"middle"===i&&(n=r[0]+"..."+r[r.length-1]),t.resetMatrix(),t.attr({text:n,textAlign:"center",textBaseline:"top"})}var Mc={textWrapper:function(t,e){for(var n=t.attr("text"),i=Math.ceil(n.length/e.lineNumber),r="",o=1;o<e.lineNumber;o++){var a=i*o;r=n.slice(0,a)+"\n"+n.slice(a)}var s=t.attr("fontSize");t.attr({text:r,lineHeight:s,textAlign:"center",textBaseline:"top"})},textRotation:function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})},textAbbreviate:Oc,textHide:fc,digitsAbbreviate:wc,datetimeStringAbbrevaite:vc,robustAbbrevaite:function(t,e,n,i){var r,o=i.nodes.nodes,a=t.attr("text");/^\d+$/.test(a)?wc(t,e,0,o):/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/.test(r=a)||/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/.test(r)?vc(t,0,n,o):Oc(t,e)},nodesResampling:function(t,e,n,i){var r=i.nodes.nodes,o=r.length%2!=0;if(!_c(e.keep,n,r)){var a=n%2==0;(!o&&a||o&&!a)&&fc(t)}},nodesResamplingByAbbrevate:function(t,e,n,i){var r=i.nodes.nodes;_c(e.keep,n,r)||t.attr("text")!==t.get("delegateObject").item.name&&fc(t)},nodesResamplingByChange:function(t,e,n,i){var r=i.nodes.nodes,o=function(t){var e=Object(I.deepMix)([],t);return e.sort((function(t,e){return e.width-t.width})),Math.round(e[0].width)}(r);if(!(n<=1)){var a=r[n],s=function(t,e){for(var n=t-1;n>0;n--){var i=e[n];if(!i.shape.get("blank"))return i}}(n,r),l=s.centerX-a.centerX,c=s.centerY-a.centerY;Math.sqrt(l*l+c*c)<o&&(fc(t),t.set("blank",!0))}},nodesResamplingByState:function(t,e,n,i){var r=i.nodes.nodes,o=r[n];o.line&&o.line.remove();var a=i.plot.initialOptions.data,s=i.plot[i.plot.type]||i.plot[i.plot.baseType],l=function(t,e,n){var i=[];Object(I.each)(t,(function(t){i.push(t[e])})),i.sort((function(t,e){return t-e}));var r=i[0],o=Sc(n,e,r),a=i[i.length-1],s=Sc(n,e,a),l=function(t){var e=Object(I.clone)(t);e.sort((function(t,e){return t-e}));var n=Math.floor(e.length/2);if(e.length%2)return e[n];return e[n]}(i),c=Sc(n,e,l);return{min:o,max:s,median:c}}(a,Object(I.get)(s,["label","fields",0],Object(I.get)(s,["position","fields",1])),r),c=!1;if(Object(I.each)(l,(function(t){t.shape.get("origin")===o.shape.get("origin")&&(c=!0)})),c){if(o.origin_position){var h=o.origin_position,u=h.x,d=h.y;t.attr("x",u),t.attr("y",d)}}else fc(t)},nodeJitter:function(t,e,n){var i=n.nodes.nodes;if(e!==i.length-1){var r=function(t,e){var n,i={x:e.centerX-t.centerX,y:e.centerY-t.centerY},r=Math.sqrt(i.x*i.x+i.y*i.y),o={x:10,y:0},a=Math.sqrt(o.x*o.x+o.y*o.y),s=ls(i,o)/(r*a)*180/Math.PI;s<0&&(s=360-s);s=function(t){if(t>90&&t<=180)return 180-t;if(t>180&&t<270)return t-180;return 360-t}(s);var l=Math.abs(t.centerX-e.centerX),c=Math.abs(t.centerY-e.centerY);s>45?n="x":s<45&&(n="y");return{dir:n,distX:l,distY:c}}(i[e],i[e+1]).dir,o=t.get("startPoint");"x"===r&&t.attr("y",o.y+20)}},nodeJitterUpward:function(t,e,n,i){var r=i.nodes.nodes;if(0!==n){var o=r[n],a=r[n-1];if(gc(o,a)){var s=i.plot.view.geometries[0].elements[0],l=a.top-o.height/2;if(l-10>i.region.top){var c=o.shape.get("origin"),h=function(t,e){var n;return Object(I.each)(e,(function(e){var i=e;i.get("id")===t&&(n=i)})),n}(s.getShapeId(c),s.getShapes()).get("box"),u=h.left+h.width/2,d=h.top,p=s.get("labelController").labelsContainer.addShape("path",{attrs:{path:[["M",u,d],["L",o.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),f={x:t.attr("x"),y:t.attr("y")};o.shape.attr("y",l-10),r[n]=i.nodes.measure(o.shape),r[n].line=p,r[n].origin_position=f}}}},clearOverlapping:function(t,e,n,i){var r=i.nodes.nodes,o=r[n],a=[];if(!o.shape.get("blank"))for(var s=0;s<r.length;s++){var l=r[s],c=l.shape;if(s!==n&&!c.get("blank"))gc(o,l)&&a.push(l)}a.length>0&&(a.push(o),a.sort((function(t,e){return e.top-t.top})),Object(I.each)(a,(function(t,e){if(e>0){var n=t.shape;fc(n),n.set("blank",!0)}})))}};var kc=function(){function t(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,Object(I.assign)(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return t.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},t.prototype._iteration=function(){var t;"shape"===(t=(this.nodes.type,this.nodes)).type&&t.measureNodes(),this.rules&&this._applyRules(),"shape"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},t.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},t.prototype._run=function(){for(var t=this._constraintsTest();!(t||this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},t.prototype._constraintsTest=function(){var t=pc[this.currentConstraint.name],e=this.currentConstraint.option;return"compare"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},t.prototype._constraintCompare=function(t,e){var n=t.type,i=t.expression,r=this.nodes.nodes;return"chain"===n?this._chainConstraintCompare(i,r,e):"padding"===n?this._paddingConstraintCompare(i,this.region,r,e):"group"===n?this._groupConstraintCompare(i,r,e):void 0},t.prototype._chainConstraintCompare=function(t,e,n){for(var i=0;i<e.length-1;i++){if(!1===t(e[i],e[i+1],n))return!1}return!0},t.prototype._paddingConstraintCompare=function(t,e,n,i){if(e)for(var r=0,o=n;r<o.length;r++){if(!1===t(o[r],e,i))return!1}return!0},t.prototype._groupConstraintCompare=function(t,e,n){for(var i=0;i<e.length;i++)for(var r=e[i],o=0;o<e.length;o++){if(o!==i)if(!1===t(r,e[o],n))return!1}return!0},t.prototype._constraintAssignment=function(t,e){var n=t.type,i=t.expression,r=this.nodes.nodes;return"chain"===n?this._chainConstraintAssign():"padding"===n?this._paddingConstraintAssign(i,this.region,r,e):void 0},t.prototype._chainConstraintAssign=function(){return!0},t.prototype._paddingConstraintAssign=function(t,e,n,i){if(e)for(var r=0,o=n;r<o.length;r++){var a=o[r],s=t(a,e,i);a.value=s}return!0},t.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=Mc[t.name],n=t.option?t.option:{},i=this.nodes.nodes,r=0;r<i.length;r++){var o=i[r];this._applyRule(o.shape,e,n,r)}},t.prototype._applyRule=function(t,e,n,i){e(t,n,i,{nodes:this.nodes,region:this.region,plot:this.plot})},t}(),Ac=function(){function t(t){Object(I.assign)(this,t),this.init()}return t.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},t}(),Tc={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){this.axisInstance=this.getAxisInstance(),t.prototype.init.call(this)},e.prototype.shouldApply=function(){var t=this.plot.options;return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible)},e.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll((function(e){if("axis-label"===e.get("name")&&e.get("delegateObject").axis.get("field")===t.plot.options[t.dim+"Field"])return e})),n=[],i=0;i<e.length;i++)n.push(e[i]);var r=new dc({shapes:n}),o=this.responsiveTheme.axis.x[this.type],a=o.constraints,s=o.rules;new kc({nodes:r,constraints:a,region:this.plot.getViewRange(),rules:s,plot:this.plot,onEnd:function(e){t.updateTicks(e.origion_nodes)}})},e.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&"dateTime"===t[e].type)return"dateTime";var i=this.plot.view.getScaleByField([t[n]]).type;return Tc[i]},e.prototype.getAxisInstance=function(){var t,e,n="x"===this.dim?0:1,i=null===(t=this.plot.view.getController("axis"))||void 0===t?void 0:t.getComponents();if(i)return null===(e=i[n])||void 0===e?void 0:e.component},e.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll((function(t){if("axis-tickline-group"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t}))[0];if(n){var i=n.get("children");Object(I.each)(t,(function(t,e){""===t.shape.attr("text")&&i[e].attr("opacity",0)}))}this.plot.canvas.draw()},e}(Ac);var Pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},e.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];Object(I.each)(t,(function(t){e=e.concat(t.findAllByName("label"))}));var n=new dc({shapes:e}),i=this.responsiveTheme.label[this.type],r=i.constraints,o=i.rules;new kc({nodes:n,constraints:r,rules:o,plot:this.plot,region:this.plot.view.coordinateBBox})},e.prototype.getType=function(){return null},e}(Ac),Ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getType=function(){return Object(I.get)(this.plot.options,["label","type"],"point")},e}(Pc);var Ec={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new Dc({plot:t,responsiveTheme:e,dim:"x"}),new Dc({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}},{name:"responsivePointLabel",method:function(t){var e=t.getResponsiveTheme();new Ic({plot:t,responsiveTheme:e})}}]},jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return Object(ln.__assign)({offsetX:0,offsetY:0},e)},e.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},e.prototype.getLabelItemAttrs=function(t,e){var n=this,i=this.options,r=i.style,o=i.formatter,a=Object(I.get)(t,"model.mappingData",[]);return Object(I.map)(a,(function(i,a){var s,l=n.getValue(i);return Object(ln.__assign)(Object(ln.__assign)(Object(ln.__assign)({},n.getPosition(i)),{text:o?o(l,(s={},s._origin=i._origin,s.mappingDatum=i,s.mappingDatumIndex=a,s.element=t,s.elementIndex=e,s),e):l,textAlign:"center",textBaseline:"middle"}),r)}))},e.prototype.getValue=function(t){return Object(I.get)(t._origin,this.layer.options.yField)},e.prototype.getPosition=function(t){return{x:Object(I.isArray)(t.x)?Object(I.last)(t.x):t.x,y:Object(I.isArray)(t.y)?Object(I.last)(t.y):t.y}},e.prototype.layoutLabels=function(t,e){var n=this;if(this.options.adjustPosition){var i=this.isOverlapped(e);if(i){var r=this.getGlobalTolerance(e);Object(I.each)(e,(function(t,i){i>1&&n.labelResamplingByChange(t,e,i,r)}))}(i=this.isOverlapped(e))&&Object(I.each)(e,(function(t,i){t.get("visible")&&n.clearOverlapping(t,e,i)}))}},e.prototype.adjustLabel=function(){},e.prototype.labelResamplingByChange=function(t,e,n,i){var r=this.findPrevious(n,e),o=this.getCenter(t),a=this.getCenter(r),s=a.x-o.x,l=a.y-o.y;Math.sqrt(s*s+l*l)<i&&t.set("visible",!1)},e.prototype.clearOverlapping=function(t,e,n){for(var i=[],r=0;r<e.length;r++){var o=e[r];if(r!==n&&o.get("visible"))Ka(t.getBBox(),o.getBBox())&&i.push(o)}i.length>0&&(i.push(t),i.sort((function(t,e){return e.minY-t.minY})),Object(I.each)(i,(function(t,e){e>0&&t.set("visible",!1)})))},e.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible"))for(var n=t[e].getBBox(),i=0;i<t.length;i++){if(i!==e&&t[i].get("visible"))if(Ka(n,t[i].getBBox()))return!0}return!1},e.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort((function(t,e){return e.getBBox().width-t.getBBox().width})),Math.round(e[0].getBBox().width)},e.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},e.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,i=e.maxX,r=e.minY;return{x:n+(i-n)/2,y:r+(e.maxY-r)/2}},e}(ts),Lc=jc;ns("point",jc);var Bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.layoutLabels=function(t,e){var n,i=this,r=[],o=Ya.fromBBoxObject(this.getCoordinateBBox()),a=t.getXYFields(),s=a[0],l=a[1],c=Object(I.groupBy)(e,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][s]})),h=null===(n=e[0])||void 0===n?void 0:n.get("offset");Object(I.each)(Object(I.keys)(c).reverse(),(function(e){for(var n=i.sortLabels(t,c[e]);n.length;){var a=n.shift();if(fl(a,r,(function(t,e){return t._origin[s]===e._origin[s]&&t._origin[l]===e._origin[l]})))a.set("visible",!1);else{gl(a,o);var u=void 0;vl(a,r)&&(a.attr("y",a.attr("y")+2*h),gl(a,o),u=vl(a,r)),u?a.set("visible",!1):r.push(a)}}}))},e.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],i=[];return e.sort((function(t,e){return e.get(La)[Sa.FIELD_ORIGIN][n]-t.get(La)[Sa.FIELD_ORIGIN][n]})),e.length>0&&i.push(e.shift()),e.length>0&&i.push(e.pop()),i.push.apply(i,e),i},e}(Lc),Nc=Bc;ns("point-auto",Bc);var Rc=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry().elements;Object(I.each)(e,(function(e){var n=t.getShapeInfo(e.shape),i=t.options,r=i.style,o=i.offsetX,a=i.offsetY,s=t.options.formatter,l=s?s(n.name):n.name;t.container.addShape("text",{attrs:Object(I.deepMix)({},{x:n.x+o,y:n.y+a,text:l,fill:n.color,textAlign:"left",textBaseline:"middle"},r),name:"label"})}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=Object(I.clone)(t.label.style);return delete e.fill,{offsetX:8,offsetY:0,style:e}},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"line"===t.type}))},t.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],i=t.attr("stroke"),r=this.plot.options.seriesField,o=t.get("origin").data[0][r];return{x:n.x,y:n.y,color:i,name:o}},t}(),Fc=Wa({line:"line",point:"point"});Object(I.assign)(Ga,Fc);var zc={stroke:"transparent",fill:"#FCC509",lineWidth:0},Vc={stroke:"#FFF",fill:"#FCC509",lineWidth:1},Gc={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},Hc=function(){function t(t){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:zc,selected:Gc,active:Vc},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=t.view,this.size=t.size||6,this.config=Object(I.deepMix)({},this.defaultCfg,t),this._init()}return t.prototype.render=function(){var t=this.getDataArray();this._renderPoints(t),this.view.canvas.draw(),this._addInteraction()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},t.prototype.getDataArray=function(){return this.view.geometries[0].dataArray},t.prototype._init=function(){var t=this,e=this.view.foregroundGroup;this.container=e.addGroup(),this.render(),this.view.on("beforerender",(function(){t.clear()}))},t.prototype._renderPoints=function(t){var e=this;Object(I.each)(this.config.data,(function(n,i){Object(I.each)(t,(function(t){var r=Object(I.find)(t,(function(t){return Object(I.isMatch)(t._origin,n)}));if(r){var o=e.config.style.normal,a=e.container.addGroup({name:e.name}),s=r.x,l=r.y;Object(I.isArray)(s)&&(s=s[0]),Object(I.isArray)(l)&&(l=l[0]);var c=e.config.symbol,h=e.config,u=h.offsetX,d=h.offsetY,p=void 0;if(Object(I.isString)(c)&&c.startsWith("image://")){var f=c.substr(8);p=a.addShape("image",{attrs:{x:s-e.size/2+u,y:l-e.size/2+d,img:f,width:e.size,height:e.size}})}else c=Object(I.isString)(c)?ka.MarkerSymbols[c]:c,p=a.addShape({type:"marker",name:"marker-point",id:"point-"+i,attrs:Object(ln.__assign)(Object(ln.__assign)({x:s+u,y:l+d,r:e.size/2},o),{symbol:c})});e.points.push(p),e._animatePoint(p),e._renderLabel(a,r,i),a.set("data",n),a.set("origin",r)}}))}))},t.prototype._renderLabel=function(t,e,n){var i=this.config.label;if(i&&i.visible){var r=i.offsetX,o=void 0===r?0:r,a=i.offsetY,s=void 0===a?0:a,l=i.formatter,c=i.position,h=i.field,u=e._origin[h];l&&(u=l(u,{_origin:e._origin},n));var d=Object(I.isArray)(e.x)?e.x[0]:e.x,p=Object(I.isArray)(e.y)?e.y[0]:e.y,f=t.addShape("text",{name:"marker-label",id:"label-"+n,attrs:Object(ln.__assign)(Object(ln.__assign)({x:d+o,y:p+s,text:u||""},i.style),{textAlign:"center",textBaseline:"top"===c?"bottom":"top"})});this.labels.push(f)}},t.prototype._addInteraction=function(){var t=this,e=this.config.events;Object(I.each)(e,(function(e,n){t.container.on(t.name+":"+n,(function(i){e(i);var r=i.target.get("parent").get("children")[0];if(r){var o=r.get("data"),a=r.get("id"),s={id:a,data:o};"click"===n?t.selectedPoint&&t.selectedPoint.get("id")===a?(t.selectedPoint=null,t.setState("inactive",s)):(t.selectedPoint=r,t.setState("selected",s)):"mouseenter"===n?t.setState("active",s):"mouseleave"===n&&t.setState("inactive",s)}t.view.canvas.draw()})),t.view.on("click",(function(e){var n=e.target.get("parent");(!n||n.get("name")!==t.name&&t.selectedPoint)&&(t.selectedPoint=null,t.setState("inactive"))}))}))},t.prototype.setState=function(t,e){var n=this;"active"===t?this.selectedPoint&&e.id===this.selectedPoint.get("id")||this._onActive(e):"inactive"===t?this.points.forEach((function(t){return n._onInactive(t)})):"selected"===t&&this._onSelected(e)},t.prototype._onActive=function(t){var e=this,n=this.config.style.active;Object(I.each)(this.points,(function(i){i.get("id")===t.id?Object(I.each)(n,(function(t,e){i.attr(e,t)})):e._onInactive(i)}))},t.prototype._onInactive=function(t){var e=this.config.style.normal;this.selectedPoint&&t.get("id")===this.selectedPoint.get("id")||Object(I.each)(e,(function(e,n){t.attr(n,e)}))},t.prototype._onSelected=function(t){var e=this,n=this.config.style.selected;Object(I.each)(this.points,(function(i){i.get("id")===t.id?Object(I.each)(n,(function(t,e){i.attr(e,t)})):e._onInactive(i)}))},t.prototype._animatePoint=function(t){var e=this.config,n=e.animation,i=e.size;if(!1!==n){var r=n,o=r.endState,a=void 0===o?{}:o,s=r.animateCfg,l=void 0===s?Ta.DEFAULT_ANIMATE_CFG.appear:s;t.animate(Object(ln.__assign)({r:Number.isNaN(a.size/2)?i/2:a.size/2},a),l)}},t}();Pl("line",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+1}},disable:function(t){return{opacity:.2*(t.shape.attr("opacity")||1)}},selected:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}});Ll("line",{label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}});var Wc=function(t){function e(e){return t.call(this,Object(ln.__assign)({processEvent:"mousemove"},e))||this}return Object(ln.__extends)(e,t),e.prototype.start=function(){},e.prototype.process=function(t){var e=Object(I.filter)(this.view.geometries,(function(t){return"line"==t.type}));if("line"===t.target.get("name")){var n=Object(I.get)(t,"data.data");Object(I.each)(e,(function(t){Object(I.each)(t.elements,(function(t){t.setState("active",t.data===n)}))}))}else Object(I.each)(e,(function(t){Object(I.each)(t.elements,(function(t){t.setState("active",!1)}))}))},e}(Ws),$c=function(t){function e(e){return t.call(this,Object(ln.__assign)({endEvent:"click"},e))||this}return Object(ln.__extends)(e,t),e.prototype.start=function(){},e.prototype.end=function(t){var e=t.target,n=Object(I.filter)(this.view.geometries,(function(t){return"line"==t.type}));if("line"===e.get("name")){var i=Object(I.get)(t,"data.data");Object(I.each)(n,(function(t){Object(I.each)(t.elements,(function(t){t.setState("inactive",t.data!==i)}))}))}else Object(I.each)(n,(function(t){Object(I.each)(t.elements,(function(t){t.setState("inactive",!1)}))}))},e}(Ws);We("selected-tooltip",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipCfg=function(){var e=t.prototype.getTooltipCfg.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},e}(Ma.a));var Yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.show=function(){var t=this.getPoint();Object(I.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},e.prototype.hide=function(){this.getTooltipController().hideTooltip()},e.prototype.showTooltip=function(t){this.getTooltipController().showTooltip(t)},e.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},e.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],i=t.getCoordinate(),r=Object(I.last)(e.getTicks()).value;return i.convert({x:r,y:(n.range[0]+n.range[1])/2})},e.prototype.getView=function(){return this.context.view},e.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},e}(bt);We("tooltip-active",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),e.prototype.getTooltipCfg=function(){var e=t.prototype.getTooltipCfg.call(this);return Object(ln.__assign)(Object(ln.__assign)({},e),{showCrosshairs:!0,showMarkers:!1,shared:!0})},e}(Ma.a));var Xc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.init=function(){this.getView().removeInteraction("tooltip")},e.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},e.prototype.hide=function(){var t=this.getView();this.getTooltipController().hideTooltip();var e=Object(I.filter)(t.geometries,(function(t){return"point"==t.type}));Object(I.each)(e,(function(t){Object(I.each)(t.elements,(function(t){t.setState("active",!1)}))}))},e.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var i=n.getTooltipItems(t),r=Object(I.filter)(e.geometries,(function(t){return"point"==t.type}));Object(I.each)(r,(function(t){Object(I.each)(t.elements,(function(t){t.setState("active",-1!==Object(I.findIndex)(i,(function(e){return e.data===t.data})))}))}))},e.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},e.prototype.getView=function(){return this.context.view},e.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},e}(bt);_t("selected-tooltip",Yc),Se("selected-tooltip",{start:[{trigger:Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),_t("marker-active",Xc),Se("marker-active",{start:[{trigger:Sa.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var qc={line:"line",point:"point"},Uc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.markerPoints=[],e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},e.prototype.afterRender=function(){var e=this,n=this.options;this.renderLabel(),n.markerPoints&&(Object(I.each)(this.markerPoints,(function(t){return t.destroy()})),this.markerPoints=[],n.markerPoints.forEach((function(t){if(t.visible){var n=new Hc(Object(ln.__assign)(Object(ln.__assign)({},t),{view:e.view}));e.markerPoints.push(n)}}))),n.responsive&&"auto"!==n.padding&&this.applyResponsive("afterRender"),t.prototype.afterRender.call(this)},e.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,e){return qc[e]},e.prototype.scale=function(){var e,n,i,r,o,a=this.options,s={};s[a.xField]={},Object(I.has)(a,"xAxis")&&hc(s[a.xField],a.xAxis),s[a.yField]={},Object(I.has)(a,"yAxis")&&hc(s[a.yField],a.yAxis),this.setConfig("scales",s),e=s[a.yField],n=Object(I.map)(a.data||[],(function(t){return t[a.yField]})),i=Object(I.filter)(n,(function(t){return Object(I.isNumber)(t)})),r=Math.min.apply(Math,i),o=Math.max.apply(Math,i),r>0?Object(I.isNil)(e.min)&&(e.min=0):o<0&&Object(I.isNil)(e.max)&&(e.max=0),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.tooltip=function(){Object(I.some)(this.options.markerPoints,(function(t){return t.visible}))&&(this.options.tooltip.showMarkers=!1),t.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){this.addLine(),this.addPoint()},e.prototype.addLine=function(){var t=this.options;this.line=cc("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},e.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=Object(I.deepMix)({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=cc("point","guide",{plot:this}),this.setConfig("geometry",this.point))},e.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,i=t[e.yField];if(n.visible){var r=dl(this.view,"line");if("line"===n.type)new Rc(Object(ln.__assign)({view:this.view,plot:this},this.options.label)).render();else this.doRenderLabel(r,Object(ln.__assign)({type:"point",formatter:i.formatter&&function(t){return i.formatter(t)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},e.prototype.animation=function(){t.prototype.animation.call(this);var e,n=this.options;n.animation?(e={options:this.options,view:this.view},ac=e,this.line.animate=n.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},e.prototype.applyInteractions=function(){t.prototype.applyInteractions.call(this),this.interactions.push(new Wc({view:this.view})),this.interactions.push(new $c({view:this.view}))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,o)},e.prototype.applyResponsive=function(t){var e=this,n=Ec[t];Object(I.each)(n,(function(t){t.method(e)}))},e.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&"line"===this.options.label.type},e}(Fl),Zc=Uc;Wl("line",Uc);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="line",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Zc.getDefaultOptions}($l);function Kc(t,e,n,i,r){var o=i-e,a=t.children,s=t.value;a.sort((function(t,e){return e.value-t.value}));var l=o/s,c=e;Object(I.each)(a,(function(t){t.y0=n,t.y1=r,t.x0=c,c+=t.value*l,t.x1=t.x0+t.value*l}))}function Jc(t,e,n,i,r){var o=r-n,a=t.children,s=t.value;a.sort((function(t,e){return e.value-t.value}));var l=o/s,c=n;Object(I.each)(a,(function(t){t.x0=e,t.x1=i,t.y0=c,c+=t.value*l,t.y1=t.y0+t.value*l}))}var Qc=(1+Math.sqrt(5))/2;function th(t,e,n,i,r){var o=t.children,a=t.value;o.sort((function(t,e){return e.value-t.value}));for(var s,l,c,h,u,d,p,f,g=[],m=0,v=0;m<o.length;){var y=i-e,x=r-n;for(l=s=o[v++].value,c=s,u=s*s*(h=Math.max(x/y,y/x)/(a*Qc)),p=Math.max(l/u,u/c);v<o.length;v++){if((f=o[v].value)<c&&(c=f),f>l&&(l=f),u=(s+=f)*s*h,(d=Math.max(l/u,u/c))>p){s-=f;break}p=d}var b={value:s,dice:y<x,children:o.slice(m,v)};if(g.push(b),b.dice){var w=a?x*s/a:x;Kc(b,e,n,i,n+w),a&&(n+=w)}else{var C=a?y*s/a:y;Jc(b,e,n,e+C,r),a&&(e+=C)}a-=s,m=v}return g}var eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listeners=[],e.onItemGroupToggleActive=function(t,n){return function(){var i=t.get("children").find((function(t){return"item-background"===t.get("class")}));i&&i.attr(n?e.itemActiveBackgroundStyle:e.itemBackgroundStyle),e.getCanvas().draw()}},e}return Object(ln.__extends)(e,t),e.prototype.destroy=function(){this.offEvents(),t.prototype.destroy.call(this)},e.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=Object(ln.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=Object(ln.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=Object(ln.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=Object(ln.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=Object(ln.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},e.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),nl(this.group,this.x,this.y)},e.prototype.renderItems=function(t,e,n){var i,r=this,o=this.itemPadding,a=o[0],s=o[1],l=o[2],c=o[3],h=t.addShape("rect",{class:"breadcrumb-background",attrs:Object(ln.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach((function(o,h){var u=t.addGroup({id:"item-group-"+o.key,data:o,class:"item-group",attrs:{cursor:"pointer"}}),d=u.addShape("rect",{id:"item-background-"+o.key,class:"item-background",attrs:Object(ln.__assign)(Object(ln.__assign)({x:e,y:n,width:c+s,height:a+l},r.itemBackgroundStyle),{cursor:"pointer"})});d.name="breadcrumb";var p=u.addShape("text",{id:"item-text-"+o.key,class:"item-text",attrs:Object(ln.__assign)(Object(ln.__assign)({x:e+c,y:n+a,text:o.text},r.textStyle),{cursor:"pointer"})});p.name="breadcrumb";var f=p.getBBox();i=r.itemHeight||f.height;var g=r.itemWidth||f.width;r.maxItemWidth&&(g=Math.min(g,r.maxItemWidth));var m={x:e,y:n,width:g+c+s,height:i+a+l};if(d.attr("width",m.width),d.attr("height",m.height),u.setClip({type:"rect",attrs:m}),e+=m.width,h!==r.items.length-1){var v=t.addShape("text",{attrs:Object(ln.__assign)({x:e,y:n+a,text:r.separator},r.separatorStyle),class:"separator"});e+=v.getBBox().width}})),h.attr({width:e,height:i+a+l})},e.prototype.bindEvents=function(t){var e=this,n=this.items,i=t.get("children").filter((function(t){return"item-group"===t.get("class")})),r=function(t,i,r){return function(){var t=i.get("data"),o=n.find((function(e){return e.key===t}));e.emit(r,{item:o})}};i.forEach((function(t){var n=r(0,t,"onItemClick"),i=r(0,t,"onItemDblclick"),o=e.onItemGroupToggleActive(t,!0),a=e.onItemGroupToggleActive(t,!1);t.on("click",n),t.on("dblclick",i),t.on("mouseenter",o),t.on("mouseleave",a),e.listeners.push({target:t,event:"click",callback:n}),e.listeners.push({target:t,event:"dblclick",callback:i}),e.listeners.push({target:t,event:"mouseenter",callback:o}),e.listeners.push({target:t,event:"mouseleave",callback:a})}))},e.prototype.offEvents=function(){this.listeners&&this.listeners.forEach((function(t){var e=t.target,n=t.event,i=t.callback;e.off(n,i)})),this.listeners=[]},e}(Qa),nh=[1,0,0,0,1,0,0,0,1];function ih(t,e,n){var i=sh(t),r=ah(e),o=r.width/i.width,a=r.height/i.height,s=el([["s",o,a],["t",(r.minX-i.minX)*o,(r.minY-i.minY)*a]]),l=e.geometries[0];lh(l);var c=e.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:r.minX,y:r.minY,width:r.width,height:r.height}});var h=rh(l,c);l.container.set("visible",!1),e.canvas.draw(),n(),window.setTimeout((function(){Object(I.each)(h,(function(t,n){0===n?t.animate({matrix:s},400,"easeQuadInOut",(function(){c.remove(),e.canvas.draw()})):t.animate(el,400)})),lh(l=e.geometries[0]);var t=l.getShapes();Object(I.each)(t,(function(t){t.attr("opacity",0),t.animate({opacity:1},400,"easeQuadInOut")}));var n=l.container;n.stopAnimate(),n.set("visible",!0),n.attr("matrix",Object(I.clone)(nh)),function(t,e){var n=lt.ext.transform([1,0,0,0,1,0,0,0,1],e);t.setMatrix(n)}(n,[["s",i.width/r.width,i.height/r.height],["t",i.minX,i.minY]]);var o=Object(I.clone)(nh);l.container.animate({matrix:o},400,"easeQuadInOut",(function(){ch(l)})),e.canvas.draw()}),16)}function rh(t,e){var n=t.getShapes(),i=[];return Object(I.each)(n,(function(t){var n=e.addShape("path",{attrs:Object(I.deepMix)({},t.attrs,{capture:!1})});i.push(n)})),i}function oh(t,e,n){var i=e.geometries[0];lh(i);var r=i.container;r.attr("matrix",Object(I.clone)(nh));var o=e.backgroundGroup.addGroup();o.set("zIndex",-100);var a=rh(i,o);r.set("visible",!1),e.canvas.draw(),n(),lh(i=e.geometries[0]),r=i.container;var s=sh(function(t,e){var n;return Object(I.each)(t,(function(t){t.get("origin").data.name===e&&(n=t)})),n}(i.getShapes(),t)),l=ah(e);r.get("parent").get("clipShape")||r.setClip({type:"rect",attrs:{x:l.minX,y:l.minY,width:l.width,height:l.height}}),function(t,e,n,i){var r=n.width/i.width,o=n.height/i.height,a=el([["s",r,o],["t",n.minX,n.minY]]);t.animate({matrix:a},400,"easeQuadInOut",(function(){t.remove()})),Object(I.each)(e,(function(t){t.animate({opacity:0},400,"easeQuadInOut")}))}(o,a,s,l);var c=l.width/s.width,h=l.height/s.height,u=el([["s",c,h],["t",(l.minX-s.minX)*c,(l.minY-s.minY)*h]]);r.setMatrix(u),r.set("visible",!0),r.animate({matrix:nh},400,"easeQuadInOut",(function(){ch(i)}))}function ah(t){var e=t.coordinateBBox;return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function sh(t){var e=t.attr("path"),n=e[0][1],i=e[0][2],r=e[1][1],o=e[2][2];return{minX:n,minY:o,centerX:(r-n)/2,centerY:(i-o)/2,width:Math.abs(r-n),height:Math.abs(i-o)}}function lh(t){t.labelsContainer.set("visible",!1)}function ch(t){t.labelsContainer.set("visible",!0)}var hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.getInteractionRange=function(t,e){var n,i=(void 0===(n=e)&&(n={}),Object(ln.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},n)),r=i.padding,o=r[0],a=r[1];if(t)return new Ya(t.minX,t.maxY-i.itemHeight-o-a,t.width,i.itemHeight+o+a)},e.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:Object(I.clone)(this.currentNode.name),value:Object(I.clone)(this.currentNode.value)},depth:Object(I.clone)(this.currentDepth)},this.currentDepth++,ih(t.target,this.view,(function(){e.update(n)})))},e.prototype.update=function(t){Object(I.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},e.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=Object(I.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+10,this.breadcrumb=new eh({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},e.prototype.clear=function(){},e.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},e.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),Object(I.each)(n,(function(e,n){t.push({key:String(n+2),text:e.name,data:e})})),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},e.prototype.findParent=function(t,e){t.parent&&(Object(I.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},e.prototype.onInteraction=function(){var t=this;this.container.on("click",(function(e){var n=e.target.get("parent");if(n&&"item-group"===n.get("class")){var i=n.get("data");if(i.data)if(i.text===t.startNodeName){t.currentDepth-1==1?oh(t.currentNode.name,t.view,(function(){t.updateRoot(i)})):t.updateRoot(i),t.currentDepth=1}else{if(t.currentNode===i.data)return;var r=Object(I.clone)(t.currentDepth);t.currentDepth=parseInt(i.key),r-1===t.currentDepth?oh(t.currentNode.name,t.view,(function(){t.update(i.data)})):t.update(i.data)}}}))},e.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:Object(I.hasKey)(t,"name")?t.name:"root",data:this.plot.rootData}},e.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},e.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&Object(I.hasKey)(this.mapping,String(t))){if((i=Object(I.clone)(this.mapping[t])).values&&Object(I.isFunction)(i.values)){var n=i.values(this.parentNode,this.currentNode);i.values=n}this.view.geometries[0].color(i.field,i.values)}else{var i=Object(I.clone)(this.originMapping);this.view.geometries[0].color(i.field,i.values)}e.render()},e.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox;this.geometry.container.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},e.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},e}($s),uh=hh;$s.registerInteraction("drilldown",hh);var dh={drilldown:uh},ph=Wa({rect:"polygon",breadcrumb:"breadcrumb"});Object(I.assign)(Ga,ph);function fh(t,e,n,i){for(var r=i.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),o=r.getBBox().width,a=i.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=n-o,c=0;c<t.length;c++){var h=t[c];if(a.attr("text",s+=h),a.getBBox().width>=l){var u=s.substr(0,s.length-1);if(u.length>0)return u+"..."}}return a.remove(),r.remove(),s}var gh=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry().elements;Object(I.each)(e,(function(e){var n=e.shape,i=n.get("origin").data,r=function(t,e){return!t.children||t.depth>=e}(i,t.plot.options.maxLevel);if(i.showLabel){var o=Object(I.clone)(t.options.style),a=t.getPosition(n,r),s=t.options.formatter,l=s?s(i.name):i.name,c=t.getTextBaseLine(r),h=t.container.addShape("text",{attrs:Object(I.deepMix)({},o,{x:a.x,y:a.y,text:l,fill:"black",textAlign:"center",textBaseline:c,fontWeight:r?300:600}),name:"label"});t.adjustLabel(h,n,r)}}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getPosition=function(t,e){var n=t.getBBox(),i=0,r=0;return e?(i=n.minX+n.width/2,r=n.minY+n.height/2):(i=n.x+n.width/2,r=n.y+4),{x:i,y:r}},t.prototype.getTextBaseLine=function(t){return t?"middle":"top"},t.prototype.adjustLabel=function(t,e,n){n?this.adjustLeafLabel(t,e):this.adjustParentLabel(t,e)},t.prototype.adjustLeafLabel=function(t,e){var n=e.getBBox(),i=t.getBBox(),r=Object(I.clone)(t.attr("text")),o=Math.max(t.attr("fontSize")-2,8),a=n.x+n.width/2,s=n.y+n.height/2;t.attr({x:a,y:s,textAlign:"center",textBaseline:"middle",lineHeight:o,fontSize:o});var l=n.width-8;if(i.width>n.width&&i.height>n.height)t.attr("text","");else if(l<o)t.attr("text","");else if(i.width>n.width){var c=function(t,e,n){var i=t.attr("fontSize"),r=t.attr("text"),o=n.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:i}}),a=r.split("\n").map((function(t){for(var n="",i=t.split(""),r=[],a=0;a<i.length;a++){var s=i[a];if(o.attr("text",n+=s),o.getBBox().width-1>e){if(0===a)break;r.push(a),n=""}}return Ua(i,r)}));return o.remove(),a.join("\n")}(t,l,this.container);if(t.attr({lineHeight:t.attr("fontSize"),text:c}),t.getBBox().height>n.height){var h=fh(r,o,l,this.container);t.attr("text",h)}}},t.prototype.adjustParentLabel=function(t,e){var n=e.getBBox().width-8;if(t.getBBox().width>n){var i=fh(t.attr("text"),t.attr("fontSize"),n,this.container);t.attr("text",i)}},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(I.clone)(t)}},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"polygon"===t.type}))},t}(),mh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="treemap",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},e.prototype.beforeInit=function(){var e=this;t.prototype.beforeInit.call(this);var n=this.options.interactions;n&&Object(I.each)(n,(function(t){"drilldown"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)}));var i=this.options.data,r=this.getTreemapData(i);this.rootData=r},e.prototype.afterRender=function(){(t.prototype.afterRender.call(this),this.options.label&&this.options.label.visible)&&new gh(Object(ln.__assign)({view:this.view,plot:this},this.options.label)).render()},e.prototype.geometryParser=function(){return"polygon"},e.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),i=th(t,n.x,n.y,n.width,n.height);this.recursive(i,1);var r=[];return this.getAllNodes(i,r,e),r.sort((function(t,e){return t.depth-e.depth})),this.options.xField="x",this.options.yField="y",r},e.prototype.processData=function(){return this.rootData},e.prototype.coord=function(){},e.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,i=e.colorField,r=e.color,o=this.getTreemapData(n);this.rootData=o;var a=this.isNested(o);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[i],values:r},style:{fields:["depth"],callback:function(e){var n=t.adjustStyleByDepth(e,a);return Object(I.deepMix)({},n,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},e.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;Object(I.each)(e,(function(e){var i=dh[e.type];if(i){var r=new i(Object(I.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},e.cfg,i.getInteractionRange(t.layerBBox,e.cfg)));n[e.type]=r}}))},e.prototype.animation=function(){t.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,a)},e.prototype.recursive=function(t,e){var n=this,i=this.options.colorField;Object(I.each)(t,(function(t){Object(I.each)(t.children,(function(r){if(r.depth=e,e>1&&(r.parent=t),Object(I.hasKey)(r,i)||(r[i]=t[i]),r.showLabel=!0,!n.isLeaf(r)){var o=Math.abs(r.y1-r.y0),a=n.getLabelHeight(),s=o/2>a?a:4;r.showLabel=4!==s;var l=th(r,r.x0+4,r.y0+s,r.x1-4,r.y1-4);n.fillColorField(l,i,r[i]),n.recursive(l,r.depth+1)}}))}))},e.prototype.getAllNodes=function(t,e,n){var i=this,r=n||this.options.maxLevel,o=this.getViewRange();Object(I.each)(t,(function(t){Object(I.hasKey)(t,"x0")&&t.depth<=r&&e.push(Object(ln.__assign)(Object(ln.__assign)({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[o.height-t.y1,o.height-t.y1,o.height-t.y0,o.height-t.y0]})),Object(I.hasKey)(t,"children")&&i.getAllNodes(t.children,e)}))},e.prototype.fillColorField=function(t,e,n){Object(I.each)(t,(function(t){Object(I.hasKey)(t,e)||(t[e]=n)}))},e.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var i=t.style;n=i&&i.fontSize?i.fontSize:e}return n+8},e.prototype.isLeaf=function(t){return!t.children||0===t.children.length},e.prototype.isNested=function(t){if(1===this.options.maxLevel)return!1;for(var e=!1,n=0;n<t.length;n++)if(t[n].children){e=!0;break}return e},e.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?1===t?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},e}(Fl),vh=mh;Wl("treemap",mh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="treemap",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=vh.getDefaultOptions}($l);var yh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="step-line",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{step:"hv"})},e}(Zc);Wl("step-line",yh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="step-line",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=yh.getDefaultOptions}($l);function xh(t,e){var n=[],i=t.get("origin").points;return Object(I.each)(i,(function(t){n.push(e.convertPoint(t))})),n}var bh=function(){function t(t){Object(I.deepMix)(this,this.constructor.getDefaultOptions(t),t),this._init()}return t.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}},animation:Object(I.deepMix)({},Ta.DEFAULT_ANIMATE_CFG)}},t.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",(function(){t.clear()}))},t.prototype.draw=function(){var t,e,n,i,r=this,o=this.transpose,a=this.view.getScaleByField(this.field).values,s=this.view.geometries[0].getShapes();o?s.forEach((function(t,o){e=a[o],o++>0&&r._drawTag(n,i,t,e),i=e,n=t})):s.forEach((function(n,o){i=a[o],o++>0&&r._drawTag(n,i,t,e),e=i,t=n}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype._drawTag=function(t,e,n,i){var r=this.transpose,o=this.view.geometries[0].coordinate,a=xh(t,o)[r?3:0],s=xh(n,o)[r?0:3];this._drawTagArrow(a,s),this._drawTagValue(a,e,s,i)},t.prototype._drawTagArrow=function(t,e){var n,i=this.spacing,r=this.size,o=this.offset,a=this.animation,s=this.transpose,l=this.arrow.headSize,c=e.y-t.y,h=e.x-t.x;s?(h-l)/2<i?(i=Math.max(1,(h-l)/2),n=[[t.x+i,t.y-o],[t.x+i,t.y-o-r],[e.x-i,e.y-o-r/2]]):n=[[t.x+i,t.y-o],[t.x+i,t.y-o-r],[e.x-i-l,e.y-o-r],[e.x-i,e.y-o-r/2],[e.x-i-l,e.y-o]]:(c-l)/2<i?(i=Math.max(1,(c-l)/2),n=[[t.x+o,t.y+i],[t.x+o+r,t.y+i],[e.x+o+r/2,e.y-i]]):n=[[t.x+o,t.y+i],[t.x+o+r,t.y+i],[e.x+o+r,e.y-i-l],[e.x+o+r/2,e.y-i],[e.x+o,e.y-i-l]];var u=this.container.addShape("polygon",{name:"arrow",attrs:Object(ln.__assign)(Object(ln.__assign)({},this.arrow.style),{points:n})});!1!==a&&this._fadeInTagShape(u)},t.prototype._drawTagValue=function(t,e,n,i){var r=this.size,o=this.offset,a=this.animation,s=this.transpose,l=this.value.formatter(e,i),c=this.container.addShape("text",{name:"value",attrs:Object(ln.__assign)(Object(ln.__assign)({},this.value.style),{text:l,x:s?(t.x+n.x)/2:t.x+o+r/2,y:s?t.y-o-r/2:(t.y+n.y)/2,textAlign:"center",textBaseline:"middle"})});if(s){var h=n.x-t.x,u=c.getBBox().width;if(u>h){var d=u/l.length,p=Math.max(1,Math.ceil(h/d)-1),f=l.slice(0,p)+"...";c.attr("text",f)}}!1!==a&&this._fadeInTagShape(c)},t.prototype._fadeInTagShape=function(t){var e=this.animation,n=t.attr("opacity");t.attr("opacity",0);var i=Object(I.get)(e,"appear",Ta.DEFAULT_ANIMATE_CFG.appear).duration;t.animate({opacity:n},i)},t}();var wh={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new Dc({plot:t,responsiveTheme:e,dim:"x"}),new Dc({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}}]},Ch={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}};function _h(t){var e=0===t.indexOf("#")?t.substr(1):t,n=[];return n.push(parseInt(e.substr(0,2),16)),n.push(parseInt(e.substr(2,2),16)),n.push(parseInt(e.substr(4,2),16)),n}function Sh(t,e){var n;return Object(I.each)(t,(function(t){var i=t;e>=i.from&&e<i.to&&(n=i.color)})),n}Pl("bar",Ch);var Oh=function(t){var e=_h(t);return(299*e[0]+587*e[1]+114*e[2])/1e3<128},Mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getLabelItemAttrs=function(t,e){var n,i=this.options,r=i.style,o=i.formatter,a=[].concat(t.getModel().mappingData),s=this.getValue(t);return Object(I.deepMix)({},r,Object(ln.__assign)(Object(ln.__assign)({},this.getPosition(t)),{text:o?o(s,(n={},n._origin=a[0]._origin,n.mappingDatum=a[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):s,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},e.prototype.adjustLabel=function(t,e){var n=this.options,i=n.adjustPosition,r=n.style;if(i){var o=this.getDefaultOffset(),a=t.getBBox(),s=this.getElementShapeBBox(e);if(s.width<=a.width){var l=s.maxX+this.options.offsetX+o;t.attr("x",l),t.attr("fill",r.fill)}}},e.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return Object(ln.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},e)},e.prototype.getValue=function(t){return Object(I.get)(t.getData(),this.layer.options.xField)},e.prototype.getPosition=function(t){var e,n=this.getDefaultOffset(),i=this.getValue(t),r=this.getElementShapeBBox(t),o=r.minX,a=r.maxX,s=r.minY,l=r.height,c=r.width,h=this.options,u=h.offsetX,d=h.offsetY,p=h.position,f=i<0?-1:1;if("left"===p)e=(i>0?o:a)+n*f+u;else if("right"===p){e=(i>0?a:o)+n*f+u}else e=o+c/2+u;return{x:e,y:s+l/2+d}},e.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"right"!==this.options.position){var n=e.attr("fill"),i=e.attr("opacity")?e.attr("opacity"):1,r=_h(n);return Sh([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i)}return this.options.style.fill},e.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,i=n.position,r=n.adjustColor;return"right"!==i&&r&&"black"!==e?null:void 0},e.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position;return e<0?{right:"right",left:"right",middle:"center"}[n]:{right:"left",left:"left",middle:"center"}[n]},e.prototype.getTextBaseline=function(){return"middle"},e.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,i=[];Object(I.each)(n.get("origin").points,(function(t){i.push(e.coord.convertPoint(t))}));var r=i.map((function(t){return t.x})),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),s=i.map((function(t){return t.y})),l=Math.min.apply(Math,s),c=Math.max.apply(Math,s);return new Ya(o,l,a-o,c-l)},e.prototype.getLabelOffset=function(){return{x:0,y:0}},e}(ts),kh=Mh;ns("bar",Mh);var Ah=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),i=this.getElementShapeBBox(t),r=i.minX,o=i.maxX,a=i.minY,s=i.height,l=this.options;return{x:(n>0?o:r)+e*(n<0?-1:1)+l.offsetX,y:a+s/2+l.offsetY}},e.prototype.getTextAlign=function(t){return this.getValue(t)>0?"left":"right"},e.prototype.getTextFill=function(t){return this.options.style.fill},e.prototype.getTextStroke=function(t){},e.prototype.adjustLabel=function(t,e){},e.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},e.prototype.shouldInShapeLabels=function(t){var e=this;return Object(I.every)(t,(function(t){var n=t.getBBox(),i=t.get("element");return e.getElementShapeBBox(i).height>=n.height}))},e.prototype.inShapeLabels=function(t,e){var n=this,i=this.getCoordinateBBox(),r=t.getXYFields()[0],o=this.options,a=o.darkStyle,s=o.lightStyle,l=Object(I.groupBy)(e,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][r]}));Object(I.each)(e,(function(t){var e=l[t.get(La)[Sa.FIELD_ORIGIN][r]]||[],o=t.get("element"),c=o.shape,h=Oh(c.attr("fill")),u=n.getElementShapeBBox(o),d=Ya.fromBBoxObject(t.getBBox());(ml(i,u)<=0&&t.set("visible",!1),d.width>u.width)?Object(I.findIndex)(e,(function(e){return e===t}))!==e.length-1&&t.set("visible",!1):(t.attr({x:u.x+u.width/2,textAlign:"center"}),d.width>u.width||d.height>u.height?t.attr({stroke:null==s?void 0:s.stroke}):t.attr({fill:h?null==s?void 0:s.fill:null==a?void 0:a.fill,fillOpacity:h?null==s?void 0:s.fillOpacity:null==a?void 0:a.fillOpacity,stroke:void 0}))}))},e.prototype.autoHideLabels=function(t,e){var n,i=this.getCoordinateBBox(),r=this.filterLabels(e),o=t.getXYFields()[0],a=[],s=[],l=Object(I.groupBy)(r,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][o]})),c=Object(I.uniq)(Object(I.map)(r,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][o]})));for(Object(I.size)(c)>0&&(n=c.shift(),Object(I.each)(l[n],(function(t){return s.push(t)}))),Object(I.size)(c)>0&&(n=c.pop(),Object(I.each)(l[n],(function(t){return s.push(t)}))),Object(I.each)(c.reverse(),(function(t){Object(I.each)(l[t],(function(t){return s.push(t)}))}));s.length>0;){var h=s.shift();h.get("visible")&&(gl(h,i),vl(h,a)?h.set("visible",!1):a.push(h))}},e.prototype.filterLabels=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return Object(I.each)(t,(function(t,i){i%n==0?e.push(t):t.set("visible",!1)})),e},e}(kh),Th=Ah;ns("bar-auto",Ah);var Dh=Wa({bar:"interval"});Object(I.assign)(Ga,Dh);var Ph={bar:"interval"},Ih={interval:"bar"},Eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this);var e=this.options;e.responsive&&"auto"!==e.padding&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){var e=this.options;this.renderLabel(),e.responsive&&"auto"!==e.padding&&this.applyResponsive("afterRender"),e.conversionTag.visible&&(this.conversionTag=new bh(Object(ln.__assign)({view:this.view,field:e.xField,animation:!1!==e.animation},e.conversionTag))),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return"g2"===t?Ph[e]:Ih[e]},e.prototype.processData=function(t){var e=t?t.slice().reverse():t,n=this.options.yField,i=[];return Object(I.each)(e,(function(t){var e=Object(I.clone)(t);e[n]=e[n].toString(),i.push(e)})),i},e.prototype.scale=function(){var e=this.options,n={};n[e.yField]={type:"cat"},Object(I.has)(e,"yAxis")&&hc(n[e.yField],e.yAxis),n[e.xField]={},Object(I.has)(e,"xAxis")&&hc(n[e.xField],e.xAxis),this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.axis=function(){var t=Vs("axis",{plot:this,dim:"x"}),e=Vs("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},e.prototype.adjustBar=function(t){return null},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",Object(I.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,s)},e.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,i=t[e.xField];if(null==n?void 0:n.visible){var r=dl(this.view,"interval");this.doRenderLabel(r,Object(ln.__assign)({type:"bar",formatter:i.formatter&&function(t){return i.formatter(t)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},e.prototype.applyResponsive=function(t){var e=this,n=wh[t];Object(I.each)(n,(function(t){t.method(e)}))},e.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0}:"left"===t?{offset:7,style:{stroke:null,lineWidth:0}}:"right"===t?{offset:4}:void 0},e}(Fl),jh=Eh;Wl("bar",Eh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="bar",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=jh.getDefaultOptions}($l);Pl("stackedBar",Ch);var Lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox();this.getElementShapeBBox(e).maxX<=n.maxX&&t.set("visible",!1)}},e}(kh);ns("stacked-bar",Lh);var Bh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.shouldInShapeLabels=function(t){return!0},e}(Th);ns("stacked-bar-auto",Bh);var Nh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stackedBar",e.baseType="bar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},e.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,i=t[e.xField];if(null==n?void 0:n.visible){var r=dl(this.view,"interval");this.doRenderLabel(r,Object(ln.__assign)({type:"stacked-bar",formatter:i.formatter&&function(t){return i.formatter(t)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e}(jh),Rh=Nh;Wl("stackedBar",Nh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedBar",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Rh.getDefaultOptions}($l);Pl("groupedBar",Ch);var Fh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="groupedBar",e.baseType="bar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=Object(I.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",(function(t){var n=t.items,i=void 0===n?[]:n;Object(I.sortBy)(i.slice(),(function(t){return e.indexOf(t.name)})).reverse().forEach((function(e,n){t.items[n]=e}))}))},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.scale=function(){var e={};e[this.options.groupField]={values:Object(I.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=Object(I.deepMix)({},this.options.meta,e):this.options.meta=e,t.prototype.scale.call(this)},e.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},e}(jh),zh=Fh;Wl("groupedBar",Fh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="groupedBar",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=zh.getDefaultOptions}($l);var Vh=function(t,e,n){var i=Object(I.groupBy)(t,e);i=Object(I.mapValues)(i,(function(t){return Object(I.map)(t,(function(t){return Object(I.map)(n,(function(e){return t[e]}))}))})),i=Object(I.mapValues)(i,I.flatten),i=Object(I.mapValues)(i,(function(t){return Object(I.map)(t,(function(t){var e=Number.parseFloat(t);return!Object(I.isNumber)(e)||isNaN(e)?0:e}))}));var r=Object(I.mapValues)(i,(function(t){return Object(I.reduce)(t,(function(t,e){return t+e}),0)})),o=Object(I.map)(t,(function(t){var i=Object(ln.__assign)(Object(ln.__assign)({},t),{_origin:t,total:r[t[e]]});return Object(I.each)(n,(function(n){i[n]=t[n]/(r[t[e]]||1)})),i}));return Object(I.each)(Object(I.groupBy)(o,e),(function(t){var e=0;Object(I.each)(t,(function(i,r){Object(I.each)(n,(function(o,a){(e+i[o]>=1||r===t.length-1&&a===n.length-1&&e>0)&&(i[o]=1-e),e+=i[o]}))}))})),o},Gh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="percentStackedBar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,"")}}}})},e.prototype.processData=function(e){var n=this.options,i=n.xField,r=n.yField,o=t.prototype.processData.call(this,e);return Vh(o,r,[i])},e.prototype.scale=function(){var e={},n=this.options.xField;e[n]={tickCount:6,alias:n+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=Object(I.deepMix)({},this.options.meta,e),t.prototype.scale.call(this)},e}(Rh),Hh=Gh;Wl("percentStackedBar",Gh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="percentStackedBar",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Hh.getDefaultOptions}($l);var Wh,$h=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),n=e.elements,i=e.coordinate;this.coord=i,Object(I.each)(n,(function(e){var n=e.shape,i=t.getPosition(n),r=t.getValue(n),o=t.getTextAlign(),a=[];Object(I.each)(i,(function(e,i){var s=0===i?t.options.leftStyle:t.options.rightStyle,l=t.getTextColor(n,i);"inner"===t.options.position&&t.options.adjustColor&&"black"!==l&&(s.stroke=null);var c=t.options.formatter,h=c?c(r[i]):r[i],u=t.container.addShape("text",{attrs:Object(I.deepMix)({},s,{x:e.x,y:e.y,text:h,fill:l,textAlign:o[i],textBaseline:"middle"}),name:"label"});a.push(u),t.doAnimation(u)})),n.set("labelShapes",a),t.adjustPosition(a[0],a[1],n)})),this.plot.canvas.draw()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getShapeBbox=function(t){var e=this,n=[];return Object(I.each)(t.get("origin").points,(function(t){n.push(e.coord.convertPoint(t))})),new Ya(n[0].x,n[1].y,Math.abs(n[2].x-n[0].x),Math.abs(n[0].y-n[1].y))},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:8,offsetY:0,style:Object(I.clone)(t),adjustColor:!0,adjustPosition:!0}},t.prototype.getPosition=function(t){var e,n,i=this.getShapeBbox(t),r=i.minX,o=i.maxX,a=i.minY,s=i.height,l=this.options,c=l.offsetX,h=a+s/2+l.offsetY;return"outer"===this.options.position?(e=r-c,n=o+c):(e=r+c,n=o-c),[{x:e,y:h},{x:n,y:h}]},t.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin").data[e]},t.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},t.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var n=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,r=_h(n);return function(t,e){var n;return Object(I.each)(t,(function(t){var i=t;e>=i.from&&e<i.to&&(n=i.color)})),n}([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i)}return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},t.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},t.prototype.adjustPosition=function(t,e,n){var i=n.get("origin"),r=i.x[0],o=i.x[1],a=Math.abs(o-r),s=this.view.coordinateBBox,l=[t.getBBox(),e.getBBox()],c=t.attr("x"),h=e.attr("x");if(this.options.adjustPosition&&"inner"===this.options.position){var u=l[0].width+l[1].width;(l[0].maxX-l[1].minX>2||u>a)&&(c=r-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),l[0]=t.getBBox(),h=o+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),l[1]=e.getBBox())}l[0].minX<s.minX&&(c=s.minX+8,t.attr("textAlign","left")),t.attr("x",c),e.attr("x",h),this.plot.canvas.draw()},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"interval"===t.type}))},t}();function Yh(t,e){var n=t.getBBox(),i=n.minX+n.width/2;t.setClip({type:"rect",attrs:{x:i,y:n.minY,width:0,height:n.height}}),t.get("clipShape").animate({width:n.width,x:n.minX},e.duration,e.easing,(function(){t.setClip(null)}),e.delay)}function Xh(t,e){var n=function(t){var e,n=t.id;return Object(I.each)(Wh,(function(t){t.id===n&&(e=t)})),e}(t).attr("path"),i=Object(I.clone)(t.attr("path"));t.attr("path",n),t.animate({path:i},e.duration,e.easing,e.callback,100)}Yh.animationName="clipInFromCenter",Xh.animationName="updateFromCenter",mn("clipInFromCenter",Yh),mn("updateFromCenter",Xh);var qh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rangeBar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)(t.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},e.prototype.afterRender=function(){this.renderLabel();var e=[],n=this.view.geometries;Object(I.each)(n,(function(t){var n=t.elements;Object(I.each)(n,(function(t){e.push(t.shape)}))})),Wh=e,t.prototype.afterRender.call(this)},e.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new $h(Object(ln.__assign)({view:this.view,plot:this},this.options.label)).render()},e.prototype.animation=function(){t.prototype.animation.call(this)},e}(jh),Uh=qh;Wl("rangeBar",qh);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="rangeBar",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Uh.getDefaultOptions}($l);var Zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e}(Lc),Kh=Zh;ns("area-point",Zh);var Jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.layoutLabels=function(e,n){t.prototype.layoutLabels.call(this,e,n),this.adjustAreaLabelsStyle(n)},e.prototype.adjustAreaLabelsStyle=function(t){var e,n=this.view,i=this.options,r=i.darkStyle,o=i.lightStyle,a=dl(n,"area"),s=(e=a,Object(I.map)(e.elements,(function(t){return t.shape}))).sort((function(t,e){return e.getBBox().height-t.getBBox().height}));Object(I.each)(t,(function(t){var e=t.getBBox(),n=function(t,e,n,i,r){void 0===r&&(r=2);for(var o=[],a=t;a<=t+n;a+=r)o.push([a,e]);for(var s=e;s<=e+i;s+=r)o.push([t+n,s]);for(a=t+n;a>=t;a-=r)o.push([a,e+i]);for(s=e+i;s>=e;s-=r)o.push([t,s]);return o}(e.x,e.y,e.width,e.height),i=Object(I.map)(s,(function(t){return{area:t,matches:Object(I.filter)(n,(function(e){return!!t.isHit(e[0],e[1])})).length}})).sort((function(t,e){return t.matches-e.matches}));if(Object(I.last)(i).matches>0){var a=Object(I.last)(i).area.attr("fill"),l=Oh(a);t.attr({fill:l?null==o?void 0:o.fill:null==r?void 0:r.fill,fillOpacity:l?o.fillOpacity:r.fillOpacity,stroke:l?null==o?void 0:o.stroke:null==r?void 0:r.stroke})}}))},e}(Nc),Qh=Jh;ns("area-point-auto",Jh);var tu={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new Dc({plot:t,responsiveTheme:e,dim:"x"}),new Dc({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}}]},eu=Wa({area:"area",line:"line",point:"point"});Object(I.assign)(Ga,eu);var nu={areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+1,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+2,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};Pl("area",nu);var iu={area:"area",line:"line",point:"point"},ru=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="area",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return iu[e]},e.prototype.scale=function(){var e=this.options,n={};n[e.xField]={type:"cat"},Object(I.has)(e,"xAxis")&&hc(n[e.xField],e.xAxis),n[e.yField]={},Object(I.has)(e,"yAxis")&&hc(n[e.yField],e.yAxis),this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.coord=function(){return null},e.prototype.addGeometry=function(){var t=this.options,e=cc("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},e.prototype.adjustArea=function(t){},e.prototype.adjustLine=function(t){},e.prototype.adjustPoint=function(t){},e.prototype.addLine=function(){var t=this.options,e=Object(I.deepMix)({},t.line);if(e.visible){var n=cc("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},e.prototype.addPoint=function(){var t=this.options;if(Object(I.deepMix)({},t.point).visible){var e=cc("point","guide",{plot:this});this.adjustPoint(e),this.setConfig("geometry",e),this.point=e}},e.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,i=t[e.yField];if(n.visible){var r=dl(this.view,"area");this.doRenderLabel(r,Object(ln.__assign)({type:"area-point",formatter:i.formatter&&function(t){return i.formatter(t)}},this.options.label))}},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.label=function(){},e.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,l)},e.prototype.applyResponsive=function(t){var e=this,n=tu[t];Object(I.each)(n,(function(t){t.method(e)}))},e}(Fl),ou=ru;Wl("area",ru);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="area",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=ou.getDefaultOptions}($l);var au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],i=t.attr("stroke"),r=this.plot.options.stackField,o=t.get("origin").data[0][r],a=Object(I.reduce)(n.y,(function(t,e){return t+e}),0)/Object(I.size)(n.y);return{x:n.x,y:a,color:i,name:o}},e}(Rc);function su(t,e,n){var i=e[0],r=e[e.length-1];Object(I.each)(e,(function(e){if(e.x===t)return e.y[n];e.x<t&&e.x>i.x&&(i=e),e.x>t&&e.x<r.x&&(r=e)}));var o=(t-i.x)/(r.x-i.x);return i.y[n]*(1-o)+r.y[n]*o}function lu(t,e){var n;for(n=0;n<t.length;n++){var i=t[n];if(i.x===e||i.x>e)break}return n}var cu={lineLabel:{Ctr:au},areaLabel:{Ctr:function(){function t(t){this.destroyed=!1,this.scaleFactor=[],this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.plot.options.stackField,n=this.getGeometry().dataArray,i=[];Object(I.each)(n,(function(e,n){var r=t.drawLabel(e,n);r&&(i.push(Object(I.deepMix)({},e[0],r)),t.scaleFactor.push(r.scaleFactor))}));var r=[];Object(I.each)(i,(function(n,i){var o=t.options,a=o.style,s=o.offsetX,l=o.offsetY,c=t.getFontSize(i),h=t.options.formatter,u=h?h(n._origin[e]):n._origin[e],d=t.container.addShape("text",{attrs:Object(I.deepMix)({},{x:n.x+s,y:n.y+l,text:u,fill:n.color,fontSize:c,textAlign:"center",textBaseline:"top"},a),name:"label"});r.push(d)})),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=Object(I.clone)(t.label.style);return e.stroke=null,delete e.fill,{offsetX:0,offsetY:0,style:e,autoScale:!0}},t.prototype.drawLabel=function(t,e){var n=function(t){var e=-1/0,n=1/0,i=-1/0;return Object(I.each)(t,(function(t){n=Math.min(t.x,n),i=Math.max(t.x,i);var r=Math.abs(t.y[0]-t.y[1]);e=Math.max(e,r)})),{xRange:[n,i],maxHeight:e}}(t),i=n.xRange,r=n.maxHeight,o=i[1]-i[0],a=this.getInterpolatedPoints(i[0],o,t),s=this.getLabelBbox(e),l={xRange:i,aspect:s.width/s.height,data:a,justTest:!0},c=this.bisection(12,r,this.testFit,l,.01,100);if(null!==c){l.justTest=!1;var h=this.testFit(l);return h.x=h.x,h.y=h.y0+(h.y1-h.y0)/2,h.scaleFactor=c/s.height*.2,h}},t.prototype.getInterpolatedPoints=function(t,e,n){for(var i=[],r=t;r<e;r+=2){var o=su(r,n,0),a=su(r,n,1);i.push({x:r,y:[o,a]})}return i},t.prototype.bisection=function(t,e,n,i,r,o){for(var a=0;a<o;a++){var s=(t+e)/2,l=i;l.height=s,l.width=s*l.aspect;var c=n(l);if(c&&(e-t)/2<r)return s;c?t=s:e=s}return null},t.prototype.testFit=function(t){for(var e=t.xRange,n=t.width,i=t.height,r=t.data,o=t.justTest,a=0;a<r.length;a++){var s=r[a].x,l=s+n;if(l>e[1])break;for(var c=lu(r,l),h=-1/0,u=null,d=1/0,p=a;p<c;p++){var f=r[p].y[1],g=r[p].y[0];if(g<d&&(d=g),f>h&&(h=f,u=g),d-h<i)break}if(d-h>=i)return!!o||{x:s,y0:h,y1:u,width:n,height:i}}return!1},t.prototype.getLabelBbox=function(t){var e=Object(I.clone)(this.plot.theme.label.textStyle);e.fontSize=12;var n=this.container.addShape("text",{attrs:Object(ln.__assign)({text:t,x:0,y:0},e)}),i=n.getBBox();return n.remove(),i},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"area"===t.type}))},t.prototype.getFontSize=function(t){return this.options.autoScale?12*this.scaleFactor[t]:12},t}()}};var hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e}(Kh);ns("stackedArea-point",hu);var uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},e}(Qh);ns("stackedArea-point-auto",uu),Pl("stackedArea",nu);var du=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plotComponents=[],e.type="stackedArea",e.baseType="area",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},e.prototype.beforeInit=function(){var e=Object(I.get)(this.options,["label","visible"]),n=Object(I.get)(this.options,["label","type"]),i=this.options;e&&("line"===n&&(i.lineLabel=this.options.label),"area"===n&&(i.areaLabel=this.options.label)),t.prototype.beforeInit.call(this)},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.label=function(){var t=this.options.label;if(t&&!1===t.visible)return this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),void(this.area.label=!1)},e.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},e.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},e.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},e.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,t.prototype.afterRender.call(this)},e.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e.prototype.renderPlotComponents=function(){var t=this;Object(I.each)(["areaLabel","lineLabel"],(function(e){var n=Object(ln.__assign)({view:t.view,plot:t},t.options[e]),i=function(t,e,n){if(t.options[e]&&t.options[e].visible){var i=cu[e],r=new i.Ctr(n);return i.padding&&t.paddingController.registerPadding(r,i.padding),r}}(t,e,n);i&&(i.render(),t.plotComponents.push(i))}))},e}(ou),pu=du;Wl("stackedArea",du);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedArea",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=pu.getDefaultOptions}($l);var fu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="percentStackedArea",e.baseType="stackedArea",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,"")}}}})},e.prototype.processData=function(t){var e=this.options,n=e.xField,i=e.yField;return Vh(t,n,[i])},e.prototype.scale=function(){var e={},n=this.options.yField;e[this.options.yField]={tickCount:6,alias:n+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=Object(I.deepMix)({},e,this.options.meta),t.prototype.scale.call(this)},e}(pu),gu=fu;Wl("percentStackedArea",fu);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="percentStackedArea",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=gu.getDefaultOptions}($l);var mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getType=function(){return Object(I.get)(this.plot.options,["label","position"],"inner")},e}(Pc);var vu={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new Dc({plot:t,responsiveTheme:e,dim:"x"}),new Dc({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}},{name:"responsiveLabel",method:function(t){var e=t.getResponsiveTheme();new mu({plot:t,responsiveTheme:e})}}]};Ll("column",{label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}});var yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getLabelItemAttrs=function(t,e){var n,i,r=this.options,o=r.style,a=r.formatter,s=[].concat(t.getModel().mappingData),l=this.getValue(t);return Object(I.deepMix)({},o,Object(ln.__assign)(Object(ln.__assign)({},this.getPosition(t)),{text:a?a(l,(n={},n._origin=null===(i=s[0])||void 0===i?void 0:i._origin,n.mappingDatum=s[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):l,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},e.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return Object(ln.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},e)},e.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=this.getDefaultOffset(),i=t.getBBox(),r=this.getElementShapeBBox(e);if(r.height<=i.height){var o=r.minY+this.options.offsetY-n;t.attr("y",o),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},e.prototype.getValue=function(t){return Object(I.get)(t.getData(),this.layer.options.yField)},e.prototype.getPosition=function(t){var e,n=this.getDefaultOffset(),i=this.getValue(t),r=this.getElementShapeBBox(t),o=r.minX,a=r.minY,s=r.maxY,l=r.height,c=r.width,h=this.options,u=h.offsetX,d=h.offsetY,p=h.position,f=i>0?-1:1;if("top"===p)e=(i>0?a:s)+n*f+d;else if("bottom"===p){e=(i>0?s:a)+n*f+d}else e=a+l/2+d;return{x:o+c/2+u,y:e}},e.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"top"!==this.options.position){var n=e.attr("fill"),i=e.attr("opacity")?e.attr("opacity"):1,r=_h(n);return Sh([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i)}return this.options.style.fill},e.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,i=n.position,r=n.adjustColor;return"top"!==i&&r&&"black"!==e?null:void 0},e.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,i=[];Object(I.each)(n.get("origin").points,(function(t){i.push(e.coord.convertPoint(t))}));var r=i.map((function(t){return t.x})),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),s=i.map((function(t){return t.y})),l=Math.min.apply(Math,s),c=Math.max.apply(Math,s);return new Ya(o,l,a-o,c-l)},e.prototype.getTextAlign=function(){return"center"},e.prototype.getTextBaseLine=function(){return"middle"},e.prototype.getLabelOffset=function(){return{x:0,y:0}},e}(ts),xu=yu;ns("column",yu);var bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),i=this.getElementShapeBBox(t),r=i.minX,o=i.minY,a=i.maxY,s=i.width,l=this.options;return{x:r+s/2+l.offsetX,y:(n>0?o:a)+e*(n>0?-1:1)+l.offsetY}},e.prototype.getTextFill=function(t){return this.options.style.fill},e.prototype.getTextStroke=function(t){},e.prototype.adjustLabel=function(t,e){},e.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},e.prototype.shouldInShapeLabels=function(t){var e=this;return Object(I.every)(t,(function(t){var n=t.getBBox(),i=t.get("element");return e.getElementShapeBBox(i).width>=n.width}))},e.prototype.inShapeLabels=function(t,e){var n=this,i=this.getCoordinateBBox(),r=t.getXYFields()[0],o=this.options,a=o.darkStyle,s=o.lightStyle,l=Object(I.groupBy)(e,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][r]}));Object(I.each)(e,(function(t){var e=l[t.get(La)[Sa.FIELD_ORIGIN][r]]||[],o=t.get("element"),c=o.shape,h=Oh(c.attr("fill")),u=n.getElementShapeBBox(o),d=Ya.fromBBoxObject(t.getBBox());(ml(i,u)<=0&&t.set("visible",!1),d.height>u.height)?0!==Object(I.findIndex)(e,(function(e){return e===t}))&&t.set("visible",!1):(t.attr({y:u.y+u.height/2,textBaseline:"middle"}),d.width>u.width||d.height>u.height?t.attr({stroke:null==s?void 0:s.stroke}):t.attr({fill:h?null==s?void 0:s.fill:null==a?void 0:a.fill,fillOpacity:h?null==s?void 0:s.fillOpacity:null==a?void 0:a.fillOpacity,stroke:void 0}))}))},e.prototype.autoHideLabels=function(t,e){var n,i=this.getCoordinateBBox(),r=this.filterLabels(e),o=t.getXYFields()[0],a=[],s=[],l=Object(I.groupBy)(r,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][o]})),c=Object(I.uniq)(Object(I.map)(r,(function(t){return t.get(La)[Sa.FIELD_ORIGIN][o]})));for(Object(I.size)(c)>0&&(n=c.shift(),Object(I.each)(l[n],(function(t){return s.push(t)}))),Object(I.size)(c)>0&&(n=c.pop(),Object(I.each)(l[n],(function(t){return s.push(t)}))),Object(I.each)(c.reverse(),(function(t){Object(I.each)(l[t],(function(t){return s.push(t)}))}));s.length>0;){var h=s.shift();h.get("visible")&&(gl(h,i),vl(h,a)?h.set("visible",!1):a.push(h))}},e.prototype.filterLabels=function(t){var e=[],n=Math.max(Math.floor(t.length/500),1);return Object(I.each)(t,(function(t,i){i%n==0?e.push(t):t.set("visible",!1)})),e},e}(xu),wu=bu;ns("column-auto",bu);var Cu=Wa({column:"interval"});Object(I.assign)(Ga,Cu);var _u={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:"black"}}};Pl("column",_u);var Su={column:"interval"},Ou={interval:"column"},Mu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="column",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){var e=this.options;this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),e.conversionTag.visible&&(this.conversionTag=new bh(Object(ln.__assign)({view:this.view,field:e.yField,transpose:!0,animation:!1!==e.animation},e.conversionTag))),t.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,e){return"g2"===t?Su[e]:Ou[e]},e.prototype.processData=function(t){var e=this.options.xField,n=[];return Object(I.each)(t,(function(t){var i=Object(I.clone)(t);i[e]=i[e].toString(),n.push(i)})),n},e.prototype.scale=function(){var e=this.options,n={};n[e.xField]={type:"cat"},Object(I.has)(e,"xAxis")&&hc(n[e.xField],e.xAxis),n[e.yField]={},Object(I.has)(e,"yAxis")&&hc(n[e.yField],e.yAxis),this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.adjustColumn=function(t){},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",Object(I.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,c)},e.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,i=t[e.yField];if(null==n?void 0:n.visible){var r=dl(this.view,"interval");this.doRenderLabel(r,Object(ln.__assign)({type:"column",formatter:i.formatter&&function(t){return i.formatter(t)}},this.options.label))}},e.prototype.applyResponsive=function(t){var e=this,n=vu[t];Object(I.each)(n,(function(t){t.method(e)}))},e}(Fl),ku=Mu;Wl("column",Mu);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="column",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=ku.getDefaultOptions}($l);Pl("groupedColumn",_u);var Au=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseType="column",e.type="groupedColumn",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.addGeometry=function(){t.prototype.addGeometry.call(this)},e.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},e}(ku),Tu=Au;Wl("groupedColumn",Au);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="groupedColumn",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Tu.getDefaultOptions}($l);function Du(t,e){var n=[],i=t.get("origin").points;return Object(I.each)(i,(function(t){n.push(e.convertPoint(t))})),n}var Pu=function(){function t(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},Object(I.assign)(this,t),this._init()}return t.prototype.draw=function(){var t=this,e=this._getGroupedShapes();Object(I.each)(e,(function(e,n){e.length>0&&t._drawConnection(e,n)})),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},t.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype.setState=function(t,e){"active"===t&&this._onActive(e),"disabled"===t&&this._onDisabled(e),"selected"===t&&this._onSelected(e)},t.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",(function(){t.clear()}))},t.prototype._getGroupedShapes=function(){var t=this,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0].getShapes(),i={};return Object(I.each)(e,(function(t){i[t]=[]})),Object(I.each)(n,(function(e){var n=e.get("origin").data[t.field];i[n].push(e)})),i},t.prototype._drawConnection=function(t,e){var n=t[0].attr("fill");this._areaStyle[e]=this._getShapeStyle(n,"area"),this._lineStyle[e]=this._getShapeStyle(n,"line");for(var i=this.view.geometries[0].coordinate,r=0;r<t.length-1;r++){var o=Du(t[r],i),a=Du(t[r+1],i),s=Object(I.mix)({},this._areaStyle[e]),l=Object(I.mix)({},this._lineStyle[e]);this.triggerOn&&(s.opacity=0,l.opacity=0);var c=this.container.addShape("path",{attrs:Object(I.mix)({},s,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),h=this.container.addShape("path",{attrs:Object(I.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y]]}),name:"connectedArea"}),u=t[r].get("origin").data;c.set("data",u),h.set("data",u),this.areas.push(c),this.lines.push(h)}},t.prototype._getShapeStyle=function(t,e){var n=e+"Style";if(this[n])return this[n];var i={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[n],r={fill:t};return"line"===e&&(r={stroke:t}),Object(I.mix)(i,r)},t.prototype._addInteraction=function(){var t=this,e=this.triggerOn;this.view.on("interval:"+e,(function(e){var n=e.target.get("origin").data[t.field];t.setState("active",{name:t.field,exp:n}),t.setState("disabled",{name:t.field,exp:function(t){return t!==n}}),t.view.canvas.draw()})),this.view.on("mousemove",(function(e){"interval"!==e.gEvent.target.get("name")&&t.setState("disabled",{name:t.field,exp:function(){return!0}})}))},t.prototype._initialAnimation=function(){var t=this.view.coordinateBBox,e=t.x,n=t.y,i=t.width,r=t.height;this.container.setClip({type:"rect",attrs:{x:e,y:n,width:0,height:r}}),this.container.set("animating",!0),this.container.getClip().animate({width:i},600,"easeQuadOut",(function(){}),400)},t.prototype._onActive=function(t){var e=this;Object(I.each)(this.areas,(function(n){var i=n.get("data"),r=i[e.field];if(Ds(i,t)){var o=e._areaStyle[r].opacity||1;n.stopAnimate(),n.animate({opacity:o},400,"easeQuadOut")}})),Object(I.each)(this.lines,(function(n){var i=n.get("data"),r=i[e.field];if(Ds(i,t)){var o=e._lineStyle[r].opacity||1;n.stopAnimate(),n.animate({opacity:o},400,"easeQuadOut")}}))},t.prototype._onDisabled=function(t){Object(I.each)(this.areas,(function(e){Ds(e.get("data"),t)&&(e.stopAnimate(),e.animate({opacity:0},400,"easeQuadOut"))})),Object(I.each)(this.lines,(function(e){Ds(e.get("data"),t)&&(e.stopAnimate(),e.animate({opacity:0},400,"easeQuadOut"))}))},t.prototype._onSelected=function(t){this._onActive(t)},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"interval"===t.type}))},t}();Pl("stackedColumn",_u);var Iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),i=this.getElementShapeBBox(e);(i.height<n.height||i.width<n.width)&&t.hide()}},e}(xu);ns("stacked-column",Iu);var Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.shouldInShapeLabels=function(t){return!0},e}(wu);ns("stacked-column-auto",Eu);var ju=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stackedColumn",e.baseType="column",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},e.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),t.prototype.init.call(this)},e.prototype.afterRender=function(){var e=this.options;e.connectedArea.visible&&(this.connectedArea=new Pu(Object(ln.__assign)({view:this.view,field:e.stackField,animation:!1!==e.animation},e.connectedArea))),t.prototype.afterRender.call(this)},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},e.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,i=t[e.yField];if(n&&n.visible){var r=dl(this.view,"interval");this.doRenderLabel(r,Object(ln.__assign)({type:"stacked-column",formatter:i.formatter&&function(t){return i.formatter(t)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e}(ku),Lu=ju;Wl("stackedColumn",ju);var Bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedColumn",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Lu.getDefaultOptions,e}($l);var Nu,Ru=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.getGeometry(),n=e.coordinate,i=e.elements;this.coord=n,Object(I.each)(i,(function(e){var n=e.shape,i=t.getPosition(n),r=t.getValue(n),o=t.getTextBaseline(),a=[];Object(I.each)(i,(function(e,i){var s=1===i?t.options.topStyle:t.options.bottomStyle,l=t.getTextColor(n,i);"inner"===t.options.position&&t.options.adjustColor&&"black"!==l&&(s.stroke=null);var c=t.options.formatter,h=c?c(r[i]):r[i],u=t.container.addShape("text",{attrs:Object(I.deepMix)({},s,{x:e.x,y:e.y,text:h,fill:l,textAlign:"center",textBaseline:o[i]}),name:"label"});a.push(u),t.doAnimation(u)})),n.set("labelShapes",a),t.adjustPosition(a[0],a[1],n)})),this.plot.canvas.draw()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getShapeBbox=function(t){var e=this,n=[];return Object(I.each)(t.get("origin").points,(function(t){n.push(e.coord.convertPoint(t))})),new Ya(n[0].x,n[1].y,Math.abs(n[2].x-n[0].x),Math.abs(n[0].y-n[1].y))},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:0,offsetY:8,style:Object(I.clone)(t),adjustColor:!0,adjustPosition:!0}},t.prototype.getPosition=function(t){var e,n,i=this.getShapeBbox(t),r=i.minX,o=i.minY,a=i.maxY,s=i.width,l=this.options.offsetY,c=r+s/2;return"outer"===this.options.position?(e=o-l,n=a+l):(e=o+l,n=a-l),[{x:c,y:n},{x:c,y:e}]},t.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin").data[e]},t.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},t.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var n=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,r=_h(n);return function(t,e){var n;return Object(I.each)(t,(function(t){var i=t;e>=i.from&&e<i.to&&(n=i.color)})),n}([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i)}return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},t.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},t.prototype.adjustPosition=function(t,e,n){var i=n.get("origin"),r=i.y[1],o=i.y[0],a=n.getBBox().height,s=this.view.coordinateBBox,l=[t.getBBox(),e.getBBox()],c=t.attr("y"),h=e.attr("y");if(this.options.adjustPosition&&"inner"===this.options.position){var u=l[0].height+l[1].height;(l[1].maxY-l[0].minY>2||u>a)&&(h=r-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),c=o+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),l[0]=t.getBBox(),l[1]=e.getBBox())}l[0].maxY>s.maxY-8&&(c=s.maxY-4,t.attr("textBaseline","bottom")),t.attr("y",c),e.attr("y",h),this.plot.canvas.draw()},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"interval"===t.type}))},t}();function Fu(t,e){var n=t.getBBox(),i=n.minY+n.height/2;t.setClip({type:"rect",attrs:{x:n.minX,y:i,width:n.width,height:0}}),t.get("clipShape").animate({height:n.height,y:n.minY},e.duration,e.easing,(function(){t.setClip(null)}),e.delay)}function zu(t,e){var n=function(t){var e,n=t.id;return Object(I.each)(Nu,(function(t){t.id===n&&(e=t)})),e}(t).attr("path"),i=Object(I.clone)(t.attr("path"));t.attr("path",n),t.animate({path:i},e.duration,e.easing,e.callback,100)}Fu.animationName="clipInFromCenterVertical",zu.animationName="updateFromCenterVertical",mn("clipInFromCenterVertical",Fu),mn("updateFromCenterVertical",zu);var Vu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rangeColumn",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)(t.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},e.prototype.afterRender=function(){this.renderLabel();var e=[],n=this.view.geometries;Object(I.each)(n,(function(t){var n=t.elements;Object(I.each)(n,(function(t){e.push(t.shape)}))})),Nu=e,t.prototype.afterRender.call(this)},e.prototype.animation=function(){t.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},e.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new Ru(Object(ln.__assign)({view:this.view,plot:this},this.options.label)).render()},e}(ku),Gu=Vu;Wl("rangeColumn",Vu);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="rangeColumn",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Gu.getDefaultOptions}($l);var Hu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="percentStackedColumn",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},e.prototype.processData=function(t){var e=this.options,n=e.xField,i=e.yField;return Vh(t||[],n,[i])},e.prototype.scale=function(){var e={},n=this.options.yField;e[n]={tickCount:6,alias:n+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=Object(I.deepMix)({},this.options.meta,e),t.prototype.scale.call(this)},e}(Lu),Wu=Hu;Wl("percentStackedColumn",Hu);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="percentStackedColumn",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Wu.getDefaultOptions}($l);var $u=Wa({pie:"interval"});function Yu(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}Object(I.assign)(Ga,$u);function Xu(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}var qu=function(){function t(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var n=Object(I.deepMix)(this.getDefaultOptions(),e,{});this.adjustOption(n),this.options=n,this.init()}return t.prototype.adjustOverlap=function(t,e){for(var n=1;n<t.length;n++)for(var i=t[n],r=0,o=n-1;o>=0;o--){var a=t[o],s=a.getBBox(),l=i.getBBox();if(a.get("parent").get("visible")&&(d=s,p=l,void 0===(f=void 0)&&(f=0),r=Math.max(0,Math.min(d.x+d.width+f,p.x+p.width+f)-Math.max(d.x-f,p.x-f))*Math.max(0,Math.min(d.y+d.height+f,p.y+p.height+f)-Math.max(d.y-f,p.y-f)),c=r,h=0,void 0===(u=void 0)&&(u=Math.pow(Number.EPSILON,.5)),!([c,h].includes(1/0)?Math.abs(c)===Math.abs(h):Math.abs(c-h)<u))){i.get("parent").set("visible",!1);break}}var c,h,u,d,p,f;t.forEach((function(t){return function(t,e){var n=t.getBBox();e.y<=n.y&&e.y+e.height>=n.y+n.height||t.get("parent").set("visible",!1)}(t,e)}))},t.prototype.adjustItem=function(t){},t.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getFilteredSum=function(){var t=this.plot.options.angleField;return(this.plot.view.filteredData||[]).reduce((function(e,n){return e+n[t]}),0)},t.prototype.drawTexts=function(){var t=this,e=this.options,n=e.style,i=e.formatter,r=e.autoRotate,o=e.offsetX,a=e.offsetY,s=e.adjustPosition,l=e.allowOverlap,c=this.getItems(),h=[];c.map((function(e,r){var s=Object(I.deepMix)({},e,n),l=t.getFilteredSum(),c=t.plot.options.angleField,u=e.origin[c]/l,d=i?i(e.name,{_origin:e.origin,percent:u},r):e.name,p=t.container.addGroup({name:"itemGroup",index:r,capture:!1}).addShape("text",{attrs:Object(I.deepMix)({},s,{x:e.x+o,y:e.y+a,text:d})});p.set("id","text-"+e.name+"-"+r),h.push(p)})),h.forEach((function(e){var n=t.coordinateBBox;t.adjustText(e,n)})),s&&this.layout(h,c,this.coordinateBBox),l||this.adjustOverlap(h,this.coordinateBBox),h.forEach((function(e,n){r&&t.rotateLabel(e,function(t){var e=Math.PI/2,n=t;return(n>e||n<-e)&&(n+=Math.PI),n}(c[n].angle))}))},t.prototype.adjustText=function(t,e){var n=t.getBBox(),i=n.width;if(n.maxX>e.maxX?i=e.maxX-n.minX:n.minX<e.minX&&(i=n.maxX-e.minX),"left"===t.attr("textAlign")?t.attr("x",Math.max(n.x-0,0)):"right"===t.attr("textAlign")&&t.attr("x",Math.max(n.maxX-0,0)),i!==n.width){var r={};["fontSize","fontFamily","fontWeight"].forEach((function(e){r[e]=t.attr(e)}));var o=t.attr("text").split("\n").map((function(t){return cl(t,i,r)}));t.attr("text",o.join("\n"))}},t.prototype.drawLines=function(){var t=this;if(this.options.line.visible){var e=this.container.get("children"),n=this.getCoordinate().center;e.forEach((function(e,i){var r=e.get("children")[0],o=t.arcPoints[i],a=o.x<n.x,s=t.options.offset>4?4:0,l=t.getLinePath(r,o,s),c=t.options.line;e.addShape("path",{attrs:Object(ln.__assign)({path:l,stroke:o.color},c)}),r.attr("x",r.attr("x")+(a?-s:s))}))}},t.prototype.getLinePath=function(t,e,n){var i=!!this.options.line&&this.options.line.smooth,r=e.angle,o=this.getCoordinate(),a=o.center,s=Yu(a,r,o.radius+n);n<4&&(s=e);var l=e.x<a.x,c=t.getBBox(),h={x:l?c.maxX:c.minX,y:c.y+c.height/2},u=["C",h.x+(l?1:-1)*(n<4?n/2:4),h.y,2*s.x-e.x,2*s.y-e.y,s.x,s.y],d=["L",s.x,s.y],p=i?u:d;return["M",h.x,h.y].concat(p).concat("L",e.x,e.y).join(",")},t.prototype.getGeometry=function(){return this.plot.view.geometries[0]},t.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate;return{center:t.getCenter(),radius:t.getRadius(),startAngle:t.startAngle}},t.prototype.adjustOption=function(t){var e=t.offset,n=this.getCoordinate().radius;Object(I.isString)(e)&&(e=n*function(t){return Number(t.endsWith("%")?t.slice(0,-1):t)/100}(e)),t.offset=e},t.prototype.rotateLabel=function(t,e){var n=t.attr("x"),i=t.attr("y"),r=lt.ext.transform(t.getMatrix(),[["t",-n,-i],["r",e],["t",n,i]]);t.setMatrix(r)},t.prototype.getItems=function(){var t=this,e=this.options.offset,n=this.getCoordinate(),i=n.center,r=n.radius;return this.arcPoints.map((function(n){var o=Yu(i,n.angle,r+e),a=Object(ln.__assign)(Object(ln.__assign)({},n),o);return t.adjustItem(a),a}))},t.prototype.initArcPoints=function(){var t=this,e=this.plot.options.angleField,n=this.getGeometry().elements,i=this.getCoordinate(),r=i.center,o=i.radius,a=this.getCoordinate().startAngle,s=this.getGeometry().attributes.position.scales[1],l=s.field,c=n.map((function(n){var i=n.shape.get("origin"),c=i.color,h=i.data[0]||i.data,u=a+2*Math.PI*s.scale(h[l]),d=Yu(r,(a+u)/2,o);a=u;var p=s.getText(h[e]),f=d.x>r.x?"left":"right";return{x:d.x,y:d.y,color:c,name:p,origin:h,angle:Xu(t.getGeometry().coordinate,d),textAlign:f}}));this.arcPoints=c},t}();var Uu={inner:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset>0&&(e.offset=0)},e.prototype.adjustItem=function(t){t.textAlign="middle"},e.prototype.drawLines=function(){},e.prototype.layout=function(t,e){var n=this;t.forEach((function(i,r){r>0&&Object(I.each)(t.slice(0,r),(function(t){n.resolveCollision(i,t,e[r])}))}))},e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:Object(ln.__assign)(Object(ln.__assign)({},t),{textAlign:"center",textBaseline:"middle"})}},e.prototype.resolveCollision=function(t,e,n){var i=this.getCoordinate().center,r=n.angle,o=t.getBBox(),a=e.getBBox(),s={x:(o.minX+o.maxX)/2,y:(o.minY+o.maxY)/2},l=Object(I.clone)(s),c=Object(I.clone)(s);if(e.get("id")!==t.get("id")){var h=function(t,e,n){void 0===n&&(n=0);var i=Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n)),r=Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n));return i&&t.x<e.x&&(i=-i),r&&t.y<e.y&&(r=-r),t.x===e.x&&t.width===e.width&&(i=e.width),t.y===e.y&&t.height===e.height&&(r=e.height),{xOverlap:i,yOverlap:r}}(o,a),u=h.xOverlap,d=h.yOverlap;if(u&&(l.x=s.x+u,l.y=s.y+Math.tan(r)*u),d){var p=d;p=s.y<i.y?p<0?p:a.minY-o.maxY:p>0?p:a.maxY-o.minY,c.y=s.y+p,c.x=s.x+p/Math.tan(r)}var f=ps(s,l)<ps(s,c)?l:c;t.attr("x",f.x),t.attr("y",f.y)}},e}(qu),outer:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset<0&&(e.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(ln.__assign)(Object(ln.__assign)({},t),{textBaseline:"middle"})}},e.prototype.layout=function(t,e,n){var i=this,r=this.getCoordinate().center,o=Object(I.filter)(t,(function(t){return t.attr("x")<=r.x}));[Object(I.filter)(t,(function(t){return t.attr("x")>r.x})),o].forEach((function(t,e){i._antiCollision(t,!e,n)}))},e.prototype._antiCollision=function(t,e,n){var i=this,r=this.getLabelHeight(t),o=this.getCoordinate(),a=o.center,s=o.radius,l=this.options.offset,c=s+l,h=Math.min(n.height,Math.max(2*c+2*r,t.length*r)),u=Math.floor(h/r);this.options.allowOverlap||t.slice(u).forEach((function(t){t.get("parent").set("visible",!1)})),t.splice(u,t.length-u),t.sort((function(t,e){return t.getBBox().y-e.getBBox().y}));for(var d,p=!0,f=a.y+h/2,g=a.y-h/2,m=t.map((function(t){var e=t.getBBox();return e.maxY>f&&(f=Math.min(n.maxY,e.maxY)),e.minY<g&&(g=Math.max(n.minY,e.minY)),{text:t.attr("text"),size:r,pos:e.y,targets:[]}})),v=0;v<m.length;)v===m.length-1?m[v].targets[0]=f:m[v].targets[0]=m[v+1].pos-m[v+1].size/2,v++;for(;p;)for(m.forEach((function(t){var e=Object(I.last)(t.targets);t.pos=Math.max(g,Math.min(t.pos,e-t.size))})),p=!1,d=m.length;d--;)if(d>0){var y=m[d-1],x=m[d];if(y.pos+y.size>x.pos){y.size+=x.size,y.targets=y.targets.concat(x.targets);var b=Object(I.last)(y.targets);y.pos+y.size>b&&(y.pos=b-y.size),m.splice(d,1),p=!0}else y.targets.splice(-1,1,x.pos)}d=0,m.forEach((function(e){var n=r/2;e.targets.forEach((function(){t[d].attr("y",e.pos+n),n+=r,d++}))}));var w=[],C=[];t.forEach((function(t,e){var n=i.arcPoints[e];n.angle>=0&&n.angle<=Math.PI?C.push(t):w.push(t)})),[w,C].forEach((function(r,o){if(r.length){var h=o?Object(I.last)(r).getBBox().maxY-a.y:a.y-Object(I.head)(r).getBBox().minY;h=Math.max(c,h);var u=l>4?4:0,d=Math.max.apply(0,Object(I.map)(t,(function(t){return t.getBBox().width})))+l+u,p=Math.max(c,Math.min((h+c)/2,a.x-(n.minX+d))),f=p*p,g=h*h;r.forEach((function(t,n){var r=i.arcPoints[n],o=t.getBBox(),l=(o.minX,o.width,o.minY+o.height/2),c=Math.pow(l-a.y,2),h=Yu(a,r.angle,s),d=(e?1:-1)*u*2;if(c>g)console.warn("()",t.attr("text")),t.attr("x",h.x+d);else{var p=a.x+(e?1:-1)*Math.sqrt((1-c/g)*f);(a.x===h.x&&l===h.y||a.y===h.y&&p===h.x)&&(p=h.x),t.attr("x",p+d)}}))}}))},e.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:Object(I.head)(t)?Object(I.head)(t).getBBox().height:14},e}(qu),"outer-center":function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.adjustOption=function(e){t.prototype.adjustOption.call(this,e),e.offset<0&&(e.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(ln.__assign)(Object(ln.__assign)({},t),{textBaseline:"middle"})}},e.prototype.adjustItem=function(t){var e=this.options.offset;"left"===t.textAlign?t.x+=e>4?4:e/2:"right"===t.textAlign&&(t.x-=e>4?4:e/2)},e.prototype.layout=function(t,e,n){},e}(qu)};function Zu(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var Ku=function(){function t(t){this.destroyed=!1,this.view=t.view,this.options=Object(I.deepMix)({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}return t.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",(function(){t.clear()}))},t.prototype.render=function(){var t=this;if(this.view&&!this.view.destroyed){var e=Object(I.clone)(this.view.getData());this.halves=[[],[]];var n=[],i=this.view.geometries[0].elements;Object(I.each)(i,(function(t){n.push(t.shape)})),this.coord=this.view.geometries[0].coordinate;var r=this.options,o=r.allZero,a=r.angleField,s=this.options.fields[0],l=this.view.getScalesByDim("y")[s],c=this.coord.getCenter(),h=this.coord.startAngle,u=this.coord.polarRadius,d=this.view.coordinateBBox,p=d.width,f=d.height;this.width=p,this.height=f;for(var g=h,m=function(t){var i=e[t],r=l.scale(i[s]),h=g+2*Math.PI*r,d=g+(h-g)/2;g=h;var p=Zu(c,d,u+0),f=Zu(c,d,u+15),m="#CCC";if(2===v.options.fields.length){var y=v.options.fields[1],x=v.view.geometries[0].scales[y].scale(i[y]);if(x){var b=Math.floor(x*(n.length-1));m=n[b].attr("fill")}}var w={_anchor:p,_inflection:f,_data:i,x:f.x,y:f.y,r:u+15,fill:m,textGroup:null,_side:null},C=[];if(Object(I.each)(v.options.fields,(function(t){o&&t===Ju?C.push(i[a]):C.push(i[t])})),v.options.formatter){var _=v.options.formatter(i[a],{_origin:i,color:m},t);Object(I.isString)(_)&&(_=[_]),C=_}var S=v.container.addGroup({capture:!1,visible:!1}),O={x:0,y:0,fontSize:v.options.text.fontSize,lineHeight:v.options.text.fontSize,fontWeight:v.options.text.fontWeight,fill:v.options.text.fill},M=i[a];v.options.formatter&&(M=C[0]);var k=Object(I.clone)(O);(2===C.length&&(k.fontWeight=700),S.addShape("text",{attrs:Object(I.mix)({textBaseline:2===C.length?"top":"middle",text:M},k),data:i,offsetY:2===C.length?2:0,name:"label"}).name="label",2===C.length)&&(S.addShape("text",{attrs:Object(I.mix)({textBaseline:"bottom",text:C[1]},O),data:i,offsetY:-2,name:"label"}).name="label");w.textGroup=S,p.x<c.x?(w._side="left",v.halves[0].push(w)):(w._side="right",v.halves[1].push(w))},v=this,y=0;y<e.length;y++)m(y);var x=Math.floor(f/this.options.lineHeight);Object(I.each)(this.halves,(function(e){e.length>x&&e.splice(x,e.length-x),e.sort((function(t,e){return t.y-e.y})),t._antiCollision(e)})),this.view.canvas.draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},t.prototype._antiCollision=function(t){var e,n=this,i=this.coord,r=i.getHeight(),o=i.center,a=i.getRadius(),s=o.y-a-15-this.options.lineHeight,l=!0,c=r,h=0,u=Number.MIN_VALUE,d=0,p=t.map((function(t){var e=t.y;e>h&&(h=e),e<u&&(u=e);var i=t.textGroup.getBBox().width;return i>=d&&(d=i),{size:n.options.lineHeight,targets:[e-s]}}));h-s>c&&(c=h-s);for(;l;)for(p.forEach((function(t){var e=(Math.min.apply(u,t.targets)+Math.max.apply(u,t.targets))/2;t.pos=Math.min(Math.max(u,e-t.size/2),c-t.size)})),l=!1,e=p.length;e--;)if(e>0){var f=p[e-1],g=p[e];f.pos+f.size>g.pos&&(f.size+=g.size,f.targets=f.targets.concat(g.targets),f.pos+f.size>c&&(f.pos=c-f.size),p.splice(e,1),l=!0)}e=0,p.forEach((function(i){var r=s;i.targets.forEach((function(){t[e].y=i.pos+r+n.options.lineHeight/2,r+=n.options.lineHeight,e++}))}));var m=[];t.forEach((function(t){var e=n._drawLabel(t);n._drawLabelLine(t,d,e),m.push(e)}))},t.prototype._drawLabel=function(t){var e=this.coord,n=e.getCenter(),i=e.getRadius(),r=t.y,o=t.textGroup,a=o.get("children"),s="left"===t._side?1:-1,l=Object(ln.__assign)({textAlign:"left"===t._side?"right":"left",x:"left"===t._side?n.x-i-this.options.sidePadding:n.x+i+this.options.sidePadding},this.options.style);return this.options.offsetX&&(l.x+=this.options.offsetX*s),a.forEach((function(t){var e=t.get("offsetY"),n=r+e;t.attr(l),t.attr("y",n)})),o.show(),o},t.prototype._drawLabelLine=function(t,e,n){var i=[t._anchor.x,t._anchor.y],r=[t._inflection.x,t._inflection.y],o=t.y,a=t.textGroup;if(a){var s=["left"===t._side?a.getBBox().maxX+4:a.getBBox().minX-4,o],l=[i,r,s];if(r[1]!==o)if(r[1]<this.height/2&&r[1]<o||r[1]>=this.height/2&&r[1]>o){var c=r,h=s[0]+15,u=s[0]-15,d=["left"===t._side?h:u,r[1]];l=[i,c,d,s],("right"===t._side&&d[0]<c[0]||"left"===t._side&&d[0]>c[0])&&(l=[i,c,s])}else l=[i,[r[0],o],s];for(var p=[],f=0;f<l.length;f++){var g=l[f],m="L";0===f&&(m="M"),p.push([m,g[0],g[1]])}n.addShape("path",{attrs:{path:p,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},t.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},t}();Pl("pie",{columnStyle:{normal:{},active:function(t){return{fillOpacity:.8*(t.opacity||1)}},disable:function(t){return{fillOpacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}});var Ju="$$percentage$$",Qu={pie:"interval"},td={pie:"column"},ed=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pie",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},e.prototype.afterInit=function(){t.prototype.afterInit.call(this);var e=this.options,n=e.angleField,i=e.colorField,r=e.data;Object(I.every)(r,(function(t){return 0===t[n]}))&&this.view.geometries[0].tooltip(i+"*"+n)},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=this.options;if(e.label&&e.label.visible){this.labelComponent&&this.labelComponent.clear();var n=e.label;if("spider"===n.type){var i=e.data,r=e.colorField,o=e.angleField,a=Object(I.every)(i,(function(t){return 0===t[o]})),s=a?Ju:o;this.labelComponent=new Ku(Object(ln.__assign)({view:this.view,fields:r?[s,r]:[s],angleField:o,allZero:a},this.options.label)),this.labelComponent.render()}else{var l=function(t){if(Uu[t])return Uu[t];console.warn("this label "+t+" is not registered")}(n.type);this.labelComponent=new l(this,e.label),this.labelComponent.render()}}},e.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,e){return"g2"===t?Qu[e]:td[e]},e.prototype.scale=function(){var e=this.options;t.prototype.scale.call(this);var n={};n[e.angleField]={},n[e.colorField]={type:"cat"},n=Object(I.deepMix)({},this.config.scales,n),this.setConfig("scales",n)},e.prototype.processData=function(t){var e=this.options.angleField;return Object(I.every)(t,(function(t){return 0===t[e]}))?t.map((function(n){var i;return Object(ln.__assign)(Object(ln.__assign)({},n),((i={})[e]="string"==typeof n[e]?Number.parseFloat(n[e]):n[e],i[Ju]=1/t.length,i))})):t.map((function(t){var n,i=t[e];return Object(ln.__assign)(Object(ln.__assign)({},t),((n={})[e]=i&&!isNaN(i)?+i:i,n))}))},e.prototype.axis=function(){},e.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},e.prototype.addGeometry=function(){var t,e=this.options,n=e.data,i=e.angleField;(t=cc("interval","main",Object(I.every)(n,(function(t){return 0===t[i]}))?{plot:this,positionFields:[1,Ju]}:{plot:this,positionFields:[1,e.angleField]})).adjust=[{type:"stack"}],this.pie=t,e.label&&this.label(),e.tooltip&&(e.tooltip.fields||e.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",t)},e.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(e){e?t.prototype.parseEvents.call(this,e):t.prototype.parseEvents.call(this,h)},e.prototype.label=function(){this.pie.label=!1},e}(Fl),nd=ed;Wl("pie",ed);var id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="pie",t.prototype.createLayers.call(this,n)},e.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},e.getDefaultOptions=nd.getDefaultOptions,e}($l);tn("linearHeatmap",function(t){function e(e){var n=t.call(this,e)||this;return n.type="heatmap",n.paletteCache={},n.intensity=e.intensity,n.radius=e.radius,n}return Object(ln.__extends)(e,t),e.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},e.prototype.clear=function(){this.clearShadowCanvasCtx(),t.prototype.clear.call(this)},e.prototype.prepareRange=function(t){var e=this.getAttribute("color").getFields()[0],n=1/0,i=-1/0;return t.forEach((function(t){var r=t._origin[e];r>i&&(i=r),r<n&&(n=r)})),n===i&&(n=i-1),[n,i]},e.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),Object(I.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},e.prototype.prepareBlur=function(){var t=Object(I.get)(this.styleOption,["style","shadowBlur"]);Object(I.isNumber)(t)||(t=this.radius/2),this.blur=t},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,i=this.paletteCache,r=3;r<n.length;r+=4){var o=n[r];if(o){var a=void 0;i[o]?a=i[o]:(a=_h(e.gradient(o/256)),i[o]=a),n[r-3]=a[0],n[r-2]=a[1],n[r-1]=a[2],n[r]=o}}},e.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,i=Math.sqrt(-2*Math.log(1/255/16/t/n/.3989422804014327))/3*t,r=i-t,o=i+r,a=e.getContext("2d");e.width=e.height=2*o,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*o,a.shadowBlur=r,a.shadowColor="black",a.beginPath(),a.arc(-o,-o,t,0,2*Math.PI,!0),a.closePath(),a.fill()},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,i,r){var o=this.grayScaleCanvas;r.globalAlpha=i,r.drawImage(o,t-n,e-n)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t},e.prototype.drawWithRange=function(t,e){var n=this.coordinate,i=n.start,r=n.end,o=this.coordinate.getWidth(),a=this.coordinate.getHeight(),s=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var l=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t._origin[s]<=e[1]&&t._origin[s]>=e[0]})));for(var c=this.scales[s],h=0;h<t.length;h++){var u=t[h],d=this.getDrawCfg(u),p=c.scale(u._origin[s]);this.drawGrayScaleBlurredCircle(d.x-i.x,d.y-r.y,this.radius+this.blur,p,l)}var f=l.getImageData(0,0,o,a);this.clearShadowCanvasCtx(),this.colorize(f),l.putImageData(f,0,0),(new Image).src=l.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",i.x),this.imageShape.attr("y",r.y),this.imageShape.attr("width",o),this.imageShape.attr("height",a),this.imageShape.attr("img",l.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(ln.__assign)(Object(ln.__assign)({},e),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map((function(t){return t._origin}))},e}(Nn));var rd=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.view=n.options.view,n.init(),n}return Object(ln.__extends)(e,t),e.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},e.prototype.render=function(){if("color"===this.options.type)this.renderColorBackground();else if("image"===this.options.type)this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},e.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},e.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},e.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},e.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},e.prototype.getCoordinate=function(){var t;return Object(I.each)(this.view.geometries,(function(e){"heatmap"===e.type&&(t=e.coordinate)})),t},e}($.default),od={background:{Ctr:rd},legend:{Ctr:function(){function t(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&"dark"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=Object(I.deepMix)({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}return t.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},t.prototype.render=function(){var t=this.getScales(),e=this.options.plot.options.colorField;this.colorScale=t[e];var n=this.colorScale,i=n.min,r=n.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(i,r,o):this.renderVertical(i,r,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},t.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){var t=this.container.getBBox();return new Ya(this.x,this.y,t.width,t.height)},t.prototype.renderVertical=function(t,e,n){var i=this,r=this.width,o=this.height/n.length,a=this.container.addGroup(),s=Object(I.clone)(n).reverse(),l=(e-t)/n.length;Object(I.each)(s,(function(t,n){var s=o*n,c={to:e-l*n,from:e-l*(n+1)};i.container.addShape("rect",{attrs:{x:0,y:s,width:r,height:o,fill:t,opacity:1,cursor:"pointer"},name:"legend"}).set("info",c);var h=i.getDataSlide(c);i.dataSlides[c.from+"-"+c.to]={mode:"active",data:h},a.addShape("path",{attrs:Object(ln.__assign)({path:[["M",0,s+o],["L",r,s+o]]},i.options.gridlineStyle)})})),this.container.addShape("text",{attrs:Object(ln.__assign)({text:e,x:r/2,y:-4,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:Object(ln.__assign)(Object(ln.__assign)({text:t,x:r/2,y:this.height+4,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),a.addShape("path",{attrs:Object(ln.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},t.prototype.renderHorizontal=function(t,e,n){var i=this,r=this.width/n.length,o=this.height,a=this.container.addGroup(),s=(e-t)/n.length;Object(I.each)(n,(function(t,e){var n=r*e,l={from:s*e,to:s*(e+1)};i.container.addShape("rect",{attrs:{x:n,y:0,width:r,height:o,fill:t,opacity:.8,cursor:"pointer"},name:"legend"}).set("info",l),a.addShape("path",{attrs:Object(ln.__assign)({path:[["M",n+r,0],["L",n+r,o]]},i.options.gridlineStyle)})})),this.container.addShape("text",{attrs:Object(ln.__assign)(Object(ln.__assign)({text:t,x:-4,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:Object(ln.__assign)({text:e,x:this.width+4,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),a.addShape("path",{attrs:Object(ln.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},t.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},t.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?.5*this.options.plot.options.width:10},t.prototype.getDefaultHeight=function(){return"vertical"===this.layout?.5*this.options.plot.options.height:10},t.prototype.legendLayout=function(){var t=this,e=this.options.plot.getPlotTheme().bleeding;Object(I.isArray)(e)&&Object(I.each)(e,(function(n,i){"function"==typeof e[i]&&(e[i]=e[i](t.options.plot.options))}));var n=this.container.getBBox(),i=0,r=0,o=this.options.position.split("-"),a=this.options.plot.width,s=this.options.plot.height;"left"===o[0]?i=e[3]:"right"===o[0]?i=a-e[1]-n.width:"center"===o[1]?i=(a-n.width)/2:"left"===o[1]?i=e[3]:"right"===o[1]&&(i=this.options.plot.width-e[1]-n.width),"bottom"===o[0]?r=s-e[2]-n.height:"top"===o[0]?r=this.getTopPosition(e):"center"===o[1]?r=(s-n.height)/2:"top"===o[1]?r=e[0]:"bottom"===o[1]&&(r=s-e[2]-n.height),this.x=i,this.y=r,this.container.translate(i,r)},t.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},t.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},t.prototype.addInteraction=function(){var t=this,e=this.options.plot.options.colorField;this.container.on("click",(function(n){var i=n.target;if("legend"===i.get("name")){var r=i.get("info"),o=r.from+"-"+r.to,a=t.dataSlides[o];"active"===a.mode?(a.mode="deactive",i.stopAnimate(),i.animate({opacity:.1},200)):(a.mode="active",i.stopAnimate(),i.animate({opacity:1},200));var s=t.getFilteredData();s.length>0&&(t.view.changeData(s),t.view.scale(e,{min:t.colorScale.min,max:t.colorScale.max,nice:t.colorScale.nice}),t.view.render())}}))},t.prototype.getFilteredData=function(){var t=[];return Object(I.each)(this.dataSlides,(function(e){"active"==e.mode&&t.push.apply(t,e.data)})),t},t.prototype.getDataSlide=function(t){var e=[],n=this.options.plot.options,i=n.colorField,r=n.data;return Object(I.each)(r,(function(n){var r=n[i];r>=t.from&&r<t.to&&e.push(n)})),e},t.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},t.prototype.getScales=function(){var t;return Object(I.each)(this.view.geometries,(function(e){"heatmap"===e.type&&(t=e.scales)})),t},t}(),padding:"outer"}};var ad=Wa({heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"});Object(I.assign)(Ga,ad);var sd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="densityHeatmap",e.plotComponents=[],e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),t.prototype.afterRender.call(this)},e.prototype.destroy=function(){Object(I.each)(this.plotComponents,(function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.scale=function(){var e=this.options,n={};n[e.xField]={},Object(I.has)(e,"xAxis")&&hc(n[e.xField],e.xAxis),n[e.yField]={},Object(I.has)(e,"yAxis")&&hc(n[e.yField],e.yAxis),this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.geometryParser=function(){return"heatmap"},e.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},e.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=Object(I.deepMix)(e,t.point):t.point=e;var n=cc("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},e.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&Vs("label",Object(ln.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e))},e.prototype.legend=function(){this.setConfig("legends",!1)},e.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,u)},e.prototype.renderPlotComponents=function(){var t=this;Object(I.each)(this.plotComponents,(function(t){t.destroy()}));Object(I.each)(["legend","background"],(function(e){var n=Object(ln.__assign)({view:t.view,plot:t},t.options[e]),i=function(t,e,n){if(t.options[e]&&t.options[e].visible){var i=od[e],r=new i.Ctr(n);return i.padding&&t.paddingController.registerPadding(r,i.padding),r}}(t,e,n);i&&(i.render(),t.plotComponents.push(i))}))},e}(Fl),ld=sd;Wl("densityHeatmap",sd);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="densityHeatmap",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=ld.getDefaultOptions}($l);function cd(t,e,n,i,r){var o=n*r,a=i*r;return[["M",t-o/2,e+a/2],["Q",t-o/2,e,t-o/2,e-a/2],["Q",t,e-a/2,t+o/2,e-a/2],["Q",t+o/2,e,t+o/2,e+a/2],["Q",t,e+a/2,t-o/2,e+a/2],["Z"]]}function hd(t,e,n){return[["M",t,e],["l",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,-2*n,0],["Z"]]}function ud(t,e,n){return[["M",t-n,e],["Q",t-n,e-n,t,e-n],["Q",t+n,e-n,t+n,e],["Q",t+n,e+n,t,e+n],["Q",t-n,e+n,t-n,e],["Z"]]}En("polygon","rect",{draw:function(t,e){var n=this.parsePoints(t.points),i=n[2].x-n[0].x,r=n[0].y-n[1].y,o=cd(n[0].x+i/2,n[1].y+r/2,i,r,t.size);return e.addShape("path",{attrs:Object(I.deepMix)({},{path:o,fill:t.color,opacity:1},t.style)})}}),En("point","curvePoint",{draw:function(t,e){var n=hd(t.x,t.y,t.size);return e.addShape("path",{attrs:Object(I.deepMix)({},{path:n,fill:t.color,opacity:1},t.style)})}});var dd=function(){function t(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.init()}return t.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",(function(){t.clear(),t.plot.canvas.draw()}))},t.prototype.render=function(){var t=this,e=this.view.geometries[0].elements;Object(I.each)(e,(function(e){var n=e.shape,i=t.options,r=i.style,o=i.offsetX,a=i.offsetY,s=t.options.formatter,l=s?s(t.getContent(n)):t.getContent(n),c=t.getPosition(n),h=t.getTextColor(n),u=t.container.addShape("text",{attrs:Object(I.deepMix)({},r,{x:c.x+o,y:c.y+a,text:l,fill:h,textAlign:"center",textBaseline:"middle"}),name:"label"});t.options.adjustPosition&&t.adjustLabel(u,n)}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},t.prototype.getBBox=function(){return this.container.getBBox()},t.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(I.clone)(t)}},t.prototype.getContent=function(t){return t.get("origin").data[this.plot.options.colorField]},t.prototype.getPosition=function(t){var e=t.getBBox();return{x:e.minX+e.width/2,y:e.minY+e.height/2}},t.prototype.getTextColor=function(t){if(this.options.adjustColor){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,i=_h(e);return Sh([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*i[0]+.587*i[1]+.114*i[2])/n)}return this.options.style.fill},t.prototype.adjustLabel=function(t,e){var n=t.getBBox(),i=e.getBBox();(n.width>i.width||n.height>i.height)&&t.attr("text","")},t}(),pd={label:{Ctr:dd},legend:{Ctr:function(){function t(t){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var e=this.getDefaultOptions();this.options=Object(I.deepMix)({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}return t.prototype.init=function(){var t=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container&&this.container.remove(),this.container=e.addGroup(),this.view.on("beforerender",(function(){t.clear(),t.options.plot.canvas.draw()}))},t.prototype.render=function(){var t=this.view.geometries[0].scales,e=this.options.plot.options.colorField;this.colorScale=t[e];var n=this.colorScale,i=n.min,r=n.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(i,r,o):this.renderVertical(i,r,o),this.legendLayout(),this.addInteraction()},t.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},t.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},t.prototype.getBBox=function(){var t=this.container.getBBox();return new Ya(this.x,this.y,t.width,t.height)},t.prototype.renderVertical=function(t,e,n){var i=this,r=(e-t)/(n.length-1),o=1/(n.length-1),a=this.height/(n.length-1),s="l(90)";Object(I.each)(n,(function(t,e){s+=o*e+":"+t+" "})),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),Object(I.each)(n,(function(t,e){var n=a*e;i.container.addShape("path",{attrs:Object(ln.__assign)({path:[["M",0,n],["L",i.width,n]]},i.options.ticklineStyle)});var o=Math.round(r*e);i.container.addShape("text",{attrs:Object(ln.__assign)({text:o,textAlign:"left",textBaseline:"middle",x:i.width+4,y:n},i.options.text.style),name:"legend-label"})}));var l=[["M",-10,-7],["L",0,0],["L",-10,7],["Z"]];this.anchor=this.container.addShape("path",{attrs:Object(ln.__assign)({path:l},this.options.anchorStyle)}),this.anchor.set("visible",!1)},t.prototype.renderHorizontal=function(t,e,n){var i=this,r=(e-t)/(n.length-1),o=1/(n.length-1),a=this.width/(n.length-1),s="l(0)";Object(I.each)(n,(function(t,e){s+=o*e+":"+t+" "})),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),Object(I.each)(n,(function(t,e){var n=a*e;i.container.addShape("path",{attrs:Object(ln.__assign)({path:[["M",n,0],["L",n,i.height]]},i.options.ticklineStyle),name:"legend-label"});var o=Math.round(r*e);i.container.addShape("text",{attrs:Object(ln.__assign)({text:o,textAlign:"center",textBaseline:"top",x:n,y:i.height+4},i.options.text.style)})}));var l=[["M",0,0],["L",-7,-10],["L",7,-10],["Z"]];this.anchor=this.container.addShape("path",{attrs:Object(ln.__assign)({path:l},this.options.anchorStyle)}),this.anchor.set("visible",!1)},t.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},t.prototype.getDefaultWidth=function(){return"horizontal"===this.layout?this.view.coordinateBBox.width:10},t.prototype.getDefaultHeight=function(){return"vertical"===this.layout?this.view.coordinateBBox.height:10},t.prototype.legendLayout=function(){var t=this,e=this.view.coordinateBBox,n=this.options.plot.getPlotTheme().bleeding;Object(I.isArray)(n)&&Object(I.each)(n,(function(e,i){"function"==typeof n[i]&&(n[i]=n[i](t.options.plot.options))}));var i=this.container.getBBox(),r=0,o=0,a=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;"left"===a[0]?r=n[3]:"right"===a[0]?r=s-n[1]-i.width:"center"===a[1]?r=this.width===e.width?e.x:(s-i.width)/2:"left"===a[1]?r=n[3]:"right"===a[1]&&(r=this.options.plot.width-n[1]-i.width),"bottom"===a[0]?o=l-n[2]-i.height:"top"===a[0]?o=this.getTopPosition(n):"center"===a[1]?o=this.height===e.height?e.y:(l-i.height)/2:"top"===a[1]?o=n[0]:"bottom"===a[1]&&(o=l-n[2]-i.height),this.x=r,this.y=o,this.container.translate(r,o)},t.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},t.prototype.addInteraction=function(){var t=this,e=("rect"===this.options.plot.options.shapeType?"polygon":"point")+":"+this.options.triggerOn,n=this.options.plot.options.colorField,i=this.colorScale,r=i.min,o=i.max,a=function(e){var i=(e.data.data[n]-r)/(o-r);t.moveAnchor(i)};this.view.on(e,a),this.interactiveEvents[e]={target:this.view,handler:a};var s=function(){t.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",s),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:s}},t.prototype.moveAnchor=function(t){if(this.anchor.set("visible",!0),"vertical"===this.layout){var e=this.height*t;(n=[1,0,0,0,1,0,0,0,1])[7]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:n},400,"easeLinear")}else{var n;e=this.width*t;(n=[1,0,0,0,1,0,0,0,1])[6]=e,this.anchor.stopAnimate(),this.anchor.animate({matrix:n},400,"easeLinear")}},t.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},t.prototype.offEvent=function(){Object(I.each)(this.interactiveEvents,(function(t,e){var n=t.target,i=t.handler;n.off(e,i)}))},t}(),padding:"outer"}};var fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.gridSize=[],e.plotComponents=[],e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),t.prototype.afterRender.call(this)},e.prototype.changeShape=function(t){if(this.options.shapeType!==t)if(this.options.shapeType=t,"rect"===t){var e=this.getShape();this.circleToRect(e)}else if("circle"===t){e=this.getShape();this.rectToCircle(e)}},e.prototype.mappingSize=function(t){if(!this.options.sizeField||this.options.sizeField!==t){this.options.sizeField=t;var e=Object(I.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=new(Object(Z.getScale)("linear"))({min:n,max:i}),o=this.getShape();"rect"===this.options.shapeType?this.rectSizeMapping(o,r,t):"circle"===this.options.shapeType&&this.circleSizeMapping(o,r,t)}},e.prototype.disableMappingSize=function(){var t=this.getShape();"rect"===this.options.shapeType?this.rectDisableSizeMapping(t):"circle"===this.options.shapeType&&this.circleDisableSizeMapping(t)},e.prototype.destroy=function(){Object(I.each)(this.plotComponents,(function(t){t.destroy()})),t.prototype.destroy.call(this)},e.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},e.prototype.geometryParser=function(){return""},e.prototype.coord=function(){},e.prototype.legend=function(){this.setConfig("legends",!1)},e.prototype.addGeometry=function(){var t;(this.gridSize=this.getGridSize(),"rect"===this.options.shapeType)?t=this.addRect():t=this.addCircle();if(this.options.shapeStyle){var e={};Object(I.isFunction)(this.options.shapeStyle)?(e.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],e.callback=this.options.shapeStyle):Object(I.isObject)(this.options.shapeStyle)&&(e.cfg=this.options.shapeStyle),t.style=e}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},e.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},e.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},e.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},e.prototype.getGridSize=function(){if("auto"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,i=e.xField,r=e.yField,o=e.data,a=t.width-n[1]-n[3],s=t.height-n[0]-n[2];return[a/Object(I.valuesOfKey)(o,i).length,s/Object(I.valuesOfKey)(o,r).length]},e.prototype.circleToRect=function(t){var e=this,n=this.gridSize;Object(I.each)(t,(function(t){var i=t.get("origin"),r=i.x,o=i.y,a=i.size,s=2*a/Math.min(n[0],n[1]);e.options.sizeField||(s=1);var l=ud(r,o,a),c=cd(r,o,n[0],n[1],s);t.stopAnimate(),t.attr("path",l),t.animate({path:c},500,"easeLinear")}))},e.prototype.rectToCircle=function(t){var e=this;Object(I.each)(t,(function(t){var n=t.get("coord"),i=t.get("origin").points,r=[];Object(I.each)(i,(function(t){r.push(n.convertPoint(t))}));var o=t.getBBox(),a=o.width,s=o.height,l=o.minX+a/2,c=o.minY+s/2,h=e.options.sizeField?1:.9,u=ud(l,c,Math.min(a,s)/2*h),d=hd(l,c,Math.min(a,s)/2*h);t.stopAnimate(),t.animate({path:u},500,"easeLinear",(function(){t.attr("path",d)}))}))},e.prototype.rectSizeMapping=function(t,e,n){Object(I.each)(t,(function(t){var i=t.get("origin").data,r=.3+.6*e.scale(i[n]);t.get("origin").size=r;var o=t.getBBox(),a=o.width,s=o.height,l=cd(o.minX+a/2,o.minY+s/2,a,s,r);t.stopAnimate(),t.animate({path:l},500,"easeLinear")}))},e.prototype.circleSizeMapping=function(t,e,n){Object(I.each)(t,(function(t){var i=t.get("origin").data,r=.3+.6*e.scale(i[n]),o=t.get("origin"),a=o.x,s=o.y,l=o.size,c=hd(a,s,l*r);t.get("origin").size=l*r,t.stopAnimate(),t.animate({path:c},500,"easeLinear")}))},e.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,Object(I.each)(t,(function(t){var n=t.get("origin"),i=n.x,r=n.y,o=.9*Math.min(e.gridSize[0],e.gridSize[1]);t.get("origin").size=o/2;var a=hd(i,r,o/2);t.stopAnimate(),t.animate({path:a},500,"easeLinear")}))},e.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,Object(I.each)(t,(function(t){var n=t.getBBox(),i=n.width,r=n.height,o=cd(n.minX+i/2,n.minY+r/2,e.gridSize[0],e.gridSize[1],1);t.get("origin").size=1,t.stopAnimate(),t.animate({path:o},500,"easeLinear")}))},e.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return Object(I.each)(t,(function(t){e.push(t.shape)})),e},e.prototype.renderPlotComponents=function(){var t=this;Object(I.each)(this.plotComponents,(function(t){t.destroy()})),this.plotComponents=[];Object(I.each)(["label","legend"],(function(e){var n=Object(ln.__assign)({view:t.view,plot:t},t.options[e]),i=function(t,e,n){if(t.options[e]&&t.options[e].visible){var i=pd[e],r=new i.Ctr(n);return i.padding&&t.paddingController.registerPadding(r,i.padding),r}}(t,e,n);i&&(i.render(),t.plotComponents.push(i))}))},e}(Fl),gd=fd;Wl("heatmap",fd);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="heatmap",t.prototype.createLayers.call(this,n)},e.prototype.changeShape=function(t){this.layers[0].changeShape(t)},e.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},e.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},e.prototype.getSizeScale=function(){return this.layers[0].getSizeScale()},e.getDefaultOptions=gd.getDefaultOptions}($l);var md=function(t){function e(e){var n=Object(I.deepMix)({},e,{itemTpl:'<div data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></div>'},e);return t.call(this,n)||this}return Object(ln.__extends)(e,t),e}(Pa.a);window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message";return window.addEventListener("message",(function(n){if("string"==typeof n.data&&n.data.substr(0,e.length)===e){n.stopImmediatePropagation();var i=parseInt(n.data.substr(e.length),36);t[i]&&(t[i](),t[i]=void 0)}}),!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},function(n){var i=t.length;return t.push(n),window.postMessage(e+i.toString(36),"*"),i}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});var vd=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),yd=function(){if(vd){for(var t,e,n=document.createElement("canvas").getContext("2d"),i=20;i;){if(n.font=i.toString(10)+"px sans-serif",n.measureText("").width===t&&n.measureText("m").width===e)return i+1;t=n.measureText("").width,e=n.measureText("m").width,i--}return 0}}(),xd=function(t){for(var e,n,i=t.length;i;e=Math.floor(Math.random()*i),n=t[--i],t[i]=t[e],t[e]=n);return t},bd=function(t,e){if(vd){Array.isArray(t)||(t=[t]),t.forEach((function(e,n){if("string"==typeof e){if(t[n]=document.getElementById(e),!t[n])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."}));var n={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:yd,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},i=[];if(e)for(var r in e)if("wordStyle"===r)for(var o in e[r])o in n&&(n[o]=e[r][o]);else r in n&&(n[r]=e[r]);if(n.minFontSize<yd&&(n.minFontSize=yd),n.minFontSize>n.maxFontSize)console.error("minSize cant bigger than maxSize");else{for(var a=0,s=0;s<n.data.length;s++)a<n.data[s].weight&&(a=n.data[s].weight);var l=!1;if("function"!=typeof n.shape)switch(n.shape){case"circle":default:n.shape="circle";break;case"cardioid":n.shape=function(t){return 1-Math.sin(t)},l=!0;break;case"diamond":n.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":n.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":n.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-backward":n.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-up":n.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-down":n.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":n.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":n.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}n.gridSize=Math.max(Math.floor(n.gridSize),4);var c,h,u,d,p,f,g,m=n.gridSize,v=m-n.maskGapWidth,y=Math.abs(n.maxRotation-n.minRotation),x=Math.min(n.maxRotation,n.minRotation),b=n.rotationSteps;switch(n.color){case"random-dark":g=function(){return G(10,50)};break;case"random-light":g=function(){return G(50,90)};break;default:"function"==typeof n.color&&(g=n.color)}var w=null;"function"==typeof n.classes&&(w=n.classes);var C,_,S=!1,O=[],M=function(t){var e,n,i=t.currentTarget,r=i.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY);var o=e-r.left,a=n-r.top,s=Math.floor(o*(i.width/r.width||1)/m),l=Math.floor(a*(i.height/r.height||1)/m);return O&&O[s]&&O[s][l]},k=function(t,e,n,i){i(t?t.id:-1)},A=function(t){var e=M(t);if(C!==e&&(!(_&&e&&e.item)||Object(I.get)(e,["item","twiceRender"]))){if(!e)return n.onWordCloudHover(void 0,void 0,t,V),void(n.active&&k(void 0,0,0,V));n.onWordCloudHover(e.item,e.dimension,t,V),n.active&&k(e.item,e.dimension,0,V),C=e}},T=function(t){var e=M(t);e&&(n.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},D=[],P=function(t){if(D[t])return D[t];var e=8*t,i=e,r=[];for(0===t&&r.push([d[0],d[1],0]);i--;){var o=1;"circle"!==n.shape&&(o=n.shape(i/e*2*Math.PI)),r.push([d[0]+t*o*Math.cos(-i/e*2*Math.PI),d[1]+t*o*Math.sin(-i/e*2*Math.PI)*n.ellipticity,i/e*2*Math.PI])}return D[t]=r,r},E=function(){return n.abortThreshold>0&&(new Date).getTime()-f>n.abortThreshold},j=function(t,e,i){var r=function(t){var e=Math.min(Math.max(n.minFontSize,n.maxFontSize*t/a),n.maxFontSize);return _?e*n.fontScale:e}(e);if(r<=0)return!1;var o=1;r<yd&&(o=function(){for(var t=2;t*r<yd;)t+=2;return t}());var s=document.createElement("canvas"),l=s.getContext("2d",{willReadFrequently:!0});l.font=n.fontWeight+" "+(r*o).toString(10)+"px "+n.fontFamily;var c=l.measureText(t).width/o,h=Math.max(r*o,l.measureText("m").width,l.measureText("").width)/o,u=c+2*h,d=3*h,p=Math.ceil(u/m),f=Math.ceil(d/m);u=p*m,d=f*m;var g,v=-c/2,y=.4*-h,x=Math.ceil((u*Math.abs(Math.sin(i))+d*Math.abs(Math.cos(i)))/m),b=Math.ceil((u*Math.abs(Math.cos(i))+d*Math.abs(Math.sin(i)))/m),w=b*m,C=x*m;s.setAttribute("width",w),s.setAttribute("height",C),l.scale(1/o,1/o),l.translate(w*o/2,C*o/2),l.rotate(-i),l.font=n.fontWeight+" "+(r*o).toString(10)+"px "+n.fontFamily,l.fillStyle="#000",l.textBaseline="middle",l.fillText(t,v*o,(y+.5*r)*o);try{g=l.getImageData(0,0,w,C).data}catch(t){return!1}if(E())return!1;for(var S,O,M,k=[],A=b,T=[x/2,b/2,x/2,b/2];A--;)for(S=x;S--;){M=m;t:{for(;M--;)for(O=m;O--;)if(g[4*((S*m+M)*w+(A*m+O))+3]){k.push([A,S]),A<T[3]&&(T[3]=A),A>T[1]&&(T[1]=A),S<T[0]&&(T[0]=S),S>T[2]&&(T[2]=S);break t}0}}return{mu:o,occupied:k,bounds:T,gw:b,gh:x,fillTextOffsetX:v,fillTextOffsetY:y,fillTextWidth:c,fillTextHeight:h,fontSize:r}},L=function(e,r,o,a,s,l,c,h,u,d,p){var f=o.fontSize,v=n.color,y=n.classes;if(p){var x=z(d);v=x?x.color:n.color}else v=g?g(a,s,f,l,c):n.color,y=w?w(a,s,f,l,c):n.classes;var b=o.bounds;b[3],b[0],b[1],b[3],b[2],b[0],t.forEach((function(t){if(t.getContext){var g=t.getContext("2d"),x=o.mu;g.save();var b=n.fontWeight+" "+(f*x).toString(10)+"px "+n.fontFamily;g.scale(1/x,1/x),g.font=b,g.fillStyle=v;var w=(e+o.gw/2)*m*x,C=(r+o.gh/2)*m*x;g.translate(w,C),0!==h&&g.rotate(-h),g.textBaseline="middle",n.selected===d&&(g.shadowColor=n.shadowColor,g.shadowBlur=n.shadowBlur),g.fillText(a,o.fillTextOffsetX*x,(o.fillTextOffsetY+.5*f)*x),p||i.push({gx:e,gy:r,info:o,word:a,weight:s,distance:l,theta:c,rotateDeg:h,attributes:u,id:d,color:v}),g.restore()}else{var _=document.createElement("span"),S="";S="rotate("+-h/Math.PI*180+"deg) ",1!==o.mu&&(S+="translateX(-"+o.fillTextWidth/4+"px) scale("+1/o.mu+")");var O={position:"absolute",display:"block",font:n.fontWeight+" "+f*o.mu+"px "+n.fontFamily,left:(e+o.gw/2)*m+o.fillTextOffsetX+"px",top:(r+o.gh/2)*m+o.fillTextOffsetY+"px",width:o.fillTextWidth+"px",height:o.fillTextHeight+"px",lineHeight:f+"px",whiteSpace:"nowrap",transform:S,webkitTransform:S,msTransform:S,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var M in v&&(O.color=v),_.textContent=a,O)_.style[M]=O[M];if(u)for(var k in u)_.setAttribute(k,u[k]);y&&(_.className+=y),t.appendChild(_)}}))},B=function(e,n,i,r,o){if(!(e>=h||n>=u||e<0||n<0)){if(c[e][n]=!1,i)t[0].getContext("2d").fillRect(e*m,n*m,v,v);S&&(O[e][n]={item:o,dimension:r})}},N=function(e,i,r,o,a,s,l,d){var p=Math.floor(e[0]-i.gw/2),f=Math.floor(e[1]-i.gh/2);i.gw,i.gh;return!!function(t,e,i,r,o){for(var a=o.length;a--;){var s=t+o[a][0],l=e+o[a][1];if(s>=h||l>=u||s<0||l<0){if(!n.drawOutOfBound)return!1}else if(!c[s][l])return!1}return!0}(p,f,0,0,i.occupied)&&(L(p,f,i,r,o,a,e[2],s,l,d,!1),function(e,i,r,o,a){var s,l,c=a.occupied,d=n.drawMask;if(d&&((s=t[0].getContext("2d")).save(),s.fillStyle=n.maskColor),S){var p=a.bounds;l={x:(e+p[3])*m,y:(i+p[0])*m,w:(p[1]-p[3]+1)*m,h:(p[2]-p[0]+1)*m}}for(var f=c.length;f--;){var g=e+c[f][0],v=i+c[f][1];if(!(g>=h||v>=u||g<0||v<0)){var y=z(a.item.id);y&&(a.item.color=y.color),B(g,v,d,l,a.item)}}d&&s.restore()}(p,f,0,0,i),{gx:p,gy:f,rot:s,info:i})},R=function(t){var e,i,r,o;Array.isArray(t)?(e=t[0],i=t[1]):(e=t.word,i=t.weight,r=t.attributes,o=t.id);var a=Object(I.isNil)(t.rotateDeg)?0===n.rotateRatio||Math.random()>n.rotateRatio?0:0===y?x:b>0?x+Math.floor(Math.random()*b)*y/b:x+Math.random()*y:t.rotateDeg,s=j(e,i,a);if(s&&(s.item=t),!s)return!1;if(E())return!1;if(!n.drawOutOfBound){var l=s.bounds;if(l[1]-l[3]+1>h||l[2]-l[0]+1>u)return!1}for(var c=p+1;c--;){var d=P(p-c);n.shuffle&&(d=[].concat(d),xd(d));for(var f=0;f<d.length;f++){var g=N(d[f],s,e,i,p-c,a,r,o);if(g)return g}}return null},F=function(e,n,i){if(n)return!t.some((function(t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!0,n,i||{}),!t.dispatchEvent(r)}),this);t.forEach((function(t){var r=document.createEvent("CustomEvent");r.initCustomEvent(e,!0,n,i||{}),t.dispatchEvent(r)}),this)},z=function(t){for(var e=0;e<i.length;e++){var n=i[e];if(i[e].id===t)return n}},V=function(r){if(void 0===r){var o=t[0];if(o.getContext)h=Math.ceil(o.width/m),u=Math.ceil(o.height/m);else{var a=o.getBoundingClientRect();h=Math.ceil(a.width/m),u=Math.ceil(a.height/m)}if(F("wordcloudstart",!0)){var s,g,v;if(d=n.origin?[n.origin[0]/m,n.origin[1]/m]:[h/2,u/(l?4:2)],p=Math.floor(Math.sqrt(h*h+u*u)),c=[],!o.getContext||n.clearCanvas)for(t.forEach((function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=n.backgroundColor,e.clearRect(0,0,h*(m+1),u*(m+1)),e.fillRect(0,0,h*(m+1),u*(m+1))}else t.textContent="",t.style.backgroundColor=n.backgroundColor,t.style.position="relative"})),s=h;s--;)for(c[s]=[],g=u;g--;)c[s][g]=!0;else{var y=document.createElement("canvas").getContext("2d");y.fillStyle=n.backgroundColor,y.fillRect(0,0,1,1);var x,b,w=y.getImageData(0,0,1,1).data,M=o.getContext("2d").getImageData(0,0,h*m,u*m).data;for(s=h;s--;)for(c[s]=[],g=u;g--;){b=m;t:for(;b--;)for(x=m;x--;)for(v=4;v--;)if(M[4*((g*m+b)*h*m+(s*m+x))+v]!==w[v]){c[s][g]=!1;break t}!1!==c[s][g]&&(c[s][g]=!0)}M=y=w=void 0}if(n.onWordCloudHover||n.onWordCloudClick){for(S=!0,s=h+1;s--;)O[s]=[];n.onWordCloudHover&&o.addEventListener("mousemove",A),n.onWordCloudClick&&(o.addEventListener("click",T),o.addEventListener("touchstart",T),o.addEventListener("touchend",(function(t){t.preventDefault()})),o.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),o.addEventListener("wordcloudstart",(function t(){o.removeEventListener("wordcloudstart",t),o.removeEventListener("mousemove",A),o.removeEventListener("click",T),C=void 0}))}if(n.animatable){var k,D;v=0,0!==n.wait?(k=window.setTimeout,D=window.clearTimeout):(k=window.setImmediate,D=window.clearImmediate);var P=function(e,n){t.forEach((function(t){t.removeEventListener(e,n)}),this)},j=function t(){P("wordcloudstart",t),D(B)};!function(e,n){t.forEach((function(t){t.addEventListener(e,n)}),this)}("wordcloudstart",j);var B=k((function t(){if(v>=n.data.length)return D(B),F("wordcloudstop",!1),void P("wordcloudstart",j);f=(new Date).getTime();var e=R(n.data[v]),i=!F("wordclouddrawn",!0,{item:n.data[v],drawn:e});if(E()||i)return D(B),n.abort(),F("wordcloudabort",!1),F("wordcloudstop",!1),void P("wordcloudstart",j);v++,B=k(t,n.wait)}),n.wait)}else{e.maskImage&&t.forEach((function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=n.backgroundColor,e.clearRect(0,0,h*(m+1),u*(m+1)),e.fillRect(0,0,h*(m+1),u*(m+1))}}));for(var N=[],z=0;z<n.data.length;z++){var V=R(n.data[z]);V&&N.push(V)}if(N.length===n.data.length&&!_){for(t.forEach((function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=n.backgroundColor,e.clearRect(0,0,h*(m+1),u*(m+1)),e.fillRect(0,0,h*(m+1),u*(m+1))}})),s=h;s--;)for(c[s]=[],g=u;g--;)c[s][g]=!0;_=!0;for(var G=0;G<n.data.length;G++)R(Object(ln.__assign)(Object(ln.__assign)({},n.data[G]),{twiceRender:_}))}}}}else if(n.selected!==r&&t[0].getContext){n.selected=r;var H=t[0].getContext("2d");H.fillStyle=n.backgroundColor,H.clearRect(0,0,t[0].width,t[0].height),H.fillRect(0,0,t[0].width,t[0].height);for(var W=0;W<i.length;W++){var $=i[W];(!_||_&&Object(I.get)($,["info","item","twiceRender"]))&&L($.gx,$.gy,$.info,$.word,$.weight,$.distance,$.theta,$.rotateDeg,$.attributes,$.id,!0)}}};V()}}function G(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}};bd.isSupported=vd,bd.minFontSize=yd;var wd=bd,Cd=function(t){function e(e){var n=t.call(this,e)||this;return n._toolTipsAction=function(t,e,i,r){e?(n._toolTips.update({items:[{color:t.color||"red",name:t.word,value:t.weight}],x:i.offsetX,y:i.offsetY}),n._toolTips.show()):n._toolTips.hide(),n._toolTips.render(),n._configHoverAction&&n._configHoverAction(t,e,i,r)},n._configHoverAction=e.onWordCloudHover,n._enableToolTips=Object(I.get)(e,"tooltip.visible",!0),n.options=Object(I.deepMix)({},{width:400,height:400,enableToolTips:!0},e,{onWordCloudHover:n._enableToolTips?n._toolTipsAction:n._configHoverAction}),n}return Object(ln.__extends)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this._initToolTips()},e.prototype.render=function(){t.prototype.render.call(this),this._render()},e.prototype._initToolTips=function(){this._toolTips=new md({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},e.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},e.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+(new Date).getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},e.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),wd(this._targetCanvas,this.options)},e.prototype._handleG2PlotConfig=function(){var t,e,n,i=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||"#333",n=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=Object(I.deepMix)({},this.options,{minFontSize:i[0],maxFontSize:i[1],minRotation:r[0],maxRotation:r[1],active:t,shadowColor:e,shadowBlur:n})},e.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,i=e.maskImageContext,r=document.createElement("canvas").getContext("2d");r.fillStyle=this.options.backgroundColor||"#fff",r.fillRect(0,0,1,1);for(var o=r.getImageData(0,0,1,1).data,a=i.getImageData(0,0,n.width,n.height),s=i.createImageData(a),l=0;l<a.data.length;l+=4)a.data[l+3]>128?(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=o[3]):(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=254);i.putImageData(s,0,0),this._targetCanvas.getContext("2d").drawImage(n,0,0),this.options=Object(I.deepMix)({},this.options,{clearCanvas:!1}),this._start()},e.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},e.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,e.width,e.height),r=0;r<i.data.length;r+=4){var o=i.data[r]+i.data[r+1]+i.data[r+2];i.data[r+3]<128||o>750?(i.data[r]=255,i.data[r+1]=255,i.data[r+2]=255,i.data[r+3]=0):(i.data[r]=0,i.data[r+1]=0,i.data[r+2]=0,i.data[r+3]=255)}return n.putImageData(i,0,0),e},e}(Xa);!function(t){function e(e,n){return n.renderer="canvas",t.call(this,e,n)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="wordCloud",n.container=this.containerDOM,t.prototype.createLayers.call(this,n)}}($l);Wl("wordCloud",Cd);var _d=Wa({rose:"interval"});Object(I.assign)(Ga,_d);var Sd={rose:"interval"},Od={rose:"column"},Md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rose",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getOptions=function(e){var n=t.prototype.getOptions.call(this,e),i=e.sectorStyle,r=e.categoryField,o=e.radiusField;return Object(I.deepMix)({},n,{columnStyle:i,xField:r,yField:o})},e.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},e.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,e){return"g2"===t?Sd[e]:Od[e]},e.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},e.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},e.prototype.adjustRoseAdjust=function(){},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,d)},e.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=Object(I.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField];return Vs("label",Object(ln.__assign)({plot:this,labelType:"polar",fields:n},e))},e.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,i=t.type,r=t.content;"inner"===i?t.offset=n<0?n:-10:"outer"===i&&(t.offset=n>=0?n:10),r||(t.content=function(t,n){return""+n._origin[e]})}},e}(Fl),kd=Md;Wl("rose",Md);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="rose",t.prototype.createLayers.call(this,n)},e.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},e.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},e.getDefaultOptions=kd.getDefaultOptions}($l);Pl("funnel",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}});var Ad=n(117);function Td(t,e,n){return(1-n)*t+n*e}function Dd(t,e){var n=e||{},i=n.duration,r=void 0===i?200:i,o=n.delay,a=n.easing,s=n.callback,l=n.reverse,c=t.getBBox(),h=l?c.maxX:c.minX,u=(c.minY+c.maxY)/2,d=t.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});d.setMatrix(lt.ext.transform(d.getMatrix(),[["t",-h,-u],["s",0,1],["t",h,u]]));var p={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),d.remove()},delay:o}),t.animate(p,{duration:r,easing:a,delay:o}),s&&setTimeout((function(){return s(t)}),r+o)}function Pd(t,e){var n=e||{},i=n.duration,r=void 0===i?200:i,o=n.delay,a=n.easing,s=n.callback,l=n.reverse,c=t.getBBox(),h=(c.minX+c.maxX)/2,u=l?c.maxY:c.minY,d=t.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});d.setMatrix(lt.ext.transform(d.getMatrix(),[["t",-h,-u],["s",1,0],["t",h,u]]));var p={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),d.remove()},delay:o}),t.animate(p,{duration:r,easing:a,delay:o}),s&&setTimeout((function(){return s(t)}),r+o)}function Id(t,e,n){return(1-n)*t+n*e}En("interval","funnel-basic-rect",{getPoints:function(t){return t.size=1.8*t.size,function(t,e){void 0===e&&(e=!1);var n,i,r,o,a=t.x,s=t.y,l=t.y0,c=t.size;Object(I.isArray)(s)?(n=s[0],i=s[1]):(n=l,i=s),Object(I.isArray)(a)?(r=a[0],o=a[1]):(r=a-c/2,o=a+c/2);var h=[{x:r,y:n},{x:r,y:i}];return e?h.push({x:o,y:(i+n)/2}):h.push({x:o,y:i},{x:o,y:n}),h}(t)},draw:function(t,e){var n,i=Object(Ad.getStyle)(t,!1,!0),r=Object(I.get)(t,"data.__compare__"),o=this.parsePath(function(t,e){var n=[],i=t.points,r=t.nextPoints;if(e){var o=e.yValues,a=e.yValuesMax,s=e.yValuesNext,l=(i[0].y+i[1].y)/2,c=o[0]+o[1],h=o.map((function(t){return t/c/.5})),u=.9*(a[0]/(a[0]+a[1])-.5);if(Object(I.isNil)(r))n.push(["M",i[0].x,u+(i[0].y-l)*h[0]+l],["L",i[1].x,u+l],["L",i[2].x,u+l],["L",i[3].x,u+(i[3].y-l)*h[0]+l],["Z"]),n.push(["M",i[0].x,u+.002+l],["L",i[1].x,u+.002+(i[1].y-l)*h[1]+l],["L",i[2].x,u+.002+(i[2].y-l)*h[1]+l],["L",i[3].x,u+.002+l],["Z"]);else{var d=s[0]+s[1],p=s.map((function(t){return t/d/.5}));n.push(["M",i[0].x,u+(i[0].y-l)*h[0]+l-.001],["L",i[1].x,u+l-.001],["L",r[1].x,u+l-.001],["L",r[0].x,u+(r[3].y-l)*p[0]+l-.001],["Z"]),n.push(["M",i[0].x,u+l+.001],["L",i[1].x,u+(i[1].y-l)*h[1]+l+.001],["L",r[1].x,u+(r[2].y-l)*p[1]+l+.001],["L",r[0].x,u+l+.001],["Z"])}}else Object(I.isNil)(r)?n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]);return n}(t,r));return e.addShape("path",((n={name:"interval",attrs:Object(ln.__assign)(Object(ln.__assign)({},i),{path:o})}).__compare__=r,n))},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),En("interval","funnel-dynamic-rect",{draw:function(t,e){var n=Object(Ad.getStyle)(t,!1,!0),i=Object(I.get)(t,"data.__custom__"),r=this.parsePath(function(t,e){var n=e.reverse,i=e.ratioUpper,r=e.ratioLower,o=[],a=t[0],s=(t[1].x+t[2].x)/2;if(n){var l=r;r=i,i=l}var c=(a.x-s)*Td(.6,1.2,r)+s;o.push(["M",c,a.y]);for(var h=1,u=t.length;h<u;h++){var d=t[h].x;switch(h){case 1:case 2:d=(d-s)*Td(.6,1.2,i)+s;break;case 3:d=(d-s)*Td(.6,1.2,r)+s}o.push(["L",d,t[h].y])}return o.push(["L",c,a.y]),o.push(["z"]),o}(t.points,i));return e.addShape("path",{attrs:Object(ln.__assign)(Object(ln.__assign)({},n),{path:r})})},getMarker:function(t){var e=t.color,n=t.isInPolar;return{symbol:n?"circle":"square",style:{r:n?4.5:4,fill:e}}}}),Dd.animationName="funnelScaleInX",mn("funnelScaleInX",Dd),Pd.animationName="funnelScaleInY",mn("funnelScaleInY",Pd);var Ed={column:"interval"},jd={interval:"funnel"},Ld=function(t){function e(e){var n=t.call(this,e)||this;return n.type="funnel",n._shouldResetPercentages=!0,n._shouldResetLabels=!0,n._shouldResetCompareTexts=!0,n._legendsListenerAttached=!1,n._onLegendContainerMouseDown=function(t){var e=n.options;if(t.target.get("name").startsWith("legend-item")){var i=t.target.get("parent");if(i.set("unchecked",!i.get("unchecked")),n.refreshPercentages(),n.refreshLabels(),e.dynamicHeight){var r=n._findCheckedDataByMouseDownLegendItem(i);n._genCustomFieldForDynamicHeight(r)}if(e.compareField){r=n._findCheckedDataByMouseDownLegendItem(i);n._updateDataForCompare(r),n.refreshCompareTexts()}}},n.adjustProps(n.options),e.dynamicHeight&&n._genCustomFieldForDynamicHeight(n.getData()),e.compareField&&(n.options.data=n._reduceDataForCompare(n.getData())),n}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(e){var n={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:e.transpose?0:40,offsetY:e.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:Object(I.deepMix)({},Ta.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return Object(I.deepMix)({},t.getDefaultOptions.call(this),n)},e.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},e.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},e.prototype.axis=function(){this.setConfig("axes",!1)},e.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},Object(I.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},e.prototype.tooltip=function(){var e=this.options;e.compareField&&Object(I.deepMix)(e.tooltip,{htmlContent:function(t,e){var n,i,r,o;n=Me.CONTAINER_CLASS,i=Object(G.createDom)('<div class="'+n+'"></div>'),Object(G.modifyCSS)(i,Ea.a[n]);var a=i;if(t){n=Me.TITLE_CLASS,i=Object(G.createDom)('<div class="'+n+'"></div>'),Object(G.modifyCSS)(i,Ea.a[n]),a.appendChild(i);var s=i;n=Me.MARKER_CLASS,i=Object(G.createDom)('<span class="'+n+'"></span>'),Object(G.modifyCSS)(i,Ea.a[n]),Object(G.modifyCSS)(i,{width:"10px",height:"10px"}),s.appendChild(i),o=i,i=Object(G.createDom)("<span>"+t+"</span>"),s.appendChild(i)}if(e){n=Me.LIST_CLASS,i=Object(G.createDom)('<ul class="'+n+'"></ul>'),Object(G.modifyCSS)(i,Ea.a[n]),a.appendChild(i);var l=i;e.reduce((function(t,e){r||(r=e.color);var n=Object(I.get)(e,"point._origin.__compare__.compareValues");return Object(I.get)(e,"point._origin.__compare__.yValues").forEach((function(e,i){return t.push([n[i],e])})),t}),[]).forEach((function(t,e){var r=t[0],o=t[1];n=Me.LIST_ITEM_CLASS,i=Object(G.createDom)('<li class="'+n+'" data-index='+e+"></li>"),Object(G.modifyCSS)(i,Ea.a[n]),l.appendChild(i);var a=i;n=Me.NAME_CLASS,i=Object(G.createDom)('<span class="'+n+'">'+r+"</span>"),Object(G.modifyCSS)(i,Ea.a[n]),a.appendChild(i),n=Me.VALUE_CLASS,i=Object(G.createDom)('<span class="'+n+'">'+o+"</span>"),Object(G.modifyCSS)(i,Ea.a[n]),a.appendChild(i)}))}return r&&o&&Object(G.modifyCSS)(o,{backgroundColor:r}),a}}),t.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e)},e.prototype.animation=function(){var e=this;t.prototype.animation.call(this);var n=this.options;if(!1===n.animation)this.funnel.animate=!1;else{var i=this.getData(),r=Object(I.get)(n,"animation.appear.duration"),o=r/(i.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout((function(){e.fadeInPercentages(o),n.compareField&&e.fadeInCompareTexts(o),delete e._animationAppearTimeoutHandler}),r),this.funnel.animate=Object(I.deepMix)({},n.animation,{appear:{animation:n.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(t){return Object(I.findIndex)(i,(function(e){return Object(I.isEqual)(e,t)}))*o},callback:function(t){e.fadeInLabels(t,.5*o)}},enter:{animation:"fade-in"}})}},e.prototype.afterRender=function(){var e=this.options;if(this.resetLabels(),this.resetPercentages(),e.compareField&&this.resetCompareTexts(),"auto"==e.padding){var n=this._findPercentageContainer();n&&this.paddingController.registerPadding(n,"inner",!0);var i=this._findCompareTextContainer();i&&this.paddingController.registerPadding(i,"inner",!0)}(t.prototype.afterRender.call(this),!1===e.animation&&(this.fadeInLabels(),this.fadeInPercentages(),e.compareField&&this.fadeInCompareTexts()),this._legendsListenerAttached)||(this._legendsListenerAttached=!0,this.view.getController("legend").container.on("mousedown",this._onLegendContainerMouseDown))},e.prototype.updateConfig=function(e){e=this.adjustProps(e),t.prototype.updateConfig.call(this,e),this._legendsListenerAttached=!1},e.prototype.changeData=function(e){var n=this.options;if(!1!==n.animation&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),n.dynamicHeight){var i=this._findCheckedDataInNewData(e);this._genCustomFieldForDynamicHeight(i)}if(n.compareField){e=this._reduceDataForCompare(e);i=this._findCheckedDataInNewData(e);this._updateDataForCompare(i)}t.prototype.changeData.call(this,e),this.refreshPercentages(),this.refreshLabels(),n.compareField&&this.fadeInCompareTexts()},e.prototype.geometryParser=function(t,e){return"g2"===t?Ed[e]:jd[e]},e.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(Object(I.set)(t,"meta."+t.yField+".nice",!1),Object(I.set)(t,"tooltip.shared",!1)),t},e.prototype.resetPercentages=function(){var t=this;if(this._shouldResetPercentages){var e=this.options,n=e.percentage||{},i=n.offsetX,r=n.offsetY,o=n.spacing,a=n.line,s=void 0===a?{}:a,l=n.text,c=void 0===l?{}:l,h=n.value,u=void 0===h?{}:h,d=Date.now(),p=this._findPercentageContainer(!0);this._eachShape((function(n,a,l,h){if(a>0){var f=n.getBBox(),g=f.minX,m=f.maxX,v=f.maxY,y=f.minY,x=e.transpose?g:m,b=e.transpose&&e.compareField?v:y,w=t._findPercentageMembersInContainerByIndex(p,a,!0),C=w.line,_=w.text,S=w.value,O=[function(t,n,a,p,f){a&&(a.attr(Object(I.deepMix)({},s.style,{x1:t,y1:n,x2:e.transpose?t+i:t-i,y2:e.transpose?n-r:n+r,opacity:0})),a.set("adjustTimestamp",d));var g=0,m=0,v=function(){p&&(p.attr(Object(I.deepMix)({},c.style,{x:e.transpose?t+i:t-i-o-m-o,y:e.transpose?n-r-o:n+r,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),p.set("adjustTimestamp",d),g=p.getBBox().width)},y=function(){f&&(f.attr(Object(I.deepMix)({},u.style,{x:e.transpose?t+i+g+o:t-i-o,y:e.transpose?n-r-o:n+r,opacity:0,text:Object(I.isFunction)(u.formatter)?e.compareField?u.formatter(Object(I.get)(h,"__compare__.yValues.0"),Object(I.get)(l,"__compare__.yValues.0")):u.formatter(h[e.yField],l[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),f.set("adjustTimestamp",d),m=f.getBBox().width)};e.transpose?(v(),y()):(y(),v())},function(t,n,a,p,f){a&&(a.attr(Object(I.deepMix)({},s.style,{x1:t,y1:n,x2:t+i,y2:e.transpose?e.compareField?n+r:n-r:n+r,opacity:0})),a.set("adjustTimestamp",d));var g=0;p&&(p.attr(Object(I.deepMix)({},c.style,{x:e.transpose?t+i:t+i+o,y:e.transpose?e.compareField?n+r+o:n-r-o:n+r,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),p.set("adjustTimestamp",d),g=p.getBBox().width),f&&(f.attr(Object(I.deepMix)({},u.style,{x:e.transpose?t+i+g+o:t+i+o+g+o,y:e.transpose?e.compareField?n+r+o:n-r-o:n+r,opacity:0,text:Object(I.isFunction)(u.formatter)?e.compareField?u.formatter(Object(I.get)(h,"__compare__.yValues.1"),Object(I.get)(l,"__compare__.yValues.1")):u.formatter(h[e.yField],l[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),f.set("adjustTimestamp",d))}];if(e.compareField){var M=[g,y];[[M[0],M[1]],[x,b]].forEach((function(t,e){var n=t[0],i=t[1];return O[e](n,i,C&&C[e],_&&_[e],S&&S[e])}))}else O[1](x,b,C,_,S)}h=l,a++})),p.get("children").forEach((function(t){t.get("adjustTimestamp")!=d&&(t.attr({opacity:0}),p.set(t.get("id"),null),setTimeout((function(){return t.remove()}),0))}))}},e.prototype.fadeInPercentages=function(t,e){var n=this,i=this.options,r=this._findPercentageContainer(),o=function(e){var i={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};n._eachShape((function(o,a){var s=n._findPercentageMembersInContainerByIndex(r,a),l={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0},c=function(t){if(t&&"text"==t.get("type")){var e=t.getBBox(),n=e.minX,i=e.maxX,r=e.minY,o=e.maxY;n<l.minX&&(l.minX=n),i>l.maxX&&(l.maxX=i),r<l.minY&&(l.minY=r),o>l.maxY&&(l.maxY=o)}};if(Object(I.each)(s,(function(t){return Object(I.isArray)(t)?c(t[e]):c(t)})),l.minX>i.maxX||l.maxX<i.minX||l.minY>i.maxY||l.maxY<i.minY){var h=function(e){if(e){var n={opacity:1};t?e.animate(n,t):e.attr(n)}};Object(I.each)(s,(function(t){return Object(I.isArray)(t)?h(t[e]):h(t)})),Object(I.assign)(i,l)}}))};i.compareField?[0,1].forEach(o):o(),t&&e&&setTimeout(e,t)},e.prototype.fadeOutPercentages=function(t,e){var n=this,i=this._findPercentageContainer();this._eachShape((function(e,r){var o=n._findPercentageMembersInContainerByIndex(i,r),a=function(e){if(e){var n={opacity:0};t?e.animate(n,t):e.attr(n)}};Object(I.each)(o,(function(t){return Object(I.isArray)(t)?t.forEach(a):a(t)}))})),t&&e&&setTimeout(e,t)},e.prototype.refreshPercentages=function(t){var e=this;if(!1!==this.options.animation){var n=this._calcRefreshFadeDurations(),i=n.fadeOutDuration,r=n.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(i,(function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(r,t)}))}},e.prototype._findPercentageContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},e.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){void 0===n&&(n=!1);var i=this.options,r=i.percentage||{},o=r.visible,a=r.line,s=void 0===a?{}:a,l=r.text,c=void 0===l?{}:l,h=r.value,u=void 0===h?{}:h,d={line:void 0,text:void 0,value:void 0};if(!1===o||!t)return d;if(!1!==s.visible){var p=function(i){var r="_percentage-line-"+e+"-"+i,o=t.get(r);return!o&&n&&(o=t.addShape({id:r,type:"line",attrs:{}}),t.set(r,o)),o},f=i.compareField?[0,1].map(p):p(0);d.line=f}if(!1!==c.visible){p=function(i){var r="_percentage-text-"+e+"-"+i,o=t.get(r);return!o&&n&&(o=t.addShape({id:r,type:"text",attrs:{}}),t.set(r,o)),o};var g=i.compareField?[0,1].map(p):p(0);d.text=g}if(!1!==u.visible){p=function(i){var r="_percentage-value-"+e+"-"+i,o=t.get(r);return!o&&n&&(o=t.addShape({id:r,type:"text",attrs:{}}),t.set(r,o)),o};var m=i.compareField?[0,1].map(p):p(0);d.value=m}return d},e.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=Object(I.get)(t,"animation.update.duration"),n=Object(I.get)(t,"animation.enter.duration");return{fadeInDuration:.6*Math.min(n,e),fadeOutDuration:1.2*Math.max(n,e)}},e.prototype.resetLabels=function(){var t=this;if(this._shouldResetLabels){var e,n=this.options,i=n.xField,r=n.yField,o=Date.now(),a=this._getGeometry().labelsContainer,s=n.label||{},l=Object(I.deepMix)(Object(ln.__assign)({},this.theme.label),n.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"});this._eachShape((function(c,h,u,d){var p,f=c.get("element");0==h&&(e=u);var g=c.getBBox(),m=g.minX,v=g.maxX,y=g.minY,x=g.maxY,b=u[i],w=u[r];s.adjustColor&&(l.fill=t._getAdjustedTextFillByShape(c));var C,_=u.__compare__,S=((p={})._origin=u,p.element=f,p.elementIndex=d,p.mappingDatum=[].concat(f.getModel().mappingData)[0],p.mappingDatumIndex=0,p);C=s.formatter?s.formatter(b,S,h,w,e[r]):_?[0,1].map((function(){return""+w})).join(n.transpose?"\n\n":"    "):b+" "+w;var O=t._findLabelInContainerByIndex(a,h,!0),M=_?_.yValues[0]/(_.yValues[0]+_.yValues[1]):.5;O.attr(Object(ln.__assign)(Object(ln.__assign)({},l),{x:Id(m,v,n.transpose?.5:M),y:Id(y,x,n.transpose?M:.5),text:C})),O.set("adjustTimestamp",o)})),a.get("children").forEach((function(t){t.get("adjustTimestamp")!=o&&(t.attr({opacity:0}),a.set(t.get("id"),null),setTimeout((function(){return t.remove()})))}))}},e.prototype.fadeInLabels=function(t,e,n){var i=this,r=this._getGeometry().labelsContainer;this._eachShape((function(n,o){if(!t||t==n){var a=i._findLabelInContainerByIndex(r,o);if(a){var s=n.getBBox(),l=a.getBBox();if(l.minX>=s.minX&&l.maxX<=s.maxX&&l.minY>=s.minY&&l.maxY<=s.maxY){var c={opacity:1};e?a.animate(c,e):a.attr(c)}}}})),e&&n&&setTimeout(n,e)},e.prototype.fadeOutLabels=function(t,e,n){var i=this,r=this._getGeometry().labelsContainer;this._eachShape((function(n,o){if(!t||t==n){var a=i._findLabelInContainerByIndex(r,o);if(a){var s={opacity:0};e?a.animate(s,e):a.attr(s)}}})),e&&n&&setTimeout(n,e)},e.prototype.refreshLabels=function(t){var e=this;if(!1!==this.options.animation){var n=this._calcRefreshFadeDurations(),i=n.fadeOutDuration,r=n.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,i,(function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,r,t)}))}},e.prototype._findLabelInContainerByIndex=function(t,e,n){var i,r;if(void 0===n&&(n=!1),!1===(null===(i=this.options.label)||void 0===i?void 0:i.visible))return r;var o="_label-"+e;return!(r=t.get(o))&&n&&(r=t.addShape({id:o,type:"text",attrs:{}}),t.set(o,r)),r},e.prototype.resetCompareTexts=function(){if(this._shouldResetCompareTexts){var t,e,n=this.options;if(this._eachShape((function(n,i,r){0==i&&(t=n.get("parent").getBBox(),e=Object(I.get)(r,"__compare__"))})),t&&e&&!1!==Object(I.get)(n,"compareText.visible")){var i=this._findCompareTextContainer(!0),r=e.yValuesMax,o=e.compareValues,a=t.minX,s=t.maxX,l=t.minY,c=t.maxY,h=i.get("children");[0,1].forEach((function(t){var e=h[t];e||(e=i.addShape({type:"text"})),e.attr(Object(I.deepMix)({},Object(I.get)(n,"compareText.style"),{text:n.transpose?o[t]:t?"  "+o[t]:o[t]+"  ",x:n.transpose?a+Object(I.get)(n,"compareText.offsetX"):Id(a,s,r[0]/(r[0]+r[1])),y:n.transpose?Id(l,c,r[0]/(r[0]+r[1]))+(t?8:-8):l+Object(I.get)(n,"compareText.offsetY"),opacity:0,textAlign:n.transpose?"right":t?"left":"right",textBaseline:n.transpose&&t?"top":"bottom"}))}))}}},e.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var i=n.get("children");[0,1].forEach((function(e){var n=i[e];if(n){var r={opacity:1};t?n.animate(r,t):n.attr(r)}}))}t&&e&&setTimeout(e,t)},e.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var i=n.get("children");[0,1].forEach((function(e){var n=i[e];if(n){var r={opacity:0};t?n.animate(r,t):n.attr(r)}}))}t&&e&&setTimeout(e,t)},e.prototype.refreshCompareTexts=function(t){var e=this;if(!1!==this.options.animation){var n=this._calcRefreshFadeDurations(),i=n.fadeInDuration,r=n.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(r,(function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(i,t)}))}},e.prototype._findCompareTextContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},e.prototype._eachShape=function(t){var e,n,i=this._findCheckedData(this.getData()),r=i.length,o=0;null===(e=this._getGeometry())||void 0===e||e.elements.forEach((function(e,a){var s=e.shape,l=i[o];o<r&&t(s,o,l,n,a),n=l,o++}))},e.prototype._getGeometry=function(){return this.view.geometries[0]},e.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,i=_h(e);return Sh([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*i[0]+.587*i[1]+.114*i[2])/n)},e.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce((function(t,n){return t+n[e.yField]}),0),i=1;t.forEach((function(r,o){var a=r[e.yField],s=i-a/n;r.__custom__={datumIndex:o,dataLength:t.length,ratioUpper:i,ratioLower:s,reverse:e.transpose},i=s}))},e.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map((function(t){return!t.get("unchecked")}));return this.getData().filter((function(t,n){return e[n]}))},e.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container.findAll((function(t){return"legend-item"==t.get("name")})).filter((function(t){return t.get("unchecked")})).map((function(t){return t.get("id").replace("-legend-item-","")}));return t.filter((function(t){return!Object(I.contains)(n,t[e.xField])}))},e.prototype._findCheckedData=function(t){var e,n=this.options;if(null===(e=n.legend)||void 0===e?void 0:e.visible){var i=this.view.getController("legend").container.findAll((function(t){return"legend-item"==t.get("name")})).filter((function(t){return!t.get("unchecked")})).map((function(t){return t.get("id").replace("-legend-item-","")}));return t.filter((function(t){return Object(I.contains)(i,t[n.xField])}))}return this.processData(n.data)},e.prototype._reduceDataForCompare=function(t){var e,n=this.options,i=[-1/0,-1/0];return(t=t.reduce((function(t,r){var o,a=r[n.xField],s=r[n.yField],l=r[n.compareField];e||(e=l);var c=t.find((function(t){return t[n.xField]==a}));c||((o={})[n.xField]=a,o[n.yField]=0,o.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:n.transpose},c=o,t.push(c));var h=l==e?0:1;return c.__compare__.yValues[h]=s,i[h]<s&&(i[h]=s),c.__compare__.compareValues[h]=l,t}),[])).forEach((function(e,r){e[n.yField]=Object(I.get)(e,"__compare__.yValues",[]).reduce((function(t,e){return t+e}),0),Object(I.set)(e,"__compare__.yValuesMax",i),Object(I.set)(e,"__compare__.yValuesNext",Object(I.get)(t,r+1+".__compare__.yValues"))})),t},e.prototype._updateDataForCompare=function(t){var e=[-1/0,-1/0];t.forEach((function(t){var n=Object(I.get)(t,"__compare__.yValues");[0,1].forEach((function(t){n[t]>e[t]&&(e[t]=n[t])}))})),t.forEach((function(n,i){Object(I.set)(n,"__compare__.yValuesMax",e),Object(I.set)(n,"__compare__.yValuesNext",Object(I.get)(t,i+1+".__compare__.yValues"))}))},e}(Fl),Bd=Ld;Wl("funnel",Ld);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="funnel",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Bd.getDefaultOptions}($l);var Nd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="stackedRose",e.baseType="rose",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},e}(kd),Rd=Nd;Wl("stackedRose",Nd);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedRose",t.prototype.createLayers.call(this,n)},e.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},e.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},e.getDefaultOptions=Rd.getDefaultOptions}($l);var Fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="groupedRose",e.baseType="rose",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},e}(kd),zd=Fd;Wl("groupedRose",Fd);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="groupedRose",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=zd.getDefaultOptions}($l);var Vd=Wa({area:"area",line:"line",point:"point"});Object(I.assign)(Ga,Vd);Pl("radar",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+1,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+2,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}});var Gd={area:"area",line:"line",point:"point"},Hd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="radar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},e.prototype.init=function(){var e=this.options;e.xField=e.angleField,e.yField=e.radiusField,t.prototype.init.call(this)},e.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},e.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},e.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,e){return Gd[e]},e.prototype.scale=function(){var e=this.options,n={};n[e.angleField]={},Object(I.has)(e,"angleAxis")&&hc(n[e.angleField],e.angleAxis),n[e.radiusField]={},Object(I.has)(e,"radiusAxis")&&hc(n[e.radiusField],e.radiusAxis),this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.coord=function(){var t={type:"polar",cfg:{radius:this.options.radius}};this.setConfig("coordinate",t)},e.prototype.axis=function(){var t=this.options,e=Vs("axis",{plot:this,dim:"angle"}),n=Vs("axis",{plot:this,dim:"radius"}),i={};i[t.angleField]=e,i[t.radiusField]=n,this.setConfig("axes",i)},e.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=cc("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=cc("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var i=cc("point","guide",{plot:this});this.setConfig("geometry",i),this.point=i}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},e.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},e.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=Vs("label",Object(ln.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},e.prototype.annotation=function(){},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,p)},e}(Fl),Wd=Hd;Wl("radar",Hd);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="radar",t.prototype.createLayers.call(this,n)},e.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},e.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},e.prototype.getColorScale=function(){return this.layers[0].getColorScale()},e.getDefaultOptions=Wd.getDefaultOptions}($l);var $d=function(){function t(t){var e=this.getDefaultOptions();this.options=Object(I.deepMix)(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return t.prototype.render=function(){if(Object(I.isElement)(this.container)){this.wrapperNode=Object(G.createDom)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),Object(G.modifyCSS)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var t=this.html;this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y)}},t.prototype.updateHtml=function(t){Object(I.isType)(t,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(t)):this.wrapperNode.innerHTML=t,this.setDomPosition(this.x,this.y)},t.prototype.updatePosition=function(t,e){this.x=t,this.y=e,this.setDomPosition(t,e)},t.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},t.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},t.prototype.setDomPosition=function(t,e){var n=t,i=e,r=Object(G.getOuterWidth)(this.wrapperNode),o=Object(G.getOuterHeight)(this.wrapperNode);"middle"===this.options.alignX&&(n=t-r/2),"middle"===this.options.alignY&&(i=e-o/2),Object(G.modifyCSS)(this.wrapperNode,{top:Math.round(i)+"px",left:Math.round(n)+"px",transform:r>0?"none":"translate(-50%, -50%)"})},t}();var Yd=function(t){function e(e){var n=t.call(this,e)||this;return n.view=e.view,n.plot=e.plot,n.statisticClass=e.statisticClass,n.adjustOptions(),n}return Object(ln.__extends)(e,t),e.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,i=void 0===n?0:n,r=e.statistic;if(r&&!r.visible)return t;var o=this.options.htmlContent(i);return Object(I.isType)(o,"HTMLDivElement")?t.appendChild(o):t.innerHTML=function(t,e){return'<div class="liquid-guide-html '+e+"\" style=color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;>"+('<span class="liquid-guide-value" style=font-size:32px;font-weight:bold;color:#4D4D4D>'+t+"</span>")+"</div>"}(o,this.statisticClass),t},e.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,i=t.width,r=t.height;this.x=e+i/2,this.y=n+r/2},e}($d),Xd=Wa({liquid:"intervl",statistic:"annotation-text"});Object(I.assign)(Ga,Xd);var qd=Al(),Ud=function(t,e){e.color&&!t.fill&&(t.fill=e.color),Object(I.isNumber)(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},Zd=function(t,e){e.color&&!t.stroke&&(t.stroke=e.color),Object(I.isNumber)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)},Kd=function(t,e,n){return(1-n)*t+n*e},Jd=function(t){var e={fill:"#fff",stroke:qd.color,fillOpacity:0,lineWidth:2},n=Object(I.mix)({},e,t.style);return Zd(n,t),n};function Qd(t,e,n,i){return 0===e?[[t+.5*n/Math.PI/2,i/2],[t+.5*n/Math.PI,i],[t+n/4,i]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),i],[t+.5*n/Math.PI/2*(Math.PI-1),i/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-i/2],[t+.5*n/Math.PI,-i],[t+n/4,-i]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-i],[t+.5*n/Math.PI/2*(Math.PI-1),-i/2],[t+n/4,0]]}function tp(t,e,n,i,r,o,a){for(var s=2*Math.ceil(2*t/n*4),l=[],c=i;c<2*-Math.PI;)c+=2*Math.PI;for(;c>0;)c-=2*Math.PI;var h=o-t+(c=c/Math.PI/2*n)-2*t;l.push(["M",h,e]);for(var u=0,d=0;d<s;++d){var p=Qd(d*n/4,d%4,n,r);l.push(["C",p[0][0]+h,-p[0][1]+e,p[1][0]+h,-p[1][1]+e,p[2][0]+h,-p[2][1]+e]),d===s-1&&(u=p[2][0])}return l.push(["L",u+h,a+t]),l.push(["L",h,a+t]),l.push(["L",h,e]),l}function ep(t,e){var n=t.get("parent"),i=n.getBBox(),r=Math.min(Math.max(0,Object(I.get)(e,"factor",.5)),1),o=Object(I.get)(e,"delay",0),a=Object(I.get)(e,"duration",800),s=e.callback,l=(i.minX+i.maxX)/2,c=i.maxY,h=n.find((function(t){return"wrap"==t.get("name")})),u=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:u},a*r,"easeLinear",null,o);var d=n.find((function(t){return"waves"==t.get("name")})),p=Object(I.clone)(d.attr("matrix"))||[1,0,0,0,1,0,0,0,1],f=el(p,[["t",-l,-c],["s",1,0],["t",l,c]]);d.setMatrix(f),d.animate({matrix:p},a,e.easing,(function(){return s&&s(n,h,d)}),o)}En("interval","liquid-fill-gauge",{draw:function(t,e){var n=1/0;Object(I.each)(t.points,(function(t){t.x<n&&(n=t.x)}));var i=this.parsePoint({x:.5,y:.5}),r=this.parsePoint({x:n,y:.5}),o=i.x-r.x,a=Math.min(o,r.y),s=function(t){var e={lineWidth:0,fill:qd.color,fillOpacity:.85},n=Object(I.mix)({},e,t.style);return Ud(n,t),t.color&&!n.stroke&&(n.stroke=n.stroke||t.color),n}(t).fill,l=e.addGroup({name:"waves",attrs:{x:i.x,y:i.y}});l.setClip({type:"circle",attrs:{x:i.x,y:i.y,r:a}});var c=l.get("clipShape");return function(t,e,n,i,r,o,a,s){for(var l=a.getBBox(),c=l.maxX-l.minX,h=l.maxY-l.minY,u=0;u<i;u++){var d=i<=1?0:u/(i-1),p=o.addShape("path",{attrs:{path:tp(s,l.minY+h*n,c/4,0,c/Kd(56,64,d),t,e),fill:r,opacity:Kd(.6,.3,d)}}),f=el([["t",c/2,0]]);p.animate({matrix:f},{duration:Kd(5e3,3500,d),repeat:!0})}}(i.x,i.y,1-t.points[1].y,3,s,l,c,4*a),e.addShape("circle",{name:"wrap",attrs:Object(I.mix)(Jd(t),{x:i.x,y:i.y,r:a,fill:"transparent"})}),l[0]}}),ep.animationName="liquidMoveIn",mn("liquidMoveIn",ep);var np={column:"interval"},ip={interval:"liquid"},rp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="liquid",e.shouldFadeInAnnotation=!0,e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}})},e.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,i=t.value;if(!Object(I.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!Object(I.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!Object(I.isNumber)(i))throw new Error("The value of Liquid is required, and the type of value must be Number.")},e.prototype.init=function(){this.options.data=[{}],t.prototype.init.call(this)},e.prototype.coord=function(){},e.prototype.scale=function(){var e=this.options,n=e.min,i=e.max,r={value:{}};hc(r.value,{min:Math.min(n,i),max:Math.max(n,i)}),this.setConfig("scales",r),t.prototype.scale.call(this)},e.prototype.axis=function(){this.setConfig("axes",!1)},e.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;Object(I.isFunction)(n)&&(n=n()),n&&(t.style=n)},e.prototype.addGeometry=function(){var t=cc("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=.8*Math.min(e.width,e.height),i=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[i]},this.liquid=t,this.setConfig("geometry",t)},e.prototype.animation=function(){var t=this.options;if(!1===t.animation)this.liquid.animate=!1;else{var e=Object(I.get)(t,"animation.factor"),n=Object(I.get)(t,"animation.easing"),i=Object(I.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:i}}}},e.prototype.geometryParser=function(t,e){return"g2"===t?np[e]:ip[e]},e.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},e.prototype.useHtmlContent=function(){var t=this.options.statistic||{};return Object(I.isFunction)(t.htmlContent)},e.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t,e,n,i=this.options,r=i.statistic||{};if(t=Object(I.isFunction)(r.formatter)?r.formatter(i.value):""+i.value)e=Math.min(this.width,this.height)/t.length*.5,n=Math.max(1,Math.ceil(.025*e));if(!1!==r.visible){var o=Object(I.deepMix)({style:{fontSize:e,shadowBlur:n}},{top:!0,content:t,type:"text",position:["50%","50%"],style:{opacity:void 0,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},r);return delete o.visible,delete o.formatter,delete o.adjustColor,o}}},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,f)},e.prototype.afterRender=function(){var e;(null===(e=this.options.statistic)||void 0===e?void 0:e.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var n=this.options,i=n.padding?n.padding:this.config.theme.padding;if(n.defaultState&&"auto"!==i&&this.stateController.defaultStates(n.defaultState),"auto"===i&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var r=this.canvas.get("container");if(this.statistic&&r.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");Object(G.modifyCSS)(o,{position:"relative"}),this.statistic=new Yd(Object(ln.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}t.prototype.afterRender.call(this)}},e.prototype.processData=function(){return[{_:"_",value:this.options.value}]},e.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},e.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll((function(t){return"annotation-text"===t.get("name")}))[0],i=e.animation||{},r=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(r,i.duration*Math.min(1,1.5*i.factor),null,(function(){t.shouldFadeInAnnotation=!1})):Object(I.forIn)(r,(function(t,e){return n.attr(e,t)}))},e.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#303030",shadowColor:"white"};if(!1===Object(I.get)(t,"statistic.adjustColor"))return{fill:Object(I.get)(t,"statistic.style.fill",e.fill),shadowColor:Object(I.get)(t,"statistic.style.shadowColor",e.shadowColor)};var n=t.min,i=t.max,r=t.value;if(((n=Math.min(n,i))==(i=Math.max(n,i))?1:(r-n)/(i-n))>.55){var o=_h(this.options.color);return Math.round(.299*o[0]+.587*o[1]+.114*o[2])/.8<156?{fill:"#f6f6f6",shadowColor:"black"}:e}return e},e.prototype.updateConfig=function(e){t.prototype.updateConfig.call(this,e),this.shouldFadeInAnnotation=!0},e.prototype.getViewRange=function(){var e=t.prototype.getViewRange.call(this),n=this.options.liquidStyle,i=n.lineWidth?n.lineWidth:2,r=e.minX,o=e.minY,a=e.width,s=e.height,l=Math.min(a,s)-2*i;return new Ya(r+a/2-l/2,o+s/2-l/2,l,l)},e}(Fl),op=rp;Wl("liquid",rp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="liquid",t.prototype.createLayers.call(this,n)},e.prototype.changeValue=function(t,e){if(void 0===e&&(e=!1),e)this.eachLayer((function(e){e instanceof op&&e.changeValue(t)}));else{var n=this.layers[0];n instanceof op&&n.changeValue(t)}},e.getDefaultOptions=op.getDefaultOptions}($l);var ap=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="histogram",e}return Object(ln.__extends)(e,t),e.prototype.init=function(){this.options.xField="range",this.options.yField="count",t.prototype.init.call(this)},e.prototype.processData=function(t){var e=this,n=this.options,i=n.binField,r=n.binWidth,o=n.binNumber,a=Object(I.clone)(t);Object(I.sortBy)(a,i);var s=Object(I.valuesOfKey)(a,i),l=Object(I.getRange)(s),c=l.max-l.min,h=r;if(!r&&o&&(h=c/o),!r&&!o){var u=xs(s);h=c/u}var d={};Object(I.each)(a,(function(t){var n=t[i],r=e.getBin(n,h),o=r[0]+"-"+r[1];Object(I.hasKey)(d,o)||(d[o]={name:o,range:r,count:0,data:[]}),d[o].data.push(t),d[o].count+=1}));var p=[];return Object(I.each)(d,(function(t){p.push(t)})),p},e.prototype.scale=function(){t.prototype.scale.call(this);var e=this.config.scales.range;e.nice=!1,e.type="linear"},e.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},e}(ku),sp=ap;Wl("histogram",ap);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="histogram",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=sp.getDefaultOptions}($l);var lp={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?15/16*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?15/16*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},cp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="density",e}return Object(ln.__extends)(e,t),e.prototype.init=function(){var e=this.options.xAxis?Object(I.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=Object(I.deepMix)({},e,{type:"linear"}),this.options.smooth=!0,t.prototype.init.call(this)},e.prototype.processData=function(t){var e=this,n=this.options,i=n.binField,r=n.binWidth,o=n.binNumber,a=n.kernel,s=lp[a||"epanechnikov"],l=Object(I.clone)(t);Object(I.sortBy)(l,i);var c=Object(I.valuesOfKey)(l,i),h=Object(I.getRange)(c),u=h.max-h.min,d=o,p=r;!o&&r&&(d=Math.floor(u/r)),!r&&o&&(p=u/o),o||r||(d=xs(c),p=u/o);var f=new(Object(Z.getScale)("linear"))({min:h.min,max:h.max,tickCount:d,nice:!1}).getTicks(),g=[];return Object(I.each)(f,(function(t){var n=e.kernelDensityEstimator(p,s,t,c);g.push({value:t.text,density:n})})),g},e.prototype.kernelDensityEstimator=function(t,e,n,i){var r=0;return Object(I.each)(i,(function(i){var o=(n.tickValue-i)/t;r+=e(o)})),0===i.length?0:r/i.length},e}(ou),hp=cp;Wl("density",cp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="density",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=hp.getDefaultOptions}($l);var up=Wa({ring:"interval"});Object(I.assign)(Ga,up);var dp=function(t){function e(e){var n=t.call(this,e)||this;return n.view=e.view,n.plot=e.plot,n.statisticClass=e.statisticClass,n.adjustOptions(),n}return Object(ln.__extends)(e,t),e.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,Object(I.debounce)((function(e){var n=t.parseStatisticData("item",e.data.data,e.data.color),i=t.getStatisticHtmlString(n);t.updateHtml(i)}),150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,Object(I.debounce)((function(){var e=t.getTotalHtmlString();t.updateHtml(e)}),150))},e.prototype.getTotalHtmlString=function(){var t,e;if(this.options.content)t=this.options.content;else{var n=this.getTotalValue();t=this.parseStatisticData("total",n)}e=this.options.htmlContent?this.options.htmlContent(t,this.getStatisticSize()):this.getStatisticTemplate(t);var i=document.createElement("div");return Object(I.isType)(e,"HTMLDivElement")?i.appendChild(e):i.innerHTML=e,i},e.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,i=t.width,r=t.height;this.x=e+i/2,this.y=n+r/2},e.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,i=n.angleField,r=n.colorField,o=this.options.totalLabel;return Object(I.each)(this.plot.options.data,(function(t){"number"==typeof t[i]&&(e+=t[i])})),(t={})[i]=e,t[r]=o,t},e.prototype.parseStatisticData=function(t,e,n){var i=this.plot,r=i.options,o=r.angleField,a=r.colorField,s=i.getScaleByField(o),l=i.getScaleByField(a),c={name:l?l.getText(e[a]):null,value:s.getText(e[o])};return"item"===t&&(c.itemData=e,c.color=n),c},e.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize();return function(t,e,n,i){return'<div class="ring-guide-html '+n+'" style='+("color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;width:"+i+"px;")+">"+(t?'<span class="ring-guide-name" style=font-weight:300;white-space: nowrap;text-overflow: ellipsis;>'+t+"</span><br/>":"")+('<span class="ring-guide-value" style=font-size:32px;font-weight:bold;color:#4D4D4D>'+e+"</span>")+"</div>"}(t.name,t.value,this.statisticClass,e)},e.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,i=e.innerRadius;return Math.min(t.width,t.height)*n*i},e.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent;return e?e(t,this.getStatisticSize()):this.getStatisticTemplate(t)},e}($d),pp={ring:"interval"},fp={interval:"ring"},gp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="donut",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},e.prototype.beforeInit=function(){t.prototype.beforeInit.call(this),e.centralId++,this.statisticClass="statisticClassId"+e.centralId,this.adjustLabelDefaultOptions()},e.prototype.afterRender=function(){var e=this.canvas.get("container");if(this.statistic&&(e.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var n=this.canvas.get("container");Object(G.modifyCSS)(n,{position:"relative"}),this.statistic=new dp(Object(ln.__assign)({container:n,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}t.prototype.afterRender.call(this)},e.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),t.prototype.destroy.call(this)},e.prototype.geometryParser=function(t,e){return"g2"===t?pp[e]:fp[e]},e.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,g)},e.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&"inner"===t.type){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},e.centralId=0,e}(nd),mp=gp;Wl("donut",gp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="donut",t.prototype.createLayers.call(this,n)},e.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},e.getDefaultOptions=mp.getDefaultOptions}($l);En("interval","waterfall",{draw:function(t,e){var n=function(t,e,n){var i=t.style,r=t.defaultStyle,o=t.color,a=Object(ln.__assign)(Object(ln.__assign)({},r),i);return o&&(e&&(a.stroke=o),n&&(a.fill=o)),a}(t,!1,!0),i=this.parsePath(function(t){var e=[],n=t[0];e.push(["M",n.x,n.y]);for(var i=1,r=t.length;i<r;i++)e.push(["L",t[i].x,t[i].y]);return e.push(["L",n.x,n.y]),e.push(["z"]),e}(t.points)),r=e.addShape("path",{attrs:Object(ln.__assign)(Object(ln.__assign)({},n),{path:i}),name:"interval"}),o=Object(I.get)(t.style,"leaderLine");if(o&&o.visible){var a=o.style||{};if(t.nextPoints){var s=[["M",t.points[2].x,t.points[2].y],["L",t.nextPoints[0].x,t.nextPoints[0].y]];s=this.parsePath(s),e.addShape("path",{attrs:Object(ln.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},a),name:"leader-line"})}}return r}});var vp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.adjustLabel=function(t,e){var n,i,r=e.shape.getBBox(),o=e.getData(),a=o[wp],s=o[this.layer.options.yField],l=Object(I.isArray)(a)?a[1]:a,c=this.options.formatter,h=[].concat(e.getModel().mappingData),u=c?h[0]&&h[0]._origin[_p]:0,d=c?c(l,((n={})._origin=null===(i=h[0])||void 0===i?void 0:i._origin,n.mappingDatum=h[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=u,n),u):l,p=(r.minY+r.maxY)/2,f="bottom";s<0?(p=r.maxY+2,f="top"):p=r.minY-2,t.attr("y",p),t.attr("text",d),t.attr("textBaseline",f)},e}(xu);ns("waterfall",vp);var yp=function(){function t(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=Object(I.mix)({fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"},t.style),this._init()}return t.prototype.draw=function(){var t=this;if(this.view&&!this.view.destroyed){var e=Object(I.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var n=this.view.geometries[0].elements.map((function(t){return t.shape}));Object(I.each)(n,(function(i,r){if(i.cfg.origin){var o=i.cfg.origin.data,a=i.getBBox(),s=o[wp],l=s;Object(I.isArray)(s)&&(l=s[1]-s[0]),l=l>0?"+"+l:l,o[Cp]&&(l=s[0]-s[1]);var c=l;if(t.formatter){var h=n[r].attr("fill");c=t.formatter(""+l,{_origin:e[r],color:h},r)}var u=t.container.addShape("text",{attrs:Object(ln.__assign)({text:c,textBaseline:"middle",textAlign:"center",x:(a.minX+a.maxX)/2,y:(a.minY+a.maxY)/2},t.textAttrs),name:"dill-label"});u.getBBox().height>a.height&&u.set("visible",!1)}})),this.view.getCanvas().draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype._init=function(){var t=this;this.view.on(Sa.VIEW_LIFE_CIRCLE.BEFORE_RENDER,(function(){t.clear()})),this.view.on(Sa.VIEW_LIFE_CIRCLE.AFTER_RENDER,(function(){t.draw()}))},t}(),xp={waterfall:"interval"},bp={interval:"waterfall"},wp="$$value$$",Cp="$$total$$",_p="$$index$$",Sp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="watarfall",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:""},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},e.prototype.getOptions=function(e){var n=t.prototype.getOptions.call(this,e);return this.adjustLegendOptions(n),this.adjustMeta(n),n},e.prototype.afterInit=function(){t.prototype.afterInit.call(this);var e=this.options;e.diffLabel&&e.diffLabel.visible?this.diffLabel=new yp({view:this.view,fields:[e.xField,e.yField,wp],formatter:e.diffLabel.formatter,style:e.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},e.prototype.afterRender=function(){t.prototype.afterRender.call(this);var e=this.options;this.view.on("tooltip:change",(function(t){for(var n=t.items,i=0;i<n.length;i++){var r=n[i],o=Object(I.get)(r,"data",{});if(r.name=o[e.xField],r.value=o[e.yField],!r.value&&o[Cp]){var a=o[wp];r.value=a[0]-a[1]}t.items[i]=r}})),this.renderLabel()},e.prototype.renderLabel=function(){var t=dl(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,Object(ln.__assign)({type:"waterfall"},this.options.label))},e.prototype.geometryParser=function(t,e){return"g2"===t?xp[e]:bp[e]},e.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},e.prototype.addGeometry=function(){var t={type:"interval",position:{fields:[this.options.xField,wp]},shape:{values:["waterfall"]}};t.style=this._parseStyle(),t.color=this._parseColor(),this.waterfall=t,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",t)},e.prototype.processData=function(t){var e,n=[],i=this.options.xField,r=this.options.yField;if(Object(I.map)(t,(function(t,e){var i,o=t[r];if(e>0){var a=n[e-1][wp];o=Object(I.isArray)(a)?[a[1],t[r]+a[1]]:[a,t[r]+a]}n.push(Object(ln.__assign)(Object(ln.__assign)({},t),((i={})[wp]=o,i[_p]=e,i)))})),this.options.showTotal&&this.options.showTotal.visible){var o=Object(I.map)(t,(function(t){return t[r]})),a=Object(I.reduce)(o,(function(t,e){return t+e}),0);n.push(((e={})[i]=this.options.showTotal.label,e[r]=null,e[wp]=[a,0],e[_p]=n.length,e[Cp]=!0,e))}return n},e.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},Object(I.has)(t,"xAxis")&&hc(e[t.xField],t.xAxis),e[wp]={},Object(I.has)(t,"yAxis")&&hc(e[wp],t.yAxis),this.setConfig("scales",e)},e.prototype.axis=function(){var t=Vs("axis",{plot:this,dim:"x"}),e=Vs("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[wp]=e,this.setConfig("axes",n)},e.prototype.coord=function(){},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,m)},e.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,wp]))},e.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return Object(I.isFunction)(t)?n.callback=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Object.assign({},t.apply(void 0,n),{leaderLine:e})}:n.cfg=Object(ln.__assign)(Object(ln.__assign)({},t),{leaderLine:e}),n},e.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,i={fields:[n.xField,n.yField,wp,_p]};if(Object(I.isFunction)(e.color))i.callback=e.color;else{var r="#f4664a",o="#30bf78",a="rgba(0, 0, 0, 0.25)";if(Object(I.isString)(e.color))r=o=a=e.color;else if(Object(I.isObject)(e.color)){var s=e.color,l=s.rising,c=s.falling,h=s.total;r=l,o=c,a=h}i.callback=function(e,n,i,s){return s===t.options.data.length?a||(i[0]>=0?r:o):(Object(I.isArray)(i)?i[1]-i[0]:i)>=0?r:o}}return i},e.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},e.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[wp]=n}},e}(Fl),Op=Sp;Wl("waterfall",Sp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="waterfall",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Op.getDefaultOptions}($l);var Mp=function(){function t(t){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}return t.prototype.init=function(){var t,e=this.options,n=e.xBaseline,i=e.yBaseline,r=this.view.getCoordinate(),o=this.view.getScaleByField(this.options.plotOptions.xField),a=this.view.getScaleByField(this.options.plotOptions.yField);if(n>o.min&&n<o.max){var s=(n-o.min)/(o.max-o.min);t=[new Ya(r.start.x,r.end.y,r.getWidth()*s,r.getHeight()),new Ya(r.start.x+r.getWidth()*s,r.end.y,r.getWidth()*(1-s),r.getHeight())];var l={start:{x:r.start.x+r.getWidth()*s,y:r.end.y},end:{x:r.start.x+r.getWidth()*s,y:r.start.y}};this.lineData.push(l)}else t=[new Ya(r.start.x,r.end.y,r.getWidth(),r.getHeight())];if(i>a.min&&i<a.max){s=(i-a.min)/(a.max-a.min);var c={start:{x:r.start.x,y:r.start.y-r.getHeight()*s},end:{x:r.end.x,y:r.start.y-r.getHeight()*s}};this.lineData.push(c);var h={name:n<=o.min?"top-right":"top-left",bbox:new Ya(t[0].minX,t[0].minY,t[0].width,t[0].height*(1-s)),index:n<=o.min?2:0};this.regionData.push(h);var u={name:n<=o.min?"bottom-right":"bottom-left",bbox:new Ya(t[0].minX,t[0].minY+t[0].height*(1-s),t[0].width,t[0].height*s),index:n<=o.min?3:1};if(this.regionData.push(u),t.length>1){var d={name:"top-right",bbox:new Ya(t[1].minX,t[1].minY,t[1].width,t[1].height*(1-s)),index:2};this.regionData.push(d);var p={name:"bottom-right",bbox:new Ya(t[1].minX,t[1].minY+t[1].height*(1-s),t[1].width,t[1].height*s),index:3};this.regionData.push(p)}}else if(2===t.length)if(i<=a.min){var f={name:"top-left",bbox:t[0],index:0};this.regionData.push(f);d={name:"top-right",bbox:t[1],index:2};this.regionData.push(d)}else{var g={name:"bottom-left",bbox:t[0],index:1};this.regionData.push(g);p={name:"bottom-right",bbox:t[1],index:3};this.regionData.push(p)}else if(n<=o.min)if(i<=a.min){d={name:"top-right",bbox:t[0],index:2};this.regionData.push(d)}else{p={name:"bottom-right",bbox:t[0],index:3};this.regionData.push(p)}else if(i<=a.min){f={name:"top-left",bbox:t[0],index:0};this.regionData.push(f)}else{g={name:"bottom-left",bbox:t[0],index:1};this.regionData.push(g)}this.container=this.view.backgroundGroup.addGroup()},t.prototype.render=function(){var t=this;if(this.regionData.length>0){var e=this.getDefaultStyle(),n=this.getRegionStyle(this.regionData);Object(I.each)(this.regionData,(function(i){var r=i.index,o=t.container.addGroup(),a=o.addShape("rect",{attrs:Object(ln.__assign)({x:i.bbox.minX,y:i.bbox.minY,width:i.bbox.width,height:i.bbox.height},n[r]),name:"quadrant"});if(t.options.label&&t.options.label.text){var s=Object(I.deepMix)({},e.label,t.options.label),l=t.getLabelConfig(i,s);o.addShape("text",{attrs:Object(ln.__assign)({},l),name:"quadrant-label"})}a.set("data",i),t.quadrantGroups.push(o)}));var i=Object(I.deepMix)({},e.line,this.options.lineStyle);Object(I.each)(this.lineData,(function(e){t.container.addShape("path",{attrs:Object(ln.__assign)({path:[["M",e.start.x,e.start.y],["L",e.end.x,e.end.y]]},i),name:"quadrant-line"})})),this.view.canvas.draw()}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},t.prototype.getRegionStyle=function(t){var e=this.getDefaultStyle().regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;Object(I.isArray)(n)?e=e.map((function(t,e){return n.length>e&&n[e]?n[e]:t})):Object(I.isFunction)(n)&&Object(I.each)(t,(function(t,i){e[i]=n(t)}))}return e},t.prototype.getLabelConfig=function(t,e){var n=t.index,i=0,r=0,o={},a=e.text;Object(I.isFunction)(a)?a=a(t):Object(I.isArray)(a)&&(a=a[n]);var s=e.position.split("-"),l=t.name.split("-");return"left"===l[1]?("inner"===s[0]&&(i=t.bbox.maxX-e.offset,o.textAlign="right"),"outter"===s[0]&&(i=t.bbox.minX+e.offset,o.textAlign="left")):"right"===l[1]&&("inner"===s[0]&&(i=t.bbox.minX+e.offset,o.textAlign="left"),"outter"===s[0]&&(i=t.bbox.maxX-e.offset,o.textAlign="right")),"top"===l[0]?("inner"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom"),"outter"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top")):"bottom"===l[0]&&("inner"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top"),"outter"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom")),(o=Object(I.deepMix)({},e.style,o)).lineHeight=o.fontSize,Object(ln.__assign)({x:i,y:r,text:a},o)},t}();function kp(t,e,n,i){t=t.filter(t=>{let i=e(t),r=n(t);return null!=i&&isFinite(i)&&null!=r&&isFinite(r)}),i&&t.sort((t,n)=>e(t)-e(n));const r=t.length,o=new Float64Array(r),a=new Float64Array(r);let s,l,c,h=0,u=0;for(let i=0;i<r;)c=t[i],o[i]=s=+e(c),a[i]=l=+n(c),++i,h+=(s-h)/i,u+=(l-u)/i;for(let t=0;t<r;++t)o[t]-=h,a[t]-=u;return[o,a,h,u]}function Ap(t,e,n,i){let r=0;for(let o=0,a=t.length;o<a;o++){const a=t[o],s=+e(a),l=+n(a);null!=s&&isFinite(s)&&null!=l&&isFinite(l)&&i(s,l,r++)}}function Tp(t,e,n,i,r){let o=0,a=0;return Ap(t,e,n,(t,e)=>{const n=e-r(t),s=e-i;o+=n*n,a+=s*s}),1-o/a}function Dp(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function Pp(t,e,n){const i=Math.log(e-t)*Math.LOG10E+1|0,r=1*Math.pow(10,-i/2-1);let o=[s(t),s(e)],a=0;for(;l(o)&&a<1e4;);return o;function s(t){return[t,n(t)]}function l(t){a++;const e=t.length;let n=!1;for(let o=0;o<e-1;o++){const e=t[o],a=t[o+1],l=[((i=[e,a])[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2],c=s(l[0]),h=Dp([e,l]),u=Dp([e,c]);Math.abs(h-u)>r&&(t.splice(o+1,0,c),n=!0)}var i;return n}}function Ip(t,e,n,i){const r=i-t*t,o=Math.abs(r)<1e-24?0:(n-t*e)/r;return[e-o*t,o]}var Ep=function(){let t,e=t=>t[0],n=t=>t[1];function i(i){let r=0,o=0,a=0,s=0,l=0,c=t?+t[0]:1/0,h=t?+t[1]:-1/0;Ap(i,e,n,(e,n)=>{++r,o+=(e-o)/r,a+=(n-a)/r,s+=(e*n-s)/r,l+=(e*e-l)/r,t||(e<c&&(c=e),e>h&&(h=e))});const[u,d]=Ip(o,a,s,l),p=t=>d*t+u,f=[[c,p(c)],[h,p(h)]];return f.a=d,f.b=u,f.predict=p,f.rSquared=Tp(i,e,n,a,p),f}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i};function jp(t){t.sort((t,e)=>t-e);var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}function Lp(t){return(t=1-t*t*t)*t*t}function Bp(t,e,n){let i=t[e],r=n[0],o=n[1]+1;if(!(o>=t.length))for(;e>r&&t[o]-i<=i-t[r];)n[0]=++r,n[1]=o,++o}var Np=function(){let t,e=t=>t[0],n=t=>t[1];function i(i){const[r,o,a,s]=kp(i,e,n),l=r.length;let c,h,u,d,p=0,f=0,g=0,m=0,v=0;for(c=0;c<l;)h=r[c],u=o[c++],d=h*h,p+=(d-p)/c,f+=(d*h-f)/c,g+=(d*d-g)/c,m+=(h*u-m)/c,v+=(d*u-v)/c;let y=0,x=0,b=t?+t[0]:1/0,w=t?+t[1]:-1/0;Ap(i,e,n,(e,n)=>{x++,y+=(n-y)/x,t||(e<b&&(b=e),e>w&&(w=e))});const C=g-p*p,_=p*C-f*f,S=(v*p-m*f)/_,O=(m*C-v*f)/_,M=-S*p,k=t=>S*(t-=a)*t+O*t+M+s,A=Pp(b,w,k);return A.a=S,A.b=O-2*S*a,A.c=M-O*a+S*a*a+s,A.predict=k,A.rSquared=Tp(i,e,n,y,k),A}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i};var Rp={exp:function(){let t,e=t=>t[0],n=t=>t[1];function i(i){let r=0,o=0,a=0,s=0,l=0,c=0,h=t?+t[0]:1/0,u=t?+t[1]:-1/0;Ap(i,e,n,(e,n)=>{const i=Math.log(n),d=e*n;++r,o+=(n-o)/r,s+=(d-s)/r,c+=(e*d-c)/r,a+=(n*i-a)/r,l+=(d*i-l)/r,t||(e<h&&(h=e),e>u&&(u=e))});let[d,p]=Ip(s/o,a/o,l/o,c/o);d=Math.exp(d);const f=t=>d*Math.exp(p*t),g=Pp(h,u,f);return g.a=d,g.b=p,g.predict=f,g.rSquared=Tp(i,e,n,o,f),g}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},linear:Ep,loess:function(){let t=t=>t[0],e=t=>t[1],n=.3;function i(i){const[r,o,a,s]=kp(i,t,e,!0),l=r.length,c=Math.max(2,~~(n*l)),h=new Float64Array(l),u=new Float64Array(l),d=new Float64Array(l).fill(1);for(let t=-1;++t<=2;){const e=[0,c-1];for(let t=0;t<l;++t){const n=r[t],i=e[0],a=e[1],s=n-r[i]>r[a]-n?i:a;let l=0,c=0,p=0,f=0,g=0,m=1/Math.abs(r[s]-n||1);for(let t=i;t<=a;++t){const e=r[t],i=o[t],a=Lp(Math.abs(n-e)*m)*d[t],s=e*a;l+=a,c+=s,p+=i*a,f+=i*s,g+=e*s}const[v,y]=Ip(c/l,p/l,f/l,g/l);h[t]=v+y*n,u[t]=Math.abs(o[t]-h[t]),Bp(r,t+1,e)}if(2===t)break;const n=jp(u);if(Math.abs(n)<1e-12)break;for(let t,e,i=0;i<l;++i)t=u[i]/(6*n),d[i]=t>=1?1e-12:(e=1-t*t)*e}return function(t,e,n,i){const r=t.length,o=[];let a,s=0,l=0,c=[];for(;s<r;++s)a=t[s]+n,c[0]===a?c[1]+=(e[s]-c[1])/++l:(l=0,c[1]+=i,c=[a,e[s]],o.push(c));return c[1]+=i,o}(r,h,a,s)}return i.bandwidth=function(t){return arguments.length?(n=t,i):n},i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(e=t,i):e},i},log:function(){let t,e=t=>t[0],n=t=>t[1];function i(i){let r=0,o=0,a=0,s=0,l=0,c=t?+t[0]:1/0,h=t?+t[1]:-1/0;Ap(i,e,n,(e,n)=>{const i=Math.log(e);++r,o+=(i-o)/r,a+=(n-a)/r,s+=(i*n-s)/r,l+=(i*i-l)/r,t||(e<c&&(c=e),e>h&&(h=e))});const[u,d]=Ip(o,a,s,l),p=t=>d*Math.log(t)+u,f=Pp(c,h,p);return f.a=d,f.b=u,f.predict=p,f.rSquared=Tp(i,e,n,a,p),f}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},poly:function(){let t,e=t=>t[0],n=t=>t[1],i=3;function r(r){if(1===i){const i=Ep().x(e).y(n).domain(t)(r);return i.coefficients=[i.b,i.a],delete i.a,delete i.b,i}if(2===i){const i=Np().x(e).y(n).domain(t)(r);return i.coefficients=[i.c,i.b,i.a],delete i.a,delete i.b,delete i.c,i}const[o,a,s,l]=kp(r,e,n),c=o.length,h=[],u=[],d=i+1;let p,f,g,m,v,y=0,x=0,b=t?+t[0]:1/0,w=t?+t[1]:-1/0;for(Ap(r,e,n,(e,n)=>{++x,y+=(n-y)/x,t||(e<b&&(b=e),e>w&&(w=e))}),p=0;p<d;++p){for(g=0,m=0;g<c;++g)m+=Math.pow(o[g],p)*a[g];for(h.push(m),v=new Float64Array(d),f=0;f<d;++f){for(g=0,m=0;g<c;++g)m+=Math.pow(o[g],p+f);v[f]=m}u.push(v)}u.push(h);const C=function(t){const e=t.length-1,n=[];let i,r,o,a,s;for(i=0;i<e;++i){for(a=i,r=i+1;r<e;++r)Math.abs(t[i][r])>Math.abs(t[i][a])&&(a=r);for(o=i;o<e+1;++o)s=t[o][i],t[o][i]=t[o][a],t[o][a]=s;for(r=i+1;r<e;++r)for(o=e;o>=i;o--)t[o][r]-=t[o][i]*t[i][r]/t[i][i]}for(r=e-1;r>=0;--r){for(s=0,o=r+1;o<e;++o)s+=t[o][r]*n[o];n[r]=(t[e][r]-s)/t[r][r]}return n}(u),_=t=>{t-=s;let e=l+C[0]+C[1]*t+C[2]*t*t;for(p=3;p<d;++p)e+=C[p]*Math.pow(t,p);return e},S=Pp(b,w,_);return S.coefficients=function(t,e,n,i){const r=Array(t);let o,a,s,l;for(o=0;o<t;++o)r[o]=0;for(o=t-1;o>=0;--o)for(s=e[o],l=1,r[o]+=s,a=1;a<=o;++a)l*=(o+1-a)/a,r[o-a]+=s*Math.pow(n,a)*l;return r[0]+=i,r}(d,C,-s,l),S.predict=_,S.rSquared=Tp(r,e,n,y,_),S}return r.domain=function(e){return arguments.length?(t=e,r):t},r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r.order=function(t){return arguments.length?(i=t,r):i},r},pow:function(){let t,e=t=>t[0],n=t=>t[1];function i(i){let r=0,o=0,a=0,s=0,l=0,c=0,h=t?+t[0]:1/0,u=t?+t[1]:-1/0;Ap(i,e,n,(e,n)=>{const i=Math.log(e),d=Math.log(n);++r,o+=(i-o)/r,a+=(d-a)/r,s+=(i*d-s)/r,l+=(i*i-l)/r,c+=(n-c)/r,t||(e<h&&(h=e),e>u&&(u=e))});let[d,p]=Ip(o,a,s,l);d=Math.exp(d);const f=t=>d*Math.pow(t,p),g=Pp(h,u,f);return g.a=d,g.b=p,g.predict=f,g.rSquared=Tp(i,e,n,c,f),g}return i.domain=function(e){return arguments.length?(t=e,i):t},i.x=function(t){return arguments.length?(e=t,i):e},i.y=function(t){return arguments.length?(n=t,i):n},i},quad:Np};var Fp=function(){function t(t){this.options=Object(I.deepMix)({},{type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}},t),this.view=this.options.view,this.init()}return t.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,n=t.yField,i=t.data,r=Rp[this.options.type]().x((function(t){return t[e]})).y((function(t){return t[n]}));this.data=this.processData(r(i)),this.container=this.view.backgroundGroup.addGroup()},t.prototype.render=function(){var t=this.view.getScaleByField(this.options.plotOptions.xField),e=this.view.getScaleByField(this.options.plotOptions.yField),n=this.view.getCoordinate(),i=this.data.trendlineData,r=Object(Z.getScale)("linear"),o=this.adjustScale(t,i,"x"),a=new r({min:o.min,max:o.max}),s=this.adjustScale(e,i,"y"),l=new r({min:s.min,max:s.max});if(this.options.showConfidence){var c=this.getConfidencePath(a,l,n);this.container.addShape("path",{attrs:Object(ln.__assign)({path:c},this.options.confidenceStyle),name:"confidence"})}var h=Ul(this.getTrendlinePoints(a,l,n),!1,[[0,0],[1,1]]);this.shape=this.container.addShape("path",{attrs:Object(ln.__assign)({path:h},this.options.style),name:"trendline"})},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.destroy()},t.prototype.processData=function(t){var e=[],n=[];return Object(I.each)(t,(function(i){e.push({x:i[0],y:i[1]});var r,o,a=(r=t.rSquared,o=i[1],1.96*Math.sqrt(r*(1-r)/o));n.push({x:i[0],y0:i[1]-a,y1:i[1]+a})})),{trendlineData:e,confidenceData:n}},t.prototype.getTrendlinePoints=function(t,e,n){var i=[];return Object(I.each)(this.data.trendlineData,(function(r){var o=t.scale(r.x),a=e.scale(r.y),s=n.start.x+n.width*o,l=n.start.y-n.height*a;i.push({x:s,y:l})})),i},t.prototype.getConfidencePath=function(t,e,n){var i=[],r=[],o=[];Object(I.each)(this.data.confidenceData,(function(o){var a=t.scale(o.x),s=e.scale(o.y0),l=e.scale(o.y1),c=n.start.x+n.width*a,h=n.start.y-n.height*s,u=n.start.y-n.height*l;i.push({x:c,y:h}),r.push({x:c,y:u})}));for(var a=0;a<i.length;a++){var s=0===a?"M":"L",l=i[a];isNaN(l.x)||isNaN(l.y)||o.push([s,l.x,l.y])}for(var c=r.length-1;c>0;c--){l=r[c];isNaN(l.x)||isNaN(l.y)||o.push(["L",l.x,l.y])}return o},t.prototype.adjustScale=function(t,e,n){var i=t.min,r=t.max,o=this.options.plotOptions,a=o.data,s=o.xField,l=o.yField,c="x"===n?s:l,h=Object(I.minBy)(a,c)[c],u=Object(I.maxBy)(a,c)[c],d=(i-h)/(u-h),p=(r-u)/(u-h),f=Object(I.minBy)(e,n)[n],g=Object(I.maxBy)(e,n)[n];return{min:f+d*(g-f),max:g+p*(g-f)}},t}(),zp=Wa({point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"});Object(I.assign)(Ga,zp);Pl("scatter",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000"}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}});var Vp={scatter:"point"},Gp={point:"point"},Hp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="scatter",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Mp(Object(ln.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new Fp(Object(ln.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},e.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),t.prototype.destroy.call(this)},e.prototype.isValidLinearValue=function(t){return!Object(I.isNil)(t)&&!Number.isNaN(Number(t))},e.prototype.processData=function(t){var e=this,n=this.options,i=n.xField,r=n.yField,o=Object(I.get)(this.options,["xAxis","type"],"linear"),a=Object(I.get)(this.options,["yAxis","type"],"linear");return o&&a?t.filter((function(t){return!("linear"===o&&!e.isValidLinearValue(t[i]))&&!("linear"===a&&!e.isValidLinearValue(t[r]))})).map((function(t){var e;return Object(ln.__assign)(Object(ln.__assign)({},t),((e={})[i]="linear"===o?Number(t[i]):String(t[i]),e[r]="linear"===a?Number(t[r]):String(t[r]),e))})):t},e.prototype.geometryParser=function(t,e){return"g2"===t?Vp[e]:Gp[e]},e.prototype.scale=function(){var e=this.options,n={};n[e.xField]={},Object(I.has)(e,"xAxis")&&hc(n[e.xField],e.xAxis),n[e.yField]={},Object(I.has)(e,"yAxis")&&hc(n[e.yField],e.yAxis);var i=Object(I.find)(e.interactions,(function(t){return"timeline"===t.type}));if(i&&Object(I.get)(i,"cfg.key")){var r=i.cfg.key;n[r]?n[r].key=!0:n[r]={key:!0}}this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=cc("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,i=e.titleField;this.extractTooltip(),this.setConfig("tooltip",Object(ln.__assign)({showTitle:n,title:n?i:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},e.prototype.label=function(){var t=this.options;if(!1!==t.label.visible){var e=Vs("label",Object(ln.__assign)(Object(ln.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)}else this.points&&(this.points.label=!1)},e.prototype.animation=function(){t.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},e.prototype.parseEvents=function(e){t.prototype.parseEvents.call(this,e||v)},e.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},e}(Fl),Wp=Hp;Wl("scatter",Hp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="scatter",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Wp.getDefaultOptions}($l);var $p=n(331);En("point","bubble-point",{draw:function(t,e){var n=Object($p.drawPoints)(this,t,e,"circle",!1);if(!t.style.stroke){var i=n.attr("fill");n.attr("stroke",i)}return n},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});Pl("bubble",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000",fillOpacity:t.fillOpacity||t.opacity||.95}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}});var Yp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bubble",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},e.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},e.prototype.legend=function(){var e;t.prototype.legend.call(this),this.options.legend&&!1===this.options.legend.visible||this.setConfig("legends",((e={})[this.options.sizeField]=!1,e))},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,v)},e}(Wp),Xp=Yp;Wl("bubble",Yp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="bubble",t.prototype.createLayers.call(this,n)},e.prototype.getSizeScale=function(){return this.layers[0].getSizeScale()},e.getDefaultOptions=Xp.getDefaultOptions}($l);var qp=Wa({bullet:"interval",bulletTarget:"bullet-target"});Object(I.assign)(Ga,qp);var Up=function(){function t(t,e){this.view=t,this.cfg=e,this._init()}return t.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var t=this.getGeometry(),e=Object(I.map)(null==t?void 0:t.elements,(function(t){return t.shape})),n=0;n<this.cfg.ranges.length;n+=1){var i=e[n].getBBox(),r=i.width/e[n].get("origin").data[this.cfg.yField];this.drawRect(i,this.cfg.ranges[n]||[0,1],r)}this.view.canvas.draw()}},t.prototype.drawRect=function(t,e,n){for(var i=this.cfg,r=i.rangeColors,o=t.minX,a=t.minY-t.height*(i.rangeSize-1)/2,s=1;s<e.length;s+=1){var l=(e[s]-e[s-1])*i.rangeMax*n;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:l,height:t.height*i.rangeSize,x:o,y:a,fill:r[(s-1)%r.length],fillOpacity:.25}}).set("zIndex",-1),o+=l}if(i.axis&&i.axis.visible){var c=i.rangeMax/(i.axis.tickCount-1),h=new Ya(t.x,a,o,t.height*i.rangeSize);this.drawBulletTicks(h,c,n)}},t.prototype.drawBulletTicks=function(t,e,n){for(var i=this.cfg,r=i.axis.style,o=i.axis.tickCount,a=i.axis.position,s=Object(I.get)(r,"lineHeight",0)-r.fontSize/2,l=0;l<o;l+=1){var c=t.minX+e*l*n,h=""+e*l;if(i.axis.formatter&&(h=i.axis.formatter(h,l)),this.container.addShape("text",{name:"tick",attrs:Object(ln.__assign)({x:c,y:"before"===a?t.minY-s:t.maxY+s,text:""+h},r)}),i.axis.tickLine&&i.axis.tickLine.visible){var u=i.axis.tickLine;l>0&&l!==o-1&&this.container.addShape("path",{attrs:Object(ln.__assign)({path:[["M",c,t.minY],["L",c,t.maxY]]},u)}).set("zIndex",-1)}}},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype._init=function(){var t=this;this.view.on("beforerender",(function(){t.clear()})),this.view.on("afterrender",(function(){t.draw()}))},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"interval"===t.type}))},t}(),Zp=function(){function t(t,e){this.view=t,this.cfg=e,this._init()}return t.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var t=Object(I.map)(this.getGeometry().elements,(function(t){return t.shape})),e=0;e<this.cfg.targets.length;e+=1){var n=t[e].getBBox(),i=n.width/t[e].get("origin").data[this.cfg.yField];this.drawTarget(n,this.cfg.targets[e],i)}this.view.canvas.draw()}},t.prototype.drawTarget=function(t,e,n){var i=this,r=this.cfg,o=r.markerColors;e.forEach((function(e,a){var s=r.markerStyle;i.container.addShape("rect",{name:"bullet-target",attrs:Object(ln.__assign)(Object(ln.__assign)({width:s.width,height:t.height*r.markerSize-s.width/2,x:t.minX+e*n,y:t.minY-t.height*(r.markerSize-1)/2},s),{fill:o[a%o.length]||s.fill})})}))},t.prototype.clear=function(){this.container&&this.container.clear()},t.prototype.destroy=function(){this.container&&this.container.remove()},t.prototype._init=function(){var t=this;this.view.on("beforerender",(function(){t.clear()})),this.view.on("afterrender",(function(){t.draw()}))},t.prototype.getGeometry=function(){return Object(I.find)(this.view.geometries,(function(t){return"interval"===t.type}))},t}();Pl("bullet",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1),lineWidth:0}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{}}});var Kp={bullet:"interval"},Jp={interval:"bullet"},Qp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bullet",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{data:[],stackField:"$$stackField$$",xField:"$$xField$$",yField:"$$yField$$",rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},e.prototype.afterRender=function(){t.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},e.prototype.scale=function(){var e=this.options,n={};n[e.yField]={},Object(I.has)(e,"yAxis")&&hc(n[e.yField],e.yAxis),n[e.xField]={type:"cat"},Object(I.has)(e,"xAxis")&&hc(n[e.xField],e.xAxis),this.setConfig("scales",n),t.prototype.scale.call(this)},e.prototype.getOptions=function(e){var n=t.prototype.getOptions.call(this,e);return this.adjustOptions(n),n},e.prototype.afterInit=function(){t.prototype.afterInit.call(this);var e=this.options,n=e.data.map((function(t){return t.ranges})),i=e.data.map((function(t){return t.targets}));this.bulletRect=new Up(this.view,{ranges:n,rangeMax:e.rangeMax,yField:e.yField,rangeSize:e.rangeSize,rangeColors:e.rangeColors||[],axis:e.axis}),this.bulletTarget=new Zp(this.view,{targets:i,yField:e.yField,markerSize:e.markerSize,markerColors:e.markerColors||[],markerStyle:e.markerStyle})},e.prototype.geometryParser=function(t,e){return"g2"===t?Kp[e]:Jp[e]},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=[{name:"",value:"",marker:{symbol:"square",style:{fill:(t.measureColors||this.theme.colors)[0]}}},{name:"",value:"",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],i=Object(ln.__assign)({custom:!0,position:"bottom",items:n},t.legend);this.setConfig("legends",i)},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,y)},e.prototype.extractLabel=function(){var t=this.options,e=Object(I.deepMix)({},t.label);return!1!==e.visible&&Vs("label",Object(ln.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e))},e.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},e.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach((function(t){return e.push(t.measures.reduce((function(t,e){return t+e}),0))})),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},e.prototype.processData=function(t){var e=this.options,n=[];return t.forEach((function(t,i){for(var r,o=0;o<t.measures.length;o+=1){var a=t.measures[o],s=t.title||""+i;n.push(((r={})[e.xField]=s,r[e.yField]=a,r[e.stackField]=""+o,r))}})),n},e}(Fl),tf=Qp;Wl("bullet",Qp);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="bullet",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=tf.getDefaultOptions}($l);var ef="YYYY-MM-DD",nf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rf=["S","M","T","W","T","F","S"];function of(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/864e5+e.getDay()+1)/7)}function af(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t}function sf(t){var e,n=t[0],i=t[1],r=mc.default.parse(n,ef),o=mc.default.parse(i,ef);return r>o&&(o=(e=[r,o])[0],r=e[1]),[r,o]}var lf=Wa({rect:"polygon"});Object(I.assign)(Ga,lf);var cf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="calendar",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){var e;return Object(I.deepMix)({},t.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(e={},e.$$day$$={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},e.$$week$$={type:"cat",alias:"Month"},e),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},e.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;Object(I.isNil)(n)&&(n=function(t){var e=Object(ln.__spreadArrays)(t).sort((function(t,e){return t.getTime()-e.getTime()}));return[mc.default.format(Object(I.head)(e),ef),mc.default.format(Object(I.last)(e),ef)]}(Object(I.map)(t,(function(t){return mc.default.parse(""+t[e],ef)}))));return function(t,e,n){for(var i=[],r=sf(e),o=r[0],a=r[1],s=new Date(o),l=function(){var e,r=mc.default.format(s,ef),o=Object(I.find)(t,(function(t){return t[n]===r}));i.push(Object(ln.__assign)(((e={}).$$day$$=s.getDay(),e.$$week$$=""+of(s),e[n]=r,e.$$date$$=new Date(s),e),o)),af(s,864e5)};s<=a;)l();return i}(t,n,e)},e.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,i=t.tooltip,r={type:"polygon",position:{fields:["$$week$$","$$day$$"]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};i&&(i.fields||i.formatter)&&this.geometryTooltip(r),this.setConfig("geometry",r)},e.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=["$$week$$","$$day$$"]))},e.prototype.extractLabel=function(){var t=this.options.label;if(t&&!1===t.visible)return!1;var e=this.options.valueField;return Vs("label",Object(ln.__assign)({plot:this,fields:[e],position:"top",offset:0},t))},e.prototype.coord=function(){this.setConfig("coordinate",{type:"rect",cfg:{},actions:[["reflect","y"]]})},e.prototype.geometryParser=function(){return""},e.prototype.axis=function(){var t=Vs("axis",{plot:this,dim:"x"}),e=Vs("axis",{plot:this,dim:"y"}),n={};n.$$week$$=t,n.$$day$$=e,this.setConfig("axes",n)},e.prototype.scale=function(){t.prototype.scale.call(this);var e=function(t){var e=sf(t),n=e[0],i=e[1],r=new Map;function o(t){var e=t.getMonth(),n=of(t);r.has(e)||r.set(e,[]),r.get(e).push(n)}for(var a=new Date(n);a<=i;)o(a),af(a,6048e5);i<a&&o(i);var s={};return r.forEach((function(t,e){var n=Math.ceil((Object(I.head)(t)+Object(I.last)(t))/2);s[n]=e})),s}(this.options.dateRange),n=this.config.scales,i=this.options,r=i.weeks,o=void 0===r?rf:r,a=i.months,s=void 0===a?nf:a,l=n.$$week$$,c=n.$$day$$;l.formatter=function(t){var n=e[t];return void 0!==n?s[n]:""},c.formatter=function(t){return o[t]||""};var h=this.options,u=h.xAxis,d=h.yAxis;l.alias=Object(I.get)(u,["title","text"],l.alias),c.alias=Object(I.get)(d,["title","text"],c.alias),this.setConfig("scales",n)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,x)},e}(Fl),hf=cf;Wl("calendar",cf),En("polygon","calendar-polygon",{draw:function(t,e){if(!Object(I.isEmpty)(t.points)){var n=t.points,i=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[3].x,n[3].y],["Z"]];i=this.parsePath(i);var r=Object(ln.__assign)(Object(ln.__assign)({stroke:"#fff",lineWidth:1,fill:t.color},t.style),{path:i}),o=e.addShape("path",{attrs:r}),a=t.data.$$date$$;if(function(t){return t.getMonth()!==af(new Date(t),6048e5).getMonth()}(a)){var s=[["M",n[2].x,n[2].y],["L",n[3].x,n[3].y]];e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),function(t){return t.getMonth()!==af(new Date(t),864e5).getMonth()}(a)&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",n[1].x,n[1].y],["L",n[2].x,n[2].y]]),lineWidth:1,stroke:"#404040"}})}return e.sort(),o}}});!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="calendar",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=hf.getDefaultOptions}($l);var uf=function(){function t(t){this.uid=t}return t.prototype.setOption=function(t,e){this.type=t,this.options=e,this.axis=e.axis,this.pivot=e.pivot},t.prototype.render=function(){var t=this;En("point","gauge",{draw:function(e,n){var i,r,o;this.gauge={},this.gauge.options=t.options,this.gauge.axis=t.axis,this.gauge.pivot=t.pivot,this.gauge.type=t.type;var a=this.gauge,s=this.gauge.type,l=e.points[0],c=this.parsePoint({x:0,y:0}),h=this.parsePoint({x:l.x||0,y:1});a.center=c,a.group=n;var u=c.x-h.x,d=c.y-h.y;this.gauge.ringRadius=Math.sqrt(u*u+d*d);var p=this.getAngleRange(),f=p.starAngle,g=p.endAngle,m=l.x*(g-f)+f;switch(s){case"meterGauge":this.drawBarGauge(m),this.gauge.axis.visible&&(null===(i=this.gauge.axis.tickLine)||void 0===i?void 0:i.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(m),this.gauge.axis.visible&&(null===(r=this.gauge.axis.tickLine)||void 0===r?void 0:r.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(m),this.gauge.axis.visible&&(null===(o=this.gauge.axis.tickLine)||void 0===o?void 0:o.visible)&&this.drawAxis()}this.gauge.pivot.visible&&this.drawPivot(e,n)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,i=t.range,r=t.color,o=t.rangeStyle,a=r||Al().colors,s=this.getAngleRange(),l={min:e,max:n,starAngle:s.starAngle,endAngle:s.endAngle},c=0;c<i.length;c++){var h=this.valueToAngle(i[c],l),u=this.valueToAngle(i[c+1],l);if(u>=h){var d=this.getPath(h,u),p=Object(I.deepMix)({fill:a[c]},o);this.drawRing(d,p)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,i=this.gauge.options.rangeBackgroundStyle,r=this.getPath(e,n);this.drawRing(r,i)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,i=this.getPath(e,t);this.drawRing(i,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,i=t.axis,r=this.getAngleRange(),o={min:e,max:n,starAngle:r.starAngle,endAngle:r.endAngle},a=(n-e)/i.tickCount,s=0;s<i.tickCount;s++){var l=e+s*a,c=this.valueToAngle(l+a/2,o);this.drawRect(c,{length:i.tickLine.length,style:i.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,i=e.max,r=this.getAngleRange(),o={min:n,max:i,starAngle:r.starAngle,endAngle:r.endAngle},a=(i-n)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=n+s*a,c=this.valueToAngle(l,o),h=Object(I.clone)(t.tickLine.style);s%5!=0&&(h.lineWidth=h.lineWidth/2),this.drawRect(c,{length:s%5==0?t.tickLine.length:t.tickLine.length/2,style:h})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,i=e.max,r=this.getAngleRange(),o={min:n,max:i,starAngle:r.starAngle,endAngle:r.endAngle},a=(i-n)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=n+s*a,c=this.valueToAngle(l,o);this.drawRect(c,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,i=n.min,r=n.max,o=n.range,a=n.color,s=n.rangeStyle,l=n.rangeBackgroundStyle,c=a||Al().colors,h=this.getAngleRange(),u=h.starAngle,d=h.endAngle,p={min:i,max:r,starAngle:u,endAngle:d},f=(d-u)/49,g=f/3,m=0;m<50;m++){var v=u+m*f,y=this.getPath(v-g/2,v+g-g/2),x=l;if(o&&o.length){var b=Za(o.map((function(t){return e.valueToAngle(t,p)})),v),w=Math.min(b,o.length-1);x=Object(I.deepMix)({},{fill:c[w-1]},s)||l}else x=t>=v?Object(I.deepMix)({},{fill:a},s):l;this.drawRing(y,x)}},getAngleRange:function(){var t=90-.5*(360-this.gauge.options.angle);return{starAngle:(180-t)*Math.PI/180,endAngle:(360+t)*Math.PI/180}},valueToAngle:function(t,e){var n=e.min,i=e.max,r=e.starAngle,o=e.endAngle;if(t===i)return o;if(t===n)return r;var a=(t-n)/(i-n);i===n&&(a=1);var s=a*(o-r)+r;return s=Math.max(s,r),s=Math.min(s,o)},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:Object(I.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n,i=this.gauge.axis,r=Object(ln.__assign)(Object(ln.__assign)({},i),e),o=r.offset,a=r.length,s=this.gauge.center,l=(n=o<0?this.gauge.ringRadius-this.gauge.options.rangeSize+o:this.gauge.ringRadius+o)*Math.cos(t)+s.x,c=n*Math.sin(t)+s.y,h=(n+a)*Math.cos(t)+s.x,u=(n+a)*Math.sin(t)+s.y;this.gauge.group.addShape("line",{attrs:Object(I.deepMix)({},{x1:l,y1:c,x2:h,y2:u},e.style)}).set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,i=this.gauge.ringRadius,r=this.gauge.options.rangeSize,o=i*Math.cos(t)+n.x,a=i*Math.sin(t)+n.y,s=(i-r)*Math.cos(t)+n.x,l=(i-r)*Math.sin(t)+n.y,c=i*Math.cos(e)+n.x,h=i*Math.sin(e)+n.y,u=(i-r)*Math.cos(e)+n.x,d=(i-r)*Math.sin(e)+n.y,p=Math.abs(t-e)>Math.PI?1:0;return[["M",o,a],["A",i,i,0,p,1,c,h],["L",u,d],["A",i-r,i-r,0,p,0,s,l],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,i=e.endAngle,r=this.gauge.options,o=r.radius,a=r.rangeSize,s=this.gauge.pivot,l=s.thickness,c=s.thickness/2.5,h=this.gauge.group,u=t.points[0],d=this.parsePoint({x:0,y:0}),p=u.x*(i-n)+n,f={x:(this.gauge.ringRadius-a)*o*Math.cos(p)+this.gauge.center.x,y:(this.gauge.ringRadius-a)*o*Math.sin(p)+this.gauge.center.y};if(s.base.visible&&h.addShape("circle",{attrs:Object(I.deepMix)({},{x:d.x,y:d.y,r:s.base.size?s.base.size/2:2.2*l},s.base.style)}),s.pointer.visible){var g={x:d.x-f.x,y:d.y-f.y},m=Math.sqrt(g.x*g.x+g.y*g.y);g.x*=1/m,g.y*=1/m;var v=-Math.PI/2,y=Math.cos(v)*g.x-Math.sin(v)*g.y,x=Math.sin(v)*g.x+Math.cos(v)*g.y,b=Math.PI/2,w=Math.cos(b)*g.x-Math.sin(b)*g.y,C=Math.sin(b)*g.x+Math.cos(b)*g.y,_=[["M",f.x+y*c,f.y+x*c],["L",d.x+y*l,d.y+x*l],["L",d.x+w*l,d.y+C*l],["L",f.x+w*c,f.y+C*c],["Z"]];h.addShape("path",{attrs:Object(I.deepMix)({},{path:_},s.pointer.style)}),h.addShape("circle",{attrs:{x:f.x,y:f.y,r:c,fill:s.pointer.style.fill}}),h.addShape("circle",{attrs:{x:d.x,y:d.y,r:l,fill:s.pointer.style.fill}})}s.pin.visible&&h.addShape("circle",{attrs:Object(I.deepMix)({},{x:d.x,y:d.y,r:c/1.2},s.pin.style)})}})},t}(),df=Wa({range:"point",statistic:"annotation-text"});Object(I.assign)(Ga,df);var pf=function(t){function e(e){var n=t.call(this,e)||this;return n.type="gauge",n}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},e.prototype.init=function(){var e=this.options,n=e.value,i=(e.range||[]).map((function(t){return+t})).sort((function(t,e){return t-e})),r=this.options,o=r.min,a=void 0===o?i[0]:o,s=r.max,l=void 0===s?i[i.length-1]:s,c=r.format,h=void 0===c?function(t){return""+t}:c,u=h(n);this.options.data=[{value:n||0}],this.options.valueText=u,this.options.min=a,this.options.max=l,this.options.format=h,this.initG2Shape(),t.prototype.init.call(this)},e.prototype.initG2Shape=function(){this.gaugeShape=new uf(Object(I.uniqueId)()),this.gaugeShape.setOption(this.type,Object(I.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},e.prototype.geometryParser=function(){return"gauge"},e.prototype.scale=function(){var e=this.options,n=e.min,i=e.max,r=e.format,o={value:{}};hc(o.value,{min:n,max:i,minLimit:n,maxLimit:i,nice:!0,formatter:r,tickInterval:20}),this.setConfig("scales",o),t.prototype.scale.call(this)},e.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},e.prototype.axis=function(){var t,e=this.options.axis,n={value:{line:null,grid:null,tickLine:null}};t=e.offset<0?e.offset-this.options.rangeSize-e.tickLine.length-e.label.offset:e.offset+e.tickLine.length+e.label.offset,e.label.visible?n.value.label={offset:t,textStyle:e.label.style,autoRotate:!0}:n.value.label={style:{opacity:0}},n[1]=!1,n.value=!!e.visible&&n.value,this.setConfig("axes",n)},e.prototype.addGeometry=function(){var t={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[this.options.pivot.pointer.style.fill||this.theme.defaultColor]}};this.setConfig("geometry",t)},e.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},e.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic;return{type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:1.2*t,textAlign:"center",textBaseline:"middle"}}},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,b)},e}(Fl),ff=pf;Wl("gauge",pf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="gauge",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=ff.getDefaultOptions}($l);var gf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="fanGauge",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},e.prototype.initG2Shape=function(){this.gaugeShape=new uf(Object(I.uniqueId)()),this.gaugeShape.setOption(this.type,Object(I.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},e.prototype.axis=function(){this.setConfig("axes",{value:!1,1:!1})},e.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var i=this.renderSideText(),r=e.concat(i);this.setConfig("annotations",r)},e.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,i=t.format,r=t.rangeSize,o=t.axis;return[n,e].map((function(t,e){return{type:"text",top:!0,position:["50%","50%"],content:i(t),style:Object(I.deepMix)({},o.label.style,{textAlign:"center"}),offsetX:e?r:-r,offsetY:12}}))},e}(ff),mf=gf;Wl("fanGauge",gf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="fanGauge",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=mf.getDefaultOptions}($l);var vf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="meterGauge",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},e}(ff),yf=vf;Wl("meterGauge",vf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="meterGauge",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=yf.getDefaultOptions}($l);var xf=n(33),bf=n.n(xf),wf=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="donut",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},e.getDefaultOptions=mp.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="groupedColumn",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},e.getDefaultOptions=Tu.getDefaultOptions,e}($l)),Cf=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="groupedBar",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},e.getDefaultOptions=zh.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="percentStackedArea",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},e.getDefaultOptions=gu.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="percentStackedBar",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},e.getDefaultOptions=Hh.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="percentStackedColumn",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},e.getDefaultOptions=Wu.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedArea",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},e.getDefaultOptions=pu.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedBar",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},e.getDefaultOptions=Rh.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedColumn",t.prototype.createLayers.call(this,n),bf()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},e.getDefaultOptions=Lu.getDefaultOptions}($l),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},e.prototype.coord=function(){},e.prototype.addGeometry=function(){},e.prototype.annotation=function(){var t=this,e=this.options,n=[],i={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};Object(I.each)(e.guideLine,(function(e){var r=Vs("guideLine",{plot:t,cfg:Object(I.deepMix)({},i,e)});n.push(r)})),this.setConfig("annotations",n)},e}(Fl)),_f=function(){function t(t){Object(I.assign)(this,t),this.init()}return t.prototype.destroy=function(){this.shape&&this.shape.destroy()},t.prototype.update=function(t,e,n){var i={};if(Object(I.assign)(this,t),this.coord=this.view.geometries[0].coordinate,t.value){var r=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1];i.matrix=r}if(t.style){var o=this.shape.attrs,a=Object(I.deepMix)({},o,t.style);i=Object(I.deepMix)({},a,i)}this.shape.stopAnimate(),this.shape.animate(i,e,n)},t.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,n=this.coord.center.y+this.progressSize/2+2,i=Object(I.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:Object(ln.__assign)({path:[["M",0,e],["L",0,n]]},i),name:"progress-marker"}),this.shape.move(t,0),this.canvas.draw()},t}(),Sf=Wa({progress:"interval"});Object(I.assign)(Ga,Sf);var Of={progress:"interval"},Mf={interval:"progress"},kf=["#55A6F3","#E8EDF3"],Af=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="progress",e.isEntered=!1,e}return Object(ln.__extends)(e,t),e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||kf};t=Object(I.mix)(t,e)},e.prototype.init=function(){this.processProps(),t.prototype.init.call(this)},e.prototype.beforeInit=function(){var t=this.options.percent;if(!Object(I.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},e.prototype.update=function(t){var e=this.options;if(Object(I.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;Object(I.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},e.prototype.destroy=function(){this.markers&&this.markers.length>0&&(Object(I.each)(this.markers,(function(t){t.destroy()})),this.markers=[]),t.prototype.destroy.call(this)},e.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],Object(I.each)(this.options.marker,(function(e){var n=Object(I.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},e),i=new _f(n);t.markers.push(i)})));var e=this.view.geometries[0].container,n=e.getBBox(),i=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),i.on("mouseenter",(function(e){t.isEntered=!0,t.view.emit("progress:mouseenter",e)})),i.on("mouseleave",(function(e){t.isEntered=!1,t.view.emit("progress:mouseleave",e)})),this.canvas.get("container").addEventListener("mouseleave",(function(e){t.isEntered&&(t.view.emit("progress:mouseleave",e),t.isEntered=!1)}))},e.prototype.geometryParser=function(t,e){return"g2"===t?Of[e]:Mf[e]},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],Object(I.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},e.prototype.parseEvents=function(e){e?t.prototype.parseEvents.call(this,e):t.prototype.parseEvents.call(this,w)},e.prototype.parseColorProps=function(t){var e;if(t.color){if(e=Object(I.isFunction)(t.color)?t.color(t.percent):t.color,Object(I.isString)(e)){var n=Object(I.clone)(kf);return n[0]=e,n}return e}return t.color},e.prototype.processData=function(){var t=this.options;return[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}]},e.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if(Object(I.each)(this.markers,(function(i,r){r>e-1?i.destroy():i.update(t[r],n.duration,n.easing)})),this.markers.length<e)for(var i=this.markers.length;i<e;i++){var r=Object(I.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[i]),o=new _f(r);this.markers.push(o)}},e.prototype.getSize=function(){return this.height>=50?10:4},e.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,i=e.easing,r=[],o=this.view.geometries;Object(I.each)(o,(function(t){if("interval"===t.type){var e=t.elements;Object(I.each)(e,(function(t){r.push.apply(r,t.shape)}))}})),Object(I.isArray)(t)?Object(I.each)(t,(function(t,e){r[e].animate(t,n,i)})):r[0].animate(t,n,i)},e.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},e.prototype.updateColorConfigByStyle=function(t){var e=this;Object(I.isArray)(t)?Object(I.each)(t,(function(t,n){t.fill&&(e.options.color[n]=t.fill)})):t.fill&&(this.options.color[0]=t.fill)},e}(Cf),Tf=Af;Wl("progress",Af);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="progress",t.prototype.createLayers.call(this,n)},e.prototype.update=function(t,e){this.layers[0].update(t,e)},e.getDefaultOptions=Tf.getDefaultOptions}($l);var Df=Wa({ringProgress:"interval"});Object(I.assign)(Ga,Df);var Pf=["#55A6F3","#E8EDF3"],If=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ringProgrsss",e}return Object(ln.__extends)(e,t),e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||Pf};t=Object(I.mix)(t,e)},e.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=this.options;this.ring=cc("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},e.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,C)},e.prototype.getThickness=function(t){var e=this.width,n=this.height,i=Math.min(e,n);return t?1-t/i:i>=60?1-20/i:1-10/i},e}(Tf),Ef=If;Wl("ringProgress",If);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="ringProgress",t.prototype.createLayers.call(this,n)},e.prototype.update=function(t){this.layers[0].update(t)},e.getDefaultOptions=Ef.getDefaultOptions}($l);Object(I.assign)(Ga,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"});var jf={column:"interval"},Lf={interval:"column"},Bf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tinyColumn",e}return Object(ln.__extends)(e,t),e.prototype.init=function(){this.processProps(),t.prototype.init.call(this)},e.prototype.geometryParser=function(t,e){return"g2"===t?jf[e]:Lf[e]},e.prototype.scale=function(){var t={};t[this.options.xField]={type:"cat"},this.setConfig("scales",t)},e.prototype.addGeometry=function(){var t=this.options,e=cc("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,_)},e.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=Object(I.mix)(this.options,t)},e.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},e.prototype.getColumnNum=function(t,e){var n=[];return Object(I.each)(t,(function(t){var i=t[e];n.indexOf(i)<0&&n.push(i)})),n.length},e}(Cf),Nf=Bf;Wl("tinyColumn",Bf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="tinyColumn",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Nf.getDefaultOptions}($l);Object(I.assign)(Ga,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"});var Rf={area:"area",line:"line"},Ff=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tinyArea",e}return Object(ln.__extends)(e,t),e.prototype.geometryParser=function(t,e){return Rf[e]},e.prototype.addGeometry=function(){this.area=cc("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=cc("line","mini",{plot:this}),this.setConfig("geometry",this.line)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,S)},e}(Cf),zf=Ff;Wl("tinyArea",Ff);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="tinyArea",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=zf.getDefaultOptions}($l);Object(I.assign)(Ga,{onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"});var Vf={line:"line"},Gf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="tinyLine",e}return Object(ln.__extends)(e,t),e.prototype.geometryParser=function(t,e){return Vf[e]},e.prototype.addGeometry=function(){this.line=cc("line","mini",{plot:this}),this.setConfig("geometry",this.line)},e.prototype.parseEvents=function(){t.prototype.parseEvents.call(this,O)},e}(Cf),Hf=Gf;Wl("tinyLine",Gf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="tinyLine",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Hf.getDefaultOptions}($l);var Wf=function(t){function e(e){var n=t.call(this,e)||this;return n.geomLayers=[],n.legends=[],n.requiredField=["xField","yField"],n.options=n.getOptions(e),n.initialOptions=Object(I.deepMix)({},e),n.themeController=new Rl,n}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},e.prototype.getOptions=function(e){var n=this.options||{},i=t.prototype.getOptions.call(this,e),r=this.constructor.getDefaultOptions(e);return Object(I.deepMix)({},i,r,n,e)},e.prototype.checkData=function(){for(var t,e,n=this,i=this.options,r=i.data,o=i.xField,a=i.yField,s=0;s<this.requiredField.length;s++){var l=this.requiredField[s];if(!Object(I.hasKey)(this.options,l))return!1}return!(!Object(I.isArray)(a)||a.length<2)&&(!(!Object(I.isArray)(r)||0===r.length)&&((0!==(null===(t=r[0])||void 0===t?void 0:t.length)||0!==(null===(e=r[1])||void 0===e?void 0:e.length))&&(Object(I.each)(r,(function(t,e){if(!Object(I.isArray)(t)||0===t.length){var i=n.getMockData(e);r[e]=i}})),!(!r[0][0][o]||!r[1][0][o]))))},e.prototype.init=function(){t.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},e.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},e.prototype.changeData=function(t){t&&t.length<2||!Object(I.isArray)(t[0])||Object(I.each)(this.geomLayers,(function(e,n){e.changeData(t[n])}))},e.prototype.changeDataByIndex=function(t,e){Object(I.isArray)(t[0])||this.geomLayers[e].changeData(t)},e.prototype.doDestroy=function(){Object(I.each)(this.geomLayers,(function(t){t.doDestroy()})),this.geomLayers=[],Object(I.each)(this.legends,(function(t){t.destroy()})),this.legends=[]},e.prototype.createLayer=function(t,e,n){var i=this.getViewRange(),r=new t(Object(ln.__assign)({canvas:this.canvas,container:this.container,x:i.minX,y:i.minY,width:i.width,height:i.height,data:e},n));return this.geomLayers.push(r),r},e.prototype.yAxis=function(t){var e=this.options.yAxis,n=0===t?e.leftConfig:e.rightConfig,i=this.colors[t],r=Object(I.clone)(n),o={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};n.visible&&n.colorMapping&&Object(I.each)(r,(function(t,e){if(!Object(I.isString)(t)&&Object(I.hasKey)(o,e)){var n=o[e];t.style||(t.style={}),t.style[n]=i}})),n.visible||(r.title.visible=!1,r.tickLine.visible=!1,r.label.visible=!1,r.line.visible=!1,r.visible=!0);var a=this.getYAxisGlobalConfig();return Object(I.deepMix)({},a,r)},e.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=new(Object(Z.getScale)("linear"))(Object(I.deepMix)({},{min:0,max:e.max,nice:!0,values:e.values},{tickCount:t.tickCount})),i=n.ticks.length,r=(t.max?n.max:this.getScaleData(1).max)/(i-1),o=[],a=0;a<i;a++){var s=a*r;Number.isInteger(s)||(s=parseFloat(s.toFixed(1))),o.push(s)}return o},e.prototype.getScaleData=function(t){var e=this.options,n=e.data,i=e.yField,r=e.yAxis,o=[];return Object(I.each)(n[t],(function(e){o.push(e[i[t]])})),o.sort((function(t,e){return t-e})),{min:o[0],max:r.max?r.max:o[o.length-1],values:o}},e.prototype.getDataByXField=function(t,e){var n=this.options,i=n.data,r=n.xField;return i[e].filter((function(e){return e[r]===t}))},e.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis;return{min:t.min,max:t.max,tickCount:t.tickCount}},e.prototype.adjustLayout=function(){var t,e,n=this,i=Al().bleeding;Object(I.isArray)(i)&&Object(I.each)(i,(function(t,e){"function"==typeof i[e]&&(i[e]=i[e](n.options))}));var r,o,a=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),c=0;(null===(t=this.options.legend)||void 0===t?void 0:t.visible)&&(r=this.legends[0].getLayoutBBox(),o=this.legends[1].getLayoutBBox(),c=r.height+10);var h=s.map((function(t,e){return 0===e?Math.max.apply(null,[t+c,l[e]]):Math.max.apply(null,[t,l[e]])}));this.geomLayers[0].updateConfig({padding:h}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:h}),this.geomLayers[1].render(),(null===(e=this.options.legend)||void 0===e?void 0:e.visible)&&(this.legends[0].setLocation({x:i[3],y:a.minY+5}),this.legends[1].setLocation({x:a.maxX-i[1]-o.width,y:a.minY+5}))},e.prototype.transfromPadding=function(t){return"string"==typeof t||"number"==typeof t?[Number(t)]:t},e.prototype.legendFilter=function(t){var e=this,n=this.legends[t];n.get("group").on("click",(function(){var i=n.get("items")[0];i.unchecked?(n.setItemState(i,"unchecked",!1),e.showLayer(t)):(n.setItemState(i,"unchecked",!0),e.hideLayer(t))}))},e.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],i=e.view,r=this.getYAxisContainer(i,n);r&&r.set("visible",!1),this.setGeometryVisibility(i,!1),this.canvas.draw()},e.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],i=e.view,r=this.getYAxisContainer(i,n);r&&r.set("visible",!0),this.setGeometryVisibility(i,!0),this.canvas.draw()},e.prototype.setGeometryVisibility=function(t,e){Object(I.each)(t.geometries,(function(t){var n=t.container,i=t.labelsContainer;n&&n.set("visible",e),i&&i.set("visible",e)}))},e.prototype.getYAxisContainer=function(t,e){var n,i=t.controllers.filter((function(t){return Object(I.hasKey)(t,"axisContainer")}))[0];if(i){var r=i.axisContainer.get("children");Object(I.each)(r,(function(t){t.get("component").get("field")===e&&(n=t)}))}return n},e.prototype.getUnCheckedValue=function(){var t=[];return Object(I.each)(this.legends,(function(e){var n=e.getItemsByState("unchecked");Object(I.each)(n,(function(e){t.push(e.name)}))})),t},e.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),qa(t.title)){var n=this.width,i=this.theme,r=new Ja({leftMargin:e.minX+i.title.padding[3],rightMargin:e.maxX-i.title.padding[1],topMargin:e.minY+i.title.padding[0],text:t.title.text,style:Object(I.mix)(i.title,t.title.style),wrapperWidth:n-i.title.padding[3]-i.title.padding[1],container:this.container.addGroup(),theme:i,index:qa(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=r}},e.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),qa(t.description)){var n=this.width,i=this.theme,r=0;if(this.title){var o=this.title.getBBox();r+=o.minY+o.height,r+=i.description.padding[0]}else r+=e.minY+i.title.padding[0];var a=new Ja({leftMargin:e.minX+i.description.padding[3],topMargin:r,rightMargin:e.maxX-i.title.padding[1],text:t.description.text,style:Object(I.mix)(i.description,t.description.style),wrapperWidth:n-i.description.padding[3]-i.description.padding[1],container:this.container.addGroup(),theme:i,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=a}},e.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Ya(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,i=this.layerBBox.maxY,r=[this.title,this.description];return Object(I.each)(r,(function(r){if(r){var o=r.position,a=r.getBBox(),s=a.minX,l=a.maxX,c=a.minY,h=a.maxY;h>=n&&h<=i&&"top"===o&&(n=h),c>=n&&c<=i&&"bottom"===o&&(i=c),l>t&&l<=e&&"left"===o&&(t=l),s>=t&&l<=e&&"right"===o&&(e=s)}})),new Ya(t,n,e-t,i-n)},e.prototype.getMockData=function(t){var e=this.options,n=e.xField,i=e.yField,r={};return r[n]="null",r[i[t]]=0,[r]},e}(Xa),$f={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Yf={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Xf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dualLine",e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:Yf,rightConfig:Yf},lineConfigs:[Object(I.deepMix)({},$f,{color:"#5B8FF9"}),Object(I.deepMix)({},$f,{color:"#e76c5e"})]})},e.prototype.init=function(){var e=this;if(t.prototype.init.call(this),this.checkData()){var n=this.options,i=n.data,r=n.meta,o=n.xField,a=n.yField,s=n.xAxis,l=n.tooltip,c=n.lineConfigs,h=n.legend,u=n.events;this.colors=[c[0].color,c[1].color];var d=this.getYAxisGlobalConfig();this.createLayer(Zc,i[0],Object(ln.__assign)({meta:r,xField:o,yField:a[0],xAxis:{visible:!1},yAxis:Object(I.deepMix)({},d,this.yAxis(0),{grid:{visible:!1},nice:!0}),tooltip:{visible:!1},events:u},c[0])).render();var p={};p[a[1]]={ticks:this.getTicks()},this.createLayer(Zc,i[1],Object(ln.__assign)({xField:o,yField:a[1],meta:Object(I.deepMix)({},r,p),serieField:a[1],xAxis:s,yAxis:Object(I.deepMix)({},d,this.yAxis(1),{position:"right",nice:!1}),tooltip:Object(I.deepMix)({},l,{showMarkers:!1,custom:{onChange:function(t,n){e.tooltip(t,n)}}}),events:u},c[1])).render(),h.visible&&this.customLegend(),this.adjustLayout()}},e.prototype.tooltip=function(t,e){if(this.getUnCheckedValue().length!==this.colors.length){t.style.display="block";var n=this.options,i=n.yField,r=n.legend,o=Object(I.clone)(e.items[0]),a=this.getDataByXField(e.title,0)[0];a&&e.items.push(Object(ln.__assign)(Object(ln.__assign)({},o),{mappingData:Object(I.deepMix)({},o.mappingData,{_origin:a}),data:a,name:i[0],value:a[i[0]],color:this.colors[0]})),r.visible&&Object(I.each)(this.legends,(function(t,n){if(t.get("items")[0].unchecked){var i=0===n?1:0;e.items.splice(i,1)}}))}else t.style.display="none"},e.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,i=e.legend,r=this.colors,o=this.container.addGroup(),a=i;Object(I.each)(this.geomLayers,(function(e,i){var s=Object(I.deepMix)({},{symbol:"circle",style:{r:4,fill:r[i]}},a.marker),l=[{name:n[i],unchecked:!1,marker:s}],c=new K.Legend.Category({id:t.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});c.init(),c.render(),t.legends.push(c)})),Object(I.each)(this.geomLayers,(function(e,n){t.legendFilter(n)}))},e}(Wf),qf=Xf;Wl("dualLine",Xf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="dualLine",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=qf.getDefaultOptions}($l);var Uf={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Zf={color:"#5B8FF9"},Kf={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},Jf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="columnLine",e.legends=[],e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{leftConfig:Kf,rightConfig:Kf},lineConfig:Uf,columnConfig:Zf,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,e,n=this.options,i=this.initialOptions;if(n.lineSeriesField&&(n.yAxis.rightConfig.colorMapping=!1,(null===(t=i.lineConfig)||void 0===t?void 0:t.lineSize)||(n.lineConfig.lineSize=3),!(null===(e=i.lineConfig)||void 0===e?void 0:e.color))){var r=Al(),o=r.colors,a=r.colors_20,s=this.getValueBySeriesField(),l=s.length>o.length?a:o,c=[];Object(I.each)(s,(function(t,e){c.push(l[e+1])})),n.lineConfig.color=c}},e.prototype.init=function(){if(t.prototype.init.call(this),this.checkData()){var e=this.options,n=e.data,i=e.meta,r=e.xField,o=e.yField,a=e.lineSeriesField,s=e.legend,l=e.lineConfig,c=e.columnConfig,h=e.events;this.colors=[c.color,l.color],this.drawColumn();var u={};u[o[1]]={ticks:this.getTicks()},this.createLayer(Zc,n[1],Object(ln.__assign)({xField:r,yField:o[1],seriesField:a,meta:Object(I.deepMix)({},i,u),xAxis:{visible:!1},yAxis:Object(I.deepMix)({},this.yAxis(1),{position:"right",grid:{visible:!1},nice:!0}),tooltip:{visible:!1},legend:{visible:!1},events:h},l)).render(),s.visible&&this.customLegend(),this.adjustLayout()}},e.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,i=e.xField,r=e.yField,o=e.xAxis,a=e.tooltip,s=e.columnConfig,l=e.meta,c=e.events;this.createLayer(ku,n[0],Object(ln.__assign)({xField:i,yField:r[0],meta:l,xAxis:o,yAxis:Object(I.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),tooltip:Object(I.deepMix)({},a,{showMarkers:!1,custom:{onChange:function(e,n){t.tooltip(e,n)}}}),events:c},s)).render()},e.prototype.tooltip=function(t,e){var n=this,i=this.options,r=i.xField,o=i.yField,a=i.tooltip,s=Object(I.clone)(e.items[0]),l=this.getDataByXField(e.title,1),c=Object(I.get)(a,"formatter");if(l&&Object(I.each)(l,(function(t,i){var a=n.geomLayers[1].options.seriesField,h=a?t[a]:o[1],u=c?c(t[r],t[o[1]],t[a]):{name:h,value:t[o[1]]};e.items.push(Object(ln.__assign)(Object(ln.__assign)(Object(ln.__assign)(Object(ln.__assign)({},s),{mappingData:Object(I.deepMix)({},s.mappingData,{_origin:l}),data:t}),u),{color:Object(I.isArray)(n.colors[1])?n.colors[1][i]:n.colors[1]}))})),this.options.legend.visible){var h=this.getUnCheckedValue(),u=this.legends[0].get("items").length+this.legends[1].get("items").length;if(h.length===u)return void(t.style.display="none");t.style.display="block";var d=[],p=[];Object(I.each)(e.items,(function(t){var e=t.name;Object(I.contains)(d,e)||Object(I.contains)(h,e)||(d.push(e),p.push(t))})),Object(I.each)(e.items,(function(t,n){n<p.length?e.items[n]=p[n]:e.items.pop()}))}},e.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,i=e.legend,r=this.colors,o=this.container.addGroup(),a=i,s=["square","circle"];Object(I.each)(this.geomLayers,(function(e,i){var l;if(e.options.seriesField){var c=t.getValueBySeriesField();l=t.createNormalLegend(c,s[i],r[i],a,o)}else l=t.createSingleLegend(n[i],s[i],r[i],a,o);t.legends.push(l)})),Object(I.each)(this.geomLayers,(function(e,n){e.options.seriesField?t.multipleLegendFilter(n,e.options.seriesField):t.legendFilter(n)}))},e.prototype.createSingleLegend=function(t,e,n,i,r){var o=[{name:t,unchecked:!1,marker:Object(I.deepMix)({},{symbol:e,style:{r:4,fill:n}},i.marker)}],a=new K.Legend.Category({id:this.type,container:r,x:0,y:0,items:o,updateAutoRender:!0,itemBackground:null,itemName:i.text});return a.init(),a.render(),a},e.prototype.createNormalLegend=function(t,e,n,i,r){var o=[];Object(I.each)(t,(function(t,i){o.push({name:t,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[i]}}})}));var a=new K.Legend.Category({id:this.type,container:r,x:0,y:0,items:o,updateAutoRender:!0,itemBackground:null,itemName:i.text,offsetX:0});return a.init(),a.render(),a},e.prototype.multipleLegendFilter=function(t,e){var n=this,i=this.legends[t],r=[],o=i.get("group"),a=!1;o.on("click",(function(o){var s=n.geomLayers[t].view,l=o.target.get("delegateObject").item;l.unchecked?(!0===a&&(n.showLayer(t),a=!1),Object(I.pull)(r,l.name),s.filter(l.value,(function(t){return!Object(I.contains)(r,t)})),s.render(),i.setItemState(l,"unchecked",!1)):(i.setItemState(l,"unchecked",!0),r.push(l.name),r.length===n.legends[t].get("items").length?(n.hideLayer(t),a=!0):(s.filter(e,(function(t){return!Object(I.contains)(r,t)})),s.render())),n.canvas.draw()}))},e.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data[1],i=[];return Object(I.each)(n,(function(t){var n=t[e];Object(I.contains)(i,n)||i.push(n)})),i},e}(Wf),Qf=Jf;Wl("columnLine",Jf);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="columnLine",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=Qf.getDefaultOptions}($l);var tg={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},eg={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},ng={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},ig=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="groupedColumnLine",e.requiredField=["xField","yField","columnGroupField"],e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{leftConfig:Object(I.deepMix)({},ng,{colorMapping:!1}),rightConfig:ng},lineConfig:tg,columnConfig:eg,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,e,n=this.options,i=this.initialOptions,r=this.getValueByGroupField();if(n.lineSeriesField&&(n.yAxis.rightConfig.colorMapping=!1,(null===(t=i.lineConfig)||void 0===t?void 0:t.lineSize)||(n.lineConfig.lineSize=3),!(null===(e=i.lineConfig)||void 0===e?void 0:e.color))){var o=Al(),a=o.colors,s=o.colors_20,l=this.getValueBySeriesField(),c=l.length>a.length?s:a,h=[],u=r.length;Object(I.each)(l,(function(t,e){h.push(c[e+u])})),n.lineConfig.color=h}var d=this.options.columnConfig.color;this.options.columnConfig.color=d.slice(0,r.length)},e.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,i=e.xField,r=e.yField,o=e.columnGroupField,a=e.xAxis,s=e.tooltip,l=e.columnConfig,c=e.events;this.createLayer(Tu,n[0],Object(ln.__assign)({xField:i,yField:r[0],groupField:o,xAxis:a,yAxis:Object(I.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:Object(I.deepMix)({},s,{showMarkers:!1,custom:{onChange:function(e,n){t.tooltip(e,n)}}}),events:c},l)).render()},e.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,i=e.legend,r=this.colors,o=this.container.addGroup(),a=i,s=["square","circle"];Object(I.each)(this.geomLayers,(function(e,i){var l;if(e.options.seriesField){var c=t.getValueBySeriesField();l=t.createNormalLegend(c,s[i],r[i],a,o)}else if(e.options.groupField){c=t.getValueByGroupField();l=t.createNormalLegend(c,s[i],r[i],a,o)}else l=t.createSingleLegend(n[i],s[i],r[i],a,o);t.legends.push(l)})),Object(I.each)(this.geomLayers,(function(e,n){e.options.seriesField?t.multipleLegendFilter(n,e.options.seriesField):e.options.groupField?t.multipleLegendFilter(n,e.options.groupField):t.legendFilter(n)}))},e.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data[0],i=[];return Object(I.each)(n,(function(t){var n=t[e];Object(I.contains)(i,n)||i.push(n)})),i},e.prototype.getMockData=function(t){var e=this.options,n=e.xField,i=e.yField,r=e.columnGroupField,o={};o[n]="null_1",o[i[t]]=0,o[r]="null_a";var a={};return a[n]="null_1",a[i[t]]=1,a[r]="null_a",[o,a]},e}(Qf),rg=ig;Wl("groupedColumnLine",ig);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="groupedColumnLine",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=rg.getDefaultOptions}($l);var og={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},ag={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},sg={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},lg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="groupedColumnLine",e.requiredField=["xField","yField","columnStackField"],e}return Object(ln.__extends)(e,t),e.getDefaultOptions=function(){return Object(I.deepMix)({},t.getDefaultOptions.call(this),{yAxis:{leftConfig:Object(I.deepMix)({},sg,{colorMapping:!1}),rightConfig:sg},lineConfig:og,columnConfig:ag,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),i=this.options,r=this.initialOptions;if(i.lineSeriesField&&(i.yAxis.rightConfig.colorMapping=!1,(null===(t=r.lineConfig)||void 0===t?void 0:t.lineSize)||(i.lineConfig.lineSize=3),!(null===(e=r.lineConfig)||void 0===e?void 0:e.color))){var o=Al(),a=o.colors,s=o.colors_20,l=this.getValueBySeriesField(),c=l.length>a.length?s:a,h=[],u=n.length;Object(I.each)(l,(function(t,e){h.push(c[e+u])})),i.lineConfig.color=h}var d=this.options.columnConfig.color;this.options.columnConfig.color=d.slice(0,n.length)},e.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,i=e.xField,r=e.yField,o=e.columnStackField,a=e.xAxis,s=e.tooltip,l=e.columnConfig,c=e.events;this.createLayer(Lu,n[0],Object(ln.__assign)({xField:i,yField:r[0],stackField:o,xAxis:a,yAxis:Object(I.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:Object(I.deepMix)({},s,{showMarkers:!1,custom:{onChange:function(e,n){t.tooltip(e,n)}}}),events:c},l)).render()},e.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,i=e.legend,r=this.colors,o=this.container.addGroup(),a=i,s=["square","circle"];Object(I.each)(this.geomLayers,(function(e,i){var l;if(e.options.seriesField){var c=t.getValueBySeriesField();l=t.createNormalLegend(c,s[i],r[i],a,o)}else if(e.options.stackField){c=t.getValueByStackField();l=t.createNormalLegend(c,s[i],r[i],a,o)}else l=t.createSingleLegend(n[i],s[i],r[i],a,o);t.legends.push(l)})),Object(I.each)(this.geomLayers,(function(e,n){e.options.seriesField?t.multipleLegendFilter(n,e.options.seriesField):e.options.stackField?t.multipleLegendFilter(n,e.options.stackField):t.legendFilter(n)}))},e.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data[0],i=[];return Object(I.each)(n,(function(t){var n=t[e];Object(I.contains)(i,n)||i.push(n)})),i},e.prototype.getUnCheckedValue=function(){var t=[];return Object(I.each)(this.legends,(function(e){var n=e.getItemsByState("unchecked");Object(I.each)(n,(function(e){t.push(e.name)}))})),t},e.prototype.getMockData=function(t){var e=this.options,n=e.xField,i=e.yField,r=e.columnStackField,o={};o[n]="null_1",o[i[t]]=0,o[r]="null_a";var a={};return a[n]="null_1",a[i[t]]=1,a[r]="null_a",[o,a]},e}(Qf),cg=lg;Wl("stackedColumnLine",lg);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(ln.__extends)(e,t),e.prototype.createLayers=function(e){var n=Object(I.deepMix)({},e);n.type="stackedColumnLine",t.prototype.createLayers.call(this,n)},e.getDefaultOptions=cg.getDefaultOptions}($l)},function(t,e,n){"use strict";(function(t){const n=t=>(...e)=>{const n=t(...e);return n.isDirective=!0,n};class i{constructor(){this.isDirective=!0,this.isClass=!0}body(t){}}const r=t=>null!=t&&"boolean"==typeof t.isDirective,o="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=(t,e,n=null,i=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,i),e=n}},s=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},l={},c={},h=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${h}--\x3e`,d=new RegExp(`${h}|${u}`);class p{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],r=document.createTreeWalker(e.content,133,null,!1);let o=0,a=-1,s=0;const{strings:l,values:{length:c}}=t;for(;s<c;){const t=r.nextNode();if(null!==t){if(a++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let i=0;for(let t=0;t<n;t++)f(e[t].name,"$lit$")&&i++;for(;i-- >0;){const e=l[s],n=y.exec(e)[2],i=n.toLowerCase()+"$lit$",r=t.getAttribute(i);t.removeAttribute(i);const o=r.split(d);this.parts.push({type:"attribute",index:a,name:n,strings:o}),s+=o.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),r.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(h)>=0){const i=t.parentNode,r=e.split(d),o=r.length-1;for(let e=0;e<o;e++){let n,o=r[e];if(""===o)n=v();else{const t=y.exec(o);null!==t&&f(t[2],"$lit$")&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),n=document.createTextNode(o)}i.insertBefore(n,t),this.parts.push({type:"node",index:++a})}""===r[o]?(i.insertBefore(v(),t),n.push(t)):t.data=r[o],s+=o}}else if(8===t.nodeType)if(t.data===h){const e=t.parentNode;null!==t.previousSibling&&a!==o||(a++,e.insertBefore(v(),t)),o=a,this.parts.push({type:"node",index:a}),null===t.nextSibling?t.data="":(n.push(t),a--),s++}else{let e=-1;for(;-1!==(e=t.data.indexOf(h,e+1));)this.parts.push({type:"node",index:-1}),s++}}else r.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const f=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},g=t=>-1!==t.index,m=document.createComment(""),v=()=>m.cloneNode(),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class x{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=o?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let r,a=0,s=0,l=i.nextNode();for(;a<n.length;)if(r=n[a],g(r)){for(;s<r.index;)s++,"TEMPLATE"===l.nodeName&&(e.push(l),i.currentNode=l.content),null===(l=i.nextNode())&&(i.currentNode=e.pop(),l=i.nextNode());if("node"===r.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));a++}else this.__parts.push(void 0),a++;return o&&(document.adoptNode(t),customElements.upgrade(t)),t}}const b=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),w=` ${h} `,C=document.createElement("template");class _{constructor(t,e,n,i){this.strings=t,this.values=e,this.type=n,this.processor=i}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let i=0;i<t;i++){const t=this.strings[i],r=t.lastIndexOf("\x3c!--");n=(r>-1||n)&&-1===t.indexOf("--\x3e",r+1);const o=y.exec(t);e+=null===o?t+(n?w:u):t.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+h}return e+=this.strings[t],e}getTemplateElement(){const t=C.cloneNode();let e=this.getHTML();return void 0!==b&&(e=b.createHTML(e)),t.innerHTML=e,t}}class S extends _{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),a(e,n.firstChild),t}}const O=t=>null===t||!("object"==typeof t||"function"==typeof t),M=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]),k=document.createTextNode("");class A{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new T(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!M(t))return t}let i="";for(let r=0;r<e;r++){i+=t[r];const e=n[r];if(void 0!==e){const t=e.value;if(O(t)||!M(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class T{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===l||O(t)&&t===this.value||(this.value=t,r(t)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const t=this.value;this.value=l,t.isClass?t.body(this):t(this)}this.value!==l&&this.committer.commit()}}class D{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(v()),this.endNode=t.appendChild(v())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=v()),t.__insert(this.endNode=v())}insertAfterPart(t){t.__insert(this.startNode=v()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;r(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=l,t.isClass?t.body(this):t(this)}const t=this.__pendingValue;t!==l&&(O(t)?t!==this.value&&this.__commitText(t):t instanceof _?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):M(t)?this.__commitIterable(t):t===c?(this.value=c,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);if(e===this.endNode.previousSibling&&3===e.nodeType)e.data=n;else{const t=k.cloneNode();t.textContent=n,this.__commitNode(t)}this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof x&&this.value.template===e)this.value.update(t.values);else{const n=new x(e,t.processor,this.options),i=n._clone();n.update(t.values),this.__commitNode(i),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,i=0;for(const r of t)n=e[i],void 0===n&&(n=new D(this.options),e.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(e[i-1])),n.setValue(r),n.commit(),i++;i<e.length&&(e.length=i,this.clear(n&&n.endNode))}clear(t=this.startNode){s(this.startNode.parentNode,t.nextSibling,this.endNode)}}class P{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;r(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=l,t.isClass?t.body(this):t(this)}if(this.__pendingValue===l)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=l}}class I extends A{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends T{}let j=!1;(()=>{try{const t={get capture(){return j=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class L{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;r(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=l,t.isClass?t.body(this):t(this)}if(this.__pendingValue===l)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=B(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=l}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const B=t=>t&&(j?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);class N{handleAttributeExpressions(t,e,n,i){const r=e[0];return"."===r?new I(t,e.slice(1),n).parts:"@"===r?[new L(t,e.slice(1),i.eventContext)]:"?"===r?[new P(t,e.slice(1),n)]:new A(t,e,n).parts}handleTextExpression(t){return new D(t)}}const R=new N;function F(t){let e=z.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},z.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const i=t.strings.join(h);return n=e.keyString.get(i),void 0===n&&(n=new p(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const z=new Map,V=new WeakMap,G=(t,e,n)=>{let i=V.get(e);void 0===i&&(s(e,e.firstChild),V.set(e,i=new D(Object.assign({templateFactory:F},n))),i.appendInto(e)),i.setValue(t),i.commit()};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const H=(t,...e)=>new _(t,e,"html",R),W=(t,...e)=>new S(t,e,"svg",R);var $=Object.freeze({__proto__:null,html:H,svg:W,DefaultTemplateProcessor:N,defaultTemplateProcessor:R,directive:n,Directive:i,isDirective:r,removeNodes:s,reparentNodes:a,noChange:l,nothing:c,AttributeCommitter:A,AttributePart:T,BooleanAttributePart:P,EventPart:L,isIterable:M,isPrimitive:O,NodePart:D,PropertyCommitter:I,PropertyPart:E,parts:V,render:G,templateCaches:z,templateFactory:F,TemplateInstance:x,SVGTemplateResult:S,TemplateResult:_,createMarker:v,isTemplatePartActive:g,Template:p});const Y=n((t,e)=>async n=>{var i,r;if(!(n instanceof D))throw new Error("asyncAppend can only be used in text bindings");if(t===n.value)return;let o;n.value=t;let a=0;try{for(var s,l=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}(t);!(s=await l.next()).done;){let i=s.value;if(n.value!==t)break;0===a&&n.clear(),void 0!==e&&(i=e(i,a));let r=n.startNode;void 0!==o&&(r=v(),o.endNode=r,n.endNode.parentNode.insertBefore(r,n.endNode)),o=new D(n.options),o.insertAfterNode(r),o.setValue(i),o.commit(),a++}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=l.return)&&await r.call(l)}finally{if(i)throw i.error}}}),X=n((t,e)=>async n=>{var i,r;if(!(n instanceof D))throw new Error("asyncReplace can only be used in text bindings");if(t===n.value)return;const o=new D(n.options);n.value=t;let a=0;try{for(var s,l=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}(t);!(s=await l.next()).done;){let i=s.value;if(n.value!==t)break;0===a&&(n.clear(),o.appendIntoPart(n)),void 0!==e&&(i=e(i,a)),o.setValue(i),o.commit(),a++}}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=l.return)&&await r.call(l)}finally{if(i)throw i.error}}}),q=new WeakMap,U=n(t=>e=>{if(!(e instanceof D))throw new Error("cache can only be used in text bindings");let n=q.get(e);void 0===n&&(n=new WeakMap,q.set(e,n));const i=e.value;if(i instanceof x){if(t instanceof _&&i.template===e.options.templateFactory(t))return void e.setValue(t);{let t=n.get(i.template);void 0===t&&(t={instance:i,nodes:document.createDocumentFragment()},n.set(i.template,t)),a(t.nodes,e.startNode.nextSibling,e.endNode)}}if(t instanceof _){const i=e.options.templateFactory(t),r=n.get(i);void 0!==r&&(e.setValue(r.nodes),e.commit(),e.value=r.instance)}e.setValue(t)});class Z{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(e=>t+=e+" "),this.element.setAttribute("class",t)}}}const K=new WeakMap,J=n(t=>e=>{if(!(e instanceof T)||e instanceof E||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=e,{element:i}=n;let r=K.get(e);void 0===r&&(i.setAttribute("class",n.strings.join(" ")),K.set(e,r=new Set));const o=i.classList||new Z(i);r.forEach(e=>{e in t||(o.remove(e),r.delete(e))});for(const e in t){const n=t[e];n!=r.has(e)&&(n?(o.add(e),r.add(e)):(o.remove(e),r.delete(e)))}"function"==typeof o.commit&&o.commit()}),Q=new WeakMap,tt=n((t,e)=>n=>{const i=Q.get(n);if(Array.isArray(t)){if(Array.isArray(i)&&i.length===t.length&&t.every((t,e)=>t===i[e]))return}else if(i===t&&(void 0!==t||Q.has(n)))return;n.setValue(e()),Q.set(n,Array.isArray(t)?Array.from(t):t)}),et=new WeakMap,nt=n(t=>e=>{const n=et.get(e);if(void 0===t&&e instanceof T){if(void 0!==n||!et.has(e)){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else t!==n&&e.setValue(t);et.set(e,t)}),it=(t,e)=>{const n=t.startNode.parentNode,i=void 0===e?t.endNode:e.startNode,r=n.insertBefore(v(),i);n.insertBefore(v(),i);const o=new D(t.options);return o.insertAfterNode(r),o},rt=(t,e)=>(t.setValue(e),t.commit(),t),ot=(t,e,n)=>{const i=t.startNode.parentNode,r=n?n.startNode:t.endNode,o=e.endNode.nextSibling;o!==r&&a(i,e.startNode,o,r)},at=t=>{s(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},st=(t,e,n)=>{const i=new Map;for(let r=e;r<=n;r++)i.set(t[r],r);return i},lt=new WeakMap,ct=new WeakMap,ht=n((t,e,n)=>{let i;return void 0===n?n=e:void 0!==e&&(i=e),e=>{if(!(e instanceof D))throw new Error("repeat can only be used in text bindings");const r=lt.get(e)||[],o=ct.get(e)||[],a=[],s=[],l=[];let c,h,u=0;for(const e of t)l[u]=i?i(e,u):u,s[u]=n(e,u),u++;let d=0,p=r.length-1,f=0,g=s.length-1;for(;d<=p&&f<=g;)if(null===r[d])d++;else if(null===r[p])p--;else if(o[d]===l[f])a[f]=rt(r[d],s[f]),d++,f++;else if(o[p]===l[g])a[g]=rt(r[p],s[g]),p--,g--;else if(o[d]===l[g])a[g]=rt(r[d],s[g]),ot(e,r[d],a[g+1]),d++,g--;else if(o[p]===l[f])a[f]=rt(r[p],s[f]),ot(e,r[p],r[d]),p--,f++;else if(void 0===c&&(c=st(l,f,g),h=st(o,d,p)),c.has(o[d]))if(c.has(o[p])){const t=h.get(l[f]),n=void 0!==t?r[t]:null;if(null===n){const t=it(e,r[d]);rt(t,s[f]),a[f]=t}else a[f]=rt(n,s[f]),ot(e,n,r[d]),r[t]=null;f++}else at(r[p]),p--;else at(r[d]),d++;for(;f<=g;){const t=it(e,a[g+1]);rt(t,s[f]),a[f++]=t}for(;d<=p;){const t=r[d++];null!==t&&at(t)}lt.set(e,a),ct.set(e,l)}}),ut=new WeakMap,dt=document.createElement("template"),pt=n(t=>e=>{if(!(e instanceof D))throw new Error("unsafeHTML can only be used in text bindings");const n=ut.get(e);if(void 0!==n&&O(t)&&t===n.value&&e.value===n.fragment)return;const i=dt.cloneNode();i.innerHTML=t;const r=document.importNode(i.content,!0);e.setValue(r),ut.set(e,{value:t,fragment:r})}),ft=new WeakMap,gt=n((...t)=>e=>{let n=ft.get(e);void 0===n&&(n={lastRenderedIndex:2147483647,values:[]},ft.set(e,n));const i=n.values;let r=i.length;n.values=t;for(let o=0;o<t.length&&!(o>n.lastRenderedIndex);o++){const a=t[o];if(O(a)||"function"!=typeof a.then){e.setValue(a),n.lastRenderedIndex=o;break}o<r&&a===i[o]||(n.lastRenderedIndex=2147483647,r=0,Promise.resolve(a).then(t=>{const i=n.values.indexOf(a);i>-1&&i<n.lastRenderedIndex&&(n.lastRenderedIndex=i,e.setValue(t),e.commit())}))}}),mt=n(t=>e=>{let n;if(e instanceof L||e instanceof D)throw new Error("The `live` directive is not allowed on text or event bindings");if(e instanceof P)vt(e.strings),n=e.element.hasAttribute(e.name),e.value=n;else{const{element:i,name:r,strings:o}=e.committer;if(vt(o),e instanceof E){if(n=i[r],n===t)return}else e instanceof T&&(n=i.getAttribute(r));if(n===String(t))return}e.setValue(t)}),vt=t=>{if(2!==t.length||""!==t[0]||""!==t[1])throw new Error("`live` bindings can only contain a single expression")},yt=new WeakMap;class xt extends i{constructor(t){super(),this.ifFn=t}body(t){const e=this.ifFn(),n=t.committer.element;if(e)yt.has(t)||yt.set(t,{element:n,nextSibling:n.nextSibling,previousSibling:n.previousSibling,parent:n.parentNode}),n.remove();else{const e=yt.get(t);e&&(e.nextSibling&&e.nextSibling.parentNode?e.nextSibling.parentNode.insertBefore(e.element,e.nextSibling):e.previousSibling&&e.previousSibling.parentNode?e.previousSibling.parentNode.appendChild(e.element):e.parent&&e.parent.appendChild(e.element),yt.delete(t))}}}class bt extends i{constructor(t,e=!1){super(),this.toRemove=[],this.toUpdate=[],this.debug=!1,this.previous={},this.style=t,this.detach=e}setStyle(t){this.style=t}setDebug(t=!0){this.debug=t}setDetach(t){this.detach=t}body(t){this.toRemove.length=0,this.toUpdate.length=0;const e=t.committer.element,n=e.style;let i=this.previous;if(e.attributes.getNamedItem("style")){const t=e.attributes.getNamedItem("style").value.split(";").map(t=>t.substr(0,t.indexOf(":")).trim()).filter(t=>!!t);for(const e of t)void 0===this.style[e]&&(this.toRemove.includes(e)||this.toRemove.push(e))}for(const t in i)this.style.hasOwnProperty(t)&&void 0===this.style[t]&&(this.toRemove.includes(t)||this.toRemove.push(t));for(const t in this.style){if(!this.style.hasOwnProperty(t))continue;const e=this.style[t],n=i[t];void 0!==n&&n===e||this.toUpdate.push(t)}if(this.debug&&(console.log("[StyleMap] to remove",[...this.toRemove]),console.log("[StyleMap] to update",[...this.toUpdate])),this.toRemove.length||this.toUpdate.length){let t,i;this.detach&&(t=e.parentNode,t&&(i=e.nextSibling,e.remove()));for(const t of this.toRemove)n.removeProperty(t),n[t]&&delete n[t];for(const t of this.toUpdate){const e=this.style[t];t.includes("-")?n.setProperty(t,e):n[t]=e}this.detach&&t&&t.insertBefore(e,i),this.previous=Object.assign({},this.style)}}}class wt{constructor(){this.isAction=!0}}wt.prototype.isAction=!0;const Ct={element:document.createTextNode(""),axis:"xy",threshold:10,onDown(){},onMove(){},onUp(){},onWheel(){}},_t="undefined"!=typeof PointerEvent;let St=0;class Ot extends wt{constructor(t,e){super(),this.moving="",this.initialX=0,this.initialY=0,this.lastY=0,this.lastX=0,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onWheel=this.onWheel.bind(this),this.element=t,this.id=++St,this.options=Object.assign(Object.assign({},Ct),e.pointerOptions),_t?(t.addEventListener("pointerdown",this.onPointerDown),document.addEventListener("pointermove",this.onPointerMove),document.addEventListener("pointerup",this.onPointerUp)):(t.addEventListener("touchstart",this.onPointerDown),document.addEventListener("touchmove",this.onPointerMove,{passive:!1}),document.addEventListener("touchend",this.onPointerUp),document.addEventListener("touchcancel",this.onPointerUp),t.addEventListener("mousedown",this.onPointerDown),document.addEventListener("mousemove",this.onPointerMove,{passive:!1}),document.addEventListener("mouseup",this.onPointerUp))}normalizeMouseWheelEvent(t){let e=t.deltaX||0,n=t.deltaY||0,i=t.deltaZ||0;const r=t.deltaMode,o=parseInt(getComputedStyle(t.target).getPropertyValue("line-height"));let a=1;switch(r){case 1:a=o;break;case 2:a=window.height}return e*=a,n*=a,i*=a,{x:e,y:n,z:i,event:t}}onWheel(t){const e=this.normalizeMouseWheelEvent(t);this.options.onWheel(e)}normalizePointerEvent(t){let e={x:0,y:0,pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0,event:t};switch(t.type){case"wheel":const n=this.normalizeMouseWheelEvent(t);e.x=n.x,e.y=n.y,e.pageX=e.x,e.pageY=e.y,e.screenX=e.x,e.screenY=e.y,e.clientX=e.x,e.clientY=e.y;break;case"touchstart":case"touchmove":case"touchend":case"touchcancel":e.x=t.changedTouches[0].screenX,e.y=t.changedTouches[0].screenY,e.pageX=t.changedTouches[0].pageX,e.pageY=t.changedTouches[0].pageY,e.screenX=t.changedTouches[0].screenX,e.screenY=t.changedTouches[0].screenY,e.clientX=t.changedTouches[0].clientX,e.clientY=t.changedTouches[0].clientY;break;default:e.x=t.x,e.y=t.y,e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.clientX=t.clientX,e.clientY=t.clientY}return e}onPointerDown(t){if("mousedown"===t.type&&0!==t.button)return;this.moving="xy";const e=this.normalizePointerEvent(t);this.lastX=e.x,this.lastY=e.y,this.initialX=e.x,this.initialY=e.y,this.options.onDown(e)}handleX(t){let e=t.x-this.lastX;return this.lastY=t.y,this.lastX=t.x,e}handleY(t){let e=t.y-this.lastY;return this.lastY=t.y,this.lastX=t.x,e}onPointerMove(t){if(""===this.moving||"mousemove"===t.type&&0!==t.button)return;const e=this.normalizePointerEvent(t);if("x|y"===this.options.axis){let n=0,i=0;("x"===this.moving||"xy"===this.moving&&Math.abs(e.x-this.initialX)>this.options.threshold)&&(this.moving="x",n=this.handleX(e)),("y"===this.moving||"xy"===this.moving&&Math.abs(e.y-this.initialY)>this.options.threshold)&&(this.moving="y",i=this.handleY(e)),this.options.onMove({movementX:n,movementY:i,x:e.x,y:e.y,initialX:this.initialX,initialY:this.initialY,lastX:this.lastX,lastY:this.lastY,event:t})}else if("xy"===this.options.axis){let n=0,i=0;Math.abs(e.x-this.initialX)>this.options.threshold&&(n=this.handleX(e)),Math.abs(e.y-this.initialY)>this.options.threshold&&(i=this.handleY(e)),this.options.onMove({movementX:n,movementY:i,x:e.x,y:e.y,initialX:this.initialX,initialY:this.initialY,lastX:this.lastX,lastY:this.lastY,event:t})}else if("x"===this.options.axis)("x"===this.moving||"xy"===this.moving&&Math.abs(e.x-this.initialX)>this.options.threshold)&&(this.moving="x",this.options.onMove({movementX:this.handleX(e),movementY:0,initialX:this.initialX,initialY:this.initialY,lastX:this.lastX,lastY:this.lastY,event:t}));else if("y"===this.options.axis){let n=0;("y"===this.moving||"xy"===this.moving&&Math.abs(e.y-this.initialY)>this.options.threshold)&&(this.moving="y",n=this.handleY(e)),this.options.onMove({movementX:0,movementY:n,x:e.x,y:e.y,initialX:this.initialX,initialY:this.initialY,lastX:this.lastX,lastY:this.lastY,event:t})}}onPointerUp(t){this.moving="";const e=this.normalizePointerEvent(t);this.options.onUp({movementX:0,movementY:0,x:e.x,y:e.y,initialX:this.initialX,initialY:this.initialY,lastX:this.lastX,lastY:this.lastY,event:t}),this.lastY=0,this.lastX=0}destroy(t){_t?(t.removeEventListener("pointerdown",this.onPointerDown),document.removeEventListener("pointermove",this.onPointerMove),document.removeEventListener("pointerup",this.onPointerUp)):(t.removeEventListener("mousedown",this.onPointerDown),document.removeEventListener("mousemove",this.onPointerMove),document.removeEventListener("mouseup",this.onPointerUp),t.removeEventListener("touchstart",this.onPointerDown),document.removeEventListener("touchmove",this.onPointerMove),document.removeEventListener("touchend",this.onPointerUp),document.removeEventListener("touchcancel",this.onPointerUp))}}function Mt(t){let e=0;return function(n){e||(e=requestAnimationFrame((function(){e=0,t.apply(void 0,[n])})))}}function kt(t){return t&&"object"==typeof t&&null!==t&&t.constructor&&"Object"===t.constructor.name}function At(t,...e){const n=e.shift();if(kt(t)&&kt(n))for(const e in n)if(kt(n[e]))"function"==typeof n[e].clone?t[e]=n[e].clone():(void 0===t[e]&&(t[e]={}),t[e]=At(t[e],n[e]));else if(Array.isArray(n[e])){t[e]=new Array(n[e].length);let i=0;for(let r of n[e])kt(r)?"function"==typeof r.clone?t[e][i]=r.clone():t[e][i]=At({},r):t[e][i]=r,i++}else t[e]=n[e];return e.length?At(t,...e):t}function Tt(t){if(void 0!==t.actions){const e=t.actions.map(t=>{const e=Object.assign({},t),n=Object.assign({},e.props);return delete n.state,delete n.api,delete e.element,e.props=n,e});t.actions=e}return At({},t)}var Dt={mergeDeep:At,clone:Tt,schedule:Mt};class Pt{constructor(t,e){this.slotInstances={},this.destroyed=!1,this.vido=t,this.props=e,this.destroy=this.destroy.bind(this),this.change=this.change.bind(this),this.html=this.html.bind(this),this.getInstances=this.getInstances.bind(this),this.setComponents=this.setComponents.bind(this),this.vido.onDestroy(()=>{this.destroy()})}setComponents(t){if(t&&!this.destroyed){for(const e in t){const n=t[e];void 0===this.slotInstances[e]&&(this.slotInstances[e]=[]);for(const t of this.slotInstances[e])t.destroy();this.slotInstances[e].length=0;for(const t of n)this.slotInstances[e].push(this.vido.createComponent(t,this.props))}this.vido.update()}}destroy(){if(!this.destroyed){for(const t in this.slotInstances){for(const e of this.slotInstances[t])e.destroy();this.slotInstances[t].length=0}this.destroyed=!0}}change(t,e){if(!this.destroyed)for(const n in this.slotInstances){const i=this.slotInstances[n];for(const n of i)n.change(t,e)}}getInstances(t){return this.destroyed?[]:void 0===t?this.slotInstances:this.slotInstances[t]}html(t,e){if(this.destroyed)return;if(!this.slotInstances[t]||0===this.slotInstances[t].length)return e;let n=e;for(const e of this.slotInstances[t])n=e.html(n);return n}getProps(){return this.props}isDestroyed(){return this.destroyed}}function It(t,e){let r=0;const o=new Map;let a,s,l=new Map,c=0;const h=[],u=Promise.resolve(),d={},p=function(t){return class extends i{constructor(t){super(),this.actions=[],this.instance=t}set(t,e){return this.actions=t,this.props=e,this}body(e){const n=e.committer.element;for(const e of this.actions)if(void 0!==e){let i;if(t.has(this.instance))for(const r of t.get(this.instance))if(r.componentAction.create===e&&r.element===n){i=r;break}if(i)i.props=this.props;else{void 0!==n.vido&&delete n.vido;const i={create:e,update(){},destroy(){}},r={instance:this.instance,componentAction:i,element:n,props:this.props};let o=[];t.has(this.instance)&&(o=t.get(this.instance)),o.push(r),t.set(this.instance,o)}}}}}(l);class f{constructor(t){this.instance=t}create(t,e){const n=new p(this.instance);return n.set(t,e),n}}const g=function(t,e,n){return class{constructor(t,e,n={}){this.destroyed=!1,this.instance=t,this.name=e.name,this.vidoInstance=e,this.props=n,this.destroy=this.destroy.bind(this),this.update=this.update.bind(this),this.change=this.change.bind(this),this.html=this.html.bind(this)}destroy(){this.destroyed||(this.vidoInstance.debug&&(console.groupCollapsed("destroying component "+this.instance),console.log(n({components:t.keys(),actionsByInstance:e})),console.trace(),console.groupEnd()),this.vidoInstance.destroyComponent(this.instance,this.vidoInstance),this.destroyed=!0)}update(i){return this.vidoInstance.debug&&(console.groupCollapsed("updating component "+this.instance),console.log(n({components:t.keys(),actionsByInstance:e})),console.trace(),console.groupEnd()),this.vidoInstance.updateTemplate(i)}change(i,r={}){this.vidoInstance.debug&&(console.groupCollapsed("changing component "+this.instance),console.log(n({props:this.props,newProps:i,components:t.keys(),actionsByInstance:e})),console.trace(),console.groupEnd());const o=t.get(this.instance);o&&o.change(i,r)}html(e={}){const n=t.get(this.instance);if(n&&!n.destroyed)return n.update(e,this.vidoInstance)}_getComponents(){return t}_getActions(){return e}}}(o,l,Tt),m=function(t,e,n){return class{constructor(t,e,n){this.destroyed=!1,this.instance=t,this.vidoInstance=e,this.renderFunction=n,this.destroy=this.destroy.bind(this),this.update=this.update.bind(this),this.change=this.change.bind(this)}destroy(){if(!this.destroyed){this.vidoInstance.debug&&(console.groupCollapsed("component destroy method fired "+this.instance),console.log(n({props:this.vidoInstance.props,components:t.keys(),destroyable:this.vidoInstance.destroyable,actionsByInstance:e})),console.trace(),console.groupEnd()),this.content&&"function"==typeof this.content.destroy&&this.content.destroy();for(const t of this.vidoInstance.destroyable)t();this.vidoInstance.onChangeFunctions.length=0,this.vidoInstance.destroyable.length=0,this.vidoInstance.destroyed=!0,this.destroyed=!0,this.vidoInstance.update()}}update(i={}){return this.vidoInstance.debug&&(console.groupCollapsed("component update method fired "+this.instance),console.log(n({components:t.keys(),actionsByInstance:e})),console.trace(),console.groupEnd()),this.renderFunction(i)}change(i,r={leave:!1}){const o=i;this.vidoInstance.debug&&(console.groupCollapsed("component change method fired "+this.instance),console.log(n({props:o,components:t.keys(),onChangeFunctions:this.vidoInstance.onChangeFunctions,changedProps:i,actionsByInstance:e})),console.trace(),console.groupEnd());for(const t of this.vidoInstance.onChangeFunctions)t(i,r)}}}(o,l,Tt);class v{constructor(i="",r=""){this.instance="",this.name="",this.destroyable=[],this.destroyed=!1,this.onChangeFunctions=[],this.debug=!1,this.state=t,this.api=e,this.lastProps={},this.html=H,this.svg=W,this.directive=n,this.asyncAppend=Y,this.asyncReplace=X,this.cache=U,this.classMap=J,this.guard=tt,this.live=mt,this.ifDefined=nt,this.repeat=ht,this.unsafeHTML=pt,this.until=gt,this.schedule=Mt,this.getElement=function(t){return function(e){return t(()=>t=>{e(t.committer.element)})()}}(n),this.actionsByInstance=()=>{},this.StyleMap=bt,this.Detach=xt,this.PointerAction=Ot,this.Action=wt,this.Slots=Pt,this._components=o,this._actions=l,this.instance=i,this.reuseComponents=this.reuseComponents.bind(this),this.onDestroy=this.onDestroy.bind(this),this.onChange=this.onChange.bind(this),this.update=this.update.bind(this),this.destroyComponent=this.destroyComponent.bind(this);for(const t in d)this[t]=d[t].bind(this);this.name=r,this.Actions=new f(i)}static addMethod(t,e){d[t]=e}onDestroy(t){this.destroyable.push(t)}onChange(t){this.onChangeFunctions.push(t)}update(t){return this.updateTemplate(t)}reuseComponents(t,e,n,i,r=!0,o=!1){const a=[],s=t.length,l=e.length;let c=!1;!r||void 0!==e&&0!==e.length||(c=!0);let h=0;if(s<l){let r=l-s;for(;r;){const o=e[l-r],s=this.createComponent(i,n(o));t.push(s),a.push(s),r--}}else if(s>l){let e=s-l;for(r&&(c=!0,h=s-e);e;){const n=s-e;r||(a.push(t[n]),t[n].destroy()),e--}r||(t.length=l)}let u=0;o&&console.log("modified components",a),o&&console.log("current components",t),o&&console.log("data array",e);for(const i of t){const t=e[u];o&&console.log(`reuse components data at '${u}'`,t),i&&!a.includes(i)&&(o&&console.log("getProps fn result",n(t)),i.change(n(t),{leave:c&&u>=h})),u++}}createComponent(t,e={}){const n=t.name+":"+r++;let i;i=new v(n,name);const a=new g(n,i,e),s=new m(n,i,t(i,e));return o.set(n,s),o.get(n).change(e),i.debug&&(console.groupCollapsed("component created "+n),console.log(Tt({props:e,components:o.keys(),actionsByInstance:l})),console.trace(),console.groupEnd()),a}destroyComponent(t,e){if(e.debug&&(console.groupCollapsed(`destroying component ${t}...`),console.log(Tt({components:o.keys(),actionsByInstance:l})),console.trace(),console.groupEnd()),l.has(t))for(const e of l.get(t))"function"==typeof e.componentAction.destroy&&e.componentAction.destroy(e.element,e.props);l.delete(t);const n=o.get(t);n?(n.destroy(),o.delete(t),e.debug&&(console.groupCollapsed("component destroyed "+t),console.log(Tt({components:o.keys(),actionsByInstance:l})),console.trace(),console.groupEnd())):console.warn(`No component to destroy! [${t}]`)}executeActions(){for(const t of l.values()){for(const e of t)if(void 0===e.element.vido){const t=o.get(e.instance);e.isActive=function(){return t&&!1===t.destroyed};const n=e.componentAction,i=n.create;if(void 0!==i){let t;t=i.prototype&&(i.prototype.isAction||i.prototype.update||i.prototype.destroy)||i.isAction?new i(e.element,e.props):i(e.element,e.props),void 0!==t&&("function"==typeof t?n.destroy=t:("function"==typeof t.update&&(n.update=t.update.bind(t)),"function"==typeof t.destroy&&(n.destroy=t.destroy.bind(t))))}}else e.element.vido=e.props,"function"==typeof e.componentAction.update&&e.isActive()&&e.componentAction.update(e.element,e.props);for(const e of t)e.element.vido=e.props}}updateTemplate(t){return t&&h.push(t),new Promise(t=>{const e=++c,n=this;u.then((function(){if(e===c){c=0,n.render();for(const t of h)t();h.length=0,t()}}))})}createApp(t){s=t.element;const e=this.createComponent(t.component,t.props);return a=e.instance,this.render(),e}render(){const t=o.get(a);t?(G(t.update(),s),this.executeActions()):s&&s.remove()}}return new v}It.prototype.lithtml=$,It.prototype.Action=wt,It.prototype.Directive=i,It.prototype.schedule=Mt,It.prototype.Detach=xt,It.prototype.StyleMap=bt,It.prototype.PointerAction=Ot,It.prototype.asyncAppend=Y,It.prototype.asyncReplace=X,It.prototype.cache=U,It.prototype.classMap=J,It.prototype.guard=tt,It.prototype.live=mt,It.prototype.ifDefined=nt,It.prototype.repeat=ht,It.prototype.unsafeHTML=pt,It.prototype.until=gt,It.prototype.Slots=Pt;var Et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function jt(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var Lt=jt((function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",i="hour",r="day",o="week",a="month",s="quarter",l="year",c="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},f={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+p(i,2,"0")+":"+p(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,a),o=n-r<0,s=e.clone().add(i+(o?-1:1),a);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:a,y:l,w:o,d:r,D:c,h:i,m:n,s:e,ms:t,Q:s}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",m={};m[g]=d;var v=function(t){return t instanceof w},y=function(t,e,n){var i;if(!t)return g;if("string"==typeof t)m[t]&&(i=t),e&&(m[t]=e,i=t);else{var r=t.name;m[r]=t,i=r}return!n&&i&&(g=i),i||!n&&g},x=function(t,e){if(v(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new w(n)},b=f;b.l=y,b.i=v,b.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function d(t){this.$L=y(t.locale,null,!0),this.parse(t)}var p=d.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(h);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return b},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var n=x(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return x(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<x(t)},p.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,s){var h=this,u=!!b.u(s)||s,d=b.p(t),p=function(t,e){var n=b.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return u?n:n.endOf(r)},f=function(t,e){return b.w(h.toDate()[t].apply(h.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case l:return u?p(1,0):p(31,11);case a:return u?p(1,m):p(0,m+1);case o:var x=this.$locale().weekStart||0,w=(g<x?g+7:g)-x;return p(u?v-w:v+(6-w),m);case r:case c:return f(y+"Hours",0);case i:return f(y+"Minutes",1);case n:return f(y+"Seconds",2);case e:return f(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(o,s){var h,u=b.p(o),d="set"+(this.$u?"UTC":""),p=(h={},h[r]=d+"Date",h[c]=d+"Date",h[a]=d+"Month",h[l]=d+"FullYear",h[i]=d+"Hours",h[n]=d+"Minutes",h[e]=d+"Seconds",h[t]=d+"Milliseconds",h)[u],f=u===r?this.$D+(s-this.$W):s;if(u===a||u===l){var g=this.clone().set(c,1);g.$d[p](f),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[b.p(t)]()},p.add=function(t,s){var c,h=this;t=Number(t);var u=b.p(s),d=function(e){var n=x(h);return b.w(n.date(n.date()+Math.round(e*t)),h)};if(u===a)return this.set(a,this.$M+t);if(u===l)return this.set(l,this.$y+t);if(u===r)return d(1);if(u===o)return d(7);var p=(c={},c[n]=6e4,c[i]=36e5,c[e]=1e3,c)[u]||1,f=this.$d.getTime()+t*p;return b.w(f,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),r=this.$locale(),o=this.$H,a=this.$m,s=this.$M,l=r.weekdays,c=r.months,h=function(t,i,r,o){return t&&(t[i]||t(e,n))||r[i].substr(0,o)},d=function(t){return b.s(o%12||12,t,"0")},p=r.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:h(r.monthsShort,s,c,3),MMMM:h(c,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:h(r.weekdaysMin,this.$W,l,2),ddd:h(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:b.s(o,2,"0"),h:d(1),hh:d(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:i};return n.replace(u,(function(t,e){return e||f[t]||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,c,h){var u,d=b.p(c),p=x(t),f=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,m=b.m(this,p);return m=(u={},u[l]=m/12,u[a]=m,u[s]=m/3,u[o]=(g-f)/6048e5,u[r]=(g-f)/864e5,u[i]=g/36e5,u[n]=g/6e4,u[e]=g/1e3,u)[d]||g,h?m:b.a(m)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return m[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=y(t,e,!0);return i&&(n.$L=i),n},p.clone=function(){return b.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},d}(),C=w.prototype;return x.prototype=C,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W",r],["$M",a],["$y",l],["$D",c]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,w,x),t.$i=!0),x},x.locale=y,x.isDayjs=v,x.unix=function(t){return x(1e3*t)},x.en=m[g],x.Ls=m,x.p={},x}()})),Bt=jt((function(t,e){t.exports=function(t,e,n){var i=e.prototype;n.utc=function(t){return new e({date:t,utc:!0,args:arguments})},i.utc=function(t){var e=n(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},i.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var r=i.parse;i.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),r.call(this,t)};var o=i.init;i.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else o.call(this)};var a=i.utcOffset;i.utcOffset=function(t,e){var n=this.$utils().u;if(n(t))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;var i=Math.abs(t)<=16?60*t:t,r=this;if(e)return r.$offset=i,r.$u=0===t,r;if(0!==t){var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(i+o,"minute")).$offset=i,r.$x.$localOffset=o}else r=this.utc();return r};var s=i.format;i.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,e)},i.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var l=i.toDate;i.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var c=i.diff;i.diff=function(t,e,i){if(t&&this.$u===t.$u)return c.call(this,t,e,i);var r=this.local(),o=n(t).local();return c.call(r,o,e,i)}}}));class Nt{constructor(t,e){this.utcMode=!1,this.state=t,this.api=e,this.dayjs=Lt,this.locale=t.get("config.locale"),this.utcMode=t.get("config.utcMode"),this.resetCurrentDate(),this.utcMode&&Lt.extend(Bt),Lt.locale(this.locale,null,!0)}resetCurrentDate(){const t=Lt();this.currentDate={timestamp:t.valueOf(),second:t.startOf("second"),minute:t.startOf("minute"),hour:t.startOf("hour"),day:t.startOf("day"),week:t.startOf("week"),month:t.startOf("month"),year:t.startOf("year")}}date(t){const e=this.utcMode?Lt.utc:Lt;return t?e(t).locale(this.locale.name):e().locale(this.locale.name)}addAdditionalSpace(t){if(!t.additionalSpaceAdded&&t.additionalSpaces&&t.additionalSpaces[t.period]){t.additionalSpaceAdded=!0;const e=t.additionalSpaces[t.period];e.before&&(t.from=this.date(t.from).subtract(e.before,e.period).valueOf()),e.after&&(t.to=this.date(t.to).add(e.after,e.period).valueOf()),t.additionalSpaceAdded=!0}return t}recalculateFromTo(t){const e=t.period;(t=Object.assign({},t)).from=+t.from,t.to=+t.to,t.fromDate=this.date(t.from),t.toDate=this.date(t.to).endOf(e);let n=Number.MAX_SAFE_INTEGER,i=0;const r=this.state.get("config.chart.items");if(Object.keys(r).length>0&&(0===t.from||0===t.to)){for(const t in r){const e=r[t];e.time.start<n&&e.time.start&&(n=e.time.start),e.time.end>i&&(i=e.time.end)}0===t.from&&(t.from=this.date(n).startOf(e).valueOf()),0===t.to&&(t.to=this.date(i).endOf(e).valueOf()),t.fromDate=this.date(t.from),t.toDate=this.date(t.to).endOf(e)}return t.from=t.fromDate.startOf(e).valueOf(),t.to=t.toDate.endOf(e).valueOf(),t.additionalSpaceAdded||((t=this.addAdditionalSpace(t)).additionalSpaceAdded=!0),t}getCenter(t){return t.leftGlobal+Math.round((t.rightGlobal-t.leftGlobal)/2)}getGlobalOffsetPxFromDates(t,e=this.state.get("$data.chart.time")){const n=t.valueOf();if(!e.allDates||0===e.allDates.length)return-100;const i=e.allDates[e.level];if(!i)return-1;let r;for(let t=0,e=i.length;t<e;t++){const e=i[t];if(n<=e.rightGlobal){r=e;break}}if(r)return n<r.leftGlobal?r.leftPx:r.rightPx-(r.rightGlobal-n)/e.timePerPixel;{const n=t.valueOf();if(n<=e.leftGlobal)return 0;if(n>=e.rightGlobal)return e.totalViewDurationPx}}getViewOffsetPxFromDates(t,e=!0,n=this.state.get("$data.chart.time")){const i=this.getGlobalOffsetPxFromDates(t,n)-n.leftPx;return e&&this.limitOffsetPxToView(i),i}limitOffsetPxToView(t,e=this.state.get("$data.chart.time")){return t<0?0:t>e.width?e.width:t}findDateAtOffsetPx(t,e){return e.find(e=>e.leftPx>=t)}findDateAtTime(t,e){return e.find(e=>e.rightGlobal>=t)}getTimeFromViewOffsetPx(t,e=this.state.get("config.chart.time"),n=!0){const i=t+e.leftPx,r=e.allDates[e.level];if(i<0){let t,n=e.fromDate.subtract(1,e.period),r=0;for(let o=0;o<1e3;o++){const o=this.generatePeriodDates({leftDate:n,rightDate:n.add(1,e.period),period:e.period,time:e,level:this.state.get("config.chart.calendarLevels."+e.level),levelIndex:e.level,callOnDate:!0,callOnLevelDates:!1});if(o.length&&(t=o[0],r-=t.width,r<=i))return t.leftGlobal+(i-r)*e.timePerPixel;n=n.subtract(1,e.period).startOf(e.period)}}else if(i>e.totalViewDurationPx){let t,n,r=e.toDate.startOf("day").add(1,"day"),o=e.rightPx;for(let a=0;a<1e3;a++){const a=this.generatePeriodDates({leftDate:r,rightDate:r.add(1,e.period),period:e.period,time:e,level:this.state.get("config.chart.calendarLevels."+e.level),levelIndex:e.level,callOnDate:!0,callOnLevelDates:!1});if(a.length&&(t=a[0],o+=t.width,o>=i))return n&&(t=n),t.rightGlobal-(o-i)*e.timePerPixel;r=r.add(1,e.period).startOf(e.period),n=t}}for(let t=0,o=r.length;t<o;t++){const o=r[t];if(o.rightPx>=i){const t=o.rightGlobal-Math.round((o.rightPx-i)*e.timePerPixel);return n?t+1:t}}return 0}calculateScrollPosPxFromTime(t,e,n){if(n||(n=this.state.get("config.scroll.horizontal")),!n.maxPosPx)return 0;e||(e=this.state.get("$data.chart.time"));const i=this.findDateAtTime(t,e.allDates[e.level]);return Math.round((n.maxPosPx-n.innerSize)*i.leftPercent)}getCurrentFormatForLevel(t,e){return t.find(t=>+e.zoom<=+t.zoomTo)}generatePeriodDates({leftDate:t,rightDate:e,period:n,level:i,levelIndex:r,time:o,callOnDate:a,callOnLevelDates:s}){if(!o.timePerPixel)return[];const l=this.getCurrentFormatForLevel(i,o);let c=0;const h=Math.ceil(e.diff(t,n,!0));let u=[];for(let a=0;a<h;a++){let a=l.periodIncrement;a||(a=1),"function"==typeof a&&(a=a({currentDates:u,leftDate:t,rightDate:e,period:n,level:i,levelIndex:r,time:o,vido:this.api.vido,api:this.api}));const s=t.add(a-1,n).endOf(n);if(s.valueOf()>e.valueOf())break;const h={leftGlobal:t.valueOf(),leftGlobalDate:t,rightGlobalDate:s,rightGlobal:s.valueOf(),width:0,leftPx:0,rightPx:0,period:n,formatted:null,current:t.valueOf()===this.currentDate[n].valueOf(),previous:t.add(1,n).valueOf()===this.currentDate[n].valueOf(),next:t.subtract(1,n).valueOf()===this.currentDate[n].valueOf()},d=h.rightGlobal-h.leftGlobal;h.width=d/o.timePerPixel,h.leftPx=c,c+=h.width,h.rightPx=c,u.push(h),t=t.add(a||1,n)}if(a)for(let t=0,e=o.onDate.length;t<e;t++)u=u.map(e=>o.onDate[t]({date:e,format:l,time:o,level:i,levelIndex:r})).filter(t=>null!==t);if(s)for(let t=0,e=o.onLevelDates.length;t<e;t++)u=o.onLevelDates[t]({dates:u,format:l,time:o,level:i,levelIndex:r});return u}getDatesDiffPx(t,e,n,i=!0){if(t.valueOf()===e.valueOf())return 0;const r=n.allDates[n.level];if(0===r.length)return 0;let o=0,a=!1;if(e.valueOf()<t.valueOf()){const n=t;t=e,e=n,a=!0}let s=[];if(t.valueOf()<r[0].leftGlobal){const e=r[0].period,i=n.level,o=this.state.get("config.chart.calendarLevels."+i);s=this.generatePeriodDates({leftDate:t,rightDate:r[0].leftGlobalDate,period:e,level:o,levelIndex:i,time:n,callOnDate:!0,callOnLevelDates:!1})}s=[...s,...r];const l=r[r.length-1].leftGlobalDate;if(e.valueOf()>l.valueOf()){const t=r[0].period,i=n.level,o=this.state.get("config.chart.calendarLevels."+i),a=this.generatePeriodDates({leftDate:e,rightDate:l,period:t,level:o,levelIndex:i,time:n,callOnDate:!0,callOnLevelDates:!1});s=[...s,...a]}const c=this.state.get("config.chart.calendarLevels."+n.level),h=this.getCurrentFormatForLevel(c,n);for(const t of n.onLevelDates)s=t({dates:s,time:n,format:h,level:c,levelIndex:n.level});let u,d,p=!1;for(u of s){if(u.leftGlobal>=t.valueOf()&&(p=!0,d=u),u.rightGlobal>=e.valueOf())break;p&&(o+=u.width)}if(i){let i=(t.valueOf()-u.leftGlobal)/n.timePerPixel;d&&(i=(t.valueOf()-d.leftGlobal)/n.timePerPixel);const r=(e.valueOf()-u.leftGlobal)/n.timePerPixel-i;return a?-o-r:o+r}return a?-o:o}getLeftViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length)return null;const e=t.levels[t.level];return e.length?e[0]:null}getRightViewDate(t=this.state.get("$data.chart.time")){if(!t.levels||!t.levels.length||!t.levels[t.level])return null;const e=t.levels[t.level];return e.length?e[e.length-1]:null}getLowerPeriod(t){switch(t){case"year":return"month";case"month":return"week";case"week":return"day";case"day":return"hour";case"hour":return"minute";case"minute":return"second";case"second":return"millisecond";default:return t}}getHigherPeriod(t){switch(t){case"month":return"year";case"week":return"month";case"day":return"week";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second";default:return t}}}var Rt=new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return"gstcid-"+t}isGSTCID(t){return t.startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substr(7):t}};class Ft extends Pt{constructor(t,e,n){super(e,n),this.subs=[],this.name=t,this.subs.push(e.state.subscribe("config.slots."+t,this.setComponents,{queue:!0}))}destroy(){this.subs.forEach(t=>t()),super.destroy()}getName(){return this.name}}function zt(t,e,n){return new Ft(t,e,n)}const Vt=Dt.mergeDeep,Gt="gstc";function Ht(t,e=""){let n="gstc__"+t;return t===Gt&&(n=Gt),e?`${n} ${n}--${e.replace(":","-")}`:n}function Wt(t,e){let n="gstc__"+t;return t===Gt&&(n=Gt),`${n}--${e}`}class $t{constructor(t){this.name=Gt,this.debug=!1,this.plugins={},this.pluginsPositions=new Set,this.iconsCache={},this.unsubscribes=[],this.mutedMethods=new Set,this.generateSlots=zt,this.mergeDeep=Vt,this.getClass=Ht,this.getId=Wt,this.GSTCID=Rt.GSTCID,this.isGSTCID=Rt.isGSTCID,this.sourceID=Rt.sourceID,this.allActions=[],this.state=t,this.time=new Nt(this.state,this),this.unsubscribes.push(this.state.subscribe("config.debug",t=>this.debug=t)),this.debug&&(window.state=t)}getListenerPosition(t){for(const e of this.state.getListeners().values())for(const n of e.listeners)if(n[1].fn===t)return n[0]}setVido(t){this.vido=t}log(...t){this.debug&&console.log.call(console,...t)}pluginInitialized(t){this.pluginsPositions.add(t)}pluginDestroyed(t){this.pluginsPositions.delete(t)}clearPluginsPositions(){this.pluginsPositions.clear()}isPluginInitialized(t){return this.pluginsPositions.has(t)}getPluginPosition(t){return[...this.pluginsPositions].indexOf(t)}getPluginsPositions(){const t={};let e=0;for(const n of this.pluginsPositions)t[n]=e++;return t}isPluginInitializedBefore(t,e){return this.getPluginPosition(t)<this.getPluginPosition(e)}getActions(t){this.allActions.includes(t)||this.allActions.push(t);let e=this.state.get("config.actions."+t);return void 0===e&&(e=[]),e.slice()}isItemInViewport(t,e,n){if(!e||!n){const t=this.state.get("config.chart.time");e=t.leftGlobal,n=t.rightGlobal}return t.time.start<=n&&t.time.end>=e}getChildrenLinkedItemsIds(t,e,n=[]){const i=e[t];if(i.linkedWith&&i.linkedWith.length){n.includes(t)||n.push(t);for(const t of i.linkedWith){if(n.includes(t))continue;n.push(t);const i=e[t];i.linkedWith&&i.linkedWith.length&&this.getChildrenLinkedItemsIds(t,e,n)}}return n}collectAllLinkedItems(t,e){for(const n in t){const i=t[n];e[i.id].linkedWith=i.linkedWith||[]}const n=[];for(const t in e){if(n.includes(t))continue;const i=this.getChildrenLinkedItemsIds(t,e),r=Array.from(new Set([...e[t].linkedWith,...i]));e[t].linkedWith=[...r.filter(e=>e!==t)],n.includes(t)||n.push(t);for(const t of r)e[t].linkedWith=[...r.filter(e=>e!==t)],n.includes(t)||n.push(t)}}getChildrenDependantItemsIds(t,e,n=[]){if(t.dependant&&t.dependant.length)for(const i of t.dependant){if(n.includes(i))continue;n.push(i);const r=e[i];if(!r)throw new Error(`Dependant item not found [id:'${i}'] found in item [id:'${t.id}']`);r.dependant&&r.dependant.length&&this.getChildrenDependantItemsIds(r,e,n)}return n}calculateItemVerticalPosition(t,e=null,n=null){const i=this.getItem(t);if(e||(e=this.getItemData(t)),n||(n=this.getRowData(i.rowId)),i.gap&&e||(this.prepareItem(i),e=this.getItemData(t)),!n)return e.position;const r=n.position.top+i.gap.top,o=e.position.rowTop+i.gap.top;let a=n.position.viewTop+e.position.actualRowTop;return n.position.viewTop===1/0?a=1/0:-1===n.position.viewTop&&(a=-1),e.position.top=r,e.position.actualRowTop=o,e.position.viewTop=a,e.position}calculateItemHorizontalPosition(t,e=null,n=null,i=this.state.get("$data.chart.time"),r=this.state.get("config.chart.spacing")){const o=this.getItem(t);if(e||(e=this.getItemData(t)),n||(n=this.getRowData(o.rowId)),!n)return e.position;const a=e.time.startDate.valueOf()===o.time.start?e.time.startDate:this.time.date(o.time.start),s=e.time.endDate.valueOf()===o.time.end?e.time.endDate:this.time.date(o.time.end),l=this.time.getViewOffsetPxFromDates(a,!1,i),c=this.time.getViewOffsetPxFromDates(s,!1,i);return r=r||0,e.position.left=l,e.position.actualLeft=this.time.limitOffsetPxToView(l,i),e.position.right=c,e.position.actualRight=this.time.limitOffsetPxToView(c,i),e.width=c-l-r,e.actualWidth=e.position.actualRight-e.position.actualLeft-r,e.position}calculateItemPosition(t,e=null,n=null,i=this.state.get("$data.chart.time"),r=this.state.get("config.chart.spacing")){return this.calculateItemHorizontalPosition(t,e,n,i,r),this.calculateItemVerticalPosition(t,e,n),e.position}getItemPosition(t,e=null,n=null,i=this.state.get("$data.chart.time"),r=this.state.get("config.chart.spacing")){return e||(e=this.getItemData(t)),0===e.position.left&&0===e.position.right&&this.calculateItemPosition(t,e,n,i,r),e.position}getRow(t){return this.state.get("config.list.rows."+t)}getRows(t){if(!t.length)return[];const e=this.getAllRows(),n=[];for(const i of t)e[i]&&n.push(e[i]);return n}getAllRows(){return this.state.get("config.list.rows")}getVisibleRowsId(){return this.state.get("$data.list.visibleRows")}getRowsData(){return this.state.get("$data.list.rows")}setRowsData(t){this.state.update("$data.list.rows",t)}getRowData(t){return this.state.get("$data.list.rows."+t)}setRowData(t,e){this.state.update("$data.list.rows."+t,e)}getItem(t){return this.state.get("config.chart.items."+t)}getItems(t=[]){const e=[],n=this.getAllItems();for(const i of t)n[i]&&e.push(n[i]);return e}getAllItems(){return this.state.get("config.chart.items")}getItemData(t){return this.state.get("$data.chart.items."+t)}getItemsData(){return this.state.get("$data.chart.items")}setItemData(t,e){this.state.update("$data.chart.items."+t,t=>{for(const n in e)t[n]=e[n];return t})}setItemsData(t){this.state.update("$data.chart.items",t)}prepareDependantItems(t,e){return this.getChildrenDependantItemsIds(t,e).filter(e=>e!==t.id)}prepareItem(t,e=this.state.get("config.chart.item.height"),n=this.getItemsData(),i=this.getAllItems()){let r=t.id;r=String(r),t.id=r,n[t.id]||(n[t.id]={actualHeight:0,outerHeight:0,time:null,position:{left:0,actualLeft:0,right:0,actualRight:0,rowTop:t.rowTop||0,actualRowTop:t.actualRowTop||0,top:0,viewTop:0},width:-1,actualWidth:-1,detached:!1,linkedWith:[],dependant:this.getChildrenDependantItemsIds(t,i)}),t.time||console.error("There is something wrong with this item.",t),t.time.start=+t.time.start,t.time.end=+t.time.end,t.id=String(t.id);const o=this.state.get("config.chart.item");"number"!=typeof t.height&&(t.height=e),n[t.id].time={startDate:this.time.date(t.time.start),endDate:this.time.date(t.time.end)},n[t.id].actualHeight=t.height,"number"!=typeof t.top&&(t.top=0),t.gap||(t.gap={}),"number"!=typeof t.gap.top&&(t.gap.top=o.gap.top),"number"!=typeof t.gap.bottom&&(t.gap.bottom=o.gap.bottom),"number"!=typeof t.minWidth&&(t.minWidth=o.minWidth),n[t.id].outerHeight=n[t.id].actualHeight+t.gap.top+t.gap.bottom,n[t.id].position.actualRowTop=n[t.id].position.rowTop+t.gap.top}prepareItems(t){const e=this.state.get("config.chart.item.height"),n=this.getItemsData();for(const i in t){const r=t[i];this.prepareItem(r,e,n,t)}return this.collectAllLinkedItems(t,n),t}sortRows(t,e,n={}){if(!t.length)return{};for(const i of t)for(const r of e)i.id===r.id&&(n[i.id]=i,this.sortRows(t,r.children,n));return n}fillEmptyRowValues(t){const e=this.state.get("config.list.row.height"),n=this.getRowsData();let i=0;for(let r in t){const o=t[r];let a=n[r];r=String(r),o.id=r,n[r]||(a={id:o.id,parentId:o.parentId,parents:[],children:[],position:{top:0,topPercent:0,bottomPercent:0,viewTop:0},items:[],actualHeight:0,outerHeight:0,visible:!0,inView:!0}),"number"!=typeof o.height&&(o.height=e),a.actualHeight=o.height,"boolean"!=typeof o.expanded&&(o.expanded=!1),a.position.top=i,"object"!=typeof o.gap&&(o.gap={}),"number"!=typeof o.gap.top&&(o.gap.top=0),"number"!=typeof o.gap.bottom&&(o.gap.bottom=0),a.outerHeight=a.actualHeight+o.gap.top+o.gap.bottom,n[r]=a,i+=a.outerHeight}return t}itemsOnTheSameLevel(t,e){const n=this.getItemData(t.id),i=this.getItemData(e.id),r=n.position.rowTop+n.outerHeight,o=i.position.rowTop+i.outerHeight;return i.position.rowTop<=n.position.rowTop&&o>n.position.rowTop||i.position.rowTop>=n.position.rowTop&&i.position.rowTop<r||i.position.rowTop>=n.position.rowTop&&o<r}itemsOverlaps(t,e){return!!this.itemsOnTheSameLevel(t,e)&&(e.time.start>=t.time.start&&e.time.start<=t.time.end||e.time.end>=t.time.start&&e.time.end<=t.time.end||e.time.start>=t.time.start&&e.time.end<=t.time.end||e.time.start<=t.time.start&&e.time.end>=t.time.end)}itemOverlapsWithOthers(t,e){for(let n=0,i=e.length;n<i;n++){const i=e[n],r=i.time.start&&t.time.start&&i.time.end&&t.time.end;if(t.id!==i.id&&this.itemsOverlaps(t,i)&&r)return i}return null}fixOverlappedItems(t){if(this.isMutedMethod("fixOverlapped"))return;if(0===t.length)return;let e=0;for(const n of t){const i=this.getItemData(n.id);i.position.rowTop=n.top,i.position.actualRowTop=i.position.rowTop+n.gap.top;let r=this.itemOverlapsWithOthers(n,t);if(e&&r){const e=this.getItemData(r.id);for(;r=this.itemOverlapsWithOthers(n,t);)i.position.rowTop+=e.outerHeight,i.position.actualRowTop=i.position.rowTop+n.gap.top}e++}}recalculateRowHeight(t,e){if(!e)return 0;let n=0;const i=this.getItemsData(),r=this.getItems(e.items);this.fixOverlappedItems(r);for(const t of r){const e=i[t.id];n=Math.max(n,e.position.rowTop+e.outerHeight)}return n<t.height&&(n=t.height),e.actualHeight=n,e.outerHeight=e.actualHeight+t.gap.top+t.gap.bottom,e.outerHeight}recalculateRowsHeights(t=Object.keys(this.state.get("config.list.rows"))){let e=0;const n=this.getAllRows(),i=this.getRowsData();for(const r of t){const t=n[r],o=i[r];this.recalculateRowHeight(t,o),e+=o.outerHeight}return e}recalculateRowsPercents(t,e){let n=0;const i=this.getRowsData();for(const r of t){const t=i[r];e<=0?(t.position.topPercent=0,t.position.bottomPercent=0):(t.position.topPercent=n?n/e:0,t.position.bottomPercent=(n+t.outerHeight)/e),n+=t.outerHeight}}calculateVisibleRowsHeights(){if(this.isMutedMethod("calculateVisibleRowsHeights"))return;const t=this.state.get("config.scroll.vertical.offset")||0,e=this.state.get("$data.list.visibleRows");let n=0;const i=this.getAllRows(),r=this.getRowsData();for(const t of e)n+=this.recalculateRowHeight(i[t],r[t]);this.debug&&console.log("Calculate visible rows height.",{height:n,rows:i,visibleRows:e}),this.state.update("$data.list.visibleRowsHeight",n+t)}generateParents(t,e="parentId"){const n={};for(const i in t){const r=t[i],o=void 0!==r[e]&&null!==r[e]?r[e]:"";void 0===n[o]&&(n[o]={}),n[o][r.id]=r}return n}fastTree(t,e,n=[]){const i=t[e.id];if(e.parents=n,void 0===i)return e.children=[],e;""!==e.id&&(n=[...n,e.id]),e.children=Object.values(i).map(t=>t.id);for(const e in i){const r=i[e];this.fastTree(t,r,n)}return e}makeRowsTree(t,e){for(const n in t){const i=t[n];i.parentId===e.id&&e.children.push(this.makeRowsTree(t,{id:i.id,children:[]}))}return e}makeTreeMap(t,e,n=!1){const i=this.generateParents(e,"rowId");for(const e in t){if(!t[e])return;if(t[e].items.length=0,void 0!==i[e])for(const n of Object.values(i[e]))t[e].items.push(n.id)}if(!n){const e=this.generateParents(this.getRowsData()),n={id:"",children:[],parents:[],items:[]};this.fastTree(e,n);const i=this.makeRowsTree(t,{id:void 0,children:[]});this.state.update("$data.treeMap",i)}}getRowsWithParentsExpanded(t){const e=[],n=this.getRowsData();t:for(const i in t){if(!n[i]||!n[i].parents)return[];for(const e of n[i].parents){const n=t[e];if(!n||!n.expanded)continue t}e.push(i)}return e}getVisibleRowsAndCalculateViewTop(){const t=this.state.get("$data.list.rowsWithParentsExpanded");this.debug&&console.log("getVisibleRows #1",{rowsWithParentsExpanded:t});const e=[],n=this.state.get("config.scroll.vertical");let i=this.state.get("$data.innerHeight");if(this.debug&&console.log("getVisibleRows #2",{innerHeight:i}),!i)return[];const r=this.getRowsData();if(i+=n.offset||0,this.debug&&console.log("getVisibleRows #3",{index:n.dataIndex}),void 0===n.dataIndex)return[];const o=this.state.get("$data.list.rowsIds"),a=o.indexOf(n.data.id);let s=0,l=0;for(let n=0,c=o.length;n<c;n++){const c=o[n],h=t.includes(c),u=n>=a&&s<=i,d=r[c];if(!d)return[];d.inView=u,d.visible=h,d.position.top=l,d.position.viewTop=s,n>=a&&h&&(s+=d.outerHeight),h&&(l+=d.outerHeight),u&&h&&e.push(c)}let c=0;for(let e=a-1;e>=0;e--){const n=o[e],i=t.includes(n),a=r[n];i&&(c+=a.outerHeight),a.position.viewTop=-c}return this.state.update("$data.list.rows",r),this.debug&&console.log("getVisibleRows #4 final",{visibleRows:e,innerHeight:i}),e}getSortableValue(t,e){return"string"==typeof t?e[t]:"function"==typeof t?t({row:e,vido:this.vido}):""}sortRowsByColumn(t,e=!0){const n=this.state.get("config.list.sort.compare");let i=this.getAllRows();if(0===Object.keys(i).length)return i;const r=Object.values(i);n?r.sort(n(t)):r.sort((n,i)=>{const r=this.getSortableValue(t.sortable,n),o=this.getSortableValue(t.sortable,i);return"number"==typeof r?e?r-o:o-r:"string"==typeof r?e?r.localeCompare(o):o.localeCompare(r):void 0});const o=this.state.get("$data.treeMap");i=this.sortRows(r,o.children),this.state.update("config.list.rows",i,{data:"sortRowsByColumn"}),this.setScrollTop(0)}normalizeMouseWheelEvent(t){let e=t.deltaX||0,n=t.deltaY||0,i=t.deltaZ||0;const r=t.deltaMode,o=this.state.get("config.list.rowHeight");let a=1;switch(r){case 1:o&&(a=o);break;case 2:a=window.height}return e*=a,n*=a,i*=a,{x:e,y:n,z:i,event:t}}scrollToTime(t,e=!0,n=this.state.get("$data.chart.time")){if(!n.allDates)return 0;e&&(t-=this.state.get("$data.chart.dimensions.width")/2*n.timePerPixel);const i=this.time.findDateAtTime(t,n.allDates[n.level]),r=n.allDates[n.level].indexOf(i);return-1===r?0:this.setScrollLeft(r,n).posPx}setScrollLeft(t,e=this.state.get("$data.chart.time"),n,i="scroll"){void 0===t&&(t=0);let r=!0;void 0===n&&(r=!1,n=this.state.multi());const o=e.allDates[e.level];if(!o)return;const a=o[t];if(!a)return;let s;return n=n.update("config.scroll.horizontal",n=>{n.data=Object.assign({},a);const i=e.allDates[e.level].length-n.lastPageCount;t>i&&(t=i),n.dataIndex=t,n.posPx=this.time.calculateScrollPosPxFromTime(n.data.leftGlobal,e,n);const r=n.maxPosPx-n.innerSize;return n.posPx>r&&(n.posPx=r),s=n,n}),i&&(n=n.update("$data.chart.time.recalculateTimesLastReason",i)),r?n:(n.done(),s)}getScrollLeft(){return this.state.get("config.scroll.horizontal")}setScrollTop(t,e=0){void 0===t&&(t=0);const n=this.state.get("$data.list.rowsWithParentsExpanded"),i=this.getRows(n);if(i[t]||0===t||(t=0),!i[t])return;const r=i[t],o=this.getRowData(r.id);this.state.update("config.scroll.vertical",n=>{const r=i.length-n.lastPageCount;return t+n.lastPageCount>i.length&&(t=r),t===r&&(e=0),n.data=i[t],n.offset=e,n.posPx=o.position.topPercent*n.maxPosPx+Math.floor(n.scrollArea*(e/n.area)),n.dataIndex=t,n})}getScrollTop(){return this.state.get("config.scroll.vertical")}getCurrentCalendarLevels(){return this.state.get("$data.chart.time.levels")}getGridCells(t){const e=this.state.get("$data.chart.grid.cells");if(!e)return[];if(void 0!==t){const n=[];for(const i of t)n.push(e[i]);return n}const n=[];for(const t in e){const i=e[t];n.push(i)}return n}getAllGridCells(){return this.state.get("$data.chart.grid.cells")}getGridRows(t){const e=this.state.get("$data.chart.grid.rows");return void 0!==t?e?Object.values(e).filter(e=>t.includes(e.row.id)):[]:e?Object.values(e):[]}getAllGridRows(){return this.state.get("$data.chart.grid.rows")}getGridCell(t){return this.state.get("$data.chart.grid.cells."+t)}getGridRow(t){return this.state.get("$data.chart.grid.rows."+t)}muteMethod(t){this.mutedMethods.add(t)}unmuteMethod(t){this.mutedMethods.delete(t)}isMutedMethod(t){return this.mutedMethods.has(t)}getSVGIconSrc(t){return"string"==typeof this.iconsCache[t]||(this.iconsCache[t]="data:image/svg+xml;base64,"+btoa(t)),this.iconsCache[t]}destroy(){for(const t of this.unsubscribes)t();this.unsubscribes=[],this.debug&&delete window.state}}function Yt(t,e){const{onDestroy:n,state:i,api:r,html:o,StyleMap:a,Actions:s,update:l,schedule:c}=t,h="scroll-bar";let u,d,p,f="",g="";n(i.subscribe("config.classNames",()=>{u=r.getClass(h),d=r.getClass("scroll-bar-inner")}));const m="horizontal"===e.type?"height":"width",v="height"===m?"width":"height",y="horizontal"===e.type?"left":"top",x=new a({}),b=new a({});let w=0,C=!1,_=[],S=[],O=0,M=0,k=0,A=0;function T(){return"vertical"===e.type?S.length?r.getRowData(S[S.length-1]).position.top+r.getRowData(S[S.length-1]).outerHeight:0:_.length?_[_.length-1].rightPx:0}"horizontal"===e.type&&n(i.subscribe("$data.chart.time",()=>{const t=i.get("$data.chart.time");if(t.leftGlobalDate&&(i.get("config.scroll.horizontal").area!==t.scrollWidth&&i.update("config.scroll.horizontal.area",t.scrollWidth),t.allDates&&t.allDates[t.level])){const e=t.allDates[t.level],n=e.find(e=>e.leftGlobal===t.leftGlobal);let o=e.indexOf(n);const a=i.get("config.scroll.horizontal.lastPageCount");o>e.length-a&&(o=e.length-a),r.setScrollLeft(o,t,void 0,"time")}}));const D={maxPosPx:0,innerSize:0,sub:0,scrollArea:0};n(i.subscribeAll("horizontal"===e.type?["config.scroll."+e.type,"$data.chart.time"]:["config.scroll."+e.type,"$data.innerHeight","$data.list.rowsWithParentsExpanded;","$data.list.rowsHeight"],(function(){const t=i.get("$data.chart.time"),n=i.get("config.scroll."+e.type),r=i.get("$data.chart.dimensions.width"),o=i.get("$data.innerHeight");C=n.precise,p=n.size,M="horizontal"===e.type?r:o,M=M||0,"horizontal"===e.type?M-=p:M+=p,M<0&&(M=0),x.style[m]=p+"px",x.style[v]=M+"px","vertical"===e.type&&(x.style.top=i.get("config.headerHeight")+"px"),b.style[m]="100%",k=M,"horizontal"===e.type?_=t.allDates&&t.allDates[t.level]?t.allDates[t.level]:[]:S=i.get("$data.list.rowsWithParentsExpanded")||[];const a=T();i.get(`config.scroll.${e.type}.lastPageSize`)&&(A=0,a<=k||n.lastPageSize===a?(k=0,O=0):(M&&a?O=M*(M/a):(O=0,k=0),O<n.minInnerSize&&(A=n.minInnerSize-O,O=n.minInnerSize)),b.style[v]=O+"px",w=Math.round(M-A),function(t,e,n,i){const r=D.maxPosPx!==t||D.innerSize!==e||D.sub!==n||D.scrollArea!==i;return r&&(D.maxPosPx=w,D.innerSize=e,D.sub=n,D.scrollArea=i),r}(w,O,A,M)&&i.update("config.scroll."+e.type,t=>(t.maxPosPx=w,t.innerSize=O,t.sub=A,t.scrollArea=M,t)),l())})));let P=0;n(i.subscribe(`config.scroll.${e.type}.posPx`,t=>{t!==P&&(b.style[y]=t+"px",P=t,l())}));const I=r.getActions(h);I.push(class extends wt{constructor(t){super(),i.update("$data.elements.scroll-bar--"+e.type,t)}update(){}destroy(){}});const E=s.create(I,{api:r,state:i,props:e}),j=[class extends wt{constructor(t){super(),this.moving=!1,this.initialPos=0,this.currentPos=0,this.cumulation=0,this.lastDataIndex=0,this.dataIndex=0,i.update("$data.elements.scroll-bar-inner--"+e.type,t),this.bodyClassName=i.get("config.scroll.bodyClassName"),this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this);const n=this.pointerMove.bind(this);this.pointerMove=c(n),this.unsubscribe=i.subscribe("config.scroll."+e.type,this.dataChanged.bind(this)),this.destroy=this.destroy.bind(this),t.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointermove",this.pointerMove,{passive:!0}),document.addEventListener("pointerup",this.pointerUp)}destroy(t){this.unsubscribe(),t.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointermove",this.pointerMove),document.removeEventListener("pointerup",this.pointerUp)}dataChanged(){const t=i.get("config.scroll."+e.type),n=t.dataIndex;if(this.lastDataIndex=n,"horizontal"===e.type&&_&&_.length){const t=_[n];if(!t)return;if(this.lastDate&&this.lastDate.leftPercent===t.leftPercent)return;const e=this.limitPosition(t.leftPercent*(M-A));this.currentPos=e,l()}else if("vertical"===e.type){const e=S[n],i=r.getRow(e),o=r.getRowData(e);if(!i)return;if(this.lastRow&&this.lastRowData.position.topPercent===o.position.topPercent)return;const a=Math.round(o.position.topPercent*(M-A));this.currentPos=a+t.offset,l()}}limitPosition(t){return Math.max(Math.min(t,w),0)}pointerDown(t){r.muteMethod("calculateRowsHeight"),t.preventDefault(),t.stopPropagation(),document.body.classList.add(this.bodyClassName),this.moving=!0,this.initialPos="horizontal"===e.type?t.screenX:t.screenY,g=" "+r.getClass(h)+"-inner--active",f=" "+r.getClass(h)+"--active",l()}pointerUp(t){this.moving&&(r.unmuteMethod("calculateRowsHeight"),t.preventDefault(),t.stopPropagation(),document.body.classList.remove(this.bodyClassName)),this.moving=!1,this.cumulation=0,g="",f="",l()}pointerMove(t){if(this.moving){t.stopPropagation();const n="horizontal"===e.type?t.screenX:t.screenY,i=n-this.initialPos;this.cumulation+=i,this.currentPos=this.limitPosition(this.currentPos+i),this.initialPos=n;const o=this.currentPos/w;let a=0,s=0;if("horizontal"===e.type)for(let t=_.length;a<t&&!(_[a].leftPercent>=o);a++);else{let t,e;for(let n=S.length;a<n&&(t=r.getRow(S[a]),e=r.getRowData(S[a]),!(e.position.bottomPercent>=o));a++);if(a!==t.length-1&&C){const t=o-e.position.topPercent;s=Math.floor(t*T())}}a||(a=0),this.dataIndex=a,"horizontal"===e.type?(this.lastDate=_[a],r.setScrollLeft(a,void 0,void 0,void 0)):(this.lastRow=r.getRow(S[a]),this.lastRowData=r.getRowData(S[a]),r.setScrollTop(a,s)),a!==this.lastDataIndex&&(this.cumulation=0),this.lastDataIndex=a}}}],L=s.create(j,{api:r,state:i,props:e}),B=r.generateSlots(h,t,e);return()=>B.html("outer",o`
        <div
          data-actions=${E}
          class=${u+" "+u+"--"+e.type+f}
          style=${x}
        >
          ${B.html("inner",o`
              <div
                data-actions=${L}
                class=${d+" "+d+"--"+e.type+g}
                style=${b}
              >
                ${B.html("content")}
              </div>
            `)}
        </div>
      `)}function Xt(t,e={}){const{api:n,state:i,onDestroy:r,Actions:o,update:a,reuseComponents:s,html:l,StyleMap:c,cache:h}=t,u="list",d=n.getActions(u);let p;const f=i.subscribe("config.components.ListColumn",t=>p=t);!function(){const t=i.get("config.list.expander.icons"),e={};for(const i in t){const r=t[i];e[i]=n.getSVGIconSrc(r)}i.update("$data.list.expander.icons",e)}(),function(){const t={open:"",close:""},e=i.get("config.list.toggle.icons");for(const i in e){const r=e[i];t[i]=n.getSVGIconSrc(r)}i.update("$data.list.toggle.icons",t)}();const g=n.getClass(u),m=n.generateSlots(u,t,e);let v,y;r(i.subscribe("config.list",(function(){v=i.get("config.list"),y=v.columns.percent,a()})));const x=[];r(i.subscribe("config.list.columns.data",(function(t){s(x,Object.values(t),t=>({column:t}),p),a()})));const b=new c({height:"","--expander-padding-width":"","--expander-size":""});let w;function C(t){w||(w=t.clientWidth,0===y&&(w=0),i.update("$data.list.width",w))}r(i.subscribeAll(["$data.height","config.list.expander"],()=>{const t=i.get("config.list.expander");b.style.height=i.get("$data.height")+"px",b.style["--expander-padding-width"]=t.padding+"px",b.style["--expander-size"]=t.size+"px",a()})),r(()=>{x.forEach(t=>t.destroy()),f()}),d.push(class{constructor(t,e){e.state.update("$data.elements.list",t),C(t)}update(t){return C(t)}});const _=o.create(d,Object.assign(Object.assign({},e),{api:n,state:i}));return()=>m.html("outer",h(v.columns.percent>0?l`
              <div class=${g} data-actions=${_} style=${b}>
                ${m.html("content",x.map(t=>t.html()))}
              </div>
            `:""))}class qt{constructor(t,e){let n=!1,i=e.state.get("$data.elements.list-columns");void 0===i&&(i=[],n=!0),i.includes(t)||(i.push(t),n=!0),n&&e.state.update("$data.elements.list-columns",i)}destroy(t,e){e.state.update("$data.elements.list-columns",e=>e.filter(e=>e!==t))}}function Ut(t,e){const{api:n,state:i,onDestroy:r,onChange:o,Actions:a,update:s,createComponent:l,reuseComponents:c,html:h,StyleMap:u}=t,d=[];let p,f;d.push(i.subscribe("config.components.ListColumnRow",t=>p=t)),d.push(i.subscribe("config.components.ListColumnHeader",t=>f=t));const g=Object.assign(Object.assign({},e),{api:n,state:i}),m="list-column",v="list-column-rows",y=n.getActions(m),x=n.getActions(v);let b,w,C,_;const S=new u({width:"","--width":""}),O=new u({height:""}),M=new u({"margin-top":"0px"}),k=n.generateSlots(m,t,e);let A;function T(){const t=i.get("config.list");_=t.columns.data[e.column.id].width*t.columns.percent*.01,A=_;const n=i.get("$data.innerHeight");S.style.width=A+"px",S.style["--width"]=A+"px",O.style.height=n+"px"}r(i.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","$data.chart.dimensions.width","$data.innerHeight","$data.list.width","$data.list.visibleRowsHeight"],T,{bulk:!0}));const D=l(f,e);r(D.destroy);const P=[];function I(){i.mute(I);const t=i.get("$data.list.visibleRows")||[],r=n.getRows(t),o=n.getRowsData();c(P,r,t=>t&&{column:e.column,row:t,rowData:o[t.id],width:A},p,!1),k.change(e),i.unmute(I)}o(t=>{e=t,b=n.getClass(m,e.column.id),C=n.getClass("list-column-rows-offset",e.column.id),w=n.getClass(v,e.column.id);for(const t in e)g[t]=e[t];T(),D.change(e),I()}),r(i.subscribeAll(["$data.list.visibleRows","$data.list.visibleRowsHeight","$data.list.rows","config.list.rows","config.chart.items.*.height","config.chart.items.*.rowId","config.chart.items.*.time"],I,{bulk:!0})),r(i.subscribe("config.scroll.vertical.offset",t=>{M.style.transform=`translateY(-${t||0}px)`,s()})),r(()=>{P.forEach(t=>t.destroy()),d.forEach(t=>t())}),y.push(qt);const E=a.create(y,{column:e.column,state:i,api:n}),j=a.create(x,{api:n,state:i});return()=>{const t=h`
      <div class=${C} style=${M}>
        ${k.html("content",P.map(t=>t.html()))}
      </div>
    `,e=h`
      <div class=${w} style=${O} data-actions=${j}>
        ${k.html("container-inner",t)}
      </div>
    `;return k.html("outer",h`
        <div class=${b} data-actions=${E} style=${S}>
          ${k.html("inner",h` ${D.html()}${k.html("container-outer",e)} `)}
        </div>
      `)}}function Zt(t,e){const{api:n,state:i,onDestroy:r,onChange:o,Actions:a,update:s,createComponent:l,html:c,StyleMap:h}=t,u=Object.assign(Object.assign({},e),{api:n,state:i}),d="list-column-header",p=n.getActions(d),f=[];let g;f.push(i.subscribe("config.components.ListColumnHeaderResizer",t=>g=t));const m=l(g,e);let v;f.push(i.subscribe("config.components.ListColumnRowExpander",t=>v=t));const y=l(v,e);r(()=>{m.destroy(),y.destroy(),f.forEach(t=>t())});const x=n.generateSlots(d,t,e);let b,w;o(t=>{e=t,b=n.getClass(d,e.column.id),w=n.getClass(d+"-content",e.column.id);for(const t in e)u[t]=e[t];m.change(e),y.change(e),x.change(t)});const C=new h({height:"","--height":"","--paddings-count":""});r(i.subscribe("config.headerHeight",()=>{const t=i.get("config");C.style.height=t.headerHeight+"px",C.style["--height"]=t.headerHeight+"px",C.style["--paddings-count"]="1",s()}));const _=a.create(p,u);return()=>x.html("outer",c`
        <div class=${b} style=${C} data-actions=${_}>
          ${x.html("content",e.column.expander?c`
      <div class=${w}>${y.html()}${m.html(e.column)}</div>
    `:c` <div class=${w}>${m.html(e.column)}</div> `)}
        </div>
      `)}function Kt(t,e){const{api:n,state:i,onDestroy:r,update:o,html:a,Actions:s,onChange:l,PointerAction:c,StyleMap:h,unsafeHTML:u}=t,d="list-column-header-resizer",p=n.getActions(d),f=n.getActions(d+"-dots"),g={up:"",down:""};let m,v,y,x;r(i.subscribe("config.list.sort.icons",t=>{g.up=n.getSVGIconSrc(t.up),g.down=n.getSVGIconSrc(t.down)})),m=n.getClass(d),v=n.getClass(d+"-container"),y=n.getClass(d+"-dots"),x=n.getClass(d+"-dots-dot");const b=n.getClass(d+"-sort-icon");let w;const C=new h({});let _=!1;const S=n.generateSlots(d,t,e);let O=!0;function M(){if(!e.column)return;m=n.getClass(d,e.column.id),v=n.getClass(d+"-container",e.column.id),y=n.getClass(d+"-dots",e.column.id),x=n.getClass(d+"-dots-dot",e.column.id),O=!("resizer"in e.column)||e.column.resizer;const t=i.get("config.list");w=e.column.width*t.columns.percent*.01,C.style["--width"]=t.columns.resizer.width+"px",_=t.columns.resizer.inRealTime,i.update("$data.list.width",w),S.change(e),o()}l(t=>{e=t,M()}),r(i.subscribeAll(["config.list.columns.percent","config.list.columns.resizer.width","config.list.columns.resizer.inRealTime"],M));let k=[1,2,3,4,5,6,7,8];r(i.subscribe("config.list.columns.resizer.dots",t=>{k=[];for(let e=0;e<t;e++)k.push(e);o()}));let A=!0;function T(){e.column.sortable&&(A=!A,i.update("config.list.sort",t=>(t.activeColumnId=e.column.id,t.asc=A,t)))}let D=!1;function P(){return e.column.sortable&&D?A?a` <img src="${g.down}" class=${b} /> `:a` <img src="${g.up}" class=${b} /> `:null}r(i.subscribe("config.list.sort",t=>{if(t.activeColumnId===e.column.id)return A=t.asc,void(D=!0);D=!1}));let I=w;const E={column:e.column,api:n,state:i,pointerOptions:{axis:"x",onMove:function({movementX:t,event:n}){if(!O)return;t&&(n.preventDefault(),n.stopPropagation());let r=i.get("config.list.columns.minWidth");"number"==typeof e.column.minWidth&&(r=e.column.minWidth),I+=t,I<r&&(I=r),_&&i.update(`config.list.columns.data.${e.column.id}.width`,I)}}};f.push(c);const j=s.create(p,E),L=s.create(f,E);return()=>{const n="function"==typeof e.column.header.content?e.column.header.content({column:e.column,vido:t}):e.column.header.content,i=a`
      <div class=${v} @click=${T}>
        ${S.html("content",e.column.header.html?u(e.column.header.html):n)} ${P()}
      </div>
      <div class=${y} style=${C} data-actions=${L}>
        ${k.map(()=>a` <div class=${x} /> `)}
      </div>
    `,r=a`
      <div class=${v} @click=${T}>
        ${S.html("content",e.column.header.html?u(e.column.header.html):n)} ${P()}
      </div>
    `;return S.html("outer",a`
        <div class=${m} data-actions=${j}>
          ${S.html("container-outer",O?i:r)}
        </div>
      `)}}class Jt{constructor(t,e){let n=e.state.get("$data.elements.list-column-rows"),i=!1;void 0===n&&(i=!0,n=[]),n.includes(t)||(n.push(t),i=!0),i&&e.state.update("$data.elements.list-column-rows",n)}destroy(t,e){e.state.update("$data.elements.list-column-rows",e=>e.filter(e=>e!==t))}}function Qt(t,e){const{api:n,state:i,onDestroy:r,Detach:o,Actions:a,update:s,html:l,createComponent:c,onChange:h,StyleMap:u,unsafeHTML:d}=t,p="list-column-row",f=Object.assign(Object.assign({},e),{api:n,state:i});let g=!1;const m=new o(()=>g);let v;r(i.subscribe("config.components.ListColumnRowExpander",t=>v=t));const y=new u(e.column.expander?{height:"",top:"","--height":"","--expander-padding-width":"","--expander-size":""}:{height:"",top:"","--height":""},!0),x=c(v,{row:e.row});let b=n.getClass(p),w=n.getClass(p+"-content"),C=n.getClass(p);const _=n.generateSlots(p,t,e);let S;h((function(r,o){var a;if(o.leave||!r||void 0===r.row||void 0===r.column)return g=!0,_.change(r,o),void s();g=!1,e=r;for(const t in e)f[t]=e[t];if(!e.column||!e.row||!e.rowData)return g=!0,_.change(r,o),void s();if(void 0===e.column||void 0===e.row)return;S=e.column.isHTML?void 0===e.row?null:"function"==typeof e.column.data?d(e.column.data({row:e.row,vido:t})):"function"==typeof e.row[e.column.data]?d(e.row[e.column.data]({row:e.row,vido:t})):d(e.row[e.column.data]):void 0===e.row?null:"function"==typeof e.column.data?e.column.data({row:e.row,vido:t}):"function"==typeof e.row[e.column.data]?e.row[e.column.data]({row:e.row,vido:t}):e.row[e.column.data];const l=`${e.row.id}-${e.column.id}`;b=n.getClass(p,l),w=n.getClass(p+"-content",l),C=n.getClass(p);const c=i.get("config.list.expander");y.setStyle({}),y.style.height=e.rowData.outerHeight+"px",y.style["--height"]=e.rowData.outerHeight+"px",e.column.expander&&(y.style["--expander-padding-width"]=c.padding*(e.rowData.parents.length+1)+"px");const h=i.get("config.list.rows");for(const t of e.rowData.parents){const e=h[t];if("object"==typeof e.style&&"Object"===e.style.constructor.name&&"object"==typeof e.style.children){const t=e.style.children;for(const e in t)y.style[e]=t[e]}}if((null===(a=null==e?void 0:e.row)||void 0===a?void 0:a.style)&&y.setStyle(Object.assign(Object.assign({},y.style),e.row.style)),e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)C=n.getClass(p,l)+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const i=e.row.classNames({row:e.row,vido:t});Array.isArray(i)&&i.length&&(C=n.getClass(p,l)+" "+i.join(" "))}}else C=b;x&&x.change(e),_.change(e,o),s()})),r(()=>{x&&x.destroy()});const O=n.getActions(p);O.includes(Jt)||O.push(Jt);const M=a.create(O,f);return()=>_.html("outer",l`
        <div detach=${m} class=${C} style=${y} data-actions=${M}>
          ${_.html("inner",l`
              ${e.column.expander?x.html():null}
              <div class=${w}>${_.html("content",S)}</div>
            `)}
        </div>
      `)}function te(t,e){const{api:n,state:i,onDestroy:r,Actions:o,html:a,createComponent:s,onChange:l,update:c}=t,h="list-column-row-expander",u=n.getActions(h),d=Object.assign(Object.assign({},e),{api:n,state:i});let p,f=n.getClass(h);const g=i.subscribe("config.components.ListColumnRowExpanderToggle",t=>p=t),m=s(p,e.row?{row:e.row}:{});r(()=>{m.destroy(),g()});const v=n.generateSlots(h,t,e);e.row&&l((function(t){e=t,f=n.getClass(h,e.row.id);for(const t in e)d[t]=e[t];m.change(e),v.change(t),c()}));const y=o.create(u,d);return()=>v.html("outer",a`
        <div class=${f} data-action=${y}>
          ${v.html("content",m.html())}
        </div>
      `)}function ee(t,e){const{api:n,state:i,onDestroy:r,Actions:o,update:a,html:s,onChange:l}=t,c="list-column-row-expander-toggle",h=Object.assign(Object.assign({},e),{api:n,state:i}),u=n.getActions(c);let d,p,f,g;d=n.getClass(c),p=n.getClass(c+"-child"),f=n.getClass(c+"-open"),g=n.getClass(c+"-closed");let m,v,y,x=!1;r(i.subscribe("$data.list.expander.icons",t=>{t&&(m=t.child,v=t.open,y=t.closed),a()}));const b=n.generateSlots(c,t,e);function w(t){x=t,a()}let C;function _(){x=!x,e.row?i.update(`config.list.rows.${e.row.id}.expanded`,x):i.update("config.list.rows",t=>{for(const e in t)t[e].expanded=x;return t},{only:["*.expanded"]})}e.row?(l((function(t){var r;e=t,d=n.getClass(c,e.row.id),p=n.getClass(c+"-child",e.row.id),f=n.getClass(c+"-open",e.row.id),g=n.getClass(c+"-closed",e.row.id);for(const t in e)h[t]=e[t];C&&C(),(null===(r=null==e?void 0:e.row)||void 0===r?void 0:r.id)&&(C=i.subscribe(`config.list.rows.${e.row.id}.expanded`,w)),b.change(t)})),r((function(){C&&C()}))):r(i.subscribe("config.list.rows.*.expanded",(function(t){for(const e of t)if(e.value){x=!0;break}a()}),{bulk:!0}));const S=o.create(u,h);return()=>{return b.html("outer",s` <div class=${d} data-action=${S} @click=${_}>${b.html("content",m?0===(null===(n=null===(t=e.rowData)||void 0===t?void 0:t.children)||void 0===n?void 0:n.length)?s` <img width="16" height="16" class=${p} src=${m} /> `:x?s` <img width="16" height="16" class=${f} src=${v} /> `:s` <img width="16" height="16" class=${g} src=${y} /> `:"")}</div> `);var t,n}}function ne(t,e={}){const{html:n,onDestroy:i,api:r,state:o,update:a,StyleMap:s}=t,l="list-toggle",c=r.getClass(l);let h={open:"",close:""};i(o.subscribe("$data.list.toggle.icons",t=>{t&&(h=t,a())}));const u=new s({top:"0px"});i(o.subscribe("config.scroll.vertical.offset",t=>{u.style.top=(t||0)+"px"}));let d=!0;i(o.subscribe("config.list.columns.percent",t=>d=0!==t));let p=!1;function f(){p=!0}function g(){p&&(p=!1,o.update("config.list.columns.percent",t=>0===t?100:0))}const m=r.generateSlots(l,t,e);return()=>m.html("outer",n`
        <div class=${c} style=${u} @pointerdown=${f} @pointerup=${g}>
          ${m.html("content",n`
              <img src=${d?h.close:h.open} />
            `)}
        </div>
      `)}function ie(t,e={}){const{api:n,state:i,onDestroy:r,Actions:o,html:a,createComponent:s}=t,l="chart",c=[];let h,u,d;c.push(i.subscribe("config.components.ChartCalendar",t=>h=t)),c.push(i.subscribe("config.components.ChartTimeline",t=>u=t)),c.push(i.subscribe("config.components.ScrollBar",t=>d=t));const p=s(h);r(p.destroy);const f=s(u);r(f.destroy);const g=s(d,{type:"horizontal"});r(g.destroy);const m=s(d,{type:"vertical"});r(m.destroy),r(()=>{c.forEach(t=>t())});const v=n.getClass(l),y=n.getActions(l);let x=!1;r(i.subscribe("config.chart.time.calculatedZoomMode",t=>x=t));const b={handleEvent:function(t){t.type},passive:!1,capture:!1};let w,C=0;y.push((function(t){w||(w=new ResizeObserver(()=>{const e=t.clientWidth,n=t.clientHeight,r=e-i.get("config.scroll.horizontal.size");C!==e&&(C=e,i.update("$data.chart.dimensions",{width:e,innerWidth:r,height:n}))}),w.observe(t),i.update("$data.elements.chart",t))})),r(()=>{w.disconnect()});const _=o.create(y,{api:n,state:i}),S=n.generateSlots(l,t,e);return()=>S.html("outer",a`
        <div class=${v} data-actions=${_} @wheel=${b}>
          ${S.html("content",a`
              ${p.html()}${f.html()}${m.html()}
              ${x?null:g.html()}
            `)}
        </div>
      `)}function re(t,e){const{api:n,state:i,onDestroy:r,Actions:o,update:a,reuseComponents:s,html:l,StyleMap:c}=t,h="chart-calendar",u=n.getActions(h),d=Object.assign(Object.assign({},e),{api:n,state:i}),p=i.get("config.components.ChartCalendarDate"),f=n.getClass(h);let g;const m=new c({height:"","--headerHeight":"","margin-left":""});r(i.subscribe("config.headerHeight",t=>{g=t,m.style.height=g+"px",m.style["--calendar-height"]=g+"px",a()}));let v=[],y=0;r(i.subscribe("$data.chart.time.levels",t=>{let e=0;if(t.length!==y){y=t.length,v.forEach(t=>t.forEach(t=>t.destroy())),v=[];for(let t=0;t<y;t++)v.push([])}for(const i of t){if(!i.length)continue;let t="YYYY-MM-DD HH";switch(i[0].period){case"day":t="YYYY-MM-DD";break;case"week":t="YYYY-MM-ww";break;case"month":t="YYYY-MM";break;case"year":t="YYYY"}const r=n.time.date().format(t);s(v[e],i,n=>n&&{level:e,date:n,currentDate:r,currentDateFormat:t},p),e++}a()})),r(()=>{v.forEach(t=>t.forEach(t=>t.destroy()))}),u.push(t=>{i.update("$data.elements.chart-calendar",t)});const x=o.create(u,d),b=n.generateSlots(h,t,e);return()=>b.html("outer",l`
        <div class=${f} data-actions=${x} style=${m}>
          ${b.html("inner",v.length?v.map((t,e)=>t&&t.length?l`
                        <div class=${f+"-dates "+f+"-dates--level-"+e}>
                          ${b.html("content",t.map(t=>t.html()))}
                        </div>
                      `:null):null)}
        </div>
      `)}class oe extends wt{constructor(t,e){super(),e.state.update("$data.elements.chart-calendar-dates",e=>(void 0===e&&(e=[]),e.includes(t)||e.push(t),e))}}function ae(t,e){const{api:n,state:i,onDestroy:r,Actions:o,update:a,onChange:s,html:l,StyleMap:c,Detach:h}=t,u="chart-calendar-date",d=n.getActions(u),p=n.getClass(u);let f,g,m="";r(i.subscribe("config.chart.time",t=>f=t));const v=new c({width:"0px"});let y="";function x(){if(!e)return;const t=i.get("config.chart.calendarLevels."+e.level);v.style.width=e.date.currentView.width+"px";const n=t.find(t=>+f.zoom<=+t.zoomTo);m=e.date.current?" gstc-current":e.date.next?" gstc-next":e.date.previous?" gstc-previous":"";let r=p+"-content "+p+"-content--"+e.date.period+m;n.classNames&&Array.isArray(n.classNames)?(r+=" "+n.classNames.join(" "),y=" "+n.classNames.join(" ")):y="",g=l` <div class=${r}>${e.date.formatted}</div> `,a()}let b=!1;const w=new h(()=>b),C=n.generateSlots(u,t,e);let _,S,O;const M={date:e.date,period:e.period,api:n,state:i};s((t,n)=>{if(n.leave)return b=!0,C.change(t,n),a();b=!1,S=e.level===f.level,O=S?p+"--main-date ":p+"--non-main-date ",e=t,M.date=e.date,M.period=e.period,_&&_(),_=i.subscribeAll(["$data.chart.time","config.chart.calendarLevels"],x,{bulk:!0}),C.change(t,n)}),r(()=>{_()}),d.includes(oe)||d.push(oe);const k=o.create(d,M);return()=>C.html("outer",l`
        <div
          detach=${w}
          class=${p+" "+p+`--${e.date.period} `+O+p+"--level-"+e.level+m+y}
          style=${v}
          data-actions=${k}
        >
          ${C.html("content",g)}
        </div>
      `)}function se(t,e){const{api:n,state:i,onDestroy:r,Action:o,Actions:a,update:s,html:l,createComponent:c,StyleMap:h}=t,u="chart-timeline",d=Object.assign(Object.assign({},e),{api:n,state:i});let p,f,g;r(i.subscribe("config.components.ChartTimelineGrid",t=>{p&&p.destroy(),p=c(t)})),r(()=>{p&&p.destroy()}),r(i.subscribe("config.components.ChartTimelineItems",t=>{f&&f.destroy(),f=c(t)})),r(()=>{f&&f.destroy()}),r(i.subscribe("config.components.ListToggle",t=>{g&&g.destroy(),g=c(t)})),r(()=>{g&&g.destroy()});const m=n.generateSlots(u,t,e),v=n.getClass(u),y=n.getClass("chart-timeline-inner");let x;r(i.subscribe("config.list.toggle.display",t=>x=t));const b=new h({}),w=new h({});r(i.subscribeAll(["$data.innerHeight","config.scroll.vertical.offset","$data.chart.dimensions.width","$data.list.visibleRowsHeight","$data.chart.time.dates.day"],(function(){const t=i.get("$data.chart.dimensions.width"),e=i.get("$data.list.visibleRowsHeight");b.style.height=i.get("$data.innerHeight")+"px",b.style["--height"]=b.style.height,t?(b.style.width=t+"px",b.style["--width"]=t+"px"):(b.style.width="0px",b.style["--width"]="0px"),w.style.height=e+"px",w.style.width=t?t+"px":"0px";const n=i.get("config.scroll.vertical.offset")||0;w.style.transform=`translateY(-${n}px)`,s()})));let C=[];r(i.subscribe("config.actions.chart-timeline",t=>{C=t})),C.push(class extends o{constructor(t){super(),i.get("$data.elements.chart-timeline")!==t&&i.update("$data.elements.chart-timeline",t)}});const _=a.create(C,d);return()=>m.html("outer",l`
        <div class=${v} style=${b} data-actions=${_}>
          ${m.html("inner",l`
              <div class=${y} style=${w}>
                ${m.html("content",l` ${p.html()}${f.html()}${x?g.html():""} `)}
              </div>
            `)}
        </div>
      `)}class le{constructor(t,e){e.state.get("$data.elements.chart-timeline-grid")!==t&&e.state.update("$data.elements.chart-timeline-grid",t)}destroy(t,e){e.state.update("$data.elements",t=>(delete t["chart-timeline-grid"],t))}}function ce(t,e){const{api:n,state:i,onDestroy:r,Actions:o,update:a,html:s,reuseComponents:l,StyleMap:c}=t,h="chart-timeline-grid",u=n.getActions(h),d={api:n,state:i},p=i.get("config.components.ChartTimelineGridRow"),f=n.getClass(h);let g,m;r(i.subscribe("config.chart.grid.cell.onCreate",t=>g=t)),r(i.subscribe("config.debug",t=>m=t));const v=[];let y={};const x=new Map,b=new c({});function w(){m&&console.log("[grid.ts] generateCells");const e=i.get("$data.chart.dimensions.width"),r=i.get("$data.innerHeight"),o=i.get("config.scroll.vertical.offset")||0,a=i.get("$data.chart.time"),s=i.get("$data.chart.time.levels."+a.level);if(!s||0===s.length)return void i.update("$data.chart.grid",{rows:{},cells:{}});const l=i.get("$data.list.visibleRows");b.style.height=r+o+"px",b.style.width=e+"px";let c=0;y={};const h=n.getAllRows(),u=n.getRowsData(),d={};for(const i of l){const r=h[i],o=u[i];if(!r||!o){m&&console.warn("generateCells EMPTY ROW",{row:r,rowId:i,visibleRowsId:l,rows:h});continue}const a=[];for(const e of s){let i;x.has(e.leftGlobal)?i=x.get(e.leftGlobal):(i=n.time.date(e.leftGlobal).format("YYYY-MM-DDTHH-mm-ss"),x.set(e.leftGlobal,i));const s={id:r.id+"-"+i,time:e,row:r,rowData:o,top:c,vido:t,content:null};for(const t of g)s.content=t(s);d[s.id]=s,a.push(s.id)}y[i]={row:r,rowData:o,cells:a,top:c,width:e},c+=o.outerHeight}i.update("$data.chart.grid",{rows:y,cells:d})}r(i.subscribeAll(["$data.list.rowsHeight","$data.list.visibleRows","$data.list.visibleRowsHeight","$data.chart.time.levels","$data.innerHeight","$data.chart.dimensions.width"],w)),r(i.subscribe("$data.list.rows.*.actualHeight",w,{bulk:!0})),r(i.subscribeAll(["$data.chart.grid","config.list.rows"],(function(){m&&console.log("[grid.ts] generate rows components");const t=n.getGridRows();l(v,t||[],t=>t,p,!1),a()}))),r(()=>{v.forEach(t=>t.destroy())}),u.push(le);const C=o.create(u,d),_=n.generateSlots(h,t,e);return()=>_.html("outer",s`
        <div class=${f} data-actions=${C} style=${b}>
          ${_.html("content",v.map(t=>t.html()))}
        </div>
      `)}class he{constructor(t,e){let n=!1,i=e.state.get("$data.elements.chart-timeline-grid-rows");void 0===i&&(i=[],n=!0),i.includes(t)||(i.push(t),n=!0),n&&e.state.update("$data.elements.chart-timeline-grid-rows",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-rows",e=>e.filter(e=>e!==t))}}function ue(t,e){const{api:n,state:i,onDestroy:r,Detach:o,Actions:a,update:s,html:l,reuseComponents:c,onChange:h,StyleMap:u}=t,d="chart-timeline-grid-row",p=Object.assign(Object.assign({},e),{api:n,state:i});let f;r(i.subscribe("config.components.ChartTimelineGridRowCell",t=>f=t));const g=n.getActions(d);let m=n.getClass(d);const v=new u({width:e.width+"px",height:e.row.height+"px"},!0);let y=!1;const x=new o(()=>y),b=n.generateSlots(d,t,e),w=[];h((function(t,i){var r;if(i.leave||void 0===t.row)return y=!0,c(w,[],t=>t,f,!1),b.change(t,i),void s();y=!1,e=t,m=n.getClass(d,e.row.id);const o=n.getGridCells(e.cells);c(w,o,t=>t,f,!1),v.setStyle({}),v.style.height=e.rowData.outerHeight+"px",v.style.width=e.width+"px",(null===(r=null==e?void 0:e.row)||void 0===r?void 0:r.style)&&v.setStyle(Object.assign(Object.assign({},v.style),e.row.style));for(const t in e)p[t]=e[t];b.change(t,i)})),r((function(){w.forEach(t=>t.destroy())})),-1===g.indexOf(he)&&g.push(he);const C=a.create(g,p);return()=>b.html("outer",l`
        <div detach=${x} class=${m} data-actions=${C} style=${v}>
          ${b.html("content",w.map(t=>t.html()))}
        </div>
      `)}class de{constructor(t,e){let n=!1,i=e.state.get("$data.elements.chart-timeline-grid-row-cells");void 0===i&&(i=[],n=!0),i.includes(t)||(i.push(t),n=!0),n&&e.state.update("$data.elements.chart-timeline-grid-row-cells",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-grid-row-cells",e=>e.filter(e=>e!==t),{only:[""]})}}function pe(t,e){const{api:n,state:i,Detach:r,Actions:o,html:a,onChange:s,StyleMap:l}=t,c="chart-timeline-grid-row-cell",h=Object.assign(Object.assign({},e),{api:n,state:i});let u=!1;const d=new r(()=>u),p=n.getActions(c),f=n.generateSlots(c,t,e);let g;function m(t){g=n.getClass(c,e.id),t.current&&(g+=" current")}m(e.time);const v=new l({width:"",height:""});s((function(t,i){var r;if(i.leave||void 0===t.row)return u=!0,void f.change(t,i);u=!1,e=t;for(const t in e)h[t]=e[t];if(m(e.time),v.setStyle({}),!e||!e.row)return;const o=n.getRowData(e.row.id);v.style.width=((null===(r=null==e?void 0:e.time)||void 0===r?void 0:r.width)||0)+"px",v.style.height=((null==o?void 0:o.outerHeight)||0)+"px",e.row.style&&v.setStyle(Object.assign(Object.assign({},v.style),e.row.style)),f.change(e,i)})),p.push(de);const y=o.create(p,h);return()=>f.html("outer",a`
        <div detach=${d} class=${g} data-actions=${y} style=${v}>
          ${f.html("content",e.content)}
        </div>
      `)}function fe(t,e={}){const{api:n,state:i,onDestroy:r,Actions:o,update:a,html:s,reuseComponents:l,StyleMap:c}=t,h="chart-timeline-items";let u,d;r(i.subscribe("config.actions."+h,t=>u=t)),r(i.subscribe("config.components.ChartTimelineItemsRow",t=>d=t));const p=n.getClass(h),f=new c({},!0);let g;r(i.subscribeAll(["$data.innerHeight","$data.chart.dimensions.width","config.scroll.vertical.offset"],(function(){const t=i.get("$data.chart.dimensions.width"),e=i.get("$data.innerHeight"),n=i.get("config.scroll.vertical.offset")||0;f.style.width=t+"px",f.style.height=e+n+"px"}))),r(i.subscribe("config.debug",t=>g=t));const m=[];r(i.subscribeAll(["$data.list.visibleRows","config.list.rows","config.components.ChartTimelineItemsRow","config.chart.items","$data.chart.items.*.actualWidth"],(function t(){i.mute(t),g&&console.log("[items.ts] Updating item & rows components.");const e=i.get("$data.list.visibleRows")||[],r=n.getRows(e),o=n.getRowsData();l(m,r,t=>({row:t,rowData:o[t.id]}),d,!1),a(),i.unmute(t)}),{bulk:!0})),r(()=>{m.forEach(t=>t.destroy())});const v=o.create(u,{api:n,state:i}),y=n.generateSlots(h,t,e);return()=>y.html("outer",s`
        <div class=${p} style=${f} data-actions=${v}>
          ${y.html("content",m.map(t=>t.html()))}
        </div>
      `)}class ge{constructor(t,e){let n=!1,i=e.state.get("$data.elements.chart-timeline-items-rows");void 0===i&&(i=[],n=!0),i.includes(t)||(i.push(t),n=!0),n&&e.state.update("$data.elements.chart-timeline-items-rows",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-rows",e=>e.filter(e=>e!==t))}}function me(t,e){const{api:n,state:i,onDestroy:r,Detach:o,Actions:a,update:s,html:l,onChange:c,reuseComponents:h,StyleMap:u}=t,d=Object.assign(Object.assign({},e),{api:n,state:i});let p;r(i.subscribe("config.components.ChartTimelineItemsRowItem",t=>p=t));let f="";const g=[],m=new u({width:"",height:""},!0);let v=!1;const y=new o(()=>v);function x(t=e.rowData,n=null){const r=i.get("$data.chart");v=!1,m.style.width=r.dimensions.width+"px",e?(m.style.height=t.outerHeight+"px",m.style["--row-height"]=t.outerHeight+"px",s()):v=!0}function b(t,e){if(!t||!e)return v=!0,h(g,[],()=>null,p,!1),s();const i=e.items;if(void 0===i)return v=!0,h(g,[],()=>null,p,!1),x(),s();const r=n.getItems(i);h(g,r,e=>({row:t,item:e,itemData:n.getItemData(e.id)}),p,!1),x(),s()}const w="chart-timeline-items-row";let C=n.getClass(w);const _=n.generateSlots(w,t,e);c((function(i,r){if(r.leave||!i||void 0===i.row)return v=!0,h(g,[],()=>null,p,!1),_.change(i,r),s();e=i,C=n.getClass(w,e.row.id);for(const t in e)d[t]=e[t];if(e.row.classNames){if(Array.isArray(e.row.classNames)&&e.row.classNames.length)f=C+" "+e.row.classNames.join(" ");else if("function"==typeof e.row.classNames){const n=e.row.classNames({row:e.row,vido:t});Array.isArray(n)&&n.length&&(f=C+" "+n.join(" "))}}else f=C;b(e.row,e.rowData),_.change(i,r),s()})),r(i.subscribe("$data.chart.dimensions.width",()=>b(e.row,e.rowData))),r(()=>{g.forEach(t=>t.destroy())});const S=n.getActions(w);S.push(ge);const O=a.create(S,d);return()=>_.html("outer",l`
        <div detach=${y} class=${f} data-actions=${O} style=${m}>
          ${_.html("content",g.map(t=>t.html()))}
        </div>
      `)}class ve{constructor(t,e){let n=!1,i=e.state.get("$data.elements.chart-timeline-items-row-items");void 0===i&&(i=[],n=!0),i.includes(t)||(i.push(t),n=!0),n&&e.state.update("$data.elements.chart-timeline-items-row-items",i,{only:null})}destroy(t,e){e.state.update("$data.elements.chart-timeline-items-row-items",e=>e.filter(e=>e!==t))}}function ye(t,e){const{api:n,state:i,onDestroy:r,Detach:o,Actions:a,update:s,html:l,onChange:c,unsafeHTML:h,StyleMap:u}=t;let d,p,f;r(i.subscribe("config.debug",t=>f=t));let g=0,m=0,v=!1,y="";const x=new u({width:"",height:"",left:"",top:""}),b=new u({}),w=new u({}),C={item:e.item,row:e.row,left:g,width:m,api:n,state:i},_="chart-timeline-items-row-item";let S,O;S=n.getClass(_),O=n.getClass(_+"-label");const M=n.generateSlots(_,t,e);let k,A=!1;function T(r=i.get("$data.chart.time")){var o;if(M.change(e,{leave:!1}),v||0===r.levels.length||!r.levels[r.level]||0===r.levels[r.level].length)return A=!0,s();if(!e.item||!e.itemData)return A=!0,s();"verbose"===f&&(console.groupCollapsed("[items-row-item.ts] Update item (before)"),console.log({id:e.item.id,item:e.item}),console.trace(),console.groupEnd());const a=e.itemData;if(g=a.position.actualLeft,m=a.actualWidth,e.item.time.end<r.leftGlobal||e.item.time.start>r.rightGlobal||m<=0)return A=!0,"verbose"===f&&console.log(`[items-row-item.ts] Item ${e.item.id} detached because of time or width.`,{itemTime:e.item.time,itemWidthPx:m}),a.detached=A,s();if(y=S,e.item.time.start<r.leftGlobal?(b.style.display="flex",y+=" "+n.getClass(_+"--left-cut",e.row.id+"-"+e.item.id)):b.style.display="none",a.position.right>r.width?(w.style.display="flex",y+=" "+n.getClass(_+"--right-cut",e.row.id+"-"+e.item.id)):w.style.display="none",e.item.classNames)if(Array.isArray(e.item.classNames)&&e.item.classNames.length)y+=" "+e.item.classNames.join(" ");else if("function"==typeof e.item.classNames){const n=e.item.classNames({item:e.item,vido:t});Array.isArray(n)&&(y+=" "+n.join(" "))}const l=x.style.width,c=x.style.left,h=x.style.top,u=x.style.height;x.setStyle({});const d=n.isItemInViewport(e.item,r.leftGlobal,r.rightGlobal);A=!d,a.detached=A,d?(x.style.width=m+"px",x.style.left=g+"px",x.style.top=a.position.actualRowTop+"px",x.style.height=a.actualHeight+"px"):(x.style.width=l,x.style.left=c,x.style.top=h,x.style.height=u),(null===(o=null==e?void 0:e.item)||void 0===o?void 0:o.style)&&x.setStyle(Object.assign(Object.assign({},x.style),e.item.style)),C.left=g,C.width=m,"verbose"===f&&console.log("[items-row-item.ts] Update item (after)",{id:e.item.id,itemLeftPx:g,itemWidthPx:m,item:e.item}),s()}r(i.subscribe("config.chart.item.cutIcons",t=>{k={left:n.getSVGIconSrc(t.left),right:n.getSVGIconSrc(t.right)}}));const D=n.getClass(_+"-cut"),P=()=>l`
    <div class=${D} style=${b}>
      <img src="${k.left}" class=${D+"-image"} />
    </div>
  `,I=()=>l`
    <div class=${D} style=${w}>
      <img src="${k.right}" class=${D+"-image"} />
    </div>
  `;c((function(t,i){if(i.leave||void 0===t.row||void 0===t.item)return v=!0,A=!0,M.change(t,i),s();A=!1,v=!1,(e=t).item.id===d&&e.row.id===p||(d=e.item.id,p=e.row.id,S=n.getClass(_,e.row.id+"-"+e.item.id),O=n.getClass(_+"-label",e.row.id+"-"+e.item.id),C.item=e.item,C.row=e.row),T(),M.change(t,i)}));const E=n.getActions(_);r(i.subscribe("$data.chart.time",T)),E.push(ve);const j=a.create(E,C),L=new o(()=>A);function B(){return e.item?e.item.isHTML?e.item&&e.item.label?"function"==typeof e.item.label?h(e.item.label({item:e.item,vido:t})):h(e.item.label):null:e.item&&e.item.label?"function"==typeof e.item.label?e.item.label({item:e.item,vido:t}):e.item.label:null:null}function N({className:t,labelClassName:e,detach:n,actions:i,styleMap:r,slots:o,cutterLeft:a,cutterRight:s,getContent:l,vido:c,props:h}){return o.html("outer",c.html`
        <div detach=${n} class=${t} data-actions=${i} style=${r}>
          ${o.html("inner",c.html`
              ${a()}
              <div class=${e}>${o.html("content",l())}</div>
              ${s()}
            `)}
        </div>
      `)}let R=N;return r(i.subscribe("config.templates."+_,t=>{R=t||N})),()=>R({className:y,labelClassName:O,detach:L,actions:j,styleMap:x,slots:M,cutterLeft:P,cutterRight:I,getContent:B,vido:t,props:e})}const xe=["main","scroll-bar","list","list-column","list-column-header","list-column-header-resizer","list-column-row","list-column-row-expander","list-column-row-expander-toggle","list-toggle","chart","chart-calendar","chart-calendar-date","chart-timeline","chart-timeline-grid","chart-timeline-grid-row","chart-timeline-grid-row-cell","chart-timeline-items","chart-timeline-items-row","chart-timeline-items-row-item"];function be(){const t={};return xe.forEach(e=>t[e]=[]),t}function we(){const t={};return xe.forEach(e=>t[e]=null),t}function Ce(){const t={};return xe.forEach(e=>{t[e]={outer:[],inner:[],"container-outer":[],"container-inner":[],content:[]}}),t}var _e=jt((function(t,e){function n(t,e){void 0===e&&(e="*"),this.wchar=e,this.pattern=t,this.segments=[],this.starCount=0,this.minLength=0,this.maxLength=0,this.segStartIndex=0;for(var n=0,i=t.length;n<i;n+=1){var r=t[n];r===e&&(this.starCount+=1,n>this.segStartIndex&&this.segments.push(t.substring(this.segStartIndex,n)),this.segments.push(r),this.segStartIndex=n+1)}this.segStartIndex<t.length&&this.segments.push(t.substring(this.segStartIndex)),this.starCount?(this.minLength=t.length-this.starCount,this.maxLength=1/0):this.maxLength=this.minLength=t.length}e.__esModule=!0,n.prototype.match=function(t){if(this.pattern===this.wchar)return!0;if(0===this.segments.length)return this.pattern===t;var e=t.length;if(e<this.minLength||e>this.maxLength)return!1;for(var n=this.segments.length-1,i=t.length-1,r=!1;;){var o=this.segments[n];if(n-=1,o===this.wchar)r=!0;else{var a=i+1-o.length,s=t.lastIndexOf(o,a);if(-1===s||s>a)return!1;if(r)i=s-1,r=!1;else{if(s!==a)return!1;i-=o.length}}if(0>n)break}return!0},e.default=n,e.Match=function(t,e,n){if(void 0===n&&(n="*"),t===n)return!0;for(var i=[],r=0,o=0,a=0,s=0,l=0,c=t.length;l<c;l+=1){var h=t[l];h===n&&(r+=1,l>s&&i.push(t.substring(s,l)),i.push(h),s=l+1)}if(s<t.length&&i.push(t.substring(s)),r?(o=t.length-r,a=1/0):a=o=t.length,0===i.length)return t===e;var u=e.length;if(u<o||u>a)return!1;for(var d=i.length-1,p=e.length-1,f=!1;;){var g=i[d];if(d-=1,g===n)f=!0;else{var m=p+1-g.length,v=e.lastIndexOf(g,m);if(-1===v||v>m)return!1;if(f)p=v-1,f=!1;else{if(v!==m)return!1;p-=g.length}}if(0>d)break}return!0}})),Se=jt((function(t,e){var n=Et&&Et.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};function i(t,e,n,i){void 0===i&&(i=void 0),this.obj=t,this.delimeter=e,this.wildcard=n,this.is_match=i}e.__esModule=!0,i.prototype.simpleMatch=function(t,e){if(t===e)return!0;if(t===this.wildcard)return!0;if(this.is_match)return this.is_match(t,e);var n=t.indexOf(this.wildcard);if(n>-1){var i=t.substr(n+1);if(0===n||e.substring(0,n)===t.substring(0,n)){var r=i.length;return!(r>0)||e.substr(-r)===i}}return!1},i.prototype.match=function(t,e){return this.is_match?this.is_match(t,e):t===e||t===this.wildcard||e===this.wildcard||this.simpleMatch(t,e)||_e.Match(t,e,this.wildcard)},i.prototype.handleArray=function(t,e,i,r,o){var a,s;void 0===o&&(o={});var l=t.indexOf(this.delimeter,i),c=!1;-1===l&&(c=!0,l=t.length);var h=t.substring(i,l),u=0;try{for(var d=n(e),p=d.next();!p.done;p=d.next()){var f=p.value,g=u.toString(),m=""===r?g:r+this.delimeter+u;(h===this.wildcard||h===g||this.simpleMatch(h,g))&&(c?o[m]=f:this.goFurther(t,f,l+1,m,o)),u++}}catch(t){a={error:t}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return o},i.prototype.handleObject=function(t,e,n,i,r){void 0===r&&(r={});var o=t.indexOf(this.delimeter,n),a=!1;-1===o&&(a=!0,o=t.length);var s=t.substring(n,o);for(var l in e){l=l.toString();var c=""===i?l:i+this.delimeter+l;(s===this.wildcard||s===l||this.simpleMatch(s,l))&&(a?r[c]=e[l]:this.goFurther(t,e[l],o+1,c,r))}return r},i.prototype.goFurther=function(t,e,n,i,r){return void 0===r&&(r={}),Array.isArray(e)?this.handleArray(t,e,n,i,r):this.handleObject(t,e,n,i,r)},i.prototype.get=function(t){return this.goFurther(t,this.obj,0,"")},e.default=i})),Oe=jt((function(t,e){var n=Et&&Et.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};e.__esModule=!0;var i=function(){function t(){}return t.get=function(t,e,i){var r,o;if(void 0===i&&(i=!1),e){var a=e;try{for(var s=n(t),l=s.next();!l.done;l=s.next()){var c=l.value;if(a.hasOwnProperty(c))a=a[c];else{if(!i)return;a[c]={},a=a[c]}}}catch(t){r={error:t}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}},t.set=function(e,n,i){if(i){if(0!==e.length){var r=e.slice(),o=r.pop(),a=t.get(r,i,!0);return"object"==typeof a&&(a[o]=n),n}for(var s in n)i[s]=n[s]}},t}();e.default=i}));let Me,ke=0,Ae=null;function Te(){return null!==Ae&&Ae.buffer===Me.memory.buffer||(Ae=new Uint8Array(Me.memory.buffer)),Ae}let De=new TextEncoder("utf-8");const Pe="function"==typeof De.encodeInto?function(t,e){return De.encodeInto(t,e)}:function(t,e){const n=De.encode(t);return e.set(n),{read:t.length,written:n.length}};function Ie(t,e,n){if(void 0===n){const n=De.encode(t),i=e(n.length);return Te().subarray(i,i+n.length).set(n),ke=n.length,i}let i=t.length,r=e(i);const o=Te();let a=0;for(;a<i;a++){const e=t.charCodeAt(a);if(e>127)break;o[r+a]=e}if(a!==i){0!==a&&(t=t.slice(a)),r=n(r,i,i=a+3*t.length);const e=Te().subarray(r+a,r+i);a+=Pe(t,e).written}return ke=a,r}var Ee=function(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),e}(Object.freeze({__proto__:null,is_match:function(t,e){var n=Ie(t,Me.__wbindgen_malloc,Me.__wbindgen_realloc),i=ke,r=Ie(e,Me.__wbindgen_malloc,Me.__wbindgen_realloc),o=ke;return 0!==Me.is_match(n,i,r,o)},default:async function t(e){("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:i}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await e,{});return Me=n.exports,t.__wbindgen_wasm_module=i,Me}})),je=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(jt((function(t,e){var n=Et&&Et.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},i=Et&&Et.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(a,s)}l((i=i.apply(t,e||[])).next())}))},r=Et&&Et.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=Et&&Et.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},a=Et&&Et.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=Et&&Et.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};function l(t,e){console.debug(t,e)}e.__esModule=!0;var c={bulk:!1,debug:!1,source:"",data:void 0,queue:!1},h={only:[],source:"",debug:!1,data:void 0,queue:!1,force:!1},u=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.jobsRunning=0,this.updateQueue=[],this.subscribeQueue=[],this.listenersIgnoreCache=new WeakMap,this.destroyed=!1,this.queueRuns=0,this.lastExecs=new WeakMap,this.listeners=new Map,this.waitingListeners=new Map,this.data=t,this.options=n({},{delimiter:".",debug:!1,extraDebug:!1,useMute:!0,notRecursive:";",param:":",wildcard:"*",experimentalMatch:!1,queue:!1,maxSimultaneousJobs:1e3,maxQueueRuns:1e3,log:l,Promise:Promise},e),this.id=0,this.pathGet=Oe.default.get,this.pathSet=Oe.default.set,e.Promise?this.resolved=e.Promise.resolve():this.resolved=Promise.resolve(),this.muted=new Set,this.mutedListeners=new Set,this.scan=new Se.default(this.data,this.options.delimiter,this.options.wildcard),this.destroyed=!1}return t.prototype.loadWasmMatcher=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,Ee.default(t)];case 1:return e.sent(),this.is_match=Ee.is_match,this.scan=new Se.default(this.data,this.options.delimiter,this.options.wildcard,this.is_match),[2]}}))}))},t.prototype.same=function(t,e){return(["number","string","undefined","boolean"].includes(typeof t)||null===t)&&e===t},t.prototype.getListeners=function(){return this.listeners},t.prototype.destroy=function(){this.destroyed=!0,this.data=void 0,this.listeners=new Map,this.updateQueue=[],this.jobsRunning=0},t.prototype.match=function(t,e,n){return void 0===n&&(n=!0),this.is_match?this.is_match(t,e):t===e||t===this.options.wildcard||e===this.options.wildcard||!(!n&&this.getIndicesCount(this.options.delimiter,t)<this.getIndicesCount(this.options.delimiter,e))&&this.scan.match(t,e)},t.prototype.getIndicesOf=function(t,e){var n=t.length;if(0==n)return[];for(var i,r=0,o=[];(i=e.indexOf(t,r))>-1;)o.push(i),r=i+n;return o},t.prototype.getIndicesCount=function(t,e){var n=t.length;if(0==n)return 0;for(var i,r=0,o=0;(i=e.indexOf(t,r))>-1;)o++,r=i+n;return o},t.prototype.cutPath=function(t,e){if((t=this.cleanNotRecursivePath(t))===(e=this.cleanNotRecursivePath(e)))return t;var n=this.getIndicesCount(this.options.delimiter,e),i=this.getIndicesOf(this.options.delimiter,t);return t.substr(0,i[n])},t.prototype.trimPath=function(t){return(t=this.cleanNotRecursivePath(t)).charAt(0)===this.options.delimiter?t.substr(1):t},t.prototype.split=function(t){return""===t?[]:t.split(this.options.delimiter)},t.prototype.isWildcard=function(t){return t.includes(this.options.wildcard)||this.hasParams(t)},t.prototype.isNotRecursive=function(t){return t.endsWith(this.options.notRecursive)},t.prototype.cleanNotRecursivePath=function(t){return this.isNotRecursive(t)?t.substring(0,t.length-1):t},t.prototype.hasParams=function(t){return t.includes(this.options.param)},t.prototype.getParamsInfo=function(t){var e,n,i={replaced:"",original:t,params:{}},r=0,a=[];try{for(var s=o(this.split(t)),l=s.next();!l.done;l=s.next()){var c=l.value;i.params[r]={original:c,replaced:"",name:""};var h=new RegExp("\\"+this.options.param+"([^\\"+this.options.delimiter+"\\"+this.options.param+"]+)","g"),u=h.exec(c);u?(i.params[r].name=u[1],h.lastIndex=0,i.params[r].replaced=c.replace(h,this.options.wildcard),a.push(i.params[r].replaced),r++):(delete i.params[r],a.push(c),r++)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i.replaced=a.join(this.options.delimiter),i},t.prototype.getParams=function(t,e){if(t){var n=this.split(e),i={};for(var r in t.params)i[t.params[r].name]=n[r];return i}},t.prototype.waitForAll=function(t,e){var n,i,r={};try{for(var a=o(t),s=a.next();!s.done;s=a.next()){var l=s.value;r[l]={dirty:!1},this.hasParams(l)&&(r[l].paramsInfo=this.getParamsInfo(l)),r[l].isWildcard=this.isWildcard(l),r[l].isRecursive=!this.isNotRecursive(l)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return this.waitingListeners.set(t,{fn:e,paths:r}),e(r),function(){this.waitingListeners.delete(t)}},t.prototype.executeWaitingListeners=function(t){var e,n;if(!this.destroyed)try{for(var i=o(this.waitingListeners.values()),r=i.next();!r.done;r=i.next()){var a=r.value,s=a.fn,l=a.paths,c=0,h=0;for(var u in l){var d=l[u],p=!1;d.isRecursive&&(t=this.cutPath(t,u)),d.isWildcard&&this.match(u,t)&&(p=!0),t===u&&(p=!0),p&&(d.dirty=!0),d.dirty&&c++,h++}c===h&&s(l)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.subscribeAll=function(t,e,n){var i,r;if(void 0===n&&(n=c),this.destroyed)return function(){};var a=[];try{for(var s=o(t),l=s.next();!l.done;l=s.next()){var h=l.value;a.push(this.subscribe(h,e,n))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return function(){var t,e;try{for(var n=o(a),i=n.next();!i.done;i=n.next())(0,i.value)()}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}},t.prototype.getCleanListenersCollection=function(t){return void 0===t&&(t={}),n({listeners:new Map,isRecursive:!1,isWildcard:!1,hasParams:!1,match:void 0,paramsInfo:void 0,path:void 0,originalPath:void 0,count:0},t)},t.prototype.getCleanListener=function(t,e){return void 0===e&&(e=c),{fn:t,options:n({},c,e)}},t.prototype.getListenerCollectionMatch=function(t,e,n){t=this.cleanNotRecursivePath(t);var i=this;return function(r,o){void 0===o&&(o=!1);var a=t;return e?r=i.cutPath(r,t):a=i.cutPath(i.cleanNotRecursivePath(t),r),o&&console.log("[getListenerCollectionMatch]",{listenerPath:t,scopedListenerPath:a,path:r,isRecursive:e,isWildcard:n}),!(!n||!i.match(a,r,e))||a===r}},t.prototype.getListenersCollection=function(t,e){if(this.listeners.has(t)){var i=this.listeners.get(t);return i.listeners.set(++this.id,e),e.id=this.id,i}var r,o=this.hasParams(t);o&&(r=this.getParamsInfo(t));var a={isRecursive:!this.isNotRecursive(t),isWildcard:this.isWildcard(t),hasParams:o,paramsInfo:r,originalPath:t,path:o?r.replaced:t};a.isRecursive||(a.path=this.cleanNotRecursivePath(a.path));var s=this.getCleanListenersCollection(n({},a,{match:this.getListenerCollectionMatch(a.path,a.isRecursive,a.isWildcard)}));return this.id++,s.listeners.set(this.id,e),e.id=this.id,this.listeners.set(a.originalPath,s),s},t.prototype.subscribe=function(t,e,n,i){if(void 0===n&&(n=c),void 0===i&&(i="subscribe"),this.destroyed)return function(){};this.jobsRunning++;var r=this.getCleanListener(e,n);this.listenersIgnoreCache.set(r,{truthy:[],falsy:[]});var o=this.getListenersCollection(t,r);n.debug&&console.log(),o.count++;var a=this.cleanNotRecursivePath(o.path);if(o.isWildcard){var s=this.scan.get(a);if(n.bulk){var l=[];for(var h in s)this.isMuted(h)||l.push({path:h,params:this.getParams(o.paramsInfo,h),value:s[h]});this.isMuted(e)||e(l,{type:i,listener:r,listenersCollection:o,path:{listener:t,update:void 0,resolved:void 0},options:n,params:void 0})}else for(var h in s)this.isMuted(h)||this.isMuted(e)||e(s[h],{type:i,listener:r,listenersCollection:o,path:{listener:t,update:void 0,resolved:this.cleanNotRecursivePath(h)},params:this.getParams(o.paramsInfo,h),options:n})}else this.isMuted(a)||this.isMuted(e)||e(this.pathGet(this.split(a),this.data),{type:i,listener:r,listenersCollection:o,path:{listener:t,update:void 0,resolved:this.cleanNotRecursivePath(t)},params:this.getParams(o.paramsInfo,a),options:n});return this.debugSubscribe(r,o,t),this.jobsRunning--,this.unsubscribe(t,this.id)},t.prototype.unsubscribe=function(t,e){var n=this.listeners,i=n.get(t);return function(){i.listeners.delete(e),i.count--,0===i.count&&n.delete(t)}},t.prototype.runQueuedListeners=function(){var t=this;if(!this.destroyed&&0!==this.subscribeQueue.length)if(0===this.jobsRunning){this.queueRuns=0;for(var e=s(this.subscribeQueue),n=0,i=e.length;n<i;n++)e[n]();this.subscribeQueue.length=0}else{if(this.queueRuns++,this.queueRuns>=this.options.maxQueueRuns)throw this.queueRuns=0,new Error("Maximal number of queue runs exhausted.");Promise.resolve().then((function(){return t.runQueuedListeners()})).catch((function(t){throw t}))}},t.prototype.getQueueNotifyListeners=function(t,e){var i,r,a,s,l=this;for(var c in void 0===e&&(e=[]),t)if(!this.isMuted(c)){var h=t[c],u=h.single,d=h.bulk,p=function(t){var n,i,r=!1;try{for(var a=(n=void 0,o(e)),s=a.next();!s.done;s=a.next())if(s.value.id===t.listener.id){r=!0;break}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}if(r)return"continue";var l=f.debugTime(t);f.isMuted(t.listener.fn)||(t.listener.options.queue&&f.jobsRunning?f.subscribeQueue.push((function(){t.listener.fn(t.value(),t.eventInfo)})):e.push({id:t.listener.id,originalFn:t.listener.fn,fn:function(){t.listener.fn(t.value(),t.eventInfo)}})),f.debugListener(l,t)},f=this;try{for(var g=(i=void 0,o(u)),m=g.next();!m.done;m=g.next())p(m.value)}catch(t){i={error:t}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(i)throw i.error}}var v=function(t){var i,r,a,s,c=!1;try{for(var h=(i=void 0,o(e)),u=h.next();!u.done;u=h.next())if(u.value.id===t.listener.id){c=!0;break}}catch(t){i={error:t}}finally{try{u&&!u.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}if(c)return"continue";var d=y.debugTime(t),p=[];try{for(var f=(a=void 0,o(t.value)),g=f.next();!g.done;g=f.next()){var m=g.value;p.push(n({},m,{value:m.value()}))}}catch(t){a={error:t}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(a)throw a.error}}y.isMuted(t.listener.fn)||(t.listener.options.queue&&y.jobsRunning?y.subscribeQueue.push((function(){return!l.jobsRunning&&(t.listener.fn(p,t.eventInfo),!0)})):e.push({id:t.listener.id,originalFn:t.listener.fn,fn:function(){t.listener.fn(p,t.eventInfo)}})),y.debugListener(d,t)},y=this;try{for(var x=(a=void 0,o(d)),b=x.next();!b.done;b=x.next())v(b.value)}catch(t){a={error:t}}finally{try{b&&!b.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}}return Promise.resolve().then((function(){return l.runQueuedListeners()})),e},t.prototype.shouldIgnore=function(t,e){var n,i;if(!t.options.ignore)return!1;try{for(var r=o(t.options.ignore),a=r.next();!a.done;a=r.next()){var s=a.value;if(e.startsWith(s))return!0;if(this.is_match&&this.is_match(s,e))return!0;var l=this.cutPath(e,s);if(this.match(s,l))return!0}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return!1},t.prototype.getSubscribedListeners=function(t,e,i,r,s){var l,c,u=this;void 0===r&&(r="update"),void 0===s&&(s=null),i=n({},h,i);var d={},p=function(n,a){var l,c,h,p;if(d[n]={single:[],bulk:[],bulkData:[]},a.match(t)){var g=a.paramsInfo?f.getParams(a.paramsInfo,t):void 0,m=f.cutPath(t,n),v=a.isRecursive||a.isWildcard?function(){return u.get(m)}:function(){return e},y=[{value:v,path:t,params:g}];try{for(var x=(l=void 0,o(a.listeners.values())),b=x.next();!b.done;b=x.next()){var w=b.value;f.shouldIgnore(w,t)?w.options.debug&&console.log("[getSubscribedListeners] Listener was not fired because it was ignored.",{listener:w,listenersCollection:a}):w.options.bulk?d[n].bulk.push({listener:w,listenersCollection:a,eventInfo:{type:r,listener:w,path:{listener:n,update:s||t,resolved:void 0},params:g,options:i},value:y}):d[n].single.push({listener:w,listenersCollection:a,eventInfo:{type:r,listener:w,path:{listener:n,update:s||t,resolved:f.cleanNotRecursivePath(t)},params:g,options:i},value:v})}}catch(t){l={error:t}}finally{try{b&&!b.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}}else if(f.options.extraDebug){var C=!1;try{for(var _=(h=void 0,o(a.listeners.values())),S=_.next();!S.done;S=_.next())(w=S.value).options.debug&&(C=!0,console.log("[getSubscribedListeners] Listener was not fired because there was no match.",{listener:w,listenersCollection:a,updatePath:t}))}catch(t){h={error:t}}finally{try{S&&!S.done&&(p=_.return)&&p.call(_)}finally{if(h)throw h.error}}C&&a.match(t,!0)}},f=this;try{for(var g=o(this.listeners),m=g.next();!m.done;m=g.next()){var v=a(m.value,2);p(v[0],v[1])}}catch(t){l={error:t}}finally{try{m&&!m.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}return d},t.prototype.notifySubscribedListeners=function(t,e,n,i,r){return void 0===i&&(i="update"),void 0===r&&(r=null),this.getQueueNotifyListeners(this.getSubscribedListeners(t,e,n,i,r))},t.prototype.getNestedListeners=function(t,e,n,i,r){var s,l;void 0===i&&(i="update"),void 0===r&&(r=null);var c={},h=function(s,l){var h,d;if(!l.isRecursive)return"continue";c[s]={single:[],bulk:[]};var p=u.cutPath(s,t);if(u.match(p,t)){var f=u.trimPath(s.substr(p.length)),g=new Se.default(e,u.options.delimiter,u.options.wildcard).get(f),m=l.paramsInfo?u.getParams(l.paramsInfo,t):void 0,v=[],y={},x=function(e){var h,d,p=function(){return g[e]},f=[t,e].join(u.options.delimiter);try{for(var x=(h=void 0,o(l.listeners)),b=x.next();!b.done;b=x.next()){var w=a(b.value,2),C=w[0],_=w[1],S={type:i,listener:_,listenersCollection:l,path:{listener:s,update:r||t,resolved:u.cleanNotRecursivePath(f)},params:m,options:n};u.shouldIgnore(_,t)||(_.options.bulk?(v.push({value:p,path:f,params:m}),y[C]=_):c[s].single.push({listener:_,listenersCollection:l,eventInfo:S,value:p}))}}catch(t){h={error:t}}finally{try{b&&!b.done&&(d=x.return)&&d.call(x)}finally{if(h)throw h.error}}};for(var b in g)x(b);for(var w in y){var C=y[w],_={type:i,listener:C,listenersCollection:l,path:{listener:s,update:t,resolved:void 0},options:n,params:m};c[s].bulk.push({listener:C,listenersCollection:l,eventInfo:_,value:v})}}else if(u.options.extraDebug)try{for(var S=(h=void 0,o(l.listeners.values())),O=S.next();!O.done;O=S.next())(C=O.value).options.debug&&console.log("[getNestedListeners] Listener was not fired because there was no match.",{listener:C,listenersCollection:l,currentCutPath:p,updatePath:t})}catch(t){h={error:t}}finally{try{O&&!O.done&&(d=S.return)&&d.call(S)}finally{if(h)throw h.error}}},u=this;try{for(var d=o(this.listeners),p=d.next();!p.done;p=d.next()){var f=a(p.value,2);h(f[0],f[1])}}catch(t){s={error:t}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}return c},t.prototype.notifyNestedListeners=function(t,e,n,i,r,o){return void 0===i&&(i="update"),void 0===o&&(o=null),this.getQueueNotifyListeners(this.getNestedListeners(t,e,n,i,o),r)},t.prototype.getNotifyOnlyListeners=function(t,e,n,i,r){var s,l;void 0===i&&(i="update"),void 0===r&&(r=null);var c={};if("object"!=typeof n.only||!Array.isArray(n.only)||void 0===n.only[0]||!this.canBeNested(e))return c;var h=function(s){var l=new Se.default(e,u.options.delimiter,u.options.wildcard).get(s);c[s]={bulk:[],single:[]};var h=function(e){var h,d,p,f,g=t+u.options.delimiter+e;try{for(var m=(h=void 0,o(u.listeners)),v=m.next();!v.done;v=m.next()){var y=a(v.value,2),x=y[0],b=y[1],w=b.paramsInfo?u.getParams(b.paramsInfo,g):void 0;if(u.match(x,g)){var C=function(){return l[e]},_=[{value:C,path:g,params:w}],S=function(e){var o={type:i,listener:e,listenersCollection:b,path:{listener:x,update:r||t,resolved:u.cleanNotRecursivePath(g)},params:w,options:n};if(u.shouldIgnore(e,t))return"continue";e.options.bulk?c[s].bulk.some((function(t){return t.listener===e}))||c[s].bulk.push({listener:e,listenersCollection:b,eventInfo:o,value:_}):c[s].single.push({listener:e,listenersCollection:b,eventInfo:o,value:C})};try{for(var O=(p=void 0,o(b.listeners.values())),M=O.next();!M.done;M=O.next())S(M.value)}catch(t){p={error:t}}finally{try{M&&!M.done&&(f=O.return)&&f.call(O)}finally{if(p)throw p.error}}}}}catch(t){h={error:t}}finally{try{v&&!v.done&&(d=m.return)&&d.call(m)}finally{if(h)throw h.error}}};for(var d in l)h(d)},u=this;try{for(var d=o(n.only),p=d.next();!p.done;p=d.next())h(p.value)}catch(t){s={error:t}}finally{try{p&&!p.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}return c},t.prototype.sortAndRunQueue=function(t,e){var n,i;t.sort((function(t,e){return t.id-e.id})),this.options.debug&&console.log("[deep-state-observer] queue for "+e,t);try{for(var r=o(t),a=r.next();!a.done;a=r.next())a.value.fn()}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.notifyOnly=function(t,e,n,i,r){void 0===i&&(i="update"),void 0===r&&(r="");var o=this.getQueueNotifyListeners(this.getNotifyOnlyListeners(t,e,n,i,r));this.sortAndRunQueue(o,t)},t.prototype.canBeNested=function(t){return"object"==typeof t&&null!==t},t.prototype.getUpdateValues=function(t,e,n){var i=n;return"function"==typeof n&&(i=n(this.pathGet(e,this.data))),{newValue:i,oldValue:t}},t.prototype.wildcardNotify=function(t,e){var n,i,r,a,s=[];try{for(var l=o(t),c=l.next();!c.done;c=l.next()){var h=c.value;this.getQueueNotifyListeners(h,s)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}try{for(var u=o(e),d=u.next();!d.done;d=u.next()){var p=d.value;this.executeWaitingListeners(p)}}catch(t){r={error:t}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return this.jobsRunning--,s},t.prototype.wildcardUpdate=function(t,e,i,r){void 0===i&&(i=h),void 0===r&&(r=!1),++this.jobsRunning,i=n({},h,i);var o=this.scan.get(t),a={};for(var s in o){var l=this.split(s),c=this.getUpdateValues(o[s],l,e),u=c.oldValue,d=c.newValue;this.same(d,u)&&!i.force||(this.pathSet(l,d,this.data),a[s]=d)}var p=[],f=[];for(var s in a)d=a[s],i.only.length?p.push(this.getNotifyOnlyListeners(s,d,i,"update",t)):(p.push(this.getSubscribedListeners(s,d,i,"update",t)),this.canBeNested(d)&&p.push(this.getNestedListeners(s,d,i,"update",t))),i.debug&&this.options.log("Wildcard update",{path:s,newValue:d}),f.push(s);if(r){var g=this;return function(){var e=g.wildcardNotify(p,f);g.sortAndRunQueue(e,t)}}var m=this.wildcardNotify(p,f);this.sortAndRunQueue(m,t)},t.prototype.runUpdateQueue=function(){if(!this.destroyed)for(;this.updateQueue.length&&this.updateQueue.length<this.options.maxSimultaneousJobs;){var t=this.updateQueue.shift();t.options.queue=!1,this.update(t.updatePath,t.fnOrValue,t.options,t.multi)}},t.prototype.updateNotify=function(t,e,n){var i=this.notifySubscribedListeners(t,e,n);this.canBeNested(e)&&this.notifyNestedListeners(t,e,n,"update",i),this.sortAndRunQueue(i,t),this.executeWaitingListeners(t)},t.prototype.updateNotifyOnly=function(t,e,n){this.notifyOnly(t,e,n),this.executeWaitingListeners(t)},t.prototype.update=function(t,e,i,r){var o=this;if(void 0===i&&(i=n({},h)),void 0===r&&(r=!1),!this.destroyed){var a=this.jobsRunning;if((this.options.queue||i.queue)&&a){if(a>this.options.maxSimultaneousJobs)throw new Error("Maximal simultaneous jobs limit reached.");this.updateQueue.push({updatePath:t,fnOrValue:e,options:i,multi:r});var s=Promise.resolve().then((function(){o.runUpdateQueue()}));return r?function(){return s}:s}if(this.isWildcard(t))return this.wildcardUpdate(t,e,i,r);++this.jobsRunning;var l=this.split(t),c=this.getUpdateValues(this.pathGet(l,this.data),l,e),u=c.oldValue,d=c.newValue;if(i.debug&&this.options.log("Updating "+t+" "+(i.source?"from "+i.source:""),{oldValue:u,newValue:d}),this.same(d,u)&&!i.force)return--this.jobsRunning,r?function(){return d}:d;if(this.pathSet(l,d,this.data),null===(i=n({},h,i)).only)return--this.jobsRunning,r?function(){}:d;if(i.only.length){if(--this.jobsRunning,r){var p=this;return function(){return p.updateNotifyOnly(t,d,i)}}return this.updateNotifyOnly(t,d,i),d}if(r){--this.jobsRunning;var f=this;return function(){return f.updateNotify(t,d,i)}}return this.updateNotify(t,d,i),--this.jobsRunning,d}},t.prototype.multi=function(){if(this.destroyed)return{update:function(){},done:function(){}};var t=this,e=[];return{update:function(n,i,r){return void 0===r&&(r=h),e.push(t.update(n,i,r,!0)),this},done:function(){for(var t=0,n=e.length;t<n;t++)e[t]();e.length=0}}},t.prototype.get=function(t){if(void 0===t&&(t=void 0),!this.destroyed)return void 0===t||""===t?this.data:this.pathGet(this.split(t),this.data)},t.prototype.last=function(t){var e=this,n=this.lastExecs.get(t);n||(n={calls:0},this.lastExecs.set(t,n));var i=++n.calls;this.resolved.then((function(){i===n.calls&&(e.lastExecs.set(t,{calls:0}),t())}))},t.prototype.isMuted=function(t){var e,n;if(!this.options.useMute)return!1;if("function"==typeof t)return this.isMutedListener(t);try{for(var i=o(this.muted),r=i.next();!r.done;r=i.next()){var a=r.value,s=!this.isNotRecursive(a),l=this.trimPath(a);if(this.match(t,l))return!0;if(this.match(l,t))return!0;if(s){var c=this.cutPath(l,t);if(this.match(c,a))return!0;if(this.match(a,c))return!0}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1},t.prototype.isMutedListener=function(t){return this.mutedListeners.has(t)},t.prototype.mute=function(t){if("function"==typeof t)return this.mutedListeners.add(t);this.muted.add(t)},t.prototype.unmute=function(t){if("function"==typeof t)return this.mutedListeners.delete(t);this.muted.delete(t)},t.prototype.debugSubscribe=function(t,e,n){t.options.debug&&this.options.log("listener subscribed",{listenerPath:n,listener:t,listenersCollection:e})},t.prototype.debugListener=function(t,e){(e.eventInfo.options.debug||e.listener.options.debug)&&this.options.log("Listener fired",{time:Date.now()-t,info:e})},t.prototype.debugTime=function(t){return t.listener.options.debug||t.eventInfo.options.debug?Date.now():0},t}();e.default=u})));const Le=Dt.mergeDeep;function Be(t){let e=function(t,e){return Dt.mergeDeep(t,e)};"function"==typeof t.merge&&(e=t.merge);const n={licenseKey:"",debug:!1,plugins:[],plugin:{},innerHeight:428,headerHeight:72,components:{ScrollBar:Yt,List:Xt,ListColumn:Ut,ListColumnHeader:Zt,ListColumnHeaderResizer:Kt,ListColumnRow:Qt,ListColumnRowExpander:te,ListColumnRowExpanderToggle:ee,ListToggle:ne,Chart:ie,ChartCalendar:re,ChartCalendarDate:ae,ChartTimeline:se,ChartTimelineGrid:ce,ChartTimelineGridRow:ue,ChartTimelineGridRowCell:pe,ChartTimelineItems:fe,ChartTimelineItemsRow:me,ChartTimelineItemsRowItem:ye},slots:Ce(),list:{rows:{},row:{height:40,gap:{top:0,bottom:0}},columns:{percent:100,resizer:{width:10,inRealTime:!0,dots:6},minWidth:50,data:{}},expander:{padding:18,size:20,icon:{width:16,height:16},icons:{child:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><ellipse ry="4" rx="4" id="svg_1" cy="12" cx="12" fill="#000000B0"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>',closed:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/><path fill="none" d="M0 0h24v24H0V0z"/></svg>'}},toggle:{display:!0,icons:{open:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path stroke="null" d="m16.406954,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m-0.343497,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path transform="rotate(-180 4.392796516418457,12) " stroke="null" d="m1.153809,16.012672l4.00393,-4.012673l-4.00393,-4.012673l1.232651,-1.232651l5.245324,5.245324l-5.245324,5.245324l-1.232651,-1.232651z"/><path stroke="null" d="m9.773297,12.97734zm1.620144,0l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,3.909362l11.341011,0l0,-1.954681l-11.341011,0l0,1.954681zm0,-9.773404l0,1.95468l11.341011,0l0,-1.95468l-11.341011,0z"/></svg>'}},sort:{compare:null,asc:!0,activeColumnId:null,icons:{up:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down"><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>'}}},scroll:{bodyClassName:"gstc-scrolling",horizontal:{size:20,minInnerSize:40,data:null,posPx:0,maxPosPx:0,area:0,multiplier:3,offset:0,precise:!1},vertical:{size:20,minInnerSize:40,data:null,posPx:0,maxPosPx:0,area:0,multiplier:3,offset:0,precise:!1}},chart:{time:{period:"day",from:0,to:0,zoom:20,leftGlobal:0,centerGlobal:0,rightGlobal:0,calculatedZoomMode:!1,onLevelDates:[],onCurrentViewLevelDates:[],onDate:[],allDates:[],additionalSpaceAdded:!1},calendarLevels:[[{zoomTo:17,period:"day",periodIncrement:1,classNames:["gstc-date-medium gstc-date-left"],format:({timeStart:t})=>t.format("DD MMMM YYYY (dddd)")},{zoomTo:23,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM YYYY")},{zoomTo:24,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMMM 'YY")},{zoomTo:25,period:"month",periodIncrement:1,format:({timeStart:t})=>t.format("MMM YYYY")},{zoomTo:27,period:"year",periodIncrement:1,format:({timeStart:t})=>t.format("YYYY")},{zoomTo:100,period:"year",periodIncrement:1,format:()=>null}],[{zoomTo:16,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH:mm")},{zoomTo:17,period:"hour",main:!0,periodIncrement:1,format:({timeStart:t})=>t.format("HH")},{zoomTo:19,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t,className:e,vido:n})=>n.html`<span class="${e}-content gstc-date-bold">${t.format("DD")}</span> <span class="${e}-content gstc-date-thin">${t.format("dddd")}</span>`},{zoomTo:20,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:n})=>e.html`<div class="${n}-content gstc-date-top">${t.format("DD")}</div><div class="${n}-content gstc-date-small">${t.format("dddd")}</div>`},{zoomTo:21,period:"day",main:!0,periodIncrement:1,format:({timeStart:t,vido:e,className:n})=>e.html`<div class="${n}-content gstc-date-top">${t.format("DD")}</div><div class="${n}-content gstc-date-small">${t.format("ddd")}</div>`},{zoomTo:22,period:"day",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:n})=>n.html`<div class="${e}-content gstc-date-top">${t.format("DD")}</div><div class="${e}-content gstc-date-extra-small">${t.format("ddd")}</div>`},{zoomTo:23,period:"week",main:!0,periodIncrement:1,format:({timeStart:t,timeEnd:e,className:n,vido:i})=>i.html`<div class="${n}-content gstc-date-top">${t.format("DD")} - ${e.format("DD")}</div><div class="${n}-content gstc-date-small gstc-date-thin">${t.format("ddd")} - ${e.format("dd")}</div>`},{zoomTo:25,period:"week",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,timeEnd:e,className:n,vido:i})=>i.html`<div class="${n}-content gstc-date-top gstc-date-small gstc-date-normal">${t.format("DD")}</div><div class="gstc-dash gstc-date-small">-</div><div class="${n}-content gstc-date-small gstc-date-normal">${e.format("DD")}</div>`},{zoomTo:26,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-month-level-1"],format:({timeStart:t,vido:e,className:n})=>e.html`<div class="${n}-content gstc-date-top">${t.format("MMM")}</div><div class="${n}-content gstc-date-small gstc-date-bottom">${t.format("MM")}</div>`},{zoomTo:27,period:"month",main:!0,periodIncrement:1,classNames:["gstc-date-vertical"],format:({timeStart:t,className:e,vido:n})=>n.html`<div class="${e}-content gstc-date-top">${t.format("MM")}</div><div class="${e}-content gstc-date-extra-small">${t.format("MMM")}</div>`},{zoomTo:28,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-big"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:29,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YYYY")},{zoomTo:30,period:"year",main:!0,periodIncrement:1,classNames:["gstc-date-medium"],format:({timeStart:t})=>t.format("YY")},{zoomTo:100,period:"year",main:!0,periodIncrement:1,format:()=>null}]],grid:{cell:{onCreate:[]}},item:{gap:{top:4,bottom:4},rowTop:0,height:32,minWidth:10,cutIcons:{left:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M20 9v6h-8v4.84L4.16 12L12 4.16V9h8z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12L12 19.84V15H4z" fill="#ffffff"/><rect x="0" y="0" width="24" height="24" fill="rgba(0, 0, 0, 0)" /></svg>'}},items:{},spacing:1},actions:be(),templates:we(),locale:{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:t=>{const e=["th","st","nd","rd"],n=t%100;return`[${t}${e[(n-20)%10]||e[n]||e[0]}]`}},utcMode:!1,merge:(t,e)=>Dt.mergeDeep({},t,e),useLast:!0,Promise:Promise,mute:[],version:"3.7.1"},i=function(t,e,n){const i=n({},e.actions),r=n({},t.actions);let o=[...Object.keys(i),...Object.keys(r)];o=o.filter(t=>o.includes(t));const a={};for(const t of o)a[t]=[],void 0!==i[t]&&Array.isArray(i[t])&&(a[t]=[...i[t]]),void 0!==r[t]&&Array.isArray(r[t])&&(a[t]=[...a[t],...r[t]]);return delete t.actions,delete e.actions,a}(t,n,e),r={config:e(n,t)};return r.config.actions=i,r}const Ne={name:"gstc",GSTCID:Rt.GSTCID,isGSTCID:Rt.isGSTCID,sourceID:Rt.sourceID,fromArray(t){const e=this.GSTCID,n={};for(const i of t)i.id=e(i.id),"rowId"in i&&(i.rowId=e(i.rowId)),"parentId"in i&&(i.parentId=e(i.parentId)),n[i.id]=i;return n},stateFromConfig:function(t){return this.state=new je(Be(t),{delimiter:".",useMute:!0,maxSimultaneousJobs:1e3,Promise:t.Promise,debug:!!t.debug})},wasmStateFromConfig:function(t,e="./wildcard_matcher_bg.wasm"){return function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}(this,void 0,void 0,(function*(){return this.state=new je(Be(t),{delimiter:".",useMute:!0,maxSimultaneousJobs:1e3}),yield this.state.loadWasmMatcher(e),this.state}))},merge:Le,lithtml:$,html:$,date:t=>t?Lt(t):Lt(),setPeriod(t){return this.state.update("config.chart.time.period",t),this.state.get("config.chart.time.zoom")},dayjs:Lt};var Re=jt((function(t,e){var n;t.exports=n=n||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),i={},r=i.lib={},o=r.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=a<<24-(i+o)%4*8}else for(o=0;o<r;o+=4)e[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,i=[],r=function(e){e=e;var n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i;return r/=4294967296,(r+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=r(4294967296*(n||t.random()));n=987654071*s(),i.push(4294967296*s()|0)}return new a.init(i,e)}}),s=i.enc={},l=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new a.init(n,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,i=[],r=0;r<n;r++){var o=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new a.init(n,e)}},h=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o),l=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,c=t.min(4*l,r);if(l){for(var h=0;h<l;h+=o)this._doProcessBlock(i,h);var u=i.splice(0,l);n.sigBytes-=c}return new a.init(u,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=u.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}});var d=i.algo={};return i}(Math)})),Fe=(jt((function(t,e){var n;t.exports=(n=Re,function(){var t=n,e=t.lib,i=e.WordArray,r=e.Hasher,o=t.algo,a=[],s=o.SHA1=r.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)a[c]=0|t[e+c];else{var h=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=h<<1|h>>>31}var u=(i<<5|i>>>27)+l+a[c];u+=c<20?1518500249+(r&o|~r&s):c<40?1859775393+(r^o^s):c<60?(r&o|r&s|o&s)-1894007588:(r^o^s)-899497514,l=s,s=o,o=r<<30|r>>>2,r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s)}(),n.SHA1)})),jt((function(t,e){var n;t.exports=(n=Re,void function(){var t=n,e=t.lib.Base,i=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,l=a.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}())})),jt((function(t,e){var n;t.exports=(n=Re,function(){var t=n,e=t.lib,i=e.Base,r=e.WordArray,o=t.algo,a=o.SHA1,s=o.HMAC,l=o.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=s.create(n.hasher,t),o=r.create(),a=r.create([1]),l=o.words,c=a.words,h=n.keySize,u=n.iterations;l.length<h;){var d=i.update(e).finalize(a);i.reset();for(var p=d.words,f=p.length,g=d,m=1;m<u;m++){g=i.finalize(g),i.reset();for(var v=g.words,y=0;y<f;y++)p[y]^=v[y]}o.concat(d),c[0]++}return o.sigBytes=4*h,o}});t.PBKDF2=function(t,e,n){return l.create(n).compute(t,e)}}(),n.PBKDF2)}))),ze=(jt((function(t,e){var n;t.exports=(n=Re,function(){var t=n,e=t.lib.WordArray;function i(t,n,i){for(var r=[],o=0,a=0;a<n;a++)if(a%4){var s=i[t.charCodeAt(a-1)]<<a%4*2,l=i[t.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=(s|l)<<24-o%4*8,o++}return e.create(r,o)}t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)r.push(i.charAt(a>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=t.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return i(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),jt((function(t,e){var n;t.exports=(n=Re,function(t){var e=n,i=e.lib,r=i.WordArray,o=i.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var i=e+n,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this._hash.words,a=t[e+0],l=t[e+1],p=t[e+2],f=t[e+3],g=t[e+4],m=t[e+5],v=t[e+6],y=t[e+7],x=t[e+8],b=t[e+9],w=t[e+10],C=t[e+11],_=t[e+12],S=t[e+13],O=t[e+14],M=t[e+15],k=o[0],A=o[1],T=o[2],D=o[3];k=c(k,A,T,D,a,7,s[0]),D=c(D,k,A,T,l,12,s[1]),T=c(T,D,k,A,p,17,s[2]),A=c(A,T,D,k,f,22,s[3]),k=c(k,A,T,D,g,7,s[4]),D=c(D,k,A,T,m,12,s[5]),T=c(T,D,k,A,v,17,s[6]),A=c(A,T,D,k,y,22,s[7]),k=c(k,A,T,D,x,7,s[8]),D=c(D,k,A,T,b,12,s[9]),T=c(T,D,k,A,w,17,s[10]),A=c(A,T,D,k,C,22,s[11]),k=c(k,A,T,D,_,7,s[12]),D=c(D,k,A,T,S,12,s[13]),T=c(T,D,k,A,O,17,s[14]),k=h(k,A=c(A,T,D,k,M,22,s[15]),T,D,l,5,s[16]),D=h(D,k,A,T,v,9,s[17]),T=h(T,D,k,A,C,14,s[18]),A=h(A,T,D,k,a,20,s[19]),k=h(k,A,T,D,m,5,s[20]),D=h(D,k,A,T,w,9,s[21]),T=h(T,D,k,A,M,14,s[22]),A=h(A,T,D,k,g,20,s[23]),k=h(k,A,T,D,b,5,s[24]),D=h(D,k,A,T,O,9,s[25]),T=h(T,D,k,A,f,14,s[26]),A=h(A,T,D,k,x,20,s[27]),k=h(k,A,T,D,S,5,s[28]),D=h(D,k,A,T,p,9,s[29]),T=h(T,D,k,A,y,14,s[30]),k=u(k,A=h(A,T,D,k,_,20,s[31]),T,D,m,4,s[32]),D=u(D,k,A,T,x,11,s[33]),T=u(T,D,k,A,C,16,s[34]),A=u(A,T,D,k,O,23,s[35]),k=u(k,A,T,D,l,4,s[36]),D=u(D,k,A,T,g,11,s[37]),T=u(T,D,k,A,y,16,s[38]),A=u(A,T,D,k,w,23,s[39]),k=u(k,A,T,D,S,4,s[40]),D=u(D,k,A,T,a,11,s[41]),T=u(T,D,k,A,f,16,s[42]),A=u(A,T,D,k,v,23,s[43]),k=u(k,A,T,D,b,4,s[44]),D=u(D,k,A,T,_,11,s[45]),T=u(T,D,k,A,M,16,s[46]),k=d(k,A=u(A,T,D,k,p,23,s[47]),T,D,a,6,s[48]),D=d(D,k,A,T,y,10,s[49]),T=d(T,D,k,A,O,15,s[50]),A=d(A,T,D,k,m,21,s[51]),k=d(k,A,T,D,_,6,s[52]),D=d(D,k,A,T,f,10,s[53]),T=d(T,D,k,A,w,15,s[54]),A=d(A,T,D,k,l,21,s[55]),k=d(k,A,T,D,x,6,s[56]),D=d(D,k,A,T,M,10,s[57]),T=d(T,D,k,A,v,15,s[58]),A=d(A,T,D,k,S,21,s[59]),k=d(k,A,T,D,g,6,s[60]),D=d(D,k,A,T,C,10,s[61]),T=d(T,D,k,A,p,15,s[62]),A=d(A,T,D,k,b,21,s[63]),o[0]=o[0]+k|0,o[1]=o[1]+A|0,o[2]=o[2]+T|0,o[3]=o[3]+D|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(i/4294967296),a=i;n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var h=l[c];l[c]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,n,i,r,o,a){var s=t+(e&n|~e&i)+r+a;return(s<<o|s>>>32-o)+e}function h(t,e,n,i,r,o,a){var s=t+(e&i|n&~i)+r+a;return(s<<o|s>>>32-o)+e}function u(t,e,n,i,r,o,a){var s=t+(e^n^i)+r+a;return(s<<o|s>>>32-o)+e}function d(t,e,n,i,r,o,a){var s=t+(n^(e|~i))+r+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(l),e.HmacMD5=o._createHmacHelper(l)}(Math),n.MD5)})),jt((function(t,e){var n;t.exports=(n=Re,function(){var t=n,e=t.lib,i=e.Base,r=e.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),o=r.create(),a=o.words,s=n.keySize,l=n.iterations;a.length<s;){c&&i.update(c);var c=i.update(t).finalize(e);i.reset();for(var h=1;h<l;h++)c=i.finalize(c),i.reset();o.concat(c)}return o.sigBytes=4*s,o}});t.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),n.EvpKDF)})),jt((function(t,e){var n;t.exports=void((n=Re).lib.Cipher||function(t){var e=n,i=e.lib,r=i.Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,s=e.enc;s.Utf8;var l=s.Base64,c=e.algo.EvpKDF,h=i.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?x:v}return function(e){return{encrypt:function(n,i,r){return t(i).encrypt(e,n,i,r)},decrypt:function(n,i,r){return t(i).decrypt(e,n,i,r)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=e.mode={},d=i.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=u.CBC=function(){var t=d.extend();function e(t,e,n){var i=this._iv;if(i){var r=i;this._iv=void 0}else r=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=r[o]}return t.Encryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize;e.call(this,t,n,r),i.encryptBlock(t,n),this._prevBlock=t.slice(n,n+r)}}),t.Decryptor=t.extend({processBlock:function(t,n){var i=this._cipher,r=i.blockSize,o=t.slice(n,n+r);i.decryptBlock(t,n),e.call(this,t,n,r),this._prevBlock=o}}),t}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=n-t.sigBytes%n,r=i<<24|i<<16|i<<8|i,a=[],s=0;s<i;s+=4)a.push(r);var l=o.create(a,i);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:f}),reset:function(){h.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else i=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==i?this._mode.init(this,e&&e.words):(this._mode=i.call(n,this,e&&e.words),this._mode.__creator=i)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var g=i.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),m=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var i=o.create([1398893684,1701076831]).concat(n).concat(e);else i=e;return i.toString(l)},parse:function(t){var e=l.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var i=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return g.create({ciphertext:e,salt:i})}},v=i.SerializableCipher=r.extend({cfg:r.extend({format:m}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i),o=r.finalize(e),a=r.cfg;return g.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,n,i){i||(i=o.random(8));var r=c.create({keySize:e+n}).compute(t,i),a=o.create(r.words.slice(e),4*n);return r.sigBytes=4*e,g.create({key:r,iv:a,salt:i})}},x=i.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(t,e,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize);i.iv=r.iv;var o=v.encrypt.call(this,t,e,r.key,i);return o.mixIn(r),o},decrypt:function(t,e,n,i){i=this.cfg.extend(i),e=this._parse(e,i.format);var r=i.kdf.execute(n,t.keySize,t.ivSize,e.salt);return i.iv=r.iv,v.decrypt.call(this,t,e,r.key,i)}})}())})),jt((function(t,e){var n;t.exports=(n=Re,function(){var t=n,e=t.lib.BlockCipher,i=t.algo,r=[],o=[],a=[],s=[],l=[],c=[],h=[],u=[],d=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,i=0;for(e=0;e<256;e++){var f=i^i<<1^i<<2^i<<3^i<<4;f=f>>>8^255&f^99,r[n]=f,o[f]=n;var g=t[n],m=t[g],v=t[m],y=257*t[f]^16843008*f;a[n]=y<<24|y>>>8,s[n]=y<<16|y>>>16,l[n]=y<<8|y>>>24,c[n]=y,y=16843009*v^65537*m^257*g^16843008*n,h[f]=y<<24|y>>>8,u[f]=y<<16|y>>>16,d[f]=y<<8|y>>>24,p[f]=y,n?(n=g^t[t[t[v^g]]],i^=t[t[i]]):n=i=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=i.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<i;a++)if(a<n)o[a]=e[a];else{var s=o[a-1];a%n?n>6&&a%n==4&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=f[a/n|0]<<24),o[a]=o[a-n]^s}for(var l=this._invKeySchedule=[],c=0;c<i;c++)a=i-c,s=c%4?o[a]:o[a-4],l[c]=c<4||a<=4?s:h[r[s>>>24]]^u[r[s>>>16&255]]^d[r[s>>>8&255]]^p[r[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,l,c,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,h,u,d,p,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,o,a,s){for(var l=this._nRounds,c=t[e]^n[0],h=t[e+1]^n[1],u=t[e+2]^n[2],d=t[e+3]^n[3],p=4,f=1;f<l;f++){var g=i[c>>>24]^r[h>>>16&255]^o[u>>>8&255]^a[255&d]^n[p++],m=i[h>>>24]^r[u>>>16&255]^o[d>>>8&255]^a[255&c]^n[p++],v=i[u>>>24]^r[d>>>16&255]^o[c>>>8&255]^a[255&h]^n[p++],y=i[d>>>24]^r[c>>>16&255]^o[h>>>8&255]^a[255&u]^n[p++];c=g,h=m,u=v,d=y}g=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[p++],m=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^n[p++],v=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[p++],y=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^n[p++],t[e]=g,t[e+1]=m,t[e+2]=v,t[e+3]=y},keySize:8});t.AES=e._createHelper(g)}(),n.AES)}))),Ve=jt((function(t,e){var n;t.exports=(n=Re,function(t){var e=n,i=e.lib,r=i.WordArray,o=i.Hasher,a=e.algo,s=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var i=2,r=0;r<64;)e(i)&&(r<8&&(s[r]=n(t.pow(i,.5))),l[r]=n(t.pow(i,1/3)),r++),i++}();var c=[],h=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],h=n[5],u=n[6],d=n[7],p=0;p<64;p++){if(p<16)c[p]=0|t[e+p];else{var f=c[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[p-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[p]=g+c[p-7]+v+c[p-16]}var y=i&r^i&o^r&o,x=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&h^~s&u)+l[p]+c[p];d=u,u=h,h=s,s=a+b|0,a=o,o=r,r=i,i=b+(x+y)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+h|0,n[6]=n[6]+u|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(h),e.HmacSHA256=o._createHmacHelper(h)}(Math),n.SHA256)})),Ge=jt((function(t,e){t.exports=Re.enc.Utf8}));const He=(t,e)=>{const n=t.slice(),i=[];let r=e;for(;0!==n.length;){const t=n.pop(),e=t.toLowerCase();if(r.children.has("*")){if(r.children.has("!"+e))break;r=r.children.get("*")}else{if(!1===r.children.has(e))break;r=r.children.get(e)}i.unshift(t)}return i},We=t=>t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",$e="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ye="[a-fA-F\\d]{1,4}",Xe=`\n(?:\n(?:${Ye}:){7}(?:${Ye}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${Ye}:){6}(?:${$e}|:${Ye}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${Ye}:){5}(?::${$e}|(?::${Ye}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${Ye}:){4}(?:(?::${Ye}){0,1}:${$e}|(?::${Ye}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${Ye}:){3}(?:(?::${Ye}){0,2}:${$e}|(?::${Ye}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${Ye}:){2}(?:(?::${Ye}){0,3}:${$e}|(?::${Ye}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${Ye}:){1}(?:(?::${Ye}){0,4}:${$e}|(?::${Ye}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${Ye}){0,5}:${$e}|(?::${Ye}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),qe=new RegExp(`(?:^${$e}$)|(?:^${Xe}$)`),Ue=new RegExp(`^${$e}$`),Ze=new RegExp(`^${Xe}$`),Ke=t=>t&&t.exact?qe:new RegExp(`(?:${We(t)}${$e}${We(t)})|(?:${We(t)}${Xe}${We(t)})`,"g");Ke.v4=t=>t&&t.exact?Ue:new RegExp(`${We(t)}${$e}${We(t)}`,"g"),Ke.v6=t=>t&&t.exact?Ze:new RegExp(`${We(t)}${Xe}${We(t)}`,"g");var Je=Ke;const Qe=t=>Je({exact:!0}).test(t);Qe.v4=t=>Je.v4({exact:!0}).test(t),Qe.v6=t=>Je.v6({exact:!0}).test(t),Qe.version=t=>Qe(t)?Qe.v4(t)?4:6:void 0;var tn,en,nn=Qe;!function(t){t.NoHostname="NO_HOSTNAME",t.DomainMaxLength="DOMAIN_MAX_LENGTH",t.LabelMinLength="LABEL_MIN_LENGTH",t.LabelMaxLength="LABEL_MAX_LENGTH",t.LabelInvalidCharacter="LABEL_INVALID_CHARACTER"}(tn||(tn={})),function(t){t.ValidIp="VALID_IP",t.ValidDomain="VALID_DOMAIN",t.Error="ERROR"}(en||(en={}));const rn=t=>({type:tn.NoHostname,message:`The given input ${String(t)} does not look like a hostname.`,column:1}),on=t=>{const e=t.length;return{type:tn.DomainMaxLength,message:`Domain "${t}" is too long. Domain is ${e} octets long but should not be longer than 253.`,column:e}},an=(t,e)=>{const n=t.length;return{type:tn.LabelMinLength,message:`Label "${t}" is too short. Label is ${n} octets long but should be at least 1.`,column:e}},sn=(t,e)=>{const n=t.length;return{type:tn.LabelMaxLength,message:`Label "${t}" is too long. Label is ${n} octets long but should not be longer than 63.`,column:e}},ln=(t,e,n)=>({type:tn.LabelInvalidCharacter,message:`Label "${t}" contains invalid character "${e}" at column ${n}.`,column:n}),cn=Symbol("ROOT"),hn=Symbol("CHILD"),un=t=>{const e={type:cn,children:new Map};let n="",i=e,r=e;const o=()=>{r=((t,e)=>{let n=t.children.get(e);return void 0===n&&(n={type:hn,label:e,children:new Map,parent:t},t.children.set(e,n)),n})(i,n),n=""};for(let a=0;a<t.length;a++){const s=t.charAt(a);switch(s){case",":o();continue;case">":o(),i=r;continue;case"|":o(),i=e;continue;case"<":if(i.type===cn)throw new Error(`Error in serialized trie at position ${a}: Cannot go up, current parent node is already root`);o(),i=i.parent;continue}n+=s}return""!==n&&o(),e},dn=["localhost","local","example","invalid","test"];var pn;!function(t){t.Invalid="INVALID",t.Ip="IP",t.Reserved="RESERVED",t.NotListed="NOT_LISTED",t.Listed="LISTED"}(pn||(pn={}));const fn=(t,e)=>e>=0&&e<t.length?t[e]:void 0,gn=(t,e)=>({subDomains:t.slice(0,Math.max(0,e)),domain:fn(t,e),topLevelDomains:t.slice(e+1)});let mn,vn;function yn(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function xn(t,e){return t&e}function bn(t,e){return t|e}function wn(t,e){return t^e}function Cn(t,e){return t&~e}function _n(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function Sn(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var On,Mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function kn(t){var e,n,i="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+=Mn.charAt(n>>6)+Mn.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+=Mn.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+=Mn.charAt(n>>2)+Mn.charAt((3&n)<<4));(3&i.length)>0;)i+="=";return i}function An(t){var e,n="",i=0,r=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var o=Mn.indexOf(t.charAt(e));o<0||(0==i?(n+=yn(o>>2),r=3&o,i=1):1==i?(n+=yn(r<<2|o>>4),r=15&o,i=2):2==i?(n+=yn(r),n+=yn(o>>2),r=3&o,i=3):(n+=yn(r<<2|o>>4),n+=yn(15&o),i=0))}return 1==i&&(n+=yn(r<<2)),n}var Tn,Dn={decode:function(t){var e;if(void 0===Tn){var n="= \f\n\r\t\u2028\u2029";for(Tn=Object.create(null),e=0;e<64;++e)Tn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(Tn["-"]=62,Tn._=63,e=0;e<n.length;++e)Tn[n.charAt(e)]=-1}var i=[],r=0,o=0;for(e=0;e<t.length;++e){var a=t.charAt(e);if("="==a)break;if(-1!=(a=Tn[a])){if(void 0===a)throw new Error("Illegal character at offset "+e);r|=a,++o>=4?(i[i.length]=r>>16,i[i.length]=r>>8&255,i[i.length]=255&r,r=0,o=0):r<<=6}}switch(o){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=r>>10;break;case 3:i[i.length]=r>>16,i[i.length]=r>>8&255}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=Dn.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return Dn.decode(t)}},Pn=1e13,In=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,i,r=this.buf,o=r.length;for(n=0;n<o;++n)(i=r[n]*t+e)<Pn?e=0:i-=(e=0|i/Pn)*Pn,r[n]=i;e>0&&(r[n]=e)},t.prototype.sub=function(t){var e,n,i=this.buf,r=i.length;for(e=0;e<r;++e)(n=i[e]-t)<0?(n+=Pn,t=1):t=0,i[e]=n;for(;0===i[i.length-1];)i.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),i=e.length-2;i>=0;--i)n+=(Pn+e[i]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=e*Pn+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),En=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,jn=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function Ln(t,e){return t.length>e&&(t=t.substring(0,e)+""),t}var Bn,Nn=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var i="",r=t;r<e;++r)if(i+=this.hexByte(this.get(r)),!0!==n)switch(15&r){case 7:i+="  ";break;case 15:i+="\n";break;default:i+=" "}return i},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var i=this.get(n);if(i<32||i>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",i=t;i<e;++i)n+=String.fromCharCode(this.get(i));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",i=t;i<e;){var r=this.get(i++);n+=r<128?String.fromCharCode(r):r>191&&r<224?String.fromCharCode((31&r)<<6|63&this.get(i++)):String.fromCharCode((15&r)<<12|(63&this.get(i++))<<6|63&this.get(i++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,i,r="",o=t;o<e;)n=this.get(o++),i=this.get(o++),r+=String.fromCharCode(n<<8|i);return r},t.prototype.parseTime=function(t,e,n){var i=this.parseStringISO(t,e),r=(n?En:jn).exec(i);return r?(n&&(r[1]=+r[1],r[1]+=+r[1]<70?2e3:1900),i=r[1]+"-"+r[2]+"-"+r[3]+" "+r[4],r[5]&&(i+=":"+r[5],r[6]&&(i+=":"+r[6],r[7]&&(i+="."+r[7]))),r[8]&&(i+=" UTC","Z"!=r[8]&&(i+=r[8],r[9]&&(i+=":"+r[9]))),i):"Unrecognized time: "+i},t.prototype.parseInteger=function(t,e){for(var n,i=this.get(t),r=i>127,o=r?255:0,a="";i==o&&++t<e;)i=this.get(t);if(0==(n=e-t))return r?-1:0;if(n>4){for(a=i,n<<=3;0==(128&(+a^o));)a=+a<<1,--n;a="("+n+" bit)\n"}r&&(i-=256);for(var s=new In(i),l=t+1;l<e;++l)s.mulAdd(256,this.get(l));return a+s.toString()},t.prototype.parseBitString=function(t,e,n){for(var i=this.get(t),r="("+((e-t-1<<3)-i)+" bit)\n",o="",a=t+1;a<e;++a){for(var s=this.get(a),l=a==e-1?i:0,c=7;c>=l;--c)o+=s>>c&1?"1":"0";if(o.length>n)return r+Ln(o,n)}return r+o},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return Ln(this.parseStringISO(t,e),n);var i=e-t,r="("+i+" byte)\n";i>(n/=2)&&(e=t+n);for(var o=t;o<e;++o)r+=this.hexByte(this.get(o));return i>n&&(r+=""),r},t.prototype.parseOID=function(t,e,n){for(var i="",r=new In,o=0,a=t;a<e;++a){var s=this.get(a);if(r.mulAdd(128,127&s),o+=7,!(128&s)){if(""===i)if((r=r.simplify())instanceof In)r.sub(80),i="2."+r.toString();else{var l=r<80?r<40?0:1:2;i=l+"."+(r-40*l)}else i+="."+r.toString();if(i.length>n)return Ln(i,n);r=new In,o=0}}return o>0&&(i+=".incomplete"),i},t}(),Rn=function(){function t(t,e,n,i,r){if(!(i instanceof Fn))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=i,this.sub=r}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return Ln(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return Ln(this.stream.parseStringISO(e,e+n),t);case 30:return Ln(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,i=this.sub.length;n<i;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var i=0;i<n;++i)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof Nn?e:new Nn(e,0);var i=new Nn(n),r=new Fn(n),o=t.decodeLength(n),a=n.pos,s=a-i.pos,l=null,c=function(){var e=[];if(null!==o){for(var i=a+o;n.pos<i;)e[e.length]=t.decode(n);if(n.pos!=i)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var r=t.decode(n);if(r.tag.isEOC())break;e[e.length]=r}o=a-n.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return e};if(r.tagConstructed)l=c();else if(r.isUniversal()&&(3==r.tagNumber||4==r.tagNumber))try{if(3==r.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");l=c();for(var h=0;h<l.length;++h)if(l[h].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){l=null}if(null===l){if(null===o)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);n.pos=a+Math.abs(o)}return new t(i,s,o,r,l)},t}(),Fn=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new In;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),zn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Vn=(1<<26)/zn[zn.length-1],Gn=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(r=!0,o=yn(n));a>=0;)s<e?(n=(this[a]&(1<<s)-1)<<e-s,n|=this[--a]>>(s+=this.DB-e)):(n=this[a]>>(s-=e)&i,s<=0&&(s+=this.DB,--a)),n>0&&(r=!0),r&&(o+=yn(n));return r?o:"0"},t.prototype.negate=function(){var e=Xn();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ei(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=Xn();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new Wn(e):new $n(e),this.exp(t,n)},t.prototype.clone=function(){var t=Xn();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,i=this.DB-t*this.DB%8,r=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[r++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(e[r++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=Xn();return this.bitwiseTo(t,xn,e),e},t.prototype.or=function(t){var e=Xn();return this.bitwiseTo(t,bn,e),e},t.prototype.xor=function(t){var e=Xn();return this.bitwiseTo(t,wn,e),e},t.prototype.andNot=function(t){var e=Xn();return this.bitwiseTo(t,Cn,e),e},t.prototype.not=function(){for(var t=Xn(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=Xn();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=Xn();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+_n(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=Sn(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,bn)},t.prototype.clearBit=function(t){return this.changeBit(t,Cn)},t.prototype.flipBit=function(t){return this.changeBit(t,wn)},t.prototype.add=function(t){var e=Xn();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=Xn();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=Xn();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=Xn();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=Xn();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=Xn(),n=Xn();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,i,r=t.bitLength(),o=ti(1);if(r<=0)return o;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new Wn(e):e.isEven()?new Yn(e):new $n(e);var a=[],s=3,l=n-1,c=(1<<n)-1;if(a[1]=i.convert(this),n>1){var h=Xn();for(i.sqrTo(a[1],h);s<=c;)a[s]=Xn(),i.mulTo(h,a[s-2],a[s]),s+=2}var u,d,p=t.t-1,f=!0,g=Xn();for(r=ei(t[p])-1;p>=0;){for(r>=l?u=t[p]>>r-l&c:(u=(t[p]&(1<<r+1)-1)<<l-r,p>0&&(u|=t[p-1]>>this.DB+r-l)),s=n;0==(1&u);)u>>=1,--s;if((r-=s)<0&&(r+=this.DB,--p),f)a[u].copyTo(o),f=!1;else{for(;s>1;)i.sqrTo(o,g),i.sqrTo(g,o),s-=2;s>0?i.sqrTo(o,g):(d=o,o=g,g=d),i.mulTo(g,a[u],o)}for(;p>=0&&0==(t[p]&1<<r);)i.sqrTo(o,g),d=o,o=g,g=d,--r<0&&(r=this.DB-1,--p)}return i.revert(o)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var i=e.clone(),r=this.clone(),o=ti(1),a=ti(0),s=ti(0),l=ti(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),n?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);i.compareTo(r)>=0?(i.subTo(r,i),n&&o.subTo(s,o),a.subTo(l,a)):(r.subTo(i,r),n&&s.subTo(o,s),l.subTo(a,l))}return 0!=r.compareTo(t.ONE)?t.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l},t.prototype.pow=function(t){return this.exp(t,new Hn)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var i=e;e=n,n=i}var r=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(r<o&&(o=r),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(r=e.getLowestSetBit())>0&&e.rShiftTo(r,e),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=zn[zn.length-1]){for(e=0;e<zn.length;++e)if(n[0]==zn[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<zn.length;){for(var i=zn[e],r=e+1;r<zn.length&&i<Vn;)i*=zn[r++];for(i=n.modInt(i);e<r;)if(i%zn[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(e,n);i=2}this.t=0,this.s=0;for(var r=e.length,o=!1,a=0;--r>=0;){var s=8==i?255&+e[r]:Qn(e,r);s<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+i>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=i)>=this.DB&&(a-=this.DB))}8==i&&0!=(128&+e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,i=this.DB-n,r=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM,s=this.t-1;s>=0;--s)e[s+o+1]=this[s]>>i|a,a=(this[s]&r)<<n;for(s=o-1;s>=0;--s)e[s]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var i=t%this.DB,r=this.DB-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<r,e[a-n]=this[a]>>i;i>0&&(e[this.t-n-1]|=(this.s&o)<<r),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var i=this.abs(),r=e.abs(),o=i.t;for(n.t=o+r.t;--o>=0;)n[o]=0;for(o=0;o<r.t;++o)n[o+i.t]=i.am(0,r[o],n,o,0,i.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,i){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=n&&n.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=Xn());var a=Xn(),s=this.s,l=e.s,c=this.DB-ei(r[r.t-1]);c>0?(r.lShiftTo(c,a),o.lShiftTo(c,i)):(r.copyTo(a),o.copyTo(i));var h=a.t,u=a[h-1];if(0!=u){var d=u*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),p=this.FV/d,f=(1<<this.F1)/d,g=1<<this.F2,m=i.t,v=m-h,y=null==n?Xn():n;for(a.dlShiftTo(v,y),i.compareTo(y)>=0&&(i[i.t++]=1,i.subTo(y,i)),t.ONE.dlShiftTo(h,y),y.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--v>=0;){var x=i[--m]==u?this.DM:Math.floor(i[m]*p+(i[m-1]+g)*f);if((i[m]+=a.am(0,x,i,v,0,h))<x)for(a.dlShiftTo(v,y),i.subTo(y,i);i[m]<--x;)i.subTo(y,i)}null!=n&&(i.drShiftTo(h,n),s!=l&&t.ZERO.subTo(n,n)),i.t=h,i.clamp(),c>0&&i.rShiftTo(c,i),s<0&&t.ZERO.subTo(i,i)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var i=Xn(),r=Xn(),o=n.convert(this),a=ei(e)-1;for(o.copyTo(i);--a>=0;)if(n.sqrTo(i,r),(e&1<<a)>0)n.mulTo(r,o,i);else{var s=i;i=r,r=s}return n.revert(i)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=ti(n),r=Xn(),o=Xn(),a="";for(this.divRemTo(i,r,o);r.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,r.divRemTo(i,r,o);return o.intValue().toString(t)+a},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),r=Math.pow(n,i),o=!1,a=0,s=0,l=0;l<e.length;++l){var c=Qn(e,l);c<0?"-"==e.charAt(l)&&0==this.signum()&&(o=!0):(s=n*s+c,++a>=i&&(this.dMultiply(r),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(s,0)),o&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,i){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),bn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var r=[],o=7&e;r.length=1+(e>>3),n.nextBytes(r),o>0?r[0]&=(1<<o)-1:r[0]=0,this.fromString(r,256)}},t.prototype.bitwiseTo=function(t,e,n){var i,r,o=Math.min(t.t,this.t);for(i=0;i<o;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(r=t.s&this.DM,i=o;i<this.t;++i)n[i]=e(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=o;i<t.t;++i)n[i]=e(r,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var i=t.ONE.shiftLeft(e);return this.bitwiseTo(i,n,i),i},t.prototype.addTo=function(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=this.DV+i),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(var r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),i=n.getLowestSetBit();if(i<=0)return!1;var r=n.shiftRight(i);(e=e+1>>1)>zn.length&&(e=zn.length);for(var o=Xn(),a=0;a<e;++a){o.fromInt(zn[Math.floor(Math.random()*zn.length)]);var s=o.modPow(r,this);if(0!=s.compareTo(t.ONE)&&0!=s.compareTo(n)){for(var l=1;l++<i&&0!=s.compareTo(n);)if(0==(s=s.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=s.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=Xn();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(n.compareTo(i)<0){var r=n;n=i,i=r}var o=n.getLowestSetBit(),a=i.getLowestSetBit();if(a<0)e(n);else{o<a&&(a=o),a>0&&(n.rShiftTo(a,n),i.rShiftTo(a,i));var s=function(){(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),(o=i.getLowestSetBit())>0&&i.rShiftTo(o,i),n.compareTo(i)>=0?(n.subTo(i,n),n.rShiftTo(1,n)):(i.subTo(n,i),i.rShiftTo(1,i)),n.signum()>0?setTimeout(s,0):(a>0&&i.lShiftTo(a,i),setTimeout((function(){e(i)}),0))};setTimeout(s,10)}},t.prototype.fromNumberAsync=function(e,n,i,r){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),bn,this),this.isEven()&&this.dAddOffset(1,0);var o=this,a=function(){o.dAddOffset(2,0),o.bitLength()>e&&o.subTo(t.ONE.shiftLeft(e-1),o),o.isProbablePrime(n)?setTimeout((function(){r()}),0):setTimeout(a,0)};setTimeout(a,0)}else{var s=[],l=7&e;s.length=1+(e>>3),n.nextBytes(s),l>0?s[0]&=(1<<l)-1:s[0]=0,this.fromString(s,256)}},t}(),Hn=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),Wn=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),$n=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=Xn();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(Gn.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=Xn();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),Yn=function(){function t(t){this.m=t,this.r2=Xn(),this.q3=Xn(),Gn.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Xn();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function Xn(){return new Gn(null)}function qn(t,e){return new Gn(t,e)}var Un="undefined"!=typeof navigator;Un&&"Microsoft Internet Explorer"==navigator.appName?(Gn.prototype.am=function(t,e,n,i,r,o){for(var a=32767&e,s=e>>15;--o>=0;){var l=32767&this[t],c=this[t++]>>15,h=s*l+c*a;r=((l=a*l+((32767&h)<<15)+n[i]+(1073741823&r))>>>30)+(h>>>15)+s*c+(r>>>30),n[i++]=1073741823&l}return r},Bn=30):Un&&"Netscape"!=navigator.appName?(Gn.prototype.am=function(t,e,n,i,r,o){for(;--o>=0;){var a=e*this[t++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},Bn=26):(Gn.prototype.am=function(t,e,n,i,r,o){for(var a=16383&e,s=e>>14;--o>=0;){var l=16383&this[t],c=this[t++]>>14,h=s*l+c*a;r=((l=a*l+((16383&h)<<14)+n[i]+r)>>28)+(h>>14)+s*c,n[i++]=268435455&l}return r},Bn=28),Gn.prototype.DB=Bn,Gn.prototype.DM=(1<<Bn)-1,Gn.prototype.DV=1<<Bn,Gn.prototype.FV=Math.pow(2,52),Gn.prototype.F1=52-Bn,Gn.prototype.F2=2*Bn-52;var Zn,Kn,Jn=[];for(Zn="0".charCodeAt(0),Kn=0;Kn<=9;++Kn)Jn[Zn++]=Kn;for(Zn="a".charCodeAt(0),Kn=10;Kn<36;++Kn)Jn[Zn++]=Kn;for(Zn="A".charCodeAt(0),Kn=10;Kn<36;++Kn)Jn[Zn++]=Kn;function Qn(t,e){var n=Jn[t.charCodeAt(e)];return null==n?-1:n}function ti(t){var e=Xn();return e.fromInt(t),e}function ei(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}Gn.ZERO=ti(0),Gn.ONE=ti(1);var ni,ii,ri=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,i;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}(),oi=null;if(null==oi){oi=[],ii=0;var ai=void 0;if(window.crypto&&window.crypto.getRandomValues){var si=new Uint32Array(256);for(window.crypto.getRandomValues(si),ai=0;ai<si.length;++ai)oi[ii++]=255&si[ai]}var li=0,ci=function(t){if((li=li||0)>=256||ii>=256)window.removeEventListener?window.removeEventListener("mousemove",ci,!1):window.detachEvent&&window.detachEvent("onmousemove",ci);else try{var e=t.x+t.y;oi[ii++]=255&e,li+=1}catch(t){}};window.addEventListener?window.addEventListener("mousemove",ci,!1):window.attachEvent&&window.attachEvent("onmousemove",ci)}function hi(){if(null==ni){for(ni=new ri;ii<256;){var t=Math.floor(65536*Math.random());oi[ii++]=255&t}for(ni.init(oi),ii=0;ii<oi.length;++ii)oi[ii]=0;ii=0}return ni.next()}var ui=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=hi()},t}(),di=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=qn(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=this.n.bitLength()+7>>3,n=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);r<128?n[--e]=r:r>127&&r<2048?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}n[--e]=0;for(var o=new ui,a=[];e>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--e]=a[0]}return n[--e]=2,n[--e]=0,new Gn(n)}(t,e);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;for(var r=i.toString(16),o=r.length,a=0;a<2*e-o;a++)r="0"+r;return r},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=qn(t,16),this.e=parseInt(e,16),this.d=qn(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,i,r,o,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=qn(t,16),this.e=parseInt(e,16),this.d=qn(n,16),this.p=qn(i,16),this.q=qn(r,16),this.dmp1=qn(o,16),this.dmq1=qn(a,16),this.coeff=qn(s,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new ui,i=t>>1;this.e=parseInt(e,16);for(var r=new Gn(e,16);;){for(;this.p=new Gn(t-i,1,n),0!=this.p.subtract(Gn.ONE).gcd(r).compareTo(Gn.ONE)||!this.p.isProbablePrime(10););for(;this.q=new Gn(i,1,n),0!=this.q.subtract(Gn.ONE).gcd(r).compareTo(Gn.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var a=this.p.subtract(Gn.ONE),s=this.q.subtract(Gn.ONE),l=a.multiply(s);if(0==l.gcd(r).compareTo(Gn.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(l),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=qn(t,16),n=this.doPrivate(e);return null==n?null:function(t,e){for(var n=t.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var o=255&n[i];o<128?r+=String.fromCharCode(o):o>191&&o<224?(r+=String.fromCharCode((31&o)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var i=new ui,r=t>>1;this.e=parseInt(e,16);var o=new Gn(e,16),a=this,s=function(){var e=function(){if(a.p.compareTo(a.q)<=0){var t=a.p;a.p=a.q,a.q=t}var e=a.p.subtract(Gn.ONE),i=a.q.subtract(Gn.ONE),r=e.multiply(i);0==r.gcd(o).compareTo(Gn.ONE)?(a.n=a.p.multiply(a.q),a.d=o.modInverse(r),a.dmp1=a.d.mod(e),a.dmq1=a.d.mod(i),a.coeff=a.q.modInverse(a.p),setTimeout((function(){n()}),0)):setTimeout(s,0)},l=function(){a.q=Xn(),a.q.fromNumberAsync(r,1,i,(function(){a.q.subtract(Gn.ONE).gcda(o,(function(t){0==t.compareTo(Gn.ONE)&&a.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(l,0)}))}))},c=function(){a.p=Xn(),a.p.fromNumberAsync(t-r,1,i,(function(){a.p.subtract(Gn.ONE).gcda(o,(function(t){0==t.compareTo(Gn.ONE)&&a.p.isProbablePrime(10)?setTimeout(l,0):setTimeout(c,0)}))}))};setTimeout(c,0)};setTimeout(s,0)},t.prototype.sign=function(t,e,n){var i=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,i="",r=0;r<n;r+=2)i+="ff";return qn("0001"+i+"00"+t,16)}(function(t){return pi[t]||""}(n)+e(t).toString(),this.n.bitLength()/4);if(null==i)return null;var r=this.doPrivate(i);if(null==r)return null;var o=r.toString(16);return 0==(1&o.length)?o:"0"+o},t.prototype.verify=function(t,e,n){var i=qn(e,16),r=this.doPublic(i);return null==r?null:function(t){for(var e in pi)if(pi.hasOwnProperty(e)){var n=pi[e],i=n.length;if(t.substr(0,i)==n)return t.substr(i)}return t}(r.toString(16).replace(/^1f+00/,""))==n(t).toString()},t}(),pi={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},fi={};fi.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var r;for(r in n)t.prototype[r]=n[r];var o=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(o=function(t,e){for(r=0;r<a.length;r+=1){var n=a[r],i=e[n];"function"==typeof i&&i!=Object.prototype[n]&&(t[n]=i)}})}catch(t){}o(t.prototype,n)}}};var gi={};void 0!==gi.asn1&&gi.asn1||(gi.asn1={}),gi.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var i="",r=0;r<n;r++)i+="f";e=new Gn(i,16).xor(t).add(Gn.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=gi.asn1,n=e.DERBoolean,i=e.DERInteger,r=e.DERBitString,o=e.DEROctetString,a=e.DERNull,s=e.DERObjectIdentifier,l=e.DEREnumerated,c=e.DERUTF8String,h=e.DERNumericString,u=e.DERPrintableString,d=e.DERTeletexString,p=e.DERIA5String,f=e.DERUTCTime,g=e.DERGeneralizedTime,m=e.DERSequence,v=e.DERSet,y=e.DERTaggedObject,x=e.ASN1Util.newObject,b=Object.keys(t);if(1!=b.length)throw"key of param shall be only one.";var w=b[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new n(t[w]);if("int"==w)return new i(t[w]);if("bitstr"==w)return new r(t[w]);if("octstr"==w)return new o(t[w]);if("null"==w)return new a(t[w]);if("oid"==w)return new s(t[w]);if("enum"==w)return new l(t[w]);if("utf8str"==w)return new c(t[w]);if("numstr"==w)return new h(t[w]);if("prnstr"==w)return new u(t[w]);if("telstr"==w)return new d(t[w]);if("ia5str"==w)return new p(t[w]);if("utctime"==w)return new f(t[w]);if("gentime"==w)return new g(t[w]);if("seq"==w){for(var C=t[w],_=[],S=0;S<C.length;S++){var O=x(C[S]);_.push(O)}return new m({array:_})}if("set"==w){for(C=t[w],_=[],S=0;S<C.length;S++)O=x(C[S]),_.push(O);return new v({array:_})}if("tag"==w){var M=t[w];if("[object Array]"===Object.prototype.toString.call(M)&&3==M.length){var k=x(M[2]);return new y({tag:M[0],explicit:M[1],obj:k})}var A={};if(void 0!==M.explicit&&(A.explicit=M.explicit),void 0!==M.tag&&(A.tag=M.tag),void 0===M.obj)throw"obj shall be specified for 'tag'.";return A.obj=x(M.obj),new y(A)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},gi.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),i=(e=Math.floor(n/40)+"."+n%40,""),r=2;r<t.length;r+=2){var o=("00000000"+parseInt(t.substr(r,2),16).toString(2)).slice(-8);i+=o.substr(1,7),"0"==o.substr(0,1)&&(e=e+"."+new Gn(i,2).toString(10),i="")}return e},gi.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new Gn(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var o="",a=0;a<r;a++)o+="0";for(i=o+i,a=0;a<i.length-1;a+=7){var s=i.substr(a,7);a!=i.length-7&&(s="1"+s),n+=e(parseInt(s,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),o=40*parseInt(r[0])+parseInt(r[1]);i+=e(o),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);return i},gi.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},gi.asn1.DERAbstractString=function(t){gi.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},fi.lang.extend(gi.asn1.DERAbstractString,gi.asn1.ASN1Object),gi.asn1.DERAbstractTime=function(t){gi.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var i=this.zeroPadding,r=this.localDateToUTC(t),o=String(r.getFullYear());"utc"==e&&(o=o.substr(2,2));var a=o+i(String(r.getMonth()+1),2)+i(String(r.getDate()),2)+i(String(r.getHours()),2)+i(String(r.getMinutes()),2)+i(String(r.getSeconds()),2);if(!0===n){var s=r.getMilliseconds();if(0!=s){var l=i(String(s),3);a=a+"."+(l=l.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,i,r,o){var a=new Date(Date.UTC(t,e-1,n,i,r,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},fi.lang.extend(gi.asn1.DERAbstractTime,gi.asn1.ASN1Object),gi.asn1.DERAbstractStructured=function(t){gi.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},fi.lang.extend(gi.asn1.DERAbstractStructured,gi.asn1.ASN1Object),gi.asn1.DERBoolean=function(){gi.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},fi.lang.extend(gi.asn1.DERBoolean,gi.asn1.ASN1Object),gi.asn1.DERInteger=function(t){gi.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=gi.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new Gn(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},fi.lang.extend(gi.asn1.DERInteger,gi.asn1.ASN1Object),gi.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=gi.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}gi.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var i="";for(n=0;n<t.length-1;n+=8){var r=t.substr(n,8),o=parseInt(r,2).toString(16);1==o.length&&(o="0"+o),i+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+i},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},fi.lang.extend(gi.asn1.DERBitString,gi.asn1.ASN1Object),gi.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=gi.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}gi.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},fi.lang.extend(gi.asn1.DEROctetString,gi.asn1.DERAbstractString),gi.asn1.DERNull=function(){gi.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},fi.lang.extend(gi.asn1.DERNull,gi.asn1.ASN1Object),gi.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",i=new Gn(t,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var o="",a=0;a<r;a++)o+="0";for(i=o+i,a=0;a<i.length-1;a+=7){var s=i.substr(a,7);a!=i.length-7&&(s="1"+s),n+=e(parseInt(s,2))}return n};gi.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",r=t.split("."),o=40*parseInt(r[0])+parseInt(r[1]);i+=e(o),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(t){var e=gi.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},fi.lang.extend(gi.asn1.DERObjectIdentifier,gi.asn1.ASN1Object),gi.asn1.DEREnumerated=function(t){gi.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=gi.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new Gn(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},fi.lang.extend(gi.asn1.DEREnumerated,gi.asn1.ASN1Object),gi.asn1.DERUTF8String=function(t){gi.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},fi.lang.extend(gi.asn1.DERUTF8String,gi.asn1.DERAbstractString),gi.asn1.DERNumericString=function(t){gi.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},fi.lang.extend(gi.asn1.DERNumericString,gi.asn1.DERAbstractString),gi.asn1.DERPrintableString=function(t){gi.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},fi.lang.extend(gi.asn1.DERPrintableString,gi.asn1.DERAbstractString),gi.asn1.DERTeletexString=function(t){gi.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},fi.lang.extend(gi.asn1.DERTeletexString,gi.asn1.DERAbstractString),gi.asn1.DERIA5String=function(t){gi.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},fi.lang.extend(gi.asn1.DERIA5String,gi.asn1.DERAbstractString),gi.asn1.DERUTCTime=function(t){gi.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},fi.lang.extend(gi.asn1.DERUTCTime,gi.asn1.DERAbstractTime),gi.asn1.DERGeneralizedTime=function(t){gi.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},fi.lang.extend(gi.asn1.DERGeneralizedTime,gi.asn1.DERAbstractTime),gi.asn1.DERSequence=function(t){gi.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},fi.lang.extend(gi.asn1.DERSequence,gi.asn1.DERAbstractStructured),gi.asn1.DERSet=function(t){gi.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},fi.lang.extend(gi.asn1.DERSet,gi.asn1.DERAbstractStructured),gi.asn1.DERTaggedObject=function(t){gi.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},fi.lang.extend(gi.asn1.DERTaggedObject,gi.asn1.ASN1Object);var mi,vi=(mi=function(t,e){return(mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}mi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yi=function(t){function e(n){var i=t.call(this)||this;return n&&("string"==typeof n?i.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&i.parsePropertiesFrom(n)),i}return vi(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,i=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?function(t){var e;if(void 0===On){var n="0123456789ABCDEF",i=" \f\n\r\t\u2028\u2029";for(On={},e=0;e<16;++e)On[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)On[n.charAt(e)]=e;for(e=0;e<i.length;++e)On[i.charAt(e)]=-1}var r=[],o=0,a=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=On[s])){if(void 0===s)throw new Error("Illegal character at offset "+e);o|=s,++a>=2?(r[r.length]=o,o=0,a=0):o<<=4}}if(a)throw new Error("Hex encoding incomplete: 4 bits missing");return r}(t):Dn.unarmor(t),r=Rn.decode(i);if(3===r.sub.length&&(r=r.sub[2].sub[0]),9===r.sub.length){e=r.sub[1].getHexStringValue(),this.n=qn(e,16),n=r.sub[2].getHexStringValue(),this.e=parseInt(n,16);var o=r.sub[3].getHexStringValue();this.d=qn(o,16);var a=r.sub[4].getHexStringValue();this.p=qn(a,16);var s=r.sub[5].getHexStringValue();this.q=qn(s,16);var l=r.sub[6].getHexStringValue();this.dmp1=qn(l,16);var c=r.sub[7].getHexStringValue();this.dmq1=qn(c,16);var h=r.sub[8].getHexStringValue();this.coeff=qn(h,16)}else{if(2!==r.sub.length)return!1;var u=r.sub[1].sub[0];e=u.sub[0].getHexStringValue(),this.n=qn(e,16),n=u.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new gi.asn1.DERInteger({int:0}),new gi.asn1.DERInteger({bigint:this.n}),new gi.asn1.DERInteger({int:this.e}),new gi.asn1.DERInteger({bigint:this.d}),new gi.asn1.DERInteger({bigint:this.p}),new gi.asn1.DERInteger({bigint:this.q}),new gi.asn1.DERInteger({bigint:this.dmp1}),new gi.asn1.DERInteger({bigint:this.dmq1}),new gi.asn1.DERInteger({bigint:this.coeff})]};return new gi.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return kn(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new gi.asn1.DERSequence({array:[new gi.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new gi.asn1.DERNull]}),e=new gi.asn1.DERSequence({array:[new gi.asn1.DERInteger({bigint:this.n}),new gi.asn1.DERInteger({int:this.e})]}),n=new gi.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new gi.asn1.DERSequence({array:[t,n]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return kn(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return(t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n")+"-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return(t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n")+"-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(di),xi=function(){function t(t){t=t||{},this.default_key_size=t.default_key_size?parseInt(t.default_key_size,10):1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new yi(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(An(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return kn(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,n){try{return kn(this.getKey().sign(t,e,n))}catch(t){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,An(e),n)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new yi,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.1.0",t}();const bi=["W4qkySkfmCodW4TBW73cPSkrWPxcNCk7","WPdcUmoWiguDz8kVW5m","C3vIC3rY","ovDVW6SHWQNdLmod","Dg9Rzw5FD2fZ","nZqWsgfvueTe","WRJcSmoNjeiazSoQW4dcIG/dV8oVWOvoWRpdH2D/uCo+W68AlvBdPetcPGiGW5nmn8o2WQbLiwOJFKW","WQHtW4dcLCoQWO0","ue9tva","WR3dG8opk0tcU8khWQTxqmkiW4XxWRWdW43dNCoDW7ehW6e4WPm","Fmkyn1/dHfO","ndq1ndmZBKjOuKrU","zgLZy29UBMvJDa","Fg0JnNNcKG","AgvPz2H0","y29UDgvUDa","yxbWBgLJyxrPB24VEc13D3CTzM9YBs11CMXLBMnVzgvK","sw52ywXPzcbSAwnLBNnLigTLEsbBC2LNBMf0DxjLig1PC3nPBMDDlG","WRBdMmomiq","cWpdIW","AhjLzG","c0HXg3ddQCouW7KQW7ddTsaQWQdcLSk8W6dcLCozWPG","dgVdImozW6pcLmkCW4y3bCkiEmkxxSkaWQtdVf1O","AM9PBG","sw52ywXPzcbSAwnLBNnLigTLEsbBBwfSzM9YBwvKigrHDgfDlG","lSkzWRStmHb4WR7cPG","W6tcOmkLfsldRd/cRxtcSmomuNv0idFdP8k6WRfiWOWLy8oY","rJS1yYzJw1G0i2u2ps08EG","W7SbzG","zMv0y2G","vgeJnM7cMxa","c2xdKSoEW4pcNCowW4iS","WPVcU8o3jf4fzG","zM9SBg93","W7NcUSk1cYddSJ/cTxq","E8kmW5zSWPK","s1jIp8kvWONcIXvmW70","zg9TywLUCW","CMvWBgfJzq","W7ZcOCoFiJ0","mZGZq2LNzgrc","sw52ywXPzcbSAwnLBNnLigTLEsbBD3jVBMCGC2LNBMf0DxjLxs4","serLp8okWOxcIrnkW6b8","p8k3WPNdHa","WQHEuJbPWOJcKuFcJa","WPqSW7iiW5S","dwenWO0CW4VdLtayw2z+kYNcN1BcItbFg8oGDKNcVNOnACkxW7xcQvy7qwpcV3rsWR5zofGw","s2ddH8olW6VdNCowW445fmkpzmkqqSoaWRO","ntzns3Pqvwm","y29UzMLNlMnVBxbVBMvUDhmUtgLZDa","CgfYC2u","ymoIW7ddQhmcct3cQ3S","WRNdICovhK7cRSogWQruyCkDW4vn","D2LKDgG","W63cJbvfW6ldS2fkWPS","tSo/W6NcG3Leaa","DMfSAwrvBNrPBa","o8kXWONdLCksW6hcVG","mtaZn3Des01TEq","rL/cICofhSkNWQfAW4/dGG","l8koWQ8t","u8oDfcJcP8o3kCk3kNxdMSotzmk8WP8DWQLNo8oPgIGbECo9WONcPmoPyCkHy8kUySkGsebyu8kjWQZcHsxdGf3cNsFcQMTwWPpdPCk9aCkSEMnnW7qjpSkiWPNdNMuctdngW5ldVKyjbCkqW5LCetZcMCkHASk6W5yRw2dcRHZdGrfzW7WhzmkMW4RdH8obWQrNvxhdOmkQWPpcLCoIW6pdOcDlCSktAcJdRGDdW6mVmSknoH18cmk8WOJdV8owW7qNW5FdJflcPmk/W6/dLJSdWPD+tc4jlSkCWQrDW647WP/cNfilW5NdOCo2WQVcK0ZdK8oudXuWzh0JW7BcL8o6BI4PpGpcGH9QWOKTmmknr8kGxmkTWQeVWPtdSLtdHSo0vmosi0LVkSkupgRdImo6W4RcL0tdLxOUeWuNW53cSrBdUrrhW4eFrCoHs0BdIgi3orq3WQWEWQubWPTeeuutW53dHglcOmkBWQisW6xcH8o3WR8Ym1O3oJpdMmkku8ovtSkdoSoMW40orW","WRPiW4hcG8oTWOVcTSkYet7cKxSBBbW","hXVdKCkjfCkvWQX6W6/dTG","Dg9Rzw4","ntzLBeTfAgS","W6VcVmkKestdRG","zgvZDhjVEq","WPWmn8ogmNrR","DSo+W7VdVeueqcVcPN3cOmoKjq","WOKmm8o5mgvHyb3dMmksWOe","EmkyW5f9WQlcK8kaW5OnWP4M","DMfSDwu","BgLJzw5Zzq","nIPApfTMlmonhSkdW4CMaCk6yq","qY1CWP7cPYa","z3n0yY1LCNjVCG","WQX9lIDdWRpdHCkM","y2f0y2G","WPNcVmo3mK0uzG","C3rHCNrZv2L0Aa","hcLgWOVcL8k0gmksagi","zMLSztO","WRFcNgXhwCk7WP04","ANnVBG","v3BdQCoIySkWda","WQ8BwCk5W7ddVeBcHL/dLq","W7WKxZCbgq","W4JdTmooW5xcOmo+gY/cJctcKee","Dg9Wtgv2zwXeB21HAw5Z","mJq2nJG5vwrYC0zk","W5/cJmo6t8kLqG","zHpcTSkOzZ0","D1Ceasy","rdHiWPpcSIzz","C3vIC2nYAwjL","hgZdJ8ozW77cUmoxW54","BgvUz3rO","yhajeuLhe8o0fq","W7RcUCkLr3BdUCkcW6C","we59oCow","W7NcNbLtW7pdOhXnWQ3cMWDEW4y","Dg9ju09tDhjPBMC","Aw5PDgLHBgL6zvbSDwDPBNm","WOOgkSoloNL9","fgaXnN3dMgXWWO8bWRa6W4ddVK0oDIxdIa","smoPW67cVNDh","tmodcdlcVmonjCkzihxcTa","W6ulzSknj8ofW4epW6JcPq","mJnzBePAzfO","mxDeyNfSEq","grldLmkfrSoHWQn8W53dISoHtq","W5lcLSoQq8kSx8ot","sf/cLSofgmk6WQHb","Aw5JBhvKzxm","y2XPzw50sgvPz2H0","C2v0u2nYB2XStgvMDa","yNq8jLzGlZLUndy1AgGSkG","DxnLCL9Hz2vUDa","zM9YrwfJAa","WOZcPCkkWORdVSk+","y2XHC3noyw1L","BwfPBG","AhrTBa","y29UzMLNlMXPy2vUC2vlzxK","BxvSDgLWBgLLCG","EqWjWQTGW7pdLmoMzKuHW7y","vcvkW4OyWRxcSvisuq","wf/cH8ocfmkLWQrrW48","qCoUW6NcP2mtsNtcQCovEs/dO8k0nepcMcnvgSo7ACoYW7tdSbHpjar5kf3cOCkrBmop","x1r0l8oBWP7cKavg","Ag9ZDa","zw5JCNLWDa","mmkRWP7dK8orW7FcQCkVWOZcNW","WOyDkSog","sXT0W4y","W6NcVCkYgtFdPtlcLMu","DwX0Aw1HDguTB25LlxLLyxi","WRf5pJzeW6W","C2v0u2nYB2XSvg9W","tCo7W6NcTLLhat7cTG","ChvZAa","WORcT09dWRSCfmkGpW","zg9TywLU","WPlcVmoWiKq","zgvJCNLWDa","yxnZAwDU","lLrvW7O9WRtdRConAMmn","l8otmmoJWR8iW6q2W6NcLG","z8knW5bGWOxcMSknW5Km","WRPvW5hcJ8o5WPe","W5lcMSoNqCk2ra","mmkhmCk2W7T6","W5ZdPwjoWRGOfmkF","evWOWP3cMSoXW7yPEWHT","W74bymk0kmoiW4msW6RcGSkFWOK","rCoEW4BdJG","hmoFw8kBmxC","DgHLBG","DhLWzq","W6JcUGq6DG","C2LNBMf0DxjL","mJGXnde2BK93ELPc","Ahr0CdOVlW","DxnLCKfNzw50","C3rHDhvZ","WQBcKtFdUmkpgeWvWQnuW68rb8oXW6y","cSkyxgS","W5XEcfRdIuTiqKddHCoSWOqfW5xcSMJcRSo+wYpdTbJcM8ktW583sLToWQ3dS8oH","EmkkkmoZWRO","WRlcJwC","WR4nx8kUWRtdULxcMa","yCo+W4BdRL4kad8","sfJcGmoqa8kY","Dw5VyNnLCNzL","iSk0WP7dMCkrW7pcR8k4","h3hdLCox","zgvZy3jPChrPB24","WQFdOmkBEa","W7TFbKFcIfTsxuq"];function wi(t,e){let n=bi[t-=478];if(void 0===wi.tiiNLe){const t=function(t,e){let n,i,r=[],o=0,a="",s="";for(let e=0,n=(t=function(t){let e="";for(let n,i,r=0,o=0;i=t.charAt(o++);~i&&(n=r%4?64*n+i:i,r++%4)?e+=String.fromCharCode(255&n>>(-2*r&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);return e}(t)).length;e<n;e++)s+="%"+("00"+t.charCodeAt(e).toString(16)).slice(-2);for(t=decodeURIComponent(s),i=0;i<256;i++)r[i]=i;for(i=0;i<256;i++)o=(o+r[i]+e.charCodeAt(i%e.length))%256,n=r[i],r[i]=r[o],r[o]=n;i=0,o=0;for(let e=0;e<t.length;e++)i=(i+1)%256,o=(o+r[i])%256,n=r[i],r[i]=r[o],r[o]=n,a+=String.fromCharCode(t.charCodeAt(e)^r[(r[i]+r[o])%256]);return a};wi.xgtOCs=t,wi.rNkUxW={},wi.tiiNLe=!0}const i=t+bi[0],r=wi.rNkUxW[i];return void 0===r?(void 0===wi.zTTyRj&&(wi.zTTyRj=!0),n=wi.xgtOCs(n,e),wi.rNkUxW[i]=n):n=r,n}function Ci(t,e){let n=bi[t-=478];void 0===Ci.tDMByR&&(Ci.jgeyCN=function(t){const e=function(t){let e="";for(let n,i,r=0,o=0;i=t.charAt(o++);~i&&(n=r%4?64*n+i:i,r++%4)?e+=String.fromCharCode(255&n>>(-2*r&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);return e}(t);let n=[];for(let t=0,i=e.length;t<i;t++)n+="%"+("00"+e.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(n)},Ci.UnDGiA={},Ci.tDMByR=!0);const i=t+bi[0],r=Ci.UnDGiA[i];return void 0===r?(n=Ci.jgeyCN(n),Ci.UnDGiA[i]=n):n=r,n}function _i(t,e={}){const n=function(t,e){return wi(t-83,e)},i=function(t,e){return wi(t-83,e)},r=function(t,e){return wi(t-83,e)},o=function(t,e){return wi(t-83,e)},a=function(t,e){return wi(t-83,e)},s=function(t,e){return Ci(t-83)},l=function(t,e){return Ci(t-83)},c=function(t,e){return Ci(t-83)},h=function(t,e){return Ci(t-83)},u=function(t,e){return Ci(t-83)},{api:d,state:p,onDestroy:f,Actions:g,createComponent:m,html:v}=t;let y;const x=function(t){const{api:e,onDestroy:n,state:i,update:r,StyleMap:o}=t,a=e.name;let s;n(i.subscribe("config.debug",t=>s=t));let l=!1,c=-1;function h(t,e){e.options.data="fullReload",g.fullReload(e),setTimeout(g.triggerLoadedEvent,0)}function u(t,e){"subscribe"!==e.type&&"fullReload"!==e.options.data&&g.fullReload(e)}function d(t,e){"subscribe"!==e.type&&"sortRowsByColumn"!==e.options.data&&"fullReload"!==e.options.data&&(s&&console.trace("partial full cause",e),g.partialReload(!0,e))}function p(t,e){"subscribe"!==e.type&&"fullReload"!==e.options.data&&(s&&console.log("partial not full cause",e),g.partialReload(!1,e))}function f(t=null,e){e&&"subscribe"===e.type||e&&e.options.data&&"updateVisibleItems"===e.options.data||g.minimalReload(e)}var g={className:Ht(a),styleMap:new o({}),initializePlugins(){const e=[];function r(){e.forEach(t=>t()),e.length=0}n(i.subscribe("config.plugins",n=>{if(s&&console.log("Plugins changed. Destroying plugins..."),r(),s&&console.log("Plugins destroyed. Initializing plugins..."),void 0!==n&&Array.isArray(n))for(const i of n){const n=i(t);"function"==typeof n?e.push(n):n&&Object.prototype.hasOwnProperty.call(n,"destroy")&&e.push(n.destroy.bind(n))}s&&console.log("Plugins intialized.")})),n(r)},heightChange(){if(e.isMutedMethod("heightChange"))return;s&&console.log("Height change.",["config.innerHeight","config.headerHeight","config.scroll.horizontal.size"]);const t=i.get("config"),n=i.get("config.scroll.horizontal.size"),o=t.innerHeight-n;i.multi().update("$data.innerHeight",o).update("$data.height",t.innerHeight+t.headerHeight).done(),g.styleMap.style["--height"]=o+"px",r()},resizerActiveChange(t){l=t,g.className=Ht(e.name),l&&(g.className+=` ${e.name}__list-column-header-resizer--active`),r()},generateTreeFromVisibleRows(){if(e.isMutedMethod("generateTreeFromVisibleRows"))return;const t=e.getVisibleRowsId(),n=e.getAllRows(),o=e.getRowsData(),a={},s=i.get("config.chart.items"),l={};for(const e of t){n[e];const t=o[e];a[e]=t;for(const e of t.children){n[e];for(const t of o[e].items)l[t]=s[t]}for(const e of t.items)l[e]=s[e]}e.makeTreeMap(a,l,!0),r()},generateTree(t=!0){let n=i.get("$data.list.rowsIds");n=n.slice();const r=i.get("config.list.rows");if(n&&n.length){if(n.sort(),!r)return;const e=Object.keys(r);e.sort(),e.join(",")!==n.join(",")&&(t=!0)}if(s&&console.log("Generating tree.",{fullReload:t}),!t)return g.generateTreeFromVisibleRows();e.fillEmptyRowValues(r);let o=e.getAllRows();const a=e.getRowsData(),l=i.get("config.chart.items");e.makeTreeMap(a,l);const c=i.get("$data.treeMap");o=e.sortRows(Object.values(o),c.children),i.get("config").rows=o,e.prepareItems(l),i.update("$data.list.rowsIds",Object.keys(o))},prepareExpanded(){if(e.isMutedMethod("prepareExpanded"))return;const t=e.getAllRows();if(!t)return;const n=e.getRowsWithParentsExpanded(t);i.update("$data.list.rowsWithParentsExpanded",n)},calculateRowsHeight(){if(e.isMutedMethod("calculateRowsHeight"))return;const t=i.get("$data.list.rowsWithParentsExpanded"),n=e.recalculateRowsHeights(t);i.update("$data.list.rowsHeight",n),s&&console.log("calculateRowsHeight.",{rowsHeight:n})},recalculateRowPercents(){if(e.isMutedMethod("recalculateRowPercents"))return;const t=i.get("$data.list.rowsWithParentsExpanded");e.recalculateRowsPercents(t,i.get("config.scroll.vertical.area"))},getLastPageRowsHeight(t,n){if(e.isMutedMethod("getLastPageRowsHeight"))return;if(0===n.length)return 0;let r=0,o=0;const a=e.getAllRows(),l=e.getRowsData();for(let e=n.length-1;e>=0;e--){const i=l[n[e]];if(r+=i.outerHeight,r>=t){r-=i.outerHeight;break}o++}return s&&console.log("Last page height.",{lastPageCount:o,lastPageSize:r,rows:a}),i.multi().update("config.scroll.vertical.lastPageSize",r,{force:!0}).update("config.scroll.vertical.lastPageCount",o,{force:!0}).done(),r},calculateVerticalScrollArea(){if(e.isMutedMethod("calculateVerticalScrollArea"))return;const t=i.get("$data.list.rowsWithParentsExpanded"),n=i.get("$data.list.rowsHeight");if(n===c)return;c=n;const r=i.get("$data.innerHeight"),o=g.getLastPageRowsHeight(r,t);s&&console.log("Calculate height related things.",{rowsWithParentsExpanded:t,lastRowsHeight:c,innerHeight:r}),i.multi().update("config.scroll.vertical.area",n,{force:!0}).update("config.scroll.vertical.areaWithoutLastPage",n-o,{force:!0}).done()},generateVisibleRowsAndItems(){if(e.isMutedMethod("generateVisibleRowsAndItems"))return;const t=e.getVisibleRowsAndCalculateViewTop(),n=i.get("$data.list.visibleRows")||[];let o=!0;t.length!==n.length?o=!0:t.length&&(o=t.join("|")!==n.join("|")),s&&console.log("Generating visible rows and items #1.",{visibleRowsId:t,shouldUpdateRows:o}),o&&(s&&console.log("Saving visible rows and items #2.",{visibleRowsId:t,shouldUpdateRows:o}),i.update("$data.list.visibleRows",t));const a=[],l=e.getRowsData();for(const e of t){const t=l[e];for(const e of t.items)a.push(e)}const c=i.get("$data.chart.visibleItems")||[];s&&console.log("Generating visible rows and items #3.",{visibleItemsId:a,visibleRowsId:t,shouldUpdateRows:o,rowsData:l}),a.join("|")!==c.join("|")&&(s&&console.log("Generate visible rows and items #4.",{visibleItemsId:a,currentVisibleItems:c}),i.update("$data.chart.visibleItems",a)),r()},resetScroll(){i.update("config.scroll",t=>(t.horizontal.dataIndex=0,t.horizontal.data=null,t.horizontal.posPx=0,t.vertical.dataIndex=0,t.vertical.data=Object.values(i.get("config.list.rows"))[0],t.vertical.posPx=0,t))},updateItemsVerticalPositions(){const t=e.getAllItems(),n=e.getItemsData(),i=e.getRowsData();for(const r in t){const o=t[r];e.calculateItemVerticalPosition(r,n[r],i[o.rowId])}},getMutedListeners(){const t=[];return i.isMutedListener(h)&&t.push(h),i.isMutedListener(u)&&t.push(u),i.isMutedListener(d)&&t.push(d),i.isMutedListener(p)&&t.push(p),i.isMutedListener(f)&&t.push(f),t},triggerLoadedEvent(){Promise.resolve().then(()=>{const t=i.get("$data.elements.main");if(!t)return;const e=t.parentNode;if(!e)return;const n=new Event("gstc-loaded");t.dispatchEvent(n),e.dispatchEvent(n)})},getLastPageDatesWidth(t,e){if(0===e.length)return 0;let n=0,r=0;if(e.length&&Math.ceil(e[e.length-1].rightPx)>t)for(let i=e.length-1;i>=0;i--){const o=e[i];if(n+=o.width,n>=t){n-=o.width;break}r++}return i.update("config.scroll.horizontal",t=>(t.lastPageSize=n,t.lastPageCount=r,t)),n},generatePeriodDates(n,i,r,o){const a=n.period,s=i.from,l=e.time.date(s).startOf(a),c=e.time.date(i.to).endOf(a),h=e.time.generatePeriodDates({leftDate:l,rightDate:c,level:r,levelIndex:o,period:a,time:i,callOnDate:!1,callOnLevelDates:!0}),u=Ht("chart-calendar-date");for(const e of h)e.formatted=n.format({timeStart:e.leftGlobalDate,timeEnd:e.rightGlobalDate,vido:t,className:u,props:{date:e}});return h},limitGlobal:(t,n)=>(t.leftGlobal<t.from&&(t.leftGlobal=t.from),t.rightGlobal>t.to&&(t.rightGlobal=t.to),t.leftGlobalDate=e.time.date(t.leftGlobal).startOf(t.period),t.leftGlobal=t.leftGlobalDate.valueOf(),t.rightGlobalDate=e.time.date(t.rightGlobal).endOf(t.period),t.rightGlobal=t.rightGlobalDate.valueOf(),t.centerGlobal=n.centerGlobal,t.centerGlobalDate=n.centerGlobalDate,t),setCenter(t){let n=Math.floor(t.rightGlobalDate.diff(t.leftGlobalDate,"millisecond",!0)/2);const i=e.time.getRightViewDate(t);i.width!==i.currentView.width&&(n-=(i.width-i.currentView.width)*t.timePerPixel),t.centerGlobalDate=t.leftGlobalDate.add(n,"millisecond"),t.centerGlobal=t.centerGlobalDate.valueOf()},guessPeriod(t,e){if(!t.zoom)return t;for(const n of e){const e=n.find(e=>+t.zoom<=+e.zoomTo);e&&e.main&&(t.period=e.period)}return s&&console.log("[main.ts] guessPeriod",t.period,{time:t}),t},calculateDatesPercents(t,e){const n=g.getLastPageDatesWidth(e,t);let i=0;for(const e of t)i+=e.width;const r=i-n;for(const e of t)e.leftPercent=e.leftPx/r,e.rightPercent=e.rightPx/r;return r},getFormatAndLevelIndexForZoom(t,e=i.get("config.chart.calendarLevels")){let n=0,r=0;for(const i of e){for(const e of i)if(e.main&&t<=e.zoomTo)return r=n,{levelIndex:r,format:e};n++}if(!r)throw new Error(`There is no main date format for zoom ${t}.`)},generateAllDates(t,e,n){if(!t.zoom)return 0;t.allDates=new Array(e.length);const{format:i,levelIndex:r}=g.getFormatAndLevelIndexForZoom(t.zoom,e);t.level=r,t.allDates[t.level]=g.generatePeriodDates(i,t,e[r],t.level);let o=0;for(const n of e){const e=n.find(e=>+t.zoom<=+e.zoomTo);o!==t.level&&(t.allDates[o]=g.generatePeriodDates(e,t,n,o)),o++}return g.calculateDatesPercents(t.allDates[t.level],n)},getPeriodDates(t,n){if(!t.length)return[];const i=t.filter(t=>t.leftGlobal>=n.leftGlobal&&t.leftGlobal<=n.rightGlobal||t.rightGlobal>=n.leftGlobal&&t.rightGlobal<=n.rightGlobal||t.leftGlobal<=n.leftGlobal&&t.rightGlobal>=n.rightGlobal||t.leftGlobal>=n.leftGlobal&&t.rightGlobal<=n.rightGlobal);if(!i.length)return[];let r=0;i[0].period!==n.period&&n.leftGlobal>i[0].leftGlobal&&(r=e.time.getDatesDiffPx(n.leftGlobalDate,i[0].leftGlobalDate,n,!1));let o=0;const a=i.length-1;return i.map((t,e)=>(t.currentView={leftPx:o,rightPx:t.rightPx,width:t.width},r<0&&(t.currentView.width=t.width+r,t.currentView.leftPx=0,r=0),t.currentView.rightPx=t.currentView.leftPx+t.currentView.width,o+=t.currentView.width,e===a&&t.currentView.rightPx>n.width&&(t.currentView.rightPx=n.width,t.currentView.width=t.currentView.rightPx-t.currentView.leftPx),t))},updateLevels(t,e){t.levels=[];let n=0;for(const i of e){const e=i.find(e=>+t.zoom<=+e.zoomTo);if(e.main&&(t.format=e,t.level=n),e){let r=g.getPeriodDates(t.allDates[n],t);t.onCurrentViewLevelDates.forEach(o=>{r=o({dates:r,format:e,time:t,level:i,levelIndex:n})}),t.levels.push(r)}n++}},calculateTotalViewDuration(t){let e=0,n=0;for(const i of t.allDates[t.level])e+=i.width,n+=i.rightGlobal-i.leftGlobal;t.totalViewDurationPx=e,t.totalViewDurationMs=n},calculateRightGlobal(t,n,i){const r=e.time.findDateAtTime(t,i);if(!r)return t;let o=i.indexOf(r),a=r.leftGlobal,s=0;for(let t=i.length;o<t;o++){const t=i[o];if(a=t.leftGlobal,s+=t.width,s>=n)break}return a},updateVisibleItems(t=i.get("$data.chart.time"),n=i.multi()){s&&console.log("Updating visible items.",{});const r=i.get("$data.chart.visibleItems"),o=e.getItems(r);if(!o)return n;const a=e.getAllRows(),l=e.getRowsData(),c=e.getItemsData();if(!a)return n;if(!t.levels||!t.levels[t.level])return n;const h=i.get("config.chart.spacing");for(const i of o){if(!i)return n;const r=a[i.rowId],o=l[i.rowId];r&&o&&e.calculateItemPosition(i.id,c[i.id],o,t,h)}return n=n.update("$data.chart.items",t=>t),s&&console.log("Visible items updated.",{visibleItemsId:r,visibleItems:o}),n},recalculateTimes(t){if(e.isMutedMethod("recalculateTimes"))return;s&&console.log("Recalculating times.",{reason:t});const n=i.get("$data.chart.dimensions.width");if(!n)return;const o=i.get("config.chart.time"),a=i.get("config.chart.calendarLevels"),l=Object.assign({},i.get("$data.chart.time"));let c=Vt({},o);if(!(c.from&&c.to||Object.keys(i.get("config.chart.items")).length))return;c.fromDate=e.time.date(c.from),c.toDate=e.time.date(c.to);const h=i.get("config.scroll.horizontal");let u=0;if(c.calculatedZoomMode&&n){if(c.totalViewDurationMs=e.time.date(c.to).diff(c.from,"millisecond"),c.timePerPixel=c.totalViewDurationMs/n,c.zoom=Math.log(c.timePerPixel)/Math.log(2),g.guessPeriod(c,a),l.zoom!==c.zoom||0===c.allDates.length||"forceUpdate"===t.name||"items"===t.name||"reload"===t.name||"from"===t.name||"to"===t.name){u=g.generateAllDates(c,a,n),g.calculateTotalViewDuration(c);const t=c.allDates[c.level];c.to=t[t.length-1].rightGlobal,c.toDate=e.time.date(c.to)}c.leftGlobal=c.from,c.leftGlobalDate=e.time.date(c.leftGlobal),c.rightGlobal=c.to,c.rightGlobalDate=e.time.date(c.rightGlobal)}else if(c.timePerPixel=Math.pow(2,c.zoom),"items"===t.name&&(c.from=t.from,c.to=t.to,c.fromDate=e.time.date(c.from),c.toDate=e.time.date(c.to)),c=e.time.recalculateFromTo(c),l.zoom!==c.zoom||0===c.allDates.length||"forceUpdate"===t.name||"items"===t.name||"reload"===t.name||"from"===t.name||"to"===t.name){u=g.generateAllDates(c,a,n),g.calculateTotalViewDuration(c);const t=c.allDates[c.level];c.to=t[t.length-1].rightGlobal,c.toDate=e.time.date(c.to)}else c.totalViewDurationPx=l.totalViewDurationPx,c.totalViewDurationMs=l.totalViewDurationMs;c.scrollWidth=u||l.scrollWidth;const d=c.allDates[c.level];let p=!1;const f=i.get("$data.chart.time.recalculateTimesLastReason")||"";if(!c.calculatedZoomMode)if(c.zoom===l.zoom&&"period"!==t.name||!l.centerGlobal){let t=h.data;t||(t=d[0]),c.leftGlobalDate=t.leftGlobalDate,c.leftGlobal=c.leftGlobalDate.valueOf(),c.rightGlobal=g.calculateRightGlobal(c.leftGlobal,n,d),c.rightGlobalDate=e.time.date(c.rightGlobal).endOf(c.period),c.rightGlobal=c.rightGlobal.valueOf(),p="zoom"!==f&&"period"!==f&&"time"!==f}else{const t=n*c.timePerPixel,i=Math.round(t/2),r=Math.ceil(l.centerGlobalDate.diff(l.centerGlobal+i,c.period,!0));c.leftGlobalDate=l.centerGlobalDate.add(r,c.period);const o=c.leftGlobalDate.valueOf();let a=e.time.findDateAtTime(o,d);a||(a=d[0]),c.leftGlobal=a.leftGlobal,c.leftGlobalDate=a.leftGlobalDate,c.rightGlobal=g.calculateRightGlobal(c.leftGlobal,n,d),c.rightGlobalDate=e.time.date(c.rightGlobal).endOf(c.period),c.rightGlobal=c.rightGlobalDate.valueOf()}g.limitGlobal(c,l),c.leftInner=c.leftGlobal-c.from,c.rightInner=c.rightGlobal-c.from,c.leftPx=0,c.rightPx=n,c.width=n,g.updateLevels(c,a),p&&g.setCenter(c);const m=c.levels[c.level];m&&m.length&&(c.leftPx=m[0].leftPx,c.rightPx=m[m.length-1].leftPx);let v=i.multi().update("$data.chart.time",c).update("config.chart.time",t=>(t.zoom=c.zoom,t.level=c.level,t.period=c.format.period,t.leftGlobal=c.leftGlobal,t.leftGlobalDate=c.leftGlobalDate,t.centerGlobal=c.centerGlobal,t.rightGlobal=c.rightGlobal,t.rightGlobalDate=c.rightGlobalDate,t.from=c.from,t.to=c.to,t.allDates=c.allDates,t.additionalSpaceAdded=c.additionalSpaceAdded,t));v=g.updateVisibleItems(c,v),v=v.update("$data.chart.time.recalculateTimesLastReason",t.name),v.done(),s&&console.log("Time recalculated.",{time:c}),r()},minimalReload(t){if(e.isMutedMethod("minimalReload"))return;s&&console.log("Minimal reload fired.",{eventInfo:t}),e.muteMethod("minimalReload");const n=g.getMutedListeners();i.mute(h),i.mute(u),i.mute(d),i.mute(p),i.mute(f),g.calculateRowsHeight(),g.generateVisibleRowsAndItems(),g.calculateVerticalScrollArea(),g.recalculateRowPercents(),e.calculateVisibleRowsHeights(),g.updateItemsVerticalPositions(),g.updateVisibleItems().done(),n.includes(h)||i.unmute(h),n.includes(u)||i.unmute(u),n.includes(d)||i.unmute(d),n.includes(p)||i.unmute(p),n.includes(f)||i.unmute(f),e.unmuteMethod("minimalReload"),s&&console.log("Minimal reload finished.",{eventInfo:t})},partialReload(t=!0,n){if(e.isMutedMethod("partialReload"))return;s&&console.log("Partial reload fired.",{fullReload:t,eventInfo:n}),e.muteMethod("partialReload");const r=g.getMutedListeners();i.mute(h),i.mute(u),i.mute(d),i.mute(p),i.mute(f),g.generateTree(t),g.prepareExpanded(),g.minimalReload(n),r.includes(h)||i.unmute(h),r.includes(u)||i.unmute(u),r.includes(d)||i.unmute(d),r.includes(p)||i.unmute(p),r.includes(f)||i.unmute(f),e.unmuteMethod("partialReload"),s&&console.log("Partial reload finished.",{fullReload:t,eventInfo:n})},fullReload(t){if(e.isMutedMethod("fullReload"))return;s&&console.log("Full reload fired.",t),e.muteMethod("fullReload");const n=g.getMutedListeners();i.mute("*"),i.mute(h),i.mute(u),i.mute(d),i.mute(p),i.mute(f);const o=i.get("$data");o.list.rows={},o.chart.items={},g.partialReload(!0,t),g.recalculateTimes({name:"reload"}),g.resetScroll(),n.includes(h)||i.unmute(h),n.includes(u)||i.unmute(u),n.includes(d)||i.unmute(d),n.includes(p)||i.unmute(p),n.includes(f)||i.unmute(f),e.unmuteMethod("fullReload"),i.unmute("*"),r(),s&&console.log("Full reload finished.",t)}};n(i.subscribeAll(["config.innerHeight","config.headerHeight","config.scroll.horizontal.size"],g.heightChange)),n(i.subscribe("$data.list.columns.resizer.active",g.resizerActiveChange)),n(i.subscribe("config;",h)),n(i.subscribeAll(["config.chart.items;","config.list.rows;"],u)),n(i.subscribeAll(["config.list.rows.*;","config.list.rows.*.parentId"],d,{bulk:!0})),n(i.subscribe("config.chart.items.*;",d,{bulk:!0})),n(i.subscribeAll(["config.chart.items.*.rowId","config.list.rows.*.expanded"],p,{bulk:!0})),n(i.subscribeAll(["config.chart.items.*.time","config.chart.items.*.height","config.chart.items.*.top","$data.list.rows.*.outerHeight","config.scroll.vertical.offset","$data.innerHeight","$data.list.rowsHeight"],f,{bulk:!0})),n(i.subscribe("config.list.sort",t=>{const n=i.get("config.list.columns.data."+t.activeColumnId);n&&e.sortRowsByColumn(n,t.asc)})),n(i.subscribe("config.chart.items",(function(t,e){e.options.data&&"updateVisibleItems"===e.options.data||g.updateVisibleItems().done()}),{bulk:!0,ignore:["config.chart.items.*.selected","config.chart.items.*.selecting","config.chart.items.*.moving"]}));const m={initialized:!1,zoom:0,period:"",scrollDataIndex:0,chartWidth:0,from:0,to:0};return n(i.subscribeAll(["config.chart.time","$data.chart.time","config.chart.calendarLevels","config.scroll.horizontal.dataIndex","$data.chart.dimensions.width"],()=>{const t=function(){const t=i.get("config.chart.time"),e=i.get("config.scroll.horizontal.dataIndex"),n=i.get("$data.chart.dimensions.width"),r=Object.assign({},m);return m.zoom=t.zoom,m.period=t.period,m.from=t.from,m.to=t.to,m.scrollDataIndex=e,m.chartWidth=n,m.initialized?!0===t.forceUpdate?(i.update("config.chart.time.forceUpdate",!1),{name:"forceUpdate"}):t.zoom!==r.zoom?{name:"zoom",oldValue:r.zoom,newValue:t.zoom}:t.period!==r.period?{name:"period",oldValue:r.period,newValue:t.period}:t.from!==r.from?{name:"from",oldValue:r.from,newValue:t.from}:t.to!==r.to?{name:"to",oldValue:r.to,newValue:t.to}:e!==r.scrollDataIndex?{name:"scroll",oldValue:r.scrollDataIndex,newValue:e}:n!==r.chartWidth?{name:"chartWidth",oldValue:r.chartWidth,newValue:n}:{name:""}:(m.initialized=!0,{name:"all"})}();t.name&&g.recalculateTimes(t)},{bulk:!0})),n(i.subscribe("config.chart.items.:itemId.time",t=>{const n=i.get("$data.chart.time"),r=e.getAllItems();for(const e of t){const t=r[e.params.itemId];if(!t)return;if(t.time.start<n.from||t.time.end>n.to){let e=n.from,i=n.to;return t.time.start<n.from&&(e=t.time.start),t.time.end>n.to&&(i=t.time.end),g.recalculateTimes({name:"items",from:e,to:i})}}},{bulk:!0})),t.api.main=g,g}(t);let b;x[s(591)](),f(p[n(618,"s$uI")](i(690,"C06f"),t=>b=t));const w=v`
    <br />
    If you are using trial version, please generate key
    <a href="https://gstc.neuronet.io/free-key" target="_blank">here</a>. Otherwise, please contact with your developer
    or send mail to us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
  `,C=v`
    <div class="gstc-error">
      <div style="font-weight: bold;margin-bottom:10px;">[ Connection error ]</div>
      An error occurred while trying to connect with license services for
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar" target="_blank"
        >gantt-schedule-timeline-calendar</a
      >
      component.<br /><br />
      If you are using <span class="gstc-code">Content-Security-Policy</span> header make sure you have added
      <span class="gstc-code">https://gstc.neuronet.io</span> address after space.<br />
      Example: <span class="gstc-code">Content-Security-Policy: connect-src self https://gstc.neuronet.io</span><br />
      More info
      <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy" target="_blank"
        >here</a
      >
      and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank">here</a><br /><br />
      If that doesn't help please contact your developer, search for similar
      <a href="https://github.com/neuronetio/gantt-schedule-timeline-calendar/issues">issues here</a> or create one. You
      can also contact us at <a href="mailto:neuronet.io@gmail.com">neuronet.io@gmail.com</a>
    </div>
  `,_=v`
    <div class="gstc-error">
      <div style="font-weight:bold; margin-bottom: 10px;">
        The gantt-schedule-timeline-calendar component will not work with local files (protocol file: ///)
      </div>
      <br /><br />
      Files needs to be served from http server like
      <a href="https://www.npmjs.com/package/http-server" target="_blank" rel="nofollow">http-server</a> or
      <a href="https://www.npmjs.com/package/sirv-cli" target="_blank" rel="nofollow">sirv-cli</a>
    </div>
  `,S=[];let O,M;S[l(629)](p[c(583)](c(717),t=>O=t)),S[l(629)](p[n(702,"cF!U")](i(677,"Rd9("),t=>M=t));const k=m(O);f(()=>{k&&k[(1083,"yk!G",n(573,"yk!G"))]()});const A=m(M);f(()=>{A&&A[(1732,h(735))]()}),f(()=>{S[(11,l(607))](t=>t())});const{onDestroy:T,state:D,update:P,html:I,unsafeHTML:E}=t;var j=!0;function L(t){const e=function(t,e){return i(e- -711,t)},a=function(t,e){return n(e- -711,t)},d=function(t,e){return o(e- -711,t)},f=function(t,e){return r(e- -711,t)},g=function(t,e){return n(e- -711,t)},m=function(t,e){return c(e- -711)},v=function(t,e){return u(e- -711)},x=function(t,e){return l(e- -711)},b=function(t,e){return s(e- -711)},S=function(t,e){return h(e- -711)},O=m(0,-106);let M=location[v(0,-92)];if(typeof location[e("Bbuo",-149)]!==a("sBBj",-18)){const t=location[d("XV7r",19)];t[d("Tj(8",-72)]&&(M=String(t[t[m(0,-126)]-1]))}if(M[x(0,-143)](S(0,-141)))return j=!1,void(y=_);var k;k=M,M=(k=String(k))[(706,Ci(623))]((651,Ci(568)),"")[(706,Ci(623))](wi(482,"%#tE"),"");const A=e("^pRZ",18);if(t){if(t[b(0,-143)](e("%gJp",-130)))return function(){const n=function(t,e){return d(e,t-640)},i=function(t,n){return e(n,t-640)},r=function(t,e){return f(e,t-640)},o=function(t,e){return a(e,t-640)},s=function(t,e){return b(0,t-640)},l=function(t,e){return x(0,t-640)},c=function(t,e){return b(0,t-640)},h=function(t,e){return S(0,t-640)};let u=null;try{const e=t[s(599)](5),i=ze[s(562)](e,O)[n(600,"tYM0")](Ge);u=JSON[l(647)](i),u&&p[n(555,"%#tE")](s(490),{for:u[n(530,"gN*N")],domains:[...u[r(521,"*3*X")]],type:Object[r(663,"cF!U")]({},u[n(657,"sBBj")]),validUntil:Object[c(563)]({},u[o(498,"nr*&")])})}catch(t){}if(!u||!u[h(653)]||!u[l(653)][l(669)]){j=!1;const t=c(621),e=l(493);return void(y=I` <div class="${e}"><strong>${t}</strong><br />${w}</div> `)}if(!u[c(578)]){j=!1;const t=s(614),e=n(633,"s$uI");return void(y=I` <div class="${e}"><strong>${t}</strong><br />${w}</div> `)}const m=function(t){const e=function(t,e){return g(t,e-705)},n=Object[e("XV7r",632)]({},t);return delete n[(643,S(0,-62))],delete n[("cF!U",618,f("cF!U",-87))],JSON[e("o)O!",631)](n)}(u);if(!function(t,e){if(!t||!e)return!1;const n=new xi({});return n[("A0Jt",702,f("A0Jt",-68))](A),n[("GAx%",667,f("GAx%",-103))](e,t,Ve)}(u[o(596,"qO4f")],m)){j=!1;const t=c(638),e=l(493);return void(y=I` <div class="${e}"><strong>${t}</strong><br />${w}</div> `)}const C=(new Date)[i(652,"Nx9r")]();if(u[l(653)][h(669)]<C){j=!1;const t=i(618,"%]c&"),e=r(503,"8&wu");y=I` <div class="${e}"><strong>${t}</strong></div> `}else{if(u[h(576)][l(669)]===r(592,"J)IH")||u[l(576)][c(669)]===s(554)){const t=M[(668,"o)O!",g("o)O!",28))](":");t>-1&&(M=M[i(604,"XV7r")](0,t));const e=(t=>{const e=(t=>{if("string"!=typeof t)return{type:en.Error,errors:[rn(t)]};const e=t.trim(),n=e.replace(/^\[|]$/g,""),i=nn.version(n);if(void 0!==i)return{type:en.ValidIp,ip:n,ipVersion:i};if(e.length>253)return{type:en.Error,errors:[on(e)]};const r=e.split(".");""===r[r.length-1]&&r.pop();const o=[];let a=1;for(const t of r){const e=/[^\d\-a-z]/iu.exec(t);e?o.push(ln(t,e[0],e.index+1)):t.length<1?o.push(an(t,a)):t.length>63&&o.push(sn(t,a)),a+=t.length+".".length}return o.length>0?{type:en.Error,errors:o}:{type:en.ValidDomain,domain:e,labels:r}})(t);if(e.type===en.Error)return{type:pn.Invalid,hostname:t,errors:e.errors};if(e.type===en.ValidIp)return{type:pn.Ip,hostname:e.ip,ipVersion:e.ipVersion};const{labels:n,domain:i}=e;if(""===t||dn.includes(n[n.length-1]))return{type:pn.Reserved,hostname:i,labels:n};mn=null!=mn?mn:un("ac>com,edu,gov,net,mil,org<ad>nom<ae>co,net,org,sch,ac,gov,mil<aero>accident-investigation,accident-prevention,aerobatic,aeroclub,aerodrome,agents,aircraft,airline,airport,air-surveillance,airtraffic,air-traffic-control,ambulance,amusement,association,author,ballooning,broker,caa,cargo,catering,certification,championship,charter,civilaviation,club,conference,consultant,consulting,control,council,crew,design,dgca,educator,emergency,engine,engineer,entertainment,equipment,exchange,express,federation,flight,fuel,gliding,government,groundhandling,group,hanggliding,homebuilt,insurance,journal,journalist,leasing,logistics,magazine,maintenance,media,microlight,modelling,navigation,parachuting,paragliding,passenger-association,pilot,press,production,recreation,repbody,res,research,rotorcraft,safety,scientist,services,show,skydiving,software,student,trader,trading,trainer,union,workinggroup,works<af>gov,com,org,net,edu<ag>com,org,net,co,nom<ai>off,com,net,org<al>com,edu,gov,mil,net,org<am>co,com,commune,net,org<ao>ed,gv,og,co,pb,it<aq,ar>com,edu,gob,gov,int,mil,musica,net,org,tur<arpa>e164,in-addr,ip6,iris,uri,urn<as>gov<asia,at>ac>sth<co,gv,or<au>com,net,org,edu>act,catholic,nsw>schools<nt,qld,sa,tas,vic,wa<gov>qld,sa,tas,vic,wa<asn,id,info,conf,oz,act,nsw,nt,qld,sa,tas,vic,wa<aw>com<ax,az>com,net,int,gov,org,edu,info,pp,mil,name,pro,biz<ba>com,edu,gov,mil,net,org<bb>biz,co,com,edu,gov,info,net,org,store,tv<bd>*<be>ac<bf>gov<bg>a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9<bh>com,edu,net,org,gov<bi>co,com,edu,or,org<biz,bj>asso,barreau,gouv<bm>com,edu,gov,net,org<bn>com,edu,gov,net,org<bo>com,edu,gob,int,org,net,mil,tv,web,academia,agro,arte,blog,bolivia,ciencia,cooperativa,democracia,deporte,ecologia,economia,empresa,indigena,industria,info,medicina,movimiento,musica,natural,nombre,noticias,patria,politica,profesional,plurinacional,pueblo,revista,salud,tecnologia,tksat,transporte,wiki<br>9guacu,abc,adm,adv,agr,aju,am,anani,aparecida,app,arq,art,ato,b,barueri,belem,bhz,bib,bio,blog,bmd,boavista,bsb,campinagrande,campinas,caxias,cim,cng,cnt,com,contagem,coop,coz,cri,cuiaba,curitiba,def,des,det,dev,ecn,eco,edu,emp,enf,eng,esp,etc,eti,far,feira,flog,floripa,fm,fnd,fortal,fot,foz,fst,g12,geo,ggf,goiania,gov>ac,al,am,ap,ba,ce,df,es,go,ma,mg,ms,mt,pa,pb,pe,pi,pr,rj,rn,ro,rr,rs,sc,se,sp,to<gru,imb,ind,inf,jab,jampa,jdf,joinville,jor,jus,leg,lel,log,londrina,macapa,maceio,manaus,maringa,mat,med,mil,morena,mp,mus,natal,net,niteroi,nom>*<not,ntr,odo,ong,org,osasco,palmas,poa,ppg,pro,psc,psi,pvh,qsl,radio,rec,recife,rep,ribeirao,rio,riobranco,riopreto,salvador,sampa,santamaria,santoandre,saobernardo,saogonca,seg,sjc,slg,slz,sorocaba,srv,taxi,tc,tec,teo,the,tmp,trd,tur,tv,udi,vet,vix,vlog,wiki,zlg<bs>com,net,org,edu,gov<bt>com,edu,gov,net,org<bv,bw>co,org<by>gov,mil,com,of<bz>com,net,org,edu,gov<ca>ab,bc,mb,nb,nf,nl,ns,nt,nu,on,pe,qc,sk,yk,gc<cat,cc,cd>gov<cf,cg,ch,ci>org,or,com,co,edu,ed,ac,net,go,asso,xn--aroport-bya,int,presse,md,gouv<ck>*,!www<cl>aprendemas,co,gob,gov,mil<cm>co,com,gov,net<cn>ac,com,edu,gov,net,org,mil,xn--55qx5d,xn--io0a7i,xn--od0alg,ah,bj,cq,fj,gd,gs,gz,gx,ha,hb,he,hi,hl,hn,jl,js,jx,ln,nm,nx,qh,sc,sd,sh,sn,sx,tj,xj,xz,yn,zj,hk,mo,tw<co>arts,com,edu,firm,gov,info,int,mil,net,nom,org,rec,web<com,coop,cr>ac,co,ed,fi,go,or,sa<cu>com,edu,org,net,gov,inf<cv,cw>com,edu,net,org<cx>gov<cy>ac,biz,com,ekloges,gov,ltd,name,net,org,parliament,press,pro,tm<cz,de,dj,dk,dm>com,net,org,edu,gov<do>art,com,edu,gob,gov,mil,net,org,sld,web<dz>art,asso,com,edu,gov,org,net,pol,soc,tm<ec>com,info,net,fin,k12,med,pro,org,edu,gov,gob,mil<edu,ee>edu,gov,riik,lib,med,com,pri,aip,org,fie<eg>com,edu,eun,gov,mil,name,net,org,sci<er>*<es>com,nom,org,gob,edu<et>com,gov,org,edu,biz,name,info,net<eu,fi>aland<fj>ac,biz,com,gov,info,mil,name,net,org,pro<fk>*<fm>com,edu,net,org<fo,fr>asso,com,gouv,nom,prd,tm,aeroport,avocat,avoues,cci,chambagri,chirurgiens-dentistes,experts-comptables,geometre-expert,greta,huissier-justice,medecin,notaires,pharmacien,port,veterinaire<ga,gb,gd>edu,gov<ge>com,edu,gov,org,mil,net,pvt<gf,gg>co,net,org<gh>com,edu,gov,org,mil<gi>com,ltd,gov,mod,edu,org<gl>co,com,edu,net,org<gm,gn>ac,com,edu,gov,org,net<gov,gp>com,net,mobi,edu,org,asso<gq,gr>com,edu,net,org,gov<gs,gt>com,edu,gob,ind,mil,net,org<gu>com,edu,gov,guam,info,net,org,web<gw,gy>co,com,edu,gov,net,org<hk>com,edu,gov,idv,net,org,xn--55qx5d,xn--wcvs22d,xn--lcvr32d,xn--mxtq1m,xn--gmqw5a,xn--ciqpn,xn--gmq050i,xn--zf0avx,xn--io0a7i,xn--mk0axi,xn--od0alg,xn--od0aq3b,xn--tn0ag,xn--uc0atv,xn--uc0ay4a<hm,hn>com,edu,org,net,mil,gob<hr>iz,from,name,com<ht>com,shop,firm,info,adult,net,pro,org,med,art,coop,pol,asso,edu,rel,gouv,perso<hu>co,info,org,priv,sport,tm,2000,agrar,bolt,casino,city,erotica,erotika,film,forum,games,hotel,ingatlan,jogasz,konyvelo,lakas,media,news,reklam,sex,shop,suli,szex,tozsde,utazas,video<id>ac,biz,co,desa,go,mil,my,net,or,ponpes,sch,web<ie>gov<il>ac,co,gov,idf,k12,muni,net,org<im>ac,co>ltd,plc<com,net,org,tt,tv<in>co,firm,net,org,gen,ind,nic,ac,edu,res,gov,mil<info,int>eu<io>com<iq>gov,edu,mil,com,org,net<ir>ac,co,gov,id,net,org,sch,xn--mgba3a4f16a,xn--mgba3a4fra<is>net,com,edu,gov,org,int<it>gov,edu,abr,abruzzo,aosta-valley,aostavalley,bas,basilicata,cal,calabria,cam,campania,emilia-romagna,emiliaromagna,emr,friuli-v-giulia,friuli-ve-giulia,friuli-vegiulia,friuli-venezia-giulia,friuli-veneziagiulia,friuli-vgiulia,friuliv-giulia,friulive-giulia,friulivegiulia,friulivenezia-giulia,friuliveneziagiulia,friulivgiulia,fvg,laz,lazio,lig,liguria,lom,lombardia,lombardy,lucania,mar,marche,mol,molise,piedmont,piemonte,pmn,pug,puglia,sar,sardegna,sardinia,sic,sicilia,sicily,taa,tos,toscana,trentin-sud-tirol,xn--trentin-sd-tirol-rzb,trentin-sudtirol,xn--trentin-sdtirol-7vb,trentin-sued-tirol,trentin-suedtirol,trentino-a-adige,trentino-aadige,trentino-alto-adige,trentino-altoadige,trentino-s-tirol,trentino-stirol,trentino-sud-tirol,xn--trentino-sd-tirol-c3b,trentino-sudtirol,xn--trentino-sdtirol-szb,trentino-sued-tirol,trentino-suedtirol,trentino,trentinoa-adige,trentinoaadige,trentinoalto-adige,trentinoaltoadige,trentinos-tirol,trentinostirol,trentinosud-tirol,xn--trentinosd-tirol-rzb,trentinosudtirol,xn--trentinosdtirol-7vb,trentinosued-tirol,trentinosuedtirol,trentinsud-tirol,xn--trentinsd-tirol-6vb,trentinsudtirol,xn--trentinsdtirol-nsb,trentinsued-tirol,trentinsuedtirol,tuscany,umb,umbria,val-d-aosta,val-daosta,vald-aosta,valdaosta,valle-aosta,valle-d-aosta,valle-daosta,valleaosta,valled-aosta,valledaosta,vallee-aoste,xn--valle-aoste-ebb,vallee-d-aoste,xn--valle-d-aoste-ehb,valleeaoste,xn--valleaoste-e7a,valleedaoste,xn--valledaoste-ebb,vao,vda,ven,veneto,ag,agrigento,al,alessandria,alto-adige,altoadige,an,ancona,andria-barletta-trani,andria-trani-barletta,andriabarlettatrani,andriatranibarletta,ao,aosta,aoste,ap,aq,aquila,ar,arezzo,ascoli-piceno,ascolipiceno,asti,at,av,avellino,ba,balsan-sudtirol,xn--balsan-sdtirol-nsb,balsan-suedtirol,balsan,bari,barletta-trani-andria,barlettatraniandria,belluno,benevento,bergamo,bg,bi,biella,bl,bn,bo,bologna,bolzano-altoadige,bolzano,bozen-sudtirol,xn--bozen-sdtirol-2ob,bozen-suedtirol,bozen,br,brescia,brindisi,bs,bt,bulsan-sudtirol,xn--bulsan-sdtirol-nsb,bulsan-suedtirol,bulsan,bz,ca,cagliari,caltanissetta,campidano-medio,campidanomedio,campobasso,carbonia-iglesias,carboniaiglesias,carrara-massa,carraramassa,caserta,catania,catanzaro,cb,ce,cesena-forli,xn--cesena-forl-mcb,cesenaforli,xn--cesenaforl-i8a,ch,chieti,ci,cl,cn,co,como,cosenza,cr,cremona,crotone,cs,ct,cuneo,cz,dell-ogliastra,dellogliastra,en,enna,fc,fe,fermo,ferrara,fg,fi,firenze,florence,fm,foggia,forli-cesena,xn--forl-cesena-fcb,forlicesena,xn--forlcesena-c8a,fr,frosinone,ge,genoa,genova,go,gorizia,gr,grosseto,iglesias-carbonia,iglesiascarbonia,im,imperia,is,isernia,kr,la-spezia,laquila,laspezia,latina,lc,le,lecce,lecco,li,livorno,lo,lodi,lt,lu,lucca,macerata,mantova,massa-carrara,massacarrara,matera,mb,mc,me,medio-campidano,mediocampidano,messina,mi,milan,milano,mn,mo,modena,monza-brianza,monza-e-della-brianza,monza,monzabrianza,monzaebrianza,monzaedellabrianza,ms,mt,na,naples,napoli,no,novara,nu,nuoro,og,ogliastra,olbia-tempio,olbiatempio,or,oristano,ot,pa,padova,padua,palermo,parma,pavia,pc,pd,pe,perugia,pesaro-urbino,pesarourbino,pescara,pg,pi,piacenza,pisa,pistoia,pn,po,pordenone,potenza,pr,prato,pt,pu,pv,pz,ra,ragusa,ravenna,rc,re,reggio-calabria,reggio-emilia,reggiocalabria,reggioemilia,rg,ri,rieti,rimini,rm,rn,ro,roma,rome,rovigo,sa,salerno,sassari,savona,si,siena,siracusa,so,sondrio,sp,sr,ss,suedtirol,xn--sdtirol-n2a,sv,ta,taranto,te,tempio-olbia,tempioolbia,teramo,terni,tn,to,torino,tp,tr,trani-andria-barletta,trani-barletta-andria,traniandriabarletta,tranibarlettaandria,trapani,trento,treviso,trieste,ts,turin,tv,ud,udine,urbino-pesaro,urbinopesaro,va,varese,vb,vc,ve,venezia,venice,verbania,vercelli,verona,vi,vibo-valentia,vibovalentia,vicenza,viterbo,vr,vs,vt,vv<je>co,net,org<jm>*<jo>com,org,net,edu,sch,gov,mil,name<jobs,jp>ac,ad,co,ed,go,gr,lg,ne,or,aichi>aisai,ama,anjo,asuke,chiryu,chita,fuso,gamagori,handa,hazu,hekinan,higashiura,ichinomiya,inazawa,inuyama,isshiki,iwakura,kanie,kariya,kasugai,kira,kiyosu,komaki,konan,kota,mihama,miyoshi,nishio,nisshin,obu,oguchi,oharu,okazaki,owariasahi,seto,shikatsu,shinshiro,shitara,tahara,takahama,tobishima,toei,togo,tokai,tokoname,toyoake,toyohashi,toyokawa,toyone,toyota,tsushima,yatomi<akita>akita,daisen,fujisato,gojome,hachirogata,happou,higashinaruse,honjo,honjyo,ikawa,kamikoani,kamioka,katagami,kazuno,kitaakita,kosaka,kyowa,misato,mitane,moriyoshi,nikaho,noshiro,odate,oga,ogata,semboku,yokote,yurihonjo<aomori>aomori,gonohe,hachinohe,hashikami,hiranai,hirosaki,itayanagi,kuroishi,misawa,mutsu,nakadomari,noheji,oirase,owani,rokunohe,sannohe,shichinohe,shingo,takko,towada,tsugaru,tsuruta<chiba>abiko,asahi,chonan,chosei,choshi,chuo,funabashi,futtsu,hanamigawa,ichihara,ichikawa,ichinomiya,inzai,isumi,kamagaya,kamogawa,kashiwa,katori,katsuura,kimitsu,kisarazu,kozaki,kujukuri,kyonan,matsudo,midori,mihama,minamiboso,mobara,mutsuzawa,nagara,nagareyama,narashino,narita,noda,oamishirasato,omigawa,onjuku,otaki,sakae,sakura,shimofusa,shirako,shiroi,shisui,sodegaura,sosa,tako,tateyama,togane,tohnosho,tomisato,urayasu,yachimata,yachiyo,yokaichiba,yokoshibahikari,yotsukaido<ehime>ainan,honai,ikata,imabari,iyo,kamijima,kihoku,kumakogen,masaki,matsuno,matsuyama,namikata,niihama,ozu,saijo,seiyo,shikokuchuo,tobe,toon,uchiko,uwajima,yawatahama<fukui>echizen,eiheiji,fukui,ikeda,katsuyama,mihama,minamiechizen,obama,ohi,ono,sabae,sakai,takahama,tsuruga,wakasa<fukuoka>ashiya,buzen,chikugo,chikuho,chikujo,chikushino,chikuzen,chuo,dazaifu,fukuchi,hakata,higashi,hirokawa,hisayama,iizuka,inatsuki,kaho,kasuga,kasuya,kawara,keisen,koga,kurate,kurogi,kurume,minami,miyako,miyama,miyawaka,mizumaki,munakata,nakagawa,nakama,nishi,nogata,ogori,okagaki,okawa,oki,omuta,onga,onojo,oto,saigawa,sasaguri,shingu,shinyoshitomi,shonai,soeda,sue,tachiarai,tagawa,takata,toho,toyotsu,tsuiki,ukiha,umi,usui,yamada,yame,yanagawa,yukuhashi<fukushima>aizubange,aizumisato,aizuwakamatsu,asakawa,bandai,date,fukushima,furudono,futaba,hanawa,higashi,hirata,hirono,iitate,inawashiro,ishikawa,iwaki,izumizaki,kagamiishi,kaneyama,kawamata,kitakata,kitashiobara,koori,koriyama,kunimi,miharu,mishima,namie,nango,nishiaizu,nishigo,okuma,omotego,ono,otama,samegawa,shimogo,shirakawa,showa,soma,sukagawa,taishin,tamakawa,tanagura,tenei,yabuki,yamato,yamatsuri,yanaizu,yugawa<gifu>anpachi,ena,gifu,ginan,godo,gujo,hashima,hichiso,hida,higashishirakawa,ibigawa,ikeda,kakamigahara,kani,kasahara,kasamatsu,kawaue,kitagata,mino,minokamo,mitake,mizunami,motosu,nakatsugawa,ogaki,sakahogi,seki,sekigahara,shirakawa,tajimi,takayama,tarui,toki,tomika,wanouchi,yamagata,yaotsu,yoro<gunma>annaka,chiyoda,fujioka,higashiagatsuma,isesaki,itakura,kanna,kanra,katashina,kawaba,kiryu,kusatsu,maebashi,meiwa,midori,minakami,naganohara,nakanojo,nanmoku,numata,oizumi,ora,ota,shibukawa,shimonita,shinto,showa,takasaki,takayama,tamamura,tatebayashi,tomioka,tsukiyono,tsumagoi,ueno,yoshioka<hiroshima>asaminami,daiwa,etajima,fuchu,fukuyama,hatsukaichi,higashihiroshima,hongo,jinsekikogen,kaita,kui,kumano,kure,mihara,miyoshi,naka,onomichi,osakikamijima,otake,saka,sera,seranishi,shinichi,shobara,takehara<hokkaido>abashiri,abira,aibetsu,akabira,akkeshi,asahikawa,ashibetsu,ashoro,assabu,atsuma,bibai,biei,bifuka,bihoro,biratori,chippubetsu,chitose,date,ebetsu,embetsu,eniwa,erimo,esan,esashi,fukagawa,fukushima,furano,furubira,haboro,hakodate,hamatonbetsu,hidaka,higashikagura,higashikawa,hiroo,hokuryu,hokuto,honbetsu,horokanai,horonobe,ikeda,imakane,ishikari,iwamizawa,iwanai,kamifurano,kamikawa,kamishihoro,kamisunagawa,kamoenai,kayabe,kembuchi,kikonai,kimobetsu,kitahiroshima,kitami,kiyosato,koshimizu,kunneppu,kuriyama,kuromatsunai,kushiro,kutchan,kyowa,mashike,matsumae,mikasa,minamifurano,mombetsu,moseushi,mukawa,muroran,naie,nakagawa,nakasatsunai,nakatombetsu,nanae,nanporo,nayoro,nemuro,niikappu,niki,nishiokoppe,noboribetsu,numata,obihiro,obira,oketo,okoppe,otaru,otobe,otofuke,otoineppu,oumu,ozora,pippu,rankoshi,rebun,rikubetsu,rishiri,rishirifuji,saroma,sarufutsu,shakotan,shari,shibecha,shibetsu,shikabe,shikaoi,shimamaki,shimizu,shimokawa,shinshinotsu,shintoku,shiranuka,shiraoi,shiriuchi,sobetsu,sunagawa,taiki,takasu,takikawa,takinoue,teshikaga,tobetsu,tohma,tomakomai,tomari,toya,toyako,toyotomi,toyoura,tsubetsu,tsukigata,urakawa,urausu,uryu,utashinai,wakkanai,wassamu,yakumo,yoichi<hyogo>aioi,akashi,ako,amagasaki,aogaki,asago,ashiya,awaji,fukusaki,goshiki,harima,himeji,ichikawa,inagawa,itami,kakogawa,kamigori,kamikawa,kasai,kasuga,kawanishi,miki,minamiawaji,nishinomiya,nishiwaki,ono,sanda,sannan,sasayama,sayo,shingu,shinonsen,shiso,sumoto,taishi,taka,takarazuka,takasago,takino,tamba,tatsuno,toyooka,yabu,yashiro,yoka,yokawa<ibaraki>ami,asahi,bando,chikusei,daigo,fujishiro,hitachi,hitachinaka,hitachiomiya,hitachiota,ibaraki,ina,inashiki,itako,iwama,joso,kamisu,kasama,kashima,kasumigaura,koga,miho,mito,moriya,naka,namegata,oarai,ogawa,omitama,ryugasaki,sakai,sakuragawa,shimodate,shimotsuma,shirosato,sowa,suifu,takahagi,tamatsukuri,tokai,tomobe,tone,toride,tsuchiura,tsukuba,uchihara,ushiku,yachiyo,yamagata,yawara,yuki<ishikawa>anamizu,hakui,hakusan,kaga,kahoku,kanazawa,kawakita,komatsu,nakanoto,nanao,nomi,nonoichi,noto,shika,suzu,tsubata,tsurugi,uchinada,wajima<iwate>fudai,fujisawa,hanamaki,hiraizumi,hirono,ichinohe,ichinoseki,iwaizumi,iwate,joboji,kamaishi,kanegasaki,karumai,kawai,kitakami,kuji,kunohe,kuzumaki,miyako,mizusawa,morioka,ninohe,noda,ofunato,oshu,otsuchi,rikuzentakata,shiwa,shizukuishi,sumita,tanohata,tono,yahaba,yamada<kagawa>ayagawa,higashikagawa,kanonji,kotohira,manno,marugame,mitoyo,naoshima,sanuki,tadotsu,takamatsu,tonosho,uchinomi,utazu,zentsuji<kagoshima>akune,amami,hioki,isa,isen,izumi,kagoshima,kanoya,kawanabe,kinko,kouyama,makurazaki,matsumoto,minamitane,nakatane,nishinoomote,satsumasendai,soo,tarumizu,yusui<kanagawa>aikawa,atsugi,ayase,chigasaki,ebina,fujisawa,hadano,hakone,hiratsuka,isehara,kaisei,kamakura,kiyokawa,matsuda,minamiashigara,miura,nakai,ninomiya,odawara,oi,oiso,sagamihara,samukawa,tsukui,yamakita,yamato,yokosuka,yugawara,zama,zushi<kochi>aki,geisei,hidaka,higashitsuno,ino,kagami,kami,kitagawa,kochi,mihara,motoyama,muroto,nahari,nakamura,nankoku,nishitosa,niyodogawa,ochi,okawa,otoyo,otsuki,sakawa,sukumo,susaki,tosa,tosashimizu,toyo,tsuno,umaji,yasuda,yusuhara<kumamoto>amakusa,arao,aso,choyo,gyokuto,kamiamakusa,kikuchi,kumamoto,mashiki,mifune,minamata,minamioguni,nagasu,nishihara,oguni,ozu,sumoto,takamori,uki,uto,yamaga,yamato,yatsushiro<kyoto>ayabe,fukuchiyama,higashiyama,ide,ine,joyo,kameoka,kamo,kita,kizu,kumiyama,kyotamba,kyotanabe,kyotango,maizuru,minami,minamiyamashiro,miyazu,muko,nagaokakyo,nakagyo,nantan,oyamazaki,sakyo,seika,tanabe,uji,ujitawara,wazuka,yamashina,yawata<mie>asahi,inabe,ise,kameyama,kawagoe,kiho,kisosaki,kiwa,komono,kumano,kuwana,matsusaka,meiwa,mihama,minamiise,misugi,miyama,nabari,shima,suzuka,tado,taiki,taki,tamaki,toba,tsu,udono,ureshino,watarai,yokkaichi<miyagi>furukawa,higashimatsushima,ishinomaki,iwanuma,kakuda,kami,kawasaki,marumori,matsushima,minamisanriku,misato,murata,natori,ogawara,ohira,onagawa,osaki,rifu,semine,shibata,shichikashuku,shikama,shiogama,shiroishi,tagajo,taiwa,tome,tomiya,wakuya,watari,yamamoto,zao<miyazaki>aya,ebino,gokase,hyuga,kadogawa,kawaminami,kijo,kitagawa,kitakata,kitaura,kobayashi,kunitomi,kushima,mimata,miyakonojo,miyazaki,morotsuka,nichinan,nishimera,nobeoka,saito,shiiba,shintomi,takaharu,takanabe,takazaki,tsuno<nagano>achi,agematsu,anan,aoki,asahi,azumino,chikuhoku,chikuma,chino,fujimi,hakuba,hara,hiraya,iida,iijima,iiyama,iizuna,ikeda,ikusaka,ina,karuizawa,kawakami,kiso,kisofukushima,kitaaiki,komagane,komoro,matsukawa,matsumoto,miasa,minamiaiki,minamimaki,minamiminowa,minowa,miyada,miyota,mochizuki,nagano,nagawa,nagiso,nakagawa,nakano,nozawaonsen,obuse,ogawa,okaya,omachi,omi,ookuwa,ooshika,otaki,otari,sakae,sakaki,saku,sakuho,shimosuwa,shinanomachi,shiojiri,suwa,suzaka,takagi,takamori,takayama,tateshina,tatsuno,togakushi,togura,tomi,ueda,wada,yamagata,yamanouchi,yasaka,yasuoka<nagasaki>chijiwa,futsu,goto,hasami,hirado,iki,isahaya,kawatana,kuchinotsu,matsuura,nagasaki,obama,omura,oseto,saikai,sasebo,seihi,shimabara,shinkamigoto,togitsu,tsushima,unzen<nara>ando,gose,heguri,higashiyoshino,ikaruga,ikoma,kamikitayama,kanmaki,kashiba,kashihara,katsuragi,kawai,kawakami,kawanishi,koryo,kurotaki,mitsue,miyake,nara,nosegawa,oji,ouda,oyodo,sakurai,sango,shimoichi,shimokitayama,shinjo,soni,takatori,tawaramoto,tenkawa,tenri,uda,yamatokoriyama,yamatotakada,yamazoe,yoshino<niigata>aga,agano,gosen,itoigawa,izumozaki,joetsu,kamo,kariwa,kashiwazaki,minamiuonuma,mitsuke,muika,murakami,myoko,nagaoka,niigata,ojiya,omi,sado,sanjo,seiro,seirou,sekikawa,shibata,tagami,tainai,tochio,tokamachi,tsubame,tsunan,uonuma,yahiko,yoita,yuzawa<oita>beppu,bungoono,bungotakada,hasama,hiji,himeshima,hita,kamitsue,kokonoe,kuju,kunisaki,kusu,oita,saiki,taketa,tsukumi,usa,usuki,yufu<okayama>akaiwa,asakuchi,bizen,hayashima,ibara,kagamino,kasaoka,kibichuo,kumenan,kurashiki,maniwa,misaki,nagi,niimi,nishiawakura,okayama,satosho,setouchi,shinjo,shoo,soja,takahashi,tamano,tsuyama,wake,yakage<okinawa>aguni,ginowan,ginoza,gushikami,haebaru,higashi,hirara,iheya,ishigaki,ishikawa,itoman,izena,kadena,kin,kitadaito,kitanakagusuku,kumejima,kunigami,minamidaito,motobu,nago,naha,nakagusuku,nakijin,nanjo,nishihara,ogimi,okinawa,onna,shimoji,taketomi,tarama,tokashiki,tomigusuku,tonaki,urasoe,uruma,yaese,yomitan,yonabaru,yonaguni,zamami<osaka>abeno,chihayaakasaka,chuo,daito,fujiidera,habikino,hannan,higashiosaka,higashisumiyoshi,higashiyodogawa,hirakata,ibaraki,ikeda,izumi,izumiotsu,izumisano,kadoma,kaizuka,kanan,kashiwara,katano,kawachinagano,kishiwada,kita,kumatori,matsubara,minato,minoh,misaki,moriguchi,neyagawa,nishi,nose,osakasayama,sakai,sayama,sennan,settsu,shijonawate,shimamoto,suita,tadaoka,taishi,tajiri,takaishi,takatsuki,tondabayashi,toyonaka,toyono,yao<saga>ariake,arita,fukudomi,genkai,hamatama,hizen,imari,kamimine,kanzaki,karatsu,kashima,kitagata,kitahata,kiyama,kouhoku,kyuragi,nishiarita,ogi,omachi,ouchi,saga,shiroishi,taku,tara,tosu,yoshinogari<saitama>arakawa,asaka,chichibu,fujimi,fujimino,fukaya,hanno,hanyu,hasuda,hatogaya,hatoyama,hidaka,higashichichibu,higashimatsuyama,honjo,ina,iruma,iwatsuki,kamiizumi,kamikawa,kamisato,kasukabe,kawagoe,kawaguchi,kawajima,kazo,kitamoto,koshigaya,kounosu,kuki,kumagaya,matsubushi,minano,misato,miyashiro,miyoshi,moroyama,nagatoro,namegawa,niiza,ogano,ogawa,ogose,okegawa,omiya,otaki,ranzan,ryokami,saitama,sakado,satte,sayama,shiki,shiraoka,soka,sugito,toda,tokigawa,tokorozawa,tsurugashima,urawa,warabi,yashio,yokoze,yono,yorii,yoshida,yoshikawa,yoshimi<shiga>aisho,gamo,higashiomi,hikone,koka,konan,kosei,koto,kusatsu,maibara,moriyama,nagahama,nishiazai,notogawa,omihachiman,otsu,ritto,ryuoh,takashima,takatsuki,torahime,toyosato,yasu<shimane>akagi,ama,gotsu,hamada,higashiizumo,hikawa,hikimi,izumo,kakinoki,masuda,matsue,misato,nishinoshima,ohda,okinoshima,okuizumo,shimane,tamayu,tsuwano,unnan,yakumo,yasugi,yatsuka<shizuoka>arai,atami,fuji,fujieda,fujikawa,fujinomiya,fukuroi,gotemba,haibara,hamamatsu,higashiizu,ito,iwata,izu,izunokuni,kakegawa,kannami,kawanehon,kawazu,kikugawa,kosai,makinohara,matsuzaki,minamiizu,mishima,morimachi,nishiizu,numazu,omaezaki,shimada,shimizu,shimoda,shizuoka,susono,yaizu,yoshida<tochigi>ashikaga,bato,haga,ichikai,iwafune,kaminokawa,kanuma,karasuyama,kuroiso,mashiko,mibu,moka,motegi,nasu,nasushiobara,nikko,nishikata,nogi,ohira,ohtawara,oyama,sakura,sano,shimotsuke,shioya,takanezawa,tochigi,tsuga,ujiie,utsunomiya,yaita<tokushima>aizumi,anan,ichiba,itano,kainan,komatsushima,matsushige,mima,minami,miyoshi,mugi,nakagawa,naruto,sanagochi,shishikui,tokushima,wajiki<tokyo>adachi,akiruno,akishima,aogashima,arakawa,bunkyo,chiyoda,chofu,chuo,edogawa,fuchu,fussa,hachijo,hachioji,hamura,higashikurume,higashimurayama,higashiyamato,hino,hinode,hinohara,inagi,itabashi,katsushika,kita,kiyose,kodaira,koganei,kokubunji,komae,koto,kouzushima,kunitachi,machida,meguro,minato,mitaka,mizuho,musashimurayama,musashino,nakano,nerima,ogasawara,okutama,ome,oshima,ota,setagaya,shibuya,shinagawa,shinjuku,suginami,sumida,tachikawa,taito,tama,toshima<tottori>chizu,hino,kawahara,koge,kotoura,misasa,nanbu,nichinan,sakaiminato,tottori,wakasa,yazu,yonago<toyama>asahi,fuchu,fukumitsu,funahashi,himi,imizu,inami,johana,kamiichi,kurobe,nakaniikawa,namerikawa,nanto,nyuzen,oyabe,taira,takaoka,tateyama,toga,tonami,toyama,unazuki,uozu,yamada<wakayama>arida,aridagawa,gobo,hashimoto,hidaka,hirogawa,inami,iwade,kainan,kamitonda,katsuragi,kimino,kinokawa,kitayama,koya,koza,kozagawa,kudoyama,kushimoto,mihama,misato,nachikatsuura,shingu,shirahama,taiji,tanabe,wakayama,yuasa,yura<yamagata>asahi,funagata,higashine,iide,kahoku,kaminoyama,kaneyama,kawanishi,mamurogawa,mikawa,murayama,nagai,nakayama,nanyo,nishikawa,obanazawa,oe,oguni,ohkura,oishida,sagae,sakata,sakegawa,shinjo,shirataka,shonai,takahata,tendo,tozawa,tsuruoka,yamagata,yamanobe,yonezawa,yuza<yamaguchi>abu,hagi,hikari,hofu,iwakuni,kudamatsu,mitou,nagato,oshima,shimonoseki,shunan,tabuse,tokuyama,toyota,ube,yuu<yamanashi>chuo,doshi,fuefuki,fujikawa,fujikawaguchiko,fujiyoshida,hayakawa,hokuto,ichikawamisato,kai,kofu,koshu,kosuge,minami-alps,minobu,nakamichi,nanbu,narusawa,nirasaki,nishikatsura,oshino,otsuki,showa,tabayama,tsuru,uenohara,yamanakako,yamanashi<xn--4pvxs,xn--vgu402c,xn--c3s14m,xn--f6qx53a,xn--8pvr4u,xn--uist22h,xn--djrs72d6uy,xn--mkru45i,xn--0trq7p7nn,xn--8ltr62k,xn--2m4a15e,xn--efvn9s,xn--32vp30h,xn--4it797k,xn--1lqs71d,xn--5rtp49c,xn--5js045d,xn--ehqz56n,xn--1lqs03n,xn--qqqt11m,xn--kbrq7o,xn--pssu33l,xn--ntsq17g,xn--uisz3g,xn--6btw5a,xn--1ctwo,xn--6orx2r,xn--rht61e,xn--rht27z,xn--djty4k,xn--nit225k,xn--rht3d,xn--klty5x,xn--kltx9a,xn--kltp7d,xn--uuwu58a,xn--zbx025d,xn--ntso0iqx3a,xn--elqq16h,xn--4it168d,xn--klt787d,xn--rny31h,xn--7t0a264c,xn--5rtq34k,xn--k7yn95e,xn--tor131o,xn--d5qv7z876c,kawasaki>*,!city<kitakyushu>*,!city<kobe>*,!city<nagoya>*,!city<sapporo>*,!city<sendai>*,!city<yokohama>*,!city<<ke>ac,co,go,info,me,mobi,ne,or,sc<kg>org,net,com,edu,gov,mil<kh>*<ki>edu,biz,net,org,gov,info,com<km>org,nom,gov,prd,tm,edu,mil,ass,com,coop,asso,presse,medecin,notaires,pharmaciens,veterinaire,gouv<kn>net,org,edu,gov<kp>com,edu,gov,org,rep,tra<kr>ac,co,es,go,hs,kg,mil,ms,ne,or,pe,re,sc,busan,chungbuk,chungnam,daegu,daejeon,gangwon,gwangju,gyeongbuk,gyeonggi,gyeongnam,incheon,jeju,jeonbuk,jeonnam,seoul,ulsan<kw>com,edu,emb,gov,ind,net,org<ky>edu,gov,com,org,net<kz>org,edu,net,gov,mil,com<la>int,net,info,edu,gov,per,com,org<lb>com,edu,gov,net,org<lc>com,net,co,org,edu,gov<li,lk>gov,sch,net,int,com,org,edu,ngo,soc,web,ltd,assn,grp,hotel,ac<lr>com,edu,gov,org,net<ls>ac,biz,co,edu,gov,info,net,org,sc<lt>gov<lu,lv>com,edu,gov,org,mil,id,net,asn,conf<ly>com,net,gov,plc,edu,sch,med,org,id<ma>co,net,gov,org,ac,press<mc>tm,asso<md,me>co,net,org,edu,ac,gov,its,priv<mg>org,nom,gov,prd,tm,edu,mil,com,co<mh,mil,mk>com,org,net,edu,gov,inf,name<ml>com,edu,gouv,gov,net,org,presse<mm>*<mn>gov,edu,org<mo>com,net,org,edu,gov<mobi,mp,mq,mr>gov<ms>com,edu,gov,net,org<mt>com,edu,net,org<mu>com,net,org,gov,ac,co,or<museum>academy,agriculture,air,airguard,alabama,alaska,amber,ambulance,american,americana,americanantiques,americanart,amsterdam,and,annefrank,anthro,anthropology,antiques,aquarium,arboretum,archaeological,archaeology,architecture,art,artanddesign,artcenter,artdeco,arteducation,artgallery,arts,artsandcrafts,asmatart,assassination,assisi,association,astronomy,atlanta,austin,australia,automotive,aviation,axis,badajoz,baghdad,bahn,bale,baltimore,barcelona,baseball,basel,baths,bauern,beauxarts,beeldengeluid,bellevue,bergbau,berkeley,berlin,bern,bible,bilbao,bill,birdart,birthplace,bonn,boston,botanical,botanicalgarden,botanicgarden,botany,brandywinevalley,brasil,bristol,british,britishcolumbia,broadcast,brunel,brussel,brussels,bruxelles,building,burghof,bus,bushey,cadaques,california,cambridge,can,canada,capebreton,carrier,cartoonart,casadelamoneda,castle,castres,celtic,center,chattanooga,cheltenham,chesapeakebay,chicago,children,childrens,childrensgarden,chiropractic,chocolate,christiansburg,cincinnati,cinema,circus,civilisation,civilization,civilwar,clinton,clock,coal,coastaldefence,cody,coldwar,collection,colonialwilliamsburg,coloradoplateau,columbia,columbus,communication,communications,community,computer,computerhistory,xn--comunicaes-v6a2o,contemporary,contemporaryart,convent,copenhagen,corporation,xn--correios-e-telecomunicaes-ghc29a,corvette,costume,countryestate,county,crafts,cranbrook,creation,cultural,culturalcenter,culture,cyber,cymru,dali,dallas,database,ddr,decorativearts,delaware,delmenhorst,denmark,depot,design,detroit,dinosaur,discovery,dolls,donostia,durham,eastafrica,eastcoast,education,educational,egyptian,eisenbahn,elburg,elvendrell,embroidery,encyclopedic,england,entomology,environment,environmentalconservation,epilepsy,essex,estate,ethnology,exeter,exhibition,family,farm,farmequipment,farmers,farmstead,field,figueres,filatelia,film,fineart,finearts,finland,flanders,florida,force,fortmissoula,fortworth,foundation,francaise,frankfurt,franziskaner,freemasonry,freiburg,fribourg,frog,fundacio,furniture,gallery,garden,gateway,geelvinck,gemological,geology,georgia,giessen,glas,glass,gorge,grandrapids,graz,guernsey,halloffame,hamburg,handson,harvestcelebration,hawaii,health,heimatunduhren,hellas,helsinki,hembygdsforbund,heritage,histoire,historical,historicalsociety,historichouses,historisch,historisches,history,historyofscience,horology,house,humanities,illustration,imageandsound,indian,indiana,indianapolis,indianmarket,intelligence,interactive,iraq,iron,isleofman,jamison,jefferson,jerusalem,jewelry,jewish,jewishart,jfk,journalism,judaica,judygarland,juedisches,juif,karate,karikatur,kids,koebenhavn,koeln,kunst,kunstsammlung,kunstunddesign,labor,labour,lajolla,lancashire,landes,lans,xn--lns-qla,larsson,lewismiller,lincoln,linz,living,livinghistory,localhistory,london,losangeles,louvre,loyalist,lucerne,luxembourg,luzern,mad,madrid,mallorca,manchester,mansion,mansions,manx,marburg,maritime,maritimo,maryland,marylhurst,media,medical,medizinhistorisches,meeres,memorial,mesaverde,michigan,midatlantic,military,mill,miners,mining,minnesota,missile,missoula,modern,moma,money,monmouth,monticello,montreal,moscow,motorcycle,muenchen,muenster,mulhouse,muncie,museet,museumcenter,museumvereniging,music,national,nationalfirearms,nationalheritage,nativeamerican,naturalhistory,naturalhistorymuseum,naturalsciences,nature,naturhistorisches,natuurwetenschappen,naumburg,naval,nebraska,neues,newhampshire,newjersey,newmexico,newport,newspaper,newyork,niepce,norfolk,north,nrw,nyc,nyny,oceanographic,oceanographique,omaha,online,ontario,openair,oregon,oregontrail,otago,oxford,pacific,paderborn,palace,paleo,palmsprings,panama,paris,pasadena,pharmacy,philadelphia,philadelphiaarea,philately,phoenix,photography,pilots,pittsburgh,planetarium,plantation,plants,plaza,portal,portland,portlligat,posts-and-telecommunications,preservation,presidio,press,project,public,pubol,quebec,railroad,railway,research,resistance,riodejaneiro,rochester,rockart,roma,russia,saintlouis,salem,salvadordali,salzburg,sandiego,sanfrancisco,santabarbara,santacruz,santafe,saskatchewan,satx,savannahga,schlesisches,schoenbrunn,schokoladen,school,schweiz,science,scienceandhistory,scienceandindustry,sciencecenter,sciencecenters,science-fiction,sciencehistory,sciences,sciencesnaturelles,scotland,seaport,settlement,settlers,shell,sherbrooke,sibenik,silk,ski,skole,society,sologne,soundandvision,southcarolina,southwest,space,spy,square,stadt,stalbans,starnberg,state,stateofdelaware,station,steam,steiermark,stjohn,stockholm,stpetersburg,stuttgart,suisse,surgeonshall,surrey,svizzera,sweden,sydney,tank,tcm,technology,telekommunikation,television,texas,textile,theater,time,timekeeping,topology,torino,touch,town,transport,tree,trolley,trust,trustee,uhren,ulm,undersea,university,usa,usantiques,usarts,uscountryestate,usculture,usdecorativearts,usgarden,ushistory,ushuaia,uslivinghistory,utah,uvic,valley,vantaa,versailles,viking,village,virginia,virtual,virtuel,vlaanderen,volkenkunde,wales,wallonie,war,washingtondc,watchandclock,watch-and-clock,western,westfalen,whaling,wildlife,williamsburg,windmill,workshop,york,yorkshire,yosemite,youth,zoological,zoology,xn--9dbhblg6di,xn--h1aegh<mv>aero,biz,com,coop,edu,gov,info,int,mil,museum,name,net,org,pro<mw>ac,biz,co,com,coop,edu,gov,int,museum,net,org<mx>com,org,gob,edu,net<my>com,net,org,gov,edu,mil,name<mz>ac,adv,co,edu,gov,mil,net,org<na>info,pro,name,school,or,dr,us,mx,ca,in,cc,tv,ws,mobi,co,com,org<name,nc>asso,nom<ne,net,nf>com,net,per,rec,web,arts,firm,info,other,store<ng>com,edu,gov,i,mil,mobi,name,net,org,sch<ni>ac,biz,co,com,edu,gob,in,info,int,mil,net,nom,org,web<nl,no>fhs,vgs,fylkesbibl,folkebibl,museum,idrett,priv,mil,stat,dep,kommune,herad,aa>gs<ah>gs<bu>gs<fm>gs<hl>gs<hm>gs<jan-mayen>gs<mr>gs<nl>gs<nt>gs<of>gs<ol>gs<oslo>gs<rl>gs<sf>gs<st>gs<svalbard>gs<tm>gs<tr>gs<va>gs<vf>gs<akrehamn,xn--krehamn-dxa,algard,xn--lgrd-poac,arna,brumunddal,bryne,bronnoysund,xn--brnnysund-m8ac,drobak,xn--drbak-wua,egersund,fetsund,floro,xn--flor-jra,fredrikstad,hokksund,honefoss,xn--hnefoss-q1a,jessheim,jorpeland,xn--jrpeland-54a,kirkenes,kopervik,krokstadelva,langevag,xn--langevg-jxa,leirvik,mjondalen,xn--mjndalen-64a,mo-i-rana,mosjoen,xn--mosjen-eya,nesoddtangen,orkanger,osoyro,xn--osyro-wua,raholt,xn--rholt-mra,sandnessjoen,xn--sandnessjen-ogb,skedsmokorset,slattum,spjelkavik,stathelle,stavern,stjordalshalsen,xn--stjrdalshalsen-sqb,tananger,tranby,vossevangen,afjord,xn--fjord-lra,agdenes,al,xn--l-1fa,alesund,xn--lesund-hua,alstahaug,alta,xn--lt-liac,alaheadju,xn--laheadju-7ya,alvdal,amli,xn--mli-tla,amot,xn--mot-tla,andebu,andoy,xn--andy-ira,andasuolo,ardal,xn--rdal-poa,aremark,arendal,xn--s-1fa,aseral,xn--seral-lra,asker,askim,askvoll,askoy,xn--asky-ira,asnes,xn--snes-poa,audnedaln,aukra,aure,aurland,aurskog-holand,xn--aurskog-hland-jnb,austevoll,austrheim,averoy,xn--avery-yua,balestrand,ballangen,balat,xn--blt-elab,balsfjord,bahccavuotna,xn--bhccavuotna-k7a,bamble,bardu,beardu,beiarn,bajddar,xn--bjddar-pta,baidar,xn--bidr-5nac,berg,bergen,berlevag,xn--berlevg-jxa,bearalvahki,xn--bearalvhki-y4a,bindal,birkenes,bjarkoy,xn--bjarky-fya,bjerkreim,bjugn,bodo,xn--bod-2na,badaddja,xn--bdddj-mrabd,budejju,bokn,bremanger,bronnoy,xn--brnny-wuac,bygland,bykle,barum,xn--brum-voa,telemark>bo,xn--b-5ga<nordland>bo,xn--b-5ga,heroy,xn--hery-ira<bievat,xn--bievt-0qa,bomlo,xn--bmlo-gra,batsfjord,xn--btsfjord-9za,bahcavuotna,xn--bhcavuotna-s4a,dovre,drammen,drangedal,dyroy,xn--dyry-ira,donna,xn--dnna-gra,eid,eidfjord,eidsberg,eidskog,eidsvoll,eigersund,elverum,enebakk,engerdal,etne,etnedal,evenes,evenassi,xn--eveni-0qa01ga,evje-og-hornnes,farsund,fauske,fuossko,fuoisku,fedje,fet,finnoy,xn--finny-yua,fitjar,fjaler,fjell,flakstad,flatanger,flekkefjord,flesberg,flora,fla,xn--fl-zia,folldal,forsand,fosnes,frei,frogn,froland,frosta,frana,xn--frna-woa,froya,xn--frya-hra,fusa,fyresdal,forde,xn--frde-gra,gamvik,gangaviika,xn--ggaviika-8ya47h,gaular,gausdal,gildeskal,xn--gildeskl-g0a,giske,gjemnes,gjerdrum,gjerstad,gjesdal,gjovik,xn--gjvik-wua,gloppen,gol,gran,grane,granvin,gratangen,grimstad,grong,kraanghke,xn--kranghke-b0a,grue,gulen,hadsel,halden,halsa,hamar,hamaroy,habmer,xn--hbmer-xqa,hapmir,xn--hpmir-xqa,hammerfest,hammarfeasta,xn--hmmrfeasta-s4ac,haram,hareid,harstad,hasvik,aknoluokta,xn--koluokta-7ya57h,hattfjelldal,aarborte,haugesund,hemne,hemnes,hemsedal,more-og-romsdal>heroy,sande<xn--mre-og-romsdal-qqb>xn--hery-ira,sande<hitra,hjartdal,hjelmeland,hobol,xn--hobl-ira,hof,hol,hole,holmestrand,holtalen,xn--holtlen-hxa,hornindal,horten,hurdal,hurum,hvaler,hyllestad,hagebostad,xn--hgebostad-g3a,hoyanger,xn--hyanger-q1a,hoylandet,xn--hylandet-54a,ha,xn--h-2fa,ibestad,inderoy,xn--indery-fya,iveland,jevnaker,jondal,jolster,xn--jlster-bya,karasjok,karasjohka,xn--krjohka-hwab49j,karlsoy,galsa,xn--gls-elac,karmoy,xn--karmy-yua,kautokeino,guovdageaidnu,klepp,klabu,xn--klbu-woa,kongsberg,kongsvinger,kragero,xn--krager-gya,kristiansand,kristiansund,krodsherad,xn--krdsherad-m8a,kvalsund,rahkkeravju,xn--rhkkervju-01af,kvam,kvinesdal,kvinnherad,kviteseid,kvitsoy,xn--kvitsy-fya,kvafjord,xn--kvfjord-nxa,giehtavuoatna,kvanangen,xn--kvnangen-k0a,navuotna,xn--nvuotna-hwa,kafjord,xn--kfjord-iua,gaivuotna,xn--givuotna-8ya,larvik,lavangen,lavagis,loabat,xn--loabt-0qa,lebesby,davvesiida,leikanger,leirfjord,leka,leksvik,lenvik,leangaviika,xn--leagaviika-52b,lesja,levanger,lier,lierne,lillehammer,lillesand,lindesnes,lindas,xn--linds-pra,lom,loppa,lahppi,xn--lhppi-xqa,lund,lunner,luroy,xn--lury-ira,luster,lyngdal,lyngen,ivgu,lardal,lerdal,xn--lrdal-sra,lodingen,xn--ldingen-q1a,lorenskog,xn--lrenskog-54a,loten,xn--lten-gra,malvik,masoy,xn--msy-ula0h,muosat,xn--muost-0qa,mandal,marker,marnardal,masfjorden,meland,meldal,melhus,meloy,xn--mely-ira,meraker,xn--merker-kua,moareke,xn--moreke-jua,midsund,midtre-gauldal,modalen,modum,molde,moskenes,moss,mosvik,malselv,xn--mlselv-iua,malatvuopmi,xn--mlatvuopmi-s4a,namdalseid,aejrie,namsos,namsskogan,naamesjevuemie,xn--nmesjevuemie-tcba,laakesvuemie,nannestad,narvik,narviika,naustdal,nedre-eiker,akershus>nes<buskerud>nes<nesna,nesodden,nesseby,unjarga,xn--unjrga-rta,nesset,nissedal,nittedal,nord-aurdal,nord-fron,nord-odal,norddal,nordkapp,davvenjarga,xn--davvenjrga-y4a,nordre-land,nordreisa,raisa,xn--risa-5na,nore-og-uvdal,notodden,naroy,xn--nry-yla5g,notteroy,xn--nttery-byae,odda,oksnes,xn--ksnes-uua,oppdal,oppegard,xn--oppegrd-ixa,orkdal,orland,xn--rland-uua,orskog,xn--rskog-uua,orsta,xn--rsta-fra,hedmark>os,valer,xn--vler-qoa<hordaland>os<osen,osteroy,xn--ostery-fya,ostre-toten,xn--stre-toten-zcb,overhalla,ovre-eiker,xn--vre-eiker-k8a,oyer,xn--yer-zna,oygarden,xn--ygarden-p1a,oystre-slidre,xn--ystre-slidre-ujb,porsanger,porsangu,xn--porsgu-sta26f,porsgrunn,radoy,xn--rady-ira,rakkestad,rana,ruovat,randaberg,rauma,rendalen,rennebu,rennesoy,xn--rennesy-v1a,rindal,ringebu,ringerike,ringsaker,rissa,risor,xn--risr-ira,roan,rollag,rygge,ralingen,xn--rlingen-mxa,rodoy,xn--rdy-0nab,romskog,xn--rmskog-bya,roros,xn--rros-gra,rost,xn--rst-0na,royken,xn--ryken-vua,royrvik,xn--ryrvik-bya,rade,xn--rde-ula,salangen,siellak,saltdal,salat,xn--slt-elab,xn--slat-5na,samnanger,vestfold>sande<sandefjord,sandnes,sandoy,xn--sandy-yua,sarpsborg,sauda,sauherad,sel,selbu,selje,seljord,sigdal,siljan,sirdal,skaun,skedsmo,ski,skien,skiptvet,skjervoy,xn--skjervy-v1a,skierva,xn--skierv-uta,skjak,xn--skjk-soa,skodje,skanland,xn--sknland-fxa,skanit,xn--sknit-yqa,smola,xn--smla-hra,snillfjord,snasa,xn--snsa-roa,snoasa,snaase,xn--snase-nra,sogndal,sokndal,sola,solund,songdalen,sortland,spydeberg,stange,stavanger,steigen,steinkjer,stjordal,xn--stjrdal-s1a,stokke,stor-elvdal,stord,stordal,storfjord,omasvuotna,strand,stranda,stryn,sula,suldal,sund,sunndal,surnadal,sveio,svelvik,sykkylven,sogne,xn--sgne-gra,somna,xn--smna-gra,sondre-land,xn--sndre-land-0cb,sor-aurdal,xn--sr-aurdal-l8a,sor-fron,xn--sr-fron-q1a,sor-odal,xn--sr-odal-q1a,sor-varanger,xn--sr-varanger-ggb,matta-varjjat,xn--mtta-vrjjat-k7af,sorfold,xn--srfold-bya,sorreisa,xn--srreisa-q1a,sorum,xn--srum-gra,tana,deatnu,time,tingvoll,tinn,tjeldsund,dielddanuorri,tjome,xn--tjme-hra,tokke,tolga,torsken,tranoy,xn--trany-yua,tromso,xn--troms-zua,tromsa,romsa,trondheim,troandin,trysil,trana,xn--trna-woa,trogstad,xn--trgstad-r1a,tvedestrand,tydal,tynset,tysfjord,divtasvuodna,divttasvuotna,tysnes,tysvar,xn--tysvr-vra,tonsberg,xn--tnsberg-q1a,ullensaker,ullensvang,ulvik,utsira,vadso,xn--vads-jra,cahcesuolo,xn--hcesuolo-7ya35b,vaksdal,valle,vang,vanylven,vardo,xn--vard-jra,varggat,xn--vrggt-xqad,vefsn,vaapste,vega,vegarshei,xn--vegrshei-c0a,vennesla,verdal,verran,vestby,vestnes,vestre-slidre,vestre-toten,vestvagoy,xn--vestvgy-ixa6o,vevelstad,vik,vikna,vindafjord,volda,voss,varoy,xn--vry-yla5g,vagan,xn--vgan-qoa,voagat,vagsoy,xn--vgsy-qoa0j,vaga,xn--vg-yiab,ostfold>valer<xn--stfold-9xa>xn--vler-qoa<<np>*<nr>biz,info,gov,edu,org,net,com<nu,nz>ac,co,cri,geek,gen,govt,health,iwi,kiwi,maori,mil,xn--mori-qsa,net,org,parliament,school<om>co,com,edu,gov,med,museum,net,org,pro<onion,org,pa>ac,gob,com,org,sld,edu,net,ing,abo,med,nom<pe>edu,gob,nom,mil,org,com,net<pf>com,org,edu<pg>*<ph>com,net,org,gov,edu,ngo,mil,i<pk>com,net,edu,org,fam,biz,web,gov,gob,gok,gon,gop,gos,info<pl>com,net,org,aid,agro,atm,auto,biz,edu,gmina,gsm,info,mail,miasta,media,mil,nieruchomosci,nom,pc,powiat,priv,realestate,rel,sex,shop,sklep,sos,szkola,targi,tm,tourism,travel,turystyka,gov>ap,ic,is,us,kmpsp,kppsp,kwpsp,psp,wskr,kwp,mw,ug,um,umig,ugim,upow,uw,starostwo,pa,po,psse,pup,rzgw,sa,so,sr,wsa,sko,uzs,wiih,winb,pinb,wios,witd,wzmiuw,piw,wiw,griw,wif,oum,sdn,zp,uppo,mup,wuoz,konsulat,oirm<augustow,babia-gora,bedzin,beskidy,bialowieza,bialystok,bielawa,bieszczady,boleslawiec,bydgoszcz,bytom,cieszyn,czeladz,czest,dlugoleka,elblag,elk,glogow,gniezno,gorlice,grajewo,ilawa,jaworzno,jelenia-gora,jgora,kalisz,kazimierz-dolny,karpacz,kartuzy,kaszuby,katowice,kepno,ketrzyn,klodzko,kobierzyce,kolobrzeg,konin,konskowola,kutno,lapy,lebork,legnica,lezajsk,limanowa,lomza,lowicz,lubin,lukow,malbork,malopolska,mazowsze,mazury,mielec,mielno,mragowo,naklo,nowaruda,nysa,olawa,olecko,olkusz,olsztyn,opoczno,opole,ostroda,ostroleka,ostrowiec,ostrowwlkp,pila,pisz,podhale,podlasie,polkowice,pomorze,pomorskie,prochowice,pruszkow,przeworsk,pulawy,radom,rawa-maz,rybnik,rzeszow,sanok,sejny,slask,slupsk,sosnowiec,stalowa-wola,skoczow,starachowice,stargard,suwalki,swidnica,swiebodzin,swinoujscie,szczecin,szczytno,tarnobrzeg,tgory,turek,tychy,ustka,walbrzych,warmia,warszawa,waw,wegrow,wielun,wlocl,wloclawek,wodzislaw,wolomin,wroclaw,zachpomor,zagan,zarow,zgora,zgorzelec<pm,pn>gov,co,org,edu,net<post,pr>com,net,org,gov,edu,isla,pro,biz,info,name,est,prof,ac<pro>aaa,aca,acct,avocat,bar,cpa,eng,jur,law,med,recht<ps>edu,gov,sec,plo,com,org,net<pt>net,gov,org,edu,int,publ,com,nome<pw>co,ne,or,ed,go,belau<py>com,coop,edu,gov,mil,net,org<qa>com,edu,gov,mil,name,net,org,sch<re>asso,com,nom<ro>arts,com,firm,info,nom,nt,org,rec,store,tm,www<rs>ac,co,edu,gov,in,org<ru,rw>ac,co,coop,gov,mil,net,org<sa>com,net,org,gov,med,pub,edu,sch<sb>com,edu,gov,net,org<sc>com,gov,net,org,edu<sd>com,net,org,edu,med,tv,gov,info<se>a,ac,b,bd,brand,c,d,e,f,fh,fhsk,fhv,g,h,i,k,komforb,kommunalforbund,komvux,l,lanbib,m,n,naturbruksgymn,o,org,p,parti,pp,press,r,s,t,tm,u,w,x,y,z<sg>com,net,org,gov,edu,per<sh>com,net,gov,org,mil<si,sj,sk,sl>com,net,edu,gov,org<sm,sn>art,com,edu,gouv,org,perso,univ<so>com,edu,gov,me,net,org<sr,ss>biz,com,edu,gov,net,org<st>co,com,consulado,edu,embaixada,gov,mil,net,org,principe,saotome,store<su,sv>com,edu,gob,org,red<sx>gov<sy>edu,gov,net,mil,com,org<sz>co,ac,org<tc,td,tel,tf,tg,th>ac,co,go,in,mi,net,or<tj>ac,biz,co,com,edu,go,gov,int,mil,name,net,nic,org,test,web<tk,tl>gov<tm>com,co,org,net,nom,gov,mil,edu<tn>com,ens,fin,gov,ind,intl,nat,net,org,info,perso,tourism,edunet,rnrt,rns,rnu,mincom,agrinet,defense,turen<to>com,gov,net,org,edu,mil<tr>av,bbs,bel,biz,com,dr,edu,gen,gov,info,mil,k12,kep,name,net,org,pol,tel,tsk,tv,web,nc>gov<<tt>co,com,org,net,biz,info,pro,int,coop,jobs,mobi,travel,museum,aero,name,gov,edu<tv,tw>edu,gov,mil,com,net,org,idv,game,ebiz,club,xn--zf0ao64a,xn--uc0atv,xn--czrw28b<tz>ac,co,go,hotel,info,me,mil,mobi,ne,or,sc,tv<ua>com,edu,gov,in,net,org,cherkassy,cherkasy,chernigov,chernihiv,chernivtsi,chernovtsy,ck,cn,cr,crimea,cv,dn,dnepropetrovsk,dnipropetrovsk,donetsk,dp,if,ivano-frankivsk,kh,kharkiv,kharkov,kherson,khmelnitskiy,khmelnytskyi,kiev,kirovograd,km,kr,krym,ks,kv,kyiv,lg,lt,lugansk,lutsk,lv,lviv,mk,mykolaiv,nikolaev,od,odesa,odessa,pl,poltava,rivne,rovno,rv,sb,sebastopol,sevastopol,sm,sumy,te,ternopil,uz,uzhgorod,vinnica,vinnytsia,vn,volyn,yalta,zaporizhzhe,zaporizhzhia,zhitomir,zhytomyr,zp,zt<ug>co,or,ac,sc,go,ne,com,org<uk>ac,co,gov,ltd,me,net,nhs,org,plc,police,sch>*<<us>dni,fed,isa,kids,nsn,ak>k12,cc,lib<al>k12,cc,lib<ar>k12,cc,lib<as>k12,cc,lib<az>k12,cc,lib<ca>k12,cc,lib<co>k12,cc,lib<ct>k12,cc,lib<dc>k12,cc,lib<de>k12,cc<fl>k12,cc,lib<ga>k12,cc,lib<gu>k12,cc,lib<hi>cc,lib<ia>k12,cc,lib<id>k12,cc,lib<il>k12,cc,lib<in>k12,cc,lib<ks>k12,cc,lib<ky>k12,cc,lib<la>k12,cc,lib<ma>k12>pvt,chtr,paroch<cc,lib<md>k12,cc,lib<me>k12,cc,lib<mi>k12,cc,lib,ann-arbor,cog,dst,eaton,gen,mus,tec,washtenaw<mn>k12,cc,lib<mo>k12,cc,lib<ms>k12,cc,lib<mt>k12,cc,lib<nc>k12,cc,lib<nd>cc,lib<ne>k12,cc,lib<nh>k12,cc,lib<nj>k12,cc,lib<nm>k12,cc,lib<nv>k12,cc,lib<ny>k12,cc,lib<oh>k12,cc,lib<ok>k12,cc,lib<or>k12,cc,lib<pa>k12,cc,lib<pr>k12,cc,lib<ri>cc,lib<sc>k12,cc,lib<sd>cc,lib<tn>k12,cc,lib<tx>k12,cc,lib<ut>k12,cc,lib<vi>k12,cc,lib<vt>k12,cc,lib<va>k12,cc,lib<wa>k12,cc,lib<wi>k12,cc,lib<wv>cc<wy>k12,cc,lib<<uy>com,edu,gub,mil,net,org<uz>co,com,net,org<va,vc>com,net,org,gov,mil,edu<ve>arts,co,com,e12,edu,firm,gob,gov,info,int,mil,net,org,rec,store,tec,web<vg,vi>co,com,k12,net,org<vn>com,net,org,edu,gov,int,ac,biz,info,name,pro,health<vu>com,edu,net,org<wf,ws>com,net,org,gov,edu<yt,xn--mgbaam7a8h,xn--y9a3aq,xn--54b7fta0cc,xn--90ae,xn--90ais,xn--fiqs8s,xn--fiqz9s,xn--lgbbat1ad8j,xn--wgbh1c,xn--e1a4c,xn--qxa6a,xn--mgbah1a3hjkrd,xn--node,xn--qxam,xn--j6w193g>xn--55qx5d,xn--wcvs22d,xn--mxtq1m,xn--gmqw5a,xn--od0alg,xn--uc0atv<xn--2scrj9c,xn--3hcrj9c,xn--45br5cyl,xn--h2breg3eve,xn--h2brj9c8c,xn--mgbgu82a,xn--rvc1e0am3e,xn--h2brj9c,xn--mgbbh1a,xn--mgbbh1a71e,xn--fpcrj9c3d,xn--gecrj9c,xn--s9brj9c,xn--45brj9c,xn--xkc2dl3a5ee0h,xn--mgba3a4f16a,xn--mgba3a4fra,xn--mgbtx2b,xn--mgbayh7gpa,xn--3e0b707e,xn--80ao21a,xn--fzc2c9e2c,xn--xkc2al3hye2a,xn--mgbc0a9azcg,xn--d1alf,xn--l1acc,xn--mix891f,xn--mix082f,xn--mgbx4cd0ab,xn--mgb9awbf,xn--mgbai9azgqp6j,xn--mgbai9a5eva00b,xn--ygbi2ammx,xn--90a3ac>xn--o1ac,xn--c1avg,xn--90azh,xn--d1at,xn--o1ach,xn--80au<xn--p1ai,xn--wgbl6a,xn--mgberp4a5d4ar,xn--mgberp4a5d4a87g,xn--mgbqly7c0a67fbc,xn--mgbqly7cvafr,xn--mgbpl2fh,xn--yfro4i67o,xn--clchc0ea0b2g2a9gcd,xn--ogbpf8fl,xn--mgbtf8fl,xn--o3cw4h>xn--12c1fe0br,xn--12co0c3b4eva,xn--h3cuzk1di,xn--o3cyx2a,xn--m3ch0j3a,xn--12cfi8ixb8l<xn--pgbs0dh,xn--kpry57d,xn--kprw13d,xn--nnx388a,xn--j1amh,xn--mgb2ddes,xxx,ye>*<za>ac,agric,alt,co,edu,gov,grondar,law,mil,net,ngo,nic,nis,nom,org,school,tm,web<zm>ac,biz,co,com,edu,gov,info,mil,net,org,sch<zw>ac,co,gov,mil,org<aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,academy,accenture,accountant,accountants,aco,actor,adac,ads,adult,aeg,aetna,afamilycompany,afl,africa,agakhan,agency,aig,airbus,airforce,airtel,akdn,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,amazon,americanexpress,americanfamily,amex,amfam,amica,amsterdam,analytics,android,anquan,anz,aol,apartments,app,apple,aquarelle,arab,aramco,archi,army,art,arte,asda,associates,athleta,attorney,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aws,axa,azure,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bbc,bbt,bbva,bcg,bcn,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bharti,bible,bid,bike,bing,bingo,bio,black,blackfriday,blockbuster,blog,bloomberg,blue,bms,bmw,bnpparibas,boats,boehringer,bofa,bom,bond,boo,book,booking,bosch,bostik,boston,bot,boutique,box,bradesco,bridgestone,broadway,broker,brother,brussels,budapest,bugatti,build,builders,business,buy,buzz,bzh,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,casa,case,caseih,cash,casino,catering,catholic,cba,cbn,cbre,cbs,ceb,center,ceo,cern,cfa,cfd,chanel,channel,charity,chase,chat,cheap,chintai,christmas,chrome,church,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,coach,codes,coffee,college,cologne,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,corsica,country,coupon,coupons,courses,cpa,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cuisinella,cymru,cyou,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dnp,docs,doctor,dog,domains,dot,download,drive,dtv,dubai,duck,dunlop,dupont,durban,dvag,dvr,earth,eat,eco,edeka,education,email,emerck,energy,engineer,engineering,enterprises,epson,equipment,ericsson,erni,esq,estate,etisalat,eurovision,eus,events,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,flickr,flights,flir,florist,flowers,fly,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,gal,gallery,gallo,gallup,game,games,gap,garden,gay,gbiz,gdn,gea,gent,genting,george,ggee,gift,gifts,gives,giving,glade,glass,gle,global,globo,gmail,gmbh,gmo,gmx,godaddy,gold,goldpoint,golf,goo,goodyear,goog,google,gop,got,grainger,graphics,gratis,green,gripe,grocery,group,guardian,gucci,guge,guide,guitars,guru,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hkt,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,horse,hospital,host,hosting,hot,hoteles,hotels,hotmail,house,how,hsbc,hughes,hyatt,hyundai,ibm,icbc,ice,icu,ieee,ifm,ikano,imamat,imdb,immo,immobilien,inc,industries,infiniti,ing,ink,institute,insurance,insure,international,intuit,investments,ipiranga,irish,ismaili,ist,istanbul,itau,itv,iveco,jaguar,java,jcb,jcp,jeep,jetzt,jewelry,jio,jll,jmp,jnj,joburg,jot,joy,jpmorgan,jprs,juegos,juniper,kaufen,kddi,kerryhotels,kerrylogistics,kerryproperties,kfh,kia,kim,kinder,kindle,kitchen,kiwi,koeln,komatsu,kosher,kpmg,kpn,krd,kred,kuokgroup,kyoto,lacaixa,lamborghini,lamer,lancaster,lancia,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,llc,llp,loan,loans,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,ltd,ltda,lundbeck,lupin,luxe,luxury,macys,madrid,maif,maison,makeup,man,management,mango,map,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mckinsey,med,media,meet,melbourne,meme,memorial,men,menu,merckmsd,miami,microsoft,mini,mint,mit,mitsubishi,mlb,mls,mma,mobile,moda,moe,moi,mom,monash,money,monster,mormon,mortgage,moscow,moto,motorcycles,mov,movie,msd,mtn,mtr,mutual,nab,nagoya,nationwide,natura,navy,nba,nec,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nfl,ngo,nhk,nico,nike,nikon,ninja,nissan,nissay,nokia,northwesternmutual,norton,now,nowruz,nowtv,nra,nrw,ntt,nyc,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,organic,origins,osaka,otsuka,ott,ovh,page,panasonic,paris,pars,partners,parts,party,passagens,pay,pccw,pet,pfizer,pharmacy,phd,philips,phone,photo,photography,photos,physio,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,place,play,playstation,plumbing,plus,pnc,pohl,poker,politie,porn,pramerica,praxi,press,prime,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,pub,pwc,qpon,quebec,quest,qvc,racing,radio,raid,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,ril,rio,rip,rmit,rocher,rocks,rodeo,rogers,room,rsvp,rugby,ruhr,run,rwe,ryukyu,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sarl,sas,save,saxo,sbi,sbs,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scot,search,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,silk,sina,singles,site,ski,skin,sky,skype,sling,smart,smile,sncf,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,spa,space,sport,spot,spreadbetting,srl,stada,staples,star,statebank,statefarm,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,sucks,supplies,supply,support,surf,surgery,suzuki,swatch,swiftcover,swiss,sydney,systems,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tci,tdk,team,tech,technology,temasek,tennis,teva,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tjmaxx,tjx,tkmaxx,tmall,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tube,tui,tunes,tushu,tvs,ubank,ubs,unicom,university,uno,uol,ups,vacations,vana,vanguard,vegas,ventures,verisign,versicherung,vet,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,viva,vivo,vlaanderen,vodka,volkswagen,volvo,vote,voting,voto,voyage,vuelos,wales,walmart,walter,wang,wanggou,watch,watches,weather,weatherchannel,webcam,weber,website,wedding,weibo,weir,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xn--11b4c3d,xn--1ck2e1b,xn--1qqw23a,xn--30rr7y,xn--3bst00m,xn--3ds443g,xn--3oq18vl8pn36a,xn--3pxu8k,xn--42c2d9a,xn--45q11c,xn--4gbrim,xn--55qw42g,xn--55qx5d,xn--5su34j936bgsg,xn--5tzm5g,xn--6frz82g,xn--6qq986b3xl,xn--80adxhks,xn--80aqecdr1a,xn--80asehdb,xn--80aswg,xn--8y0a063a,xn--9dbq2a,xn--9et52u,xn--9krt00a,xn--b4w605ferd,xn--bck1b9a5dre4c,xn--c1avg,xn--c2br7g,xn--cck2b3b,xn--cckwcxetd,xn--cg4bki,xn--czr694b,xn--czrs0t,xn--czru2d,xn--d1acj3b,xn--eckvdtc9d,xn--efvy88h,xn--fct429k,xn--fhbei,xn--fiq228c5hs,xn--fiq64b,xn--fjq720a,xn--flw351e,xn--fzys8d69uvgm,xn--g2xx48c,xn--gckr3f0f,xn--gk3at1e,xn--hxt814e,xn--i1b6b1a6a2e,xn--imr513n,xn--io0a7i,xn--j1aef,xn--jlq480n2rg,xn--jlq61u9w7b,xn--jvr189m,xn--kcrx77d1x4a,xn--kput3i,xn--mgba3a3ejt,xn--mgba7c0bbn0a,xn--mgbaakc7dvf,xn--mgbab2bd,xn--mgbca7dzdo,xn--mgbi4ecexp,xn--mgbt3dhd,xn--mk1bu44c,xn--mxtq1m,xn--ngbc5azd,xn--ngbe9e0a,xn--ngbrx,xn--nqv7f,xn--nqv7fs00ema,xn--nyqy26a,xn--otu796d,xn--p1acf,xn--pssy2u,xn--q9jyb4c,xn--qcka1pmc,xn--rhqv96g,xn--rovu88b,xn--ses554g,xn--t60b56a,xn--tckwe,xn--tiq49xqyj,xn--unup4y,xn--vermgensberater-ctb,xn--vermgensberatung-pwb,xn--vhquv,xn--vuq861b,xn--w4r85el8fhu5dnra,xn--w4rs40l,xn--xhq521b,xn--zfr164b,xyz,yachts,yahoo,yamaxun,yandex,yodobashi,yoga,yokohama,you,youtube,yun,zappos,zara,zero,zip,zone,zuerich"),vn=null!=vn?vn:un("ua>cc,inf,ltd,biz,co,pp,v,cx<to>611,oya,rdv,vpnplus,quickconnect>direct<nyan<com>adobeaemcloud>dev>*<<kasserver,algorithmia>*,!teams,!test<amazonaws>compute>*<compute-1>*<us-east-1>dualstack>s3<<elb>*<s3,s3-ap-northeast-1,s3-ap-northeast-2,s3-ap-south-1,s3-ap-southeast-1,s3-ap-southeast-2,s3-ca-central-1,s3-eu-central-1,s3-eu-west-1,s3-eu-west-2,s3-eu-west-3,s3-external-1,s3-fips-us-gov-west-1,s3-sa-east-1,s3-us-gov-west-1,s3-us-east-2,s3-us-west-1,s3-us-west-2,ap-northeast-2>s3,dualstack>s3<s3-website<ap-south-1>s3,dualstack>s3<s3-website<ca-central-1>s3,dualstack>s3<s3-website<eu-central-1>s3,dualstack>s3<s3-website<eu-west-2>s3,dualstack>s3<s3-website<eu-west-3>s3,dualstack>s3<s3-website<us-east-2>s3,dualstack>s3<s3-website<ap-northeast-1>dualstack>s3<<ap-southeast-1>dualstack>s3<<ap-southeast-2>dualstack>s3<<eu-west-1>dualstack>s3<<sa-east-1>dualstack>s3<<s3-website-us-east-1,s3-website-us-west-1,s3-website-us-west-2,s3-website-ap-northeast-1,s3-website-ap-southeast-1,s3-website-ap-southeast-2,s3-website-eu-west-1,s3-website-sa-east-1<elasticbeanstalk>ap-northeast-1,ap-northeast-2,ap-northeast-3,ap-south-1,ap-southeast-1,ap-southeast-2,ca-central-1,eu-central-1,eu-west-1,eu-west-2,eu-west-3,sa-east-1,us-east-1,us-east-2,us-gov-west-1,us-west-1,us-west-2<on-aptible,myasustor,balena-devices,betainabox,bplaced,br,cn,de,eu,jpn,mex,ru,sa,uk,us,za,ar,gb,hu,kr,no,qc,uy,africa,gr,co,xenapponazure,jdevcloud,wpdevcloud,cloudcontrolled,cloudcontrolapp,trycloudflare,customer-oci>*,oci>*<ocp>*<ocs>*<<dattolocal,dattorelay,dattoweb,mydatto,builtwithdark,drayddns,dreamhosters,mydrobo,dyndns-at-home,dyndns-at-work,dyndns-blog,dyndns-free,dyndns-home,dyndns-ip,dyndns-mail,dyndns-office,dyndns-pics,dyndns-remote,dyndns-server,dyndns-web,dyndns-wiki,dyndns-work,blogdns,cechire,dnsalias,dnsdojo,doesntexist,dontexist,doomdns,dyn-o-saur,dynalias,est-a-la-maison,est-a-la-masion,est-le-patron,est-mon-blogueur,from-ak,from-al,from-ar,from-ca,from-ct,from-dc,from-de,from-fl,from-ga,from-hi,from-ia,from-id,from-il,from-in,from-ks,from-ky,from-ma,from-md,from-mi,from-mn,from-mo,from-ms,from-mt,from-nc,from-nd,from-ne,from-nh,from-nj,from-nm,from-nv,from-oh,from-ok,from-or,from-pa,from-pr,from-ri,from-sc,from-sd,from-tn,from-tx,from-ut,from-va,from-vt,from-wa,from-wi,from-wv,from-wy,getmyip,gotdns,hobby-site,homelinux,homeunix,iamallama,is-a-anarchist,is-a-blogger,is-a-bookkeeper,is-a-bulls-fan,is-a-caterer,is-a-chef,is-a-conservative,is-a-cpa,is-a-cubicle-slave,is-a-democrat,is-a-designer,is-a-doctor,is-a-financialadvisor,is-a-geek,is-a-green,is-a-guru,is-a-hard-worker,is-a-hunter,is-a-landscaper,is-a-lawyer,is-a-liberal,is-a-libertarian,is-a-llama,is-a-musician,is-a-nascarfan,is-a-nurse,is-a-painter,is-a-personaltrainer,is-a-photographer,is-a-player,is-a-republican,is-a-rockstar,is-a-socialist,is-a-student,is-a-teacher,is-a-techie,is-a-therapist,is-an-accountant,is-an-actor,is-an-actress,is-an-anarchist,is-an-artist,is-an-engineer,is-an-entertainer,is-certified,is-gone,is-into-anime,is-into-cars,is-into-cartoons,is-into-games,is-leet,is-not-certified,is-slick,is-uberleet,is-with-theband,isa-geek,isa-hockeynut,issmarterthanyou,likes-pie,likescandy,neat-url,saves-the-whales,selfip,sells-for-less,sells-for-u,servebbs,simple-url,space-to-rent,teaches-yoga,writesthisblog,ddnsfree,ddnsgeek,giize,gleeze,kozow,loseyourip,ooguy,theworkpc,mytuleap,evennode>eu-1,eu-2,eu-3,eu-4,us-1,us-2,us-3,us-4<onfabrica,fbsbx>apps<fastly-terrarium,fastvps-server,mydobiss,firebaseapp,freebox-os,freeboxos,gentapps,gentlentapis,githubusercontent,0emm>*<appspot>r>*<<codespot,googleapis,googlecode,pagespeedmobilizer,publishproxy,withgoogle,withyoutube,blogspot,awsmppl,herokuapp,herokussl,myravendb,pixolino,clicketcloud,cloudswitches>ams,au,sg<dopaas,elastyco>nv<hidora,hosted-by-previder>paas<hosteur>rag-cloud,rag-cloud-ch<ik-server>jcloud,jcloud-ver-jpc<jelastic>demo<kilatiron,massivegrid>paas<wafaicloud>jed,lon,ryd<joyent>cns>*<<lpusercontent,lmpm>app<linode>members,nodebalancer>*<<linodeobjects>*<barsycenter,barsyonline,miniserver,meteorapp>eu<hostedpi,mythic-beasts>customer,lynx,ocelot,onza,sphinx,vs,x,yali<4u,nfshost,001www,ddnslive,myiphost,blogsyte,ciscofreak,damnserver,ditchyourip,dnsiskinky,dynns,geekgalaxy,health-carereform,homesecuritymac,homesecuritypc,myactivedirectory,mysecuritycamera,net-freaks,onthewifi,point2this,quicksytes,securitytactics,serveexchange,servehumour,servep2p,servesarcasm,stufftoread,unusualperson,workisboring,3utilities,ddnsking,myvnc,servebeer,servecounterstrike,serveftp,servegame,servehalflife,servehttp,serveirc,servemp3,servepics,servequake,observableusercontent>static<operaunite,skygearapp,outsystemscloud,ownprovider,pgfog,pagefrontapp,pagexl,gotpantheon,platter-app,pleskns,prgmr>xen<qualifioapp,qbuser,qa2,dev-myqnapcloud,alpha-myqnapcloud,myqnapcloud,quipelements>*<rackmaze,rhcloud,render>app<onrender,logoip,scrysec,firewall-gateway,myshopblocks,shopitsite,1kapp,appchizi,applinzi,sinaapp,vipsinaapp,bounty-full>alpha,beta<stackhero-network,playstation-cloud,stdlib>api<temp-dns,dsmynas,familyds,thingdustdata,bloxcms,townnews-staging,hk,wafflecell,idnblogger,indowapblog,remotewd,wiardweb>pages<xnbay>u2,u2-local<yolasite,wpenginepowered>js<impertrixcdn,impertrix<net>adobeaemcloud,alwaysdata,cloudfront,t3l3p0rt,myfritz,blackbaudcdn,boomla,bplaced,square7,gb,hu,jp,se,uk,in,clic2000,cloudaccess,cdn77-ssl,cdn77>r<cloudeity,feste-ip,knx-server,static-access,cryptonomic>*<dattolocal,mydatto,debian,bitbridge,at-band-camp,blogdns,broke-it,buyshouses,dnsalias,dnsdojo,does-it,dontexist,dynalias,dynathome,endofinternet,from-az,from-co,from-la,from-ny,gets-it,ham-radio-op,homeftp,homeip,homelinux,homeunix,in-the-band,is-a-chef,is-a-geek,isa-geek,kicks-ass,office-on-the,podzone,scrapper-site,selfip,sells-it,servebbs,serveftp,thruhere,webhop,definima,casacam,dynu,dynv6,twmail,ru,channelsdvr>u<fastlylb>map<fastly>freetls,map,prod>a,global<ssl>a,b,global<<edgeapp,flynnhosting,cdn-edges,cloudfunctions,moonscale,in-dsl,in-vpn,ipifony,iobb,cloudjiffy>fra1-de,west1-us<docktera>jls>ams1<<elastx>jls-sto1,jls-sto2,jls-sto3<massivegrid>paas>fr-1,lon-1,lon-2,ny-1,ny-2,sg-1<<saveincloud>jelastic,nordeste-idc<scaleforce>j<tsukaeru>jelastic<vps-host>jelastic>atl,njs<<kinghost,uni5,barsy,memset,azurewebsites,azure-mobile,cloudapp,dnsup,hicam,now-dns,ownip,vpndns,eating-organic,mydissent,myeffect,mymediapc,mypsx,mysecuritycamera,nhlfan,no-ip,pgafan,privatizehealthinsurance,bounceme,ddns,redirectme,serveblog,serveminecraft,sytes,cloudycluster,bar0,bar1,bar2,rackmaze,schokokeks,firewall-gateway,seidat,senseering,siteleaf,srcf>soc,user<dsmynas,familyds,fastblog,community-pro,meinforum,yandexcloud>storage,website<za<pl>beep,unicloud,krasnik,leczna,lubartow,lublin,poniatowa,swidnik,co,art,gliwice,krakow,poznan,wroc,zakopane,gda,gdansk,gdynia,med,sopot<ca>barsy,awdev>*<co,blogspot,no-ip<estate>compute>*<<network>alces>*<co,arvo,azimuth,tlon<org>altervista,amune>tele<pimienta,poivron,potager,sweetpepper,ae,us,certmgr,cdn77>c,rsc<cdn77-secure>origin>ssl<<cloudns,duckdns,tunk,dyndns>go,home<blogdns,blogsite,boldlygoingnowhere,dnsalias,dnsdojo,doesntexist,dontexist,doomdns,dvrdns,dynalias,endofinternet,endoftheinternet,from-me,game-host,gotdns,hobby-site,homedns,homeftp,homelinux,homeunix,is-a-bruinsfan,is-a-candidate,is-a-celticsfan,is-a-chef,is-a-geek,is-a-knight,is-a-linux-user,is-a-patsfan,is-a-soxfan,is-found,is-lost,is-saved,is-very-bad,is-very-evil,is-very-good,is-very-nice,is-very-sweet,isa-geek,kicks-ass,misconfused,podzone,readmyblog,selfip,sellsyourhome,servebbs,serveftp,servegame,stuff-4-sale,webhop,ddnss,accesscam,camdvr,freeddns,mywire,webredirect,eu>al,asso,at,au,be,bg,ca,cd,ch,cn,cy,cz,de,dk,edu,ee,es,fi,fr,gr,hr,hu,ie,il,in,int,is,it,jp,kr,lt,lu,lv,mc,me,mk,mt,my,net,ng,nl,no,nz,paris,pl,pt,q-a,ro,ru,se,si,sk,tr,uk,us<twmail,fedorainfracloud,fedorapeople,fedoraproject>cloud,os>app<stg>os>app<<<freedesktop,hepforge,in-dsl,in-vpn,js,uklugs,barsy,mayfirst,mozilla-iot,bmoattachments,dynserv,now-dns,cable-modem,collegefan,couchpotatofries,mlbfan,mysecuritycamera,nflfan,read-books,ufcfan,hopto,myftp,no-ip,zapto,pubtls,my-firewall,myfirewall,spdns,small-web,dsmynas,familyds,edugit,tuxfamily,diskstation,hk,wmflabs,toolforge,wmcloud,za<cn>com>amazonaws>compute>*<eb>cn-north-1,cn-northwest-1<elb>*<cn-north-1>s3<<<instantcloud<nl>amsw,virtueeldomein,co,hosting-cluster,blogspot,khplay,transurl>*<cistron,demon<io>apigee,b-data,backplaneapp,banzaicloud>app,backyards>*<<boxfuse,browsersafetymark,bigv>uk0<cleverapps,dappnode>dyndns<dedyn,drud,definima,enonic>customer<shw,github,gitlab,lolipop,hasura-app,hostyhosting,moonscale>*<jele,opusinteractive>ocs<unispace>cloud,cloud-de,cloud-fr1<loginline,barsy,azurecontainer>*<ngrok,nodeart>stage<nodum,nid,pantheonsite,dyn53,protonet,qcx>sys>*<<vaporcloud,vbrplsbx>g<on-k3s>*<on-rio>*<readthedocs,resindevice,resinstaging>devices<hzc,sandcats,shiftedit,mo-siemens,lair>apps<stolos>*<spacekit,utwente,applicationcloud,scapp,s5y>*<telebit,thingdust>dev>cust<disrec>cust<prod>cust<testing>cust<<2038,wedeploy,basicserver,virtualserver<jp>ne>aseinet>user<gehirn<usercontent,blogspot<vc>gv>d<0e,nom<eus>party>user<<ws>advisor>*<cloud66,dyndns,mypets<cloud>banzai>*<statics>*<axarnet>es-1<diadem,jelastic>vip<jele,jenv-aruba>aruba>eur>it1<<it1<jenv-arubabiz>it1-eur<primetel>uk<reclaim>ca,uk,us<trendhosting>ch,de<linkyard,magentosite>*<perspecta,vapor,on-rancher>*<sensiosite>*<trafficplex,urown,voorloper<la>bnr,c,nym<ch>square7,blogspot,flow>ae>alp1<appengine<linkyard-cloud,dnsking,gotdns,firenet>*,svc>*<<12hp,2ix,4lima,lima-city<de>bplaced,square7,com,cosidns>dyn<dynamisches-dns,dnsupdater,internet-dns,l-o-g-i-n,dnshome,fuettertdasnetz,isteingeek,istmein,lebtimnetz,leitungsen,traeumtgerade,ddnss>dyn,dyndns<dyndns1,dyn-ip24,home-webserver>dyn<myhome-server,goip,blogspot,dyn-berlin,in-berlin,in-brb,in-butter,in-dsl,in-vpn,mein-iserv,schulserver,test-iserv,keymachine,git-repos,lcube-server,svn-repos,barsy,logoip,firewall-gateway,my-gateway,my-router,spdns,speedpartner>customer<taifun-dns,12hp,2ix,4lima,lima-city,dd-dns,dray-dns,draydns,dyn-vpn,dynvpn,mein-vigor,my-vigor,my-wan,syno-ds,synology-diskstation,synology-ds,uberspace>*<virtualuser,virtual-user,community-pro,diskussionsbereich<uk>co>bytemark>dh,vm<blogspot,layershift>j<barsy,barsyonline,retrosnub>cust<nh-serv,no-ip,wellbeingzone,gwiddle<conn,copro,gov>service,homeoffice<pymnt,org>glug,lug,lugs<barsy<eu>mycd,cloudns,dogado>jelastic<leviracloud>paas<barsy,wellbeingzone,spdns,transurl>*<diskstation<co>carrd,crd,otap>*<com>blogspot<leadpages,lpages,mypi,n4t,nodum,repl<ai>uwu,nom<se>com,blogspot,conf,iopsys<bz>za,nom,nym,gsj<in>web,cloudns,blogspot,barsy<basketball>aus,nz<am>radio,blogspot,neko,nyaa<fm>radio<ro>co,shop,blogspot,nym<group>discourse<team>discourse,jelastic<dev>lcl>*<stg>*<pages,workers,curv,fly,gateway>*<iserv,loginline,platter-app,vercel,webhare>*<<me>c66,daplie>localhost<edgestack,couk,ukco,filegear,filegear-au,filegear-de,filegear-gb,filegear-ie,filegear-jp,filegear-sg,glitch,ravendb,barsy,mcpe,nctu,soundcast,tcp4,brasilia,ddns,dnsfor,hopto,loginto,noip,webhop,nym,diskstation,dscloud,i234,myds,synology,wbq,wedeploy,yombo,nohost<zone>cloud66,hs,triton>*<lima<host>cloudaccess,freesite,fastvps,myfast,jele,mircloud,pcloud,half<site>cloudera,cyon,fnwk,folionetwork,fastvps,jele,lelux,loginline,barsy,omniwe,opensocial,platformsh>*<byen,mintere<app>wnext,platform0,run>a<web,hasura,loginline,netlify,telebit,vercel<cz>co,realm,e4,blogspot,metacentrum>cloud>*<custom<muni>cloud>flt,usr<<<asia>cloudns<biz>cloudns,jozi,dyndns,for-better,for-more,for-some,for-the,selfip,webhop,bpl,orx,mmafan,myftp,no-ip,dscloud<club>cloudns,jele,barsy,pony<cc>cloudns,ftpaccess,game-server,myphotos,scrapping,twmail,csx,fantasyleague<info>cloudns,dynamic-dns,dyndns,barrel-of-knowledge,barrell-of-knowledge,for-our,groks-the,groks-this,here-for-more,knowsitall,selfip,webhop,barsy,mayfirst,forumz,nsupdate,dvrcam,ilovecollege,no-ip,dnsupdate,v-info<pro>cloudns,dnstrace>bci<barsy<pw>cloudns,x443,nom<us>cloudns,drud,is-by,land-4-sale,stuff-4-sale,graphox,enscaled>phx<mircloud,freeddns,golffan,noip,pointto,platterp,de>lib<<gdn>cnpy<no>co,blogspot<be>webhosting,blogspot,interhostsolutions>cloud<transurl>*<<ru>ac,edu,gov,int,mil,test,adygeya,bashkiria,bir,cbg,com,dagestan,grozny,kalmykia,kustanai,marine,mordovia,msk,mytis,nalchik,nov,pyatigorsk,spb,vladikavkaz,vladimir,blogspot,na4u,mircloud,regruhosting>jelastic<myjino>hosting>*<landing>*<spectrum>*<vps>*<<cldmail>hb<mcdir>vps<net,org,pp,ras<is>cupcake,blogspot<link>cyon,mypep,dweb>*<<dk>biz,co,firm,reg,store,blogspot<earth>dapps>*,bzz>*<<<th>online,shop<sh>bip,hashbang,platform>bc,ent,eu,us<now,vxl,wedeploy<fi>dy,blogspot,xn--hkkinen-5wa,iki,cloudplatform>fi<datacenter>demo,paas<<tv>dyndns,better-than,on-the-web,worse-than<cx>ath,info<name>her>forgot<his>forgot<<nu>merseine,mine,shacknet,nom,uwu,enterprisecloud<rocks>myddns,lima-city,webspace<xyz>blogsite,fhapp,localzone,crafting,zapto,telebit>*<<fr>en-root,fbx-os,fbxos,freebox-os,freeboxos,blogspot,on-web,chirurgiens-dentistes-en-france<one>onred>staging<service,for,homelink<tw>com>mymailer<url,blogspot,nym<su>abkhazia,adygeya,aktyubinsk,arkhangelsk,armenia,ashgabad,azerbaijan,balashov,bashkiria,bryansk,bukhara,chimkent,dagestan,east-kazakhstan,exnet,georgia,grozny,ivanovo,jambyl,kalmykia,kaluga,karacol,karaganda,karelia,khakassia,krasnodar,kurgan,kustanai,lenug,mangyshlak,mordovia,msk,murmansk,nalchik,navoi,north-kazakhstan,nov,obninsk,penza,pokrovsk,sochi,spb,tashkent,termez,togliatti,troitsk,tselinograd,tula,tuva,vladikavkaz,vladimir,vologda,nym<space>myfast,linkitools,uber,xs4all<at>funkfeuer>wien<futurecms>*,ex>*<in>*<<futurehosting,futuremailing,ortsinfo>ex>*<kunden>*<<co>blogspot<biz,info,priv,12hp,2ix,4lima,lima-city<ms>lab<si>gitapp,gitpage,blogspot,nom<digital>cloudapps>london<<im>ro,nom<goog>cloud,translate<ae>blogspot,nom<al>blogspot,nom<ba>blogspot<bg>blogspot,barsy<bj>blogspot<cf>blogspot<cl>blogspot,nom<id>co>blogspot<forte,bloghp,wblog<il>co>blogspot<<ke>co>blogspot<nom<nz>co>blogspot<nym<za>co>blogspot<<ar>com>blogspot<<au>com>blogspot,cloudlets>mel<<<br>com>blogspot,virtualcloud>scale>users<<<leg>ac,al,am,ap,ba,ce,df,es,go,ma,mg,ms,mt,pa,pb,pe,pi,pr,rj,rn,ro,rr,rs,sc,se,sp,to<<by>com>blogspot<mycloud,nym<cy>com>blogspot,scaleforce>j<<<ee>com>blogspot<<eg>com>blogspot<<es>com>blogspot<<mt>com>blogspot<<ng>com>blogspot<col,firm,gen,ltd,ngo<tr>com>blogspot<<uy>com>blogspot<nom<cv>blogspot<gr>blogspot,nym<hk>blogspot,nym,ltd,inc<hr>blogspot,free<hu>blogspot<ie>blogspot,nym<it>blogspot,neen>jc<tim>open>jelastic>cloud<<<16-b,32-b,64-b,syncloud<kr>blogspot<li>blogspot,caa,nom,nym<lt>blogspot,nym<lu>blogspot,nym<md>blogspot,at,de,jp,to<mk>blogspot,nom<mr>blogspot<mx>blogspot,net>serv>jl<<nym<my>blogspot<pe>blogspot,nym<pt>blogspot,nym<qa>blogspot,nom<re>blogspot<rs>blogspot,ua,nom,ox<sg>blogspot,enscaled<sk>blogspot,nym<sn>blogspot<td>blogspot<ug>blogspot,nom<vn>blogspot<ci>fin,nl<run>hs,development,ravendb,repl<community>ravendb,myforum<city>ng<gl>biz,nom,xx<ink>ng<school>ng<so>sch<kz>jcloud,kazteleport>upaas<nym<gg>kaas,cya,panel>daemon<<systems>knightpoint<krd>co,edu<business>co<education>co<events>co<financial>co<place>co<technology>co<bs>we<services>loginline<menu>barsy<mobi>barsy,dscloud<online>barsy<pub>barsy<shop>barsy<support>barsy<casa>nabu>ui<<fashion>of,on<football>of<london>in,of<men>for<mom>and,for<sale>for<work>of,to<top>now-dns,ntdll<ovh>nerdpol<mn>nyc,nym<af>nom<ec>nym<gd>nom<ge>nom<gt>nom,blog,de,to<gy>nym,be<hn>nom,cc<lc>nym,oy<lv>nom<st>nom,noho<sx>nym<tj>nom<vg>nom,at<lol>omg<hosting>opencraft<pm>own<codes>owo>*<<page>pdns,plesk,prvcy<bn>co<fit>ptplus<edu>rit>git-pages<<scot>gov<store>shopware<land>static>dev,sites<<farm>storj<cool>de<pictures>1337<rip>clan<management>router<ax>be,cat,es,eu,gg,mc,us,xy<gp>app<kg>blog,io,jp,tv,uk,us<ls>de<porn>indie<tc>ch,me,we<vu>blog,dev,me,cn<academy>official<faith>ybo<party>ybo<review>ybo<science>ybo<trade>ybo<design>bss");const r=He(n,mn),o=He(n,vn);if(0===r.length&&0===o.length)return{type:pn.NotListed,hostname:i,labels:n};const a=n.length-Math.max(o.length,r.length)-1,s=n.length-r.length-1;return Object.assign({type:pn.Listed,hostname:i,labels:n,icann:gn(n,s)},gn(n,a))})(M);e[h(576)]===pn[o(610,"%gJp")]&&e[l(560)]&&e[h(506)]&&(M=e[r(574,"Q3BM")]+"."+e[c(506)][h(620)]("."))}if(u[s(634)][s(531)](M));else{j=!1;const t=n(585,"qO4f")+M+i(616,"gN*N"),e=v(0,-147);y=I` <div class="${e}"><strong>${t}</strong><br/>Please contact us at neuronet.io@gmail.com.</div> `}}}();const n=f("tF6f",-4),i=encodeURIComponent,r=(new Date)[x(0,-121)](),o=ze[x(0,-91)](r,O),s=m(0,-16),l=Fe(r+M,s,{keySize:16})[f("CRWy",-51)](),c=[i(d("J)IH",14))+"="+i(t),i(a("J)IH",0))+"="+i(M),i(S(0,-23))+"="+i(location[m(0,-23)]),i(f("^iwO",-54))+"="+i(o),i(g("[sln",-53))+"="+i(n),i(a("CRWy",8))+"="+i(navigator[d("&)yN",1)])][m(0,-20)]("&"),h=d("Nx9r",-94);window[x(0,-14)](h,{method:m(0,-35),redirect:a("FBN(",-33),headers:{"Content-Type":v(0,-27)},body:c})[d("^pRZ",-56)](t=>{const e=function(t,e){return v(0,e- -402)};return 200!==t[e(0,-460)]&&(j=!1,y=C),t[e(0,-541)]()})[m(0,-65)](e=>{const r=function(t,e){return x(0,e-439)},o=function(t,e){return b(0,e-439)},s=function(t,e){return b(0,e-439)},c=function(t,e){return d(t,e-439)},h=function(t,e){return a(t,e-439)},u=function(t,e){return f(t,e-439)},p=function(t,e){return f(t,e-439)};if(e&&e.ok)if(e[c("s$uI",316)]&&e[r(0,460)]===l)j=!0;else{j=!1;const a=r(0,292),d=c("A0Jt",396);y=I` <div class="${a}"><strong>${d}</strong><br />${w}</div> `;const f=c("&qic",442),g=[i(u("Tj(8",328))+"="+i(t),i(p("tF6f",394))+"="+i(M),i(o(0,416))+"="+i(location[o(0,416)]),i(u("A0Jt",424))+"="+i(n),i(o(0,400))+"="+i(String(e[h("EKqv",441)])),i(h("cZN[",382))+"="+i(l),i(r(0,334))+"="+i(navigator[(380,S(0,-59))])][s(0,419)]("&");window[h(")sgF",360)](f,{method:c("CRWy",372),redirect:(429,S(0,-10)),headers:{"Content-Type":s(0,412)},body:g})}else if(e){j=!1;const t=E(e[p(")sgF",295)][h("*3*X",464)](/\n/gi,c("cPGt",308)));let n=null;e[o(0,393)]&&(n=E(e[u("s$uI",438)][c("smsy",310)](/\n/gi,h("^iwO",368))));const i=u("J)IH",349);y=I` <div class="${i}"><strong>${t}</strong><br />${n}<br />${w}</div> `}else j=!1,y=C;P()})[v(0,-145)](()=>{j=!1,y=C,P()})}else{j=!1;const t=g(")sgF",-37),e=b(0,-147);y=I` <div class="${e}">${t}${w}</div> `}}T(D[r(616,"gN*N")](c(612),t=>{L(t),P()}));const B={width:0,height:0};let N,R,F;class z{constructor(t){const e=function(t,e){return a(e- -343,t)};!N&&(N=new ResizeObserver(()=>{const e=function(t,e){return Ci(e-297)},n=function(t,e){return wi(e-297,t)},i=function(t,e){return wi(e-297,t)},r=t[n("tYM0",849)],o=t[e(0,817)];(B[e(0,935)]!==r||B[(896,Ci(599))]!==o)&&(B[i("mz1q",862)]=r,B[(896,Ci(599))]=o,p[i("f5YN",789)](n("C06f",929),B))}),N[e(")sgF",357)](t),p[e("%#tE",283)](e("%gJp",250),t))}[a(563,"smsy")](){}[n(698,"%gJp")](t){N[(372,s(662))](t)}}!b[h(602)](z)&&b[r(664,"C06f")](z),f(()=>{N[(1360,h(680))]()}),f(p[r(722,"l5d&")](r(737,"CRWy"),t=>{const e=function(t,e){return a(e- -985,t)};R=t[e("A0Jt",-389)][(-372,u(613))],F=t[e("8&wu",-326)][("gN*N",-258,a(727,"gN*N"))]}));const V={handleEvent(t){const e=function(t,e){return u(e- -776)},o=function(t,e){return r(e- -776,t)},a=function(t,e){return r(e- -776,t)},s=d[o("cF!U",-82)](t);if(t[o("C06f",-192)]||s.x){const t=s.x?s.x:s.y,n=d[a("Rd9(",-56)]();return void(t>0?d[e(0,-172)](n[a("C06f",-77)]+R):d[e(0,-172)](n[o(")sgF",-107)]-R))}const l=d[o("*3*X",-38)]();s.y>0?d[(-149,h(627))](l[("Nx9r",-148,i(628,"Nx9r"))]+F):d[(-149,c(627))](l[("vyI2",-146,n(630,"vyI2"))]-F)},passive:!0},G=Object[a(594,"Nx9r")](Object[o(579,"Tj(8")]({},e),{api:d,state:p}),H=g[r(661,"gN*N")](b,G),W=d[o(589,"l5d&")](l(610),t,e);return f(W[s(735)]),()=>j?W[a(686,"Rd9(")](a(703,"o)O!"),v`
            <div
              data-info-url="https://github.com/neuronetio/gantt-schedule-timeline-calendar"
              class=${x[h(609)]}
              style=${x[r(571,"[sln")]}
              data-actions=${H}
              @wheel=${V}
            >
              ${W[i(622,"*3*X")](c(683),v` ${k[u(611)]()}${A[a(623,"tLcT")]()} `)}
            </div>
          `):y}function Si(t){const e=t.state,n=new $t(e),i={treeMap:{id:void 0,children:[]},list:{visibleRows:[],rowsIds:[],rows:{},visibleRowsHeight:0,rowsWithParentsExpanded:[],rowsHeight:0,width:0},dimensions:{width:0,height:0},chart:{items:{},grid:{cells:{},rows:{}},dimensions:{width:0,innerWidth:0,height:0},visibleItems:[],time:{zoom:0,format:{period:"day",periodIncrement:1,zoomTo:0,format:()=>""},level:0,levels:[],timePerPixel:0,totalViewDurationMs:0,totalViewDurationPx:0,leftGlobal:0,rightGlobal:0,leftPx:0,rightPx:0,leftInner:0,rightInner:0,period:"day",leftGlobalDate:void 0,rightGlobalDate:void 0,centerGlobal:0,centerGlobalDate:void 0,from:0,to:0,fromDate:void 0,toDate:void 0,additionalSpaceAdded:!1}},elements:{}};"boolean"==typeof t.debug&&t.debug&&(window.state=e),e.update("",t=>({config:t.config,$data:i}));const r=It(e,n);n.setVido(r);const o=r.createApp({component:_i,props:{},element:t.element}),a={state:e,api:o.vidoInstance.api,component:o,destroy:function(){o.destroy()},reload:function(){a.component.destroy(),a.component=r.createApp({component:_i,props:{},element:t.element}),a.api=o.vidoInstance.api,a.component.update()}};return a}!function(t,e){const n=function(t,e){return wi(e-836,t)},i=function(t,e){return Ci(e-836)},r=function(t,e){return Ci(e-836)};for(;;)try{if(387214===parseInt(i(0,1469))*-parseInt(i(0,1461))+parseInt(n("GAx%",1329))+parseInt(n("r^hp",1389))*parseInt(i(0,1486))+-parseInt(r(0,1426))*parseInt(n("&qic",1368))+-parseInt(r(0,1432))*-parseInt((1351,Ci(515)))+-parseInt(("gN*N",1352,wi(516,"gN*N")))+parseInt(wi(559,"tLcT"))*parseInt(n("vyI2",1394)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(bi),Si.api=Ne,e.a=Si}).call(this,n(99))},function(t,e,n){"use strict";function i(t){return t*t*t}function r(t){return--t*t*t+1}function o(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(353);e.Adjust=i.default;var r={},o=function(t){return r[t.toLowerCase()]};e.getAdjust=o;e.registerAdjust=function(t,e){if(o(t))throw new Error("Adjust type '"+t+"' existed.");r[t.toLowerCase()]=e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=function(){};1===n(123).debugMode&&(i=console.error);var r=i;t.exports=r},function(t,e,n){var i=n(3),r=n(181),o=n(243),a=n(249);function s(t){for(var e in t=t||{},o.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new r(t.style,this),this._rect=null,this.__clipPaths=null}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new r(t,this),this.dirty(!1),this},calculateTextPosition:null},i.inherits(s,o),i.mixin(s,a);var l=s;t.exports=l},function(t,e,n){var i=n(18),r=n(60),o=Math.min,a=Math.max,s=Math.sin,l=Math.cos,c=2*Math.PI,h=i.create(),u=i.create(),d=i.create();var p=[],f=[];e.fromPoints=function(t,e,n){if(0!==t.length){var i,r=t[0],s=r[0],l=r[0],c=r[1],h=r[1];for(i=1;i<t.length;i++)r=t[i],s=o(s,r[0]),l=a(l,r[0]),c=o(c,r[1]),h=a(h,r[1]);e[0]=s,e[1]=c,n[0]=l,n[1]=h}},e.fromLine=function(t,e,n,i,r,s){r[0]=o(t,n),r[1]=o(e,i),s[0]=a(t,n),s[1]=a(e,i)},e.fromCubic=function(t,e,n,i,s,l,c,h,u,d){var g,m=r.cubicExtrema,v=r.cubicAt,y=m(t,n,s,c,p);for(u[0]=1/0,u[1]=1/0,d[0]=-1/0,d[1]=-1/0,g=0;g<y;g++){var x=v(t,n,s,c,p[g]);u[0]=o(x,u[0]),d[0]=a(x,d[0])}for(y=m(e,i,l,h,f),g=0;g<y;g++){var b=v(e,i,l,h,f[g]);u[1]=o(b,u[1]),d[1]=a(b,d[1])}u[0]=o(t,u[0]),d[0]=a(t,d[0]),u[0]=o(c,u[0]),d[0]=a(c,d[0]),u[1]=o(e,u[1]),d[1]=a(e,d[1]),u[1]=o(h,u[1]),d[1]=a(h,d[1])},e.fromQuadratic=function(t,e,n,i,s,l,c,h){var u=r.quadraticExtremum,d=r.quadraticAt,p=a(o(u(t,n,s),1),0),f=a(o(u(e,i,l),1),0),g=d(t,n,s,p),m=d(e,i,l,f);c[0]=o(t,s,g),c[1]=o(e,l,m),h[0]=a(t,s,g),h[1]=a(e,l,m)},e.fromArc=function(t,e,n,r,o,a,p,f,g){var m=i.min,v=i.max,y=Math.abs(o-a);if(y%c<1e-4&&y>1e-4)return f[0]=t-n,f[1]=e-r,g[0]=t+n,void(g[1]=e+r);if(h[0]=l(o)*n+t,h[1]=s(o)*r+e,u[0]=l(a)*n+t,u[1]=s(a)*r+e,m(f,h,u),v(g,h,u),(o%=c)<0&&(o+=c),(a%=c)<0&&(a+=c),o>a&&!p?a+=c:o<a&&p&&(o+=c),p){var x=a;a=o,o=x}for(var b=0;b<a;b+=Math.PI/2)b>o&&(d[0]=l(b)*n+t,d[1]=s(b)*r+e,m(f,d,f),v(g,d,g))}},function(t,e,n){var i=n(3),r=n(56).parseClassType,o=0;e.getUID=function(t){return[t||"",o++,Math.random().toFixed(5)].join("_")},e.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=r(t),e[t.main]=n},t.determineSubType=function(n,i){var o=i.type;if(!o){var a=r(n).main;t.hasSubTypes(n)&&e[a]&&(o=e[a](i))}return o},t},e.enableTopologicalTravel=function(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,o,a){if(t.length){var s=function(t){var r={},o=[];return i.each(t,(function(a){var s=n(r,a),l=function(t,e){var n=[];return i.each(t,(function(t){i.indexOf(e,t)>=0&&n.push(t)})),n}(s.originalDeps=e(a),t);s.entryCount=l.length,0===s.entryCount&&o.push(a),i.each(l,(function(t){i.indexOf(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(r,t);i.indexOf(e.successor,t)<0&&e.successor.push(a)}))})),{graph:r,noEntryList:o}}(r),l=s.graph,c=s.noEntryList,h={};for(i.each(t,(function(t){h[t]=!0}));c.length;){var u=c.pop(),d=l[u],p=!!h[u];p&&(o.call(a,u,d.originalDeps.slice()),delete h[u]),i.each(d.successor,p?g:f)}i.each(h,(function(){throw new Error("Circle dependency may exists")}))}function f(t){l[t].entryCount--,0===l[t].entryCount&&c.push(t)}function g(t){h[t]=!0,f(t)}}}},function(t,e,n){var i=n(3),r=i.createHashMap,o=i.isTypedArray,a=n(56).enableClassCheck,s=n(105),l=s.SOURCE_FORMAT_ORIGINAL,c=s.SERIES_LAYOUT_BY_COLUMN,h=s.SOURCE_FORMAT_UNKNOWN,u=s.SOURCE_FORMAT_TYPED_ARRAY,d=s.SOURCE_FORMAT_KEYED_COLUMNS;function p(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===d?{}:[]),this.sourceFormat=t.sourceFormat||h,this.seriesLayoutBy=t.seriesLayoutBy||c,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&r(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}p.seriesDataToSource=function(t){return new p({data:t,sourceFormat:o(t)?u:l,fromDataset:!1})},a(p);var f=p;t.exports=f},function(t,e){e.SOURCE_FORMAT_ORIGINAL="original",e.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",e.SOURCE_FORMAT_OBJECT_ROWS="objectRows",e.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",e.SOURCE_FORMAT_UNKNOWN="unknown",e.SOURCE_FORMAT_TYPED_ARRAY="typedArray",e.SERIES_LAYOUT_BY_COLUMN="column",e.SERIES_LAYOUT_BY_ROW="row"},function(t,e,n){var i=n(3),r=i.each,o=i.createHashMap,a=(i.assert,n(12).__DEV__,o(["tooltip","label","itemName","itemId","seriesName"]));function s(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}e.OTHER_DIMENSIONS=a,e.summarizeDimensions=function(t){var e={},n=e.encode={},i=o(),l=[],c=[],h=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};r(t.dimensions,(function(e){var r,o=t.getDimensionInfo(e),u=o.coordDim;if(u){var d=o.coordDimIndex;s(n,u)[d]=e,o.isExtraCoord||(i.set(u,1),"ordinal"!==(r=o.type)&&"time"!==r&&(l[0]=e),s(h.encode,u)[d]=o.index),o.defaultTooltip&&c.push(e)}a.each((function(t,e){var i=s(n,e),r=o.otherDims[e];null!=r&&!1!==r&&(i[r]=o.name)}))}));var u=[],d={};i.each((function(t,e){var i=n[e];d[e]=i[0],u=u.concat(i)})),e.dataDimsOnCoord=u,e.encodeFirstDimNotExtra=d;var p=n.label;p&&p.length&&(l=p.slice());var f=n.tooltip;return f&&f.length?c=f.slice():c.length||(c=l.slice()),n.defaultedLabel=l,n.defaultedTooltip=c,e},e.getDimensionTypeByAxis=function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},function(t,e,n){var i=n(6),r=n(131),o=n(3).isObject;function a(t){this.group=new i.Group,this._symbolCtor=t||r}var s=a.prototype;function l(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function c(t){return null==t||o(t)||(t={isIgnore:t}),t||{}}function h(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}s.updateData=function(t,e){e=c(e);var n=this.group,r=t.hostModel,o=this._data,a=this._symbolCtor,s=h(t);o||n.removeAll(),t.diff(o).add((function(i){var r=t.getItemLayout(i);if(l(t,r,i,e)){var o=new a(t,i,s);o.attr("position",r),t.setItemGraphicEl(i,o),n.add(o)}})).update((function(c,h){var u=o.getItemGraphicEl(h),d=t.getItemLayout(c);l(t,d,c,e)?(u?(u.updateData(t,c,s),i.updateProps(u,{position:d},r)):(u=new a(t,c)).attr("position",d),n.add(u),t.setItemGraphicEl(c,u)):n.remove(u)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}))})).execute(),this._data=t},s.isPersistent=function(){return!0},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,n){var i=t.getItemLayout(n);e.attr("position",i)}))},s.incrementalPrepareUpdate=function(t){this._seriesScope=h(t),this._data=null,this.group.removeAll()},s.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}n=c(n);for(var r=t.start;r<t.end;r++){var o=e.getItemLayout(r);if(l(e,o,r,n)){var a=new this._symbolCtor(e,r,this._seriesScope);a.traverse(i),a.attr("position",o),this.group.add(a),e.setItemGraphicEl(r,a)}}},s.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()};var u=a;t.exports=u},function(t,e,n){var i=n(6),r=n(8).round;function o(t,e,n){var r=t.getArea(),o=t.getBaseAxis().isHorizontal(),a=r.x,s=r.y,l=r.width,c=r.height,h=n.get("lineStyle.width")||2;a-=h/2,s-=h/2,l+=h,c+=h,a=Math.floor(a),l=Math.round(l);var u=new i.Rect({shape:{x:a,y:s,width:l,height:c}});return e&&(u.shape[o?"width":"height"]=0,i.initProps(u,{shape:{width:l,height:c}},n)),u}function a(t,e,n){var o=t.getArea(),a=new i.Sector({shape:{cx:r(t.cx,1),cy:r(t.cy,1),r0:r(o.r0,1),r:r(o.r,1),startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});return e&&(a.shape.endAngle=o.startAngle,i.initProps(a,{shape:{endAngle:o.endAngle}},n)),a}e.createGridClipPath=o,e.createPolarClipPath=a,e.createClipPath=function(t,e,n){return t?"polar"===t.type?a(t,e,n):"cartesian2d"===t.type?o(t,e,n):null:null}},function(t,e,n){var i=n(3).map,r=n(84),o=n(52).isDimensionStacked;t.exports=function(t){return{seriesType:t,plan:r(),reset:function(t){var e=t.getData(),n=t.coordinateSystem,r=t.pipelineContext.large;if(n){var a=i(n.dimensions,(function(t){return e.mapDimension(t)})).slice(0,2),s=a.length,l=e.getCalculationInfo("stackResultDimension");return o(e,a[0])&&(a[0]=l),o(e,a[1])&&(a[1]=l),s&&{progress:function(t,e){for(var i=t.end-t.start,o=r&&new Float32Array(i*s),l=t.start,c=0,h=[],u=[];l<t.end;l++){var d;if(1===s){var p=e.get(a[0],l);d=!isNaN(p)&&n.dataToPoint(p,null,u)}else{p=h[0]=e.get(a[0],l);var f=h[1]=e.get(a[1],l);d=!isNaN(p)&&!isNaN(f)&&n.dataToPoint(h,null,u)}r?(o[c++]=d?d[0]:NaN,o[c++]=d?d[1]:NaN):e.setItemLayout(l,d&&d.slice()||[NaN,NaN])}r&&e.setLayout("symbolPoints",o)}}}}}}},function(t,e,n){var i=n(5),r=n(3),o=n(6);n(192),n(449),i.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new o.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),i.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))},function(t,e){var n=function(t,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return e().indexOfName(t)>=0},this.indexOfName=function(e){return t().indexOfName(e)},this.getItemVisual=function(e,n){return t().getItemVisual(e,n)}};t.exports=n},function(t,e,n){var i=n(3).createHashMap;t.exports=function(t){return{getTargetSeries:function(e){var n={},r=i();return e.eachSeriesByType(t,(function(t){t.__paletteScope=n,r.set(t.uid,t)})),r},reset:function(t,e){var n=t.getRawData(),i={},r=t.getData();r.each((function(t){var e=r.getRawIndex(t);i[e]=t})),n.each((function(e){var o,a=i[e],s=null!=a&&r.getItemVisual(a,"color",!0),l=null!=a&&r.getItemVisual(a,"borderColor",!0);if(s&&l||(o=n.getItemModel(e)),!s){var c=o.get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());null!=a&&r.setItemVisual(a,"color",c)}if(!l){var h=o.get("itemStyle.borderColor");null!=a&&r.setItemVisual(a,"borderColor",h)}}))}}}},function(t,e){t.exports=function(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(e))return!1;return!0}))}}}}},function(t,e,n){var i=n(3),r=n(68),o=n(49),a=n(285);function s(t){this.pointerChecker,this._zr=t,this._opt={};var e=i.bind,n=e(l,this),o=e(c,this),a=e(h,this),s=e(u,this),p=e(d,this);r.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,r){this.disable(),this._opt=i.defaults(i.clone(r)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",o),t.on("mouseup",a)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",p))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",o),t.off("mouseup",a),t.off("mousewheel",s),t.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(t){if(!(o.isMiddleOrRightButtonOnMouseUpDown(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function c(t){if(this._dragging&&g("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!a.isTaken(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,s=e-i,l=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&o.stop(t.event),f(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:i,oldY:r,newX:e,newY:n})}}function h(t){o.isMiddleOrRightButtonOnMouseUpDown(t)||(this._dragging=!1)}function u(t){var e=g("zoomOnMouseWheel",t,this._opt),n=g("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),o=t.offsetX,a=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1;p(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:o,originY:a})}if(n){var l=Math.abs(i);p(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a})}}}function d(t){a.isTaken(this._zr,"globalPan")||p(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function p(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(o.stop(i.event),f(t,e,n,i,r))}function f(t,e,n,r,o){o.isAvailableBehavior=i.bind(g,null,n,r),t.trigger(e,o)}function g(t,e,n){var r=n[t];return!t||r&&(!i.isString(r)||e.event[r+"Key"])}i.mixin(s,r);var m=s;t.exports=m},function(t,e,n){var i=n(5),r=n(3),o=n(133),a=n(578);n(579),n(580),n(304),i.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!r.isArray(e)&&(t.axisPointer.link=[e])}})),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=o.collect(t,e)})),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a)},function(t,e,n){"use strict";n.r(e),n.d(e,"registerAttribute",(function(){return m})),n.d(e,"getAttribute",(function(){return g})),n.d(e,"Attribute",(function(){return o})),n.d(e,"Color",(function(){return l})),n.d(e,"Opacity",(function(){return c})),n.d(e,"Position",(function(){return h})),n.d(e,"Shape",(function(){return u})),n.d(e,"Size",(function(){return d})),n.d(e,"Scale",(function(){return p.Scale}));var i=n(0),r=function(t,e){return Object(i.isString)(e)?e:t.invert(t.scale(e))},o=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,i)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),i=e*t-n,r=this.values[n];return r+((n===e?r:this.values[n+1])-r)*i},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),i=[],r=0;r<n;r+=1)i.push(e[r]);return i},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var i=t.scales[n];return"identity"===i.type?i.values[0]:t._getAttributeValue(i,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,r=void 0===n?"base":n,o=t.names,a=void 0===o?[]:o,s=t.scales,l=void 0===s?[]:s,c=t.values,h=void 0===c?[]:c,u=t.callback;this.type=r,this.scales=l,this.values=h,this.names=a,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(u){var r=u.apply(void 0,t);if(!Object(i.isNil)(r))return[r]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var i=t.scale(e);return this.getLinearValue(i)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(i.isArray)(t)?t.map((function(t){return r(e,t)})):r(e,t)},t}(),a=n(1),s=n(78),l=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],Object(i.isString)(n.values)&&(n.linear=!0),n.gradient=s.default.gradient(n.values),n}return Object(a.__extends)(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(o),c=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return Object(a.__extends)(e,t),e}(o),h=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return Object(a.__extends)(e,t),e.prototype.mapping=function(t,e){var n=this.scales,r=n[0],o=n[1];return Object(i.isNil)(t)||Object(i.isNil)(e)?[]:[Object(i.isArray)(t)?t.map((function(t){return r.scale(t)})):r.scale(t),Object(i.isArray)(e)?e.map((function(t){return o.scale(t)})):o.scale(e)]},e}(o),u=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return Object(a.__extends)(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(o),d=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return Object(a.__extends)(e,t),e}(o),p=n(23),f={},g=function(t){return f[t.toLowerCase()]},m=function(t,e){if(g(t))throw new Error("Attribute type '"+t+"' existed.");f[t.toLowerCase()]=e};m("Color",l),m("Opacity",c),m("Position",h),m("Shape",u),m("Size",d)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStyle=void 0;var i=n(2),r=n(0);e.getStyle=function(t,e,n,o){void 0===o&&(o="");var a=t.style,s=void 0===a?{}:a,l=t.defaultStyle,c=t.color,h=t.size,u=i.__assign(i.__assign({},l),s);return c&&(e&&(s.stroke||(u.stroke=c)),n&&(s.fill||(u.fill=c))),o&&r.isNil(s[o])&&!r.isNil(h)&&(u[o]=h),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(355);e.Attribute=r.default;var o={},a=function(t){return o[t.toLowerCase()]};e.getAttribute=a;e.registerAttribute=function(t,e){if(a(t))throw new Error("Attribute type '"+t+"' existed.");o[t.toLowerCase()]=e},i.__exportStar(n(356),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}},function(t,e,n){var i=n(241),r=n(25),o=n(3),a=n(394),s=n(398),l=n(402),c=n(404),h=n(405),u=!r.canvasSupported,d={canvas:l},p={};var f=function(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,l=new s,p=n.renderer;if(u){if(!d.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else p&&d[p]||(p="canvas");var f=new d[p](e,l,n,t);this.storage=l,this.painter=f;var g=r.node||r.worker?null:new h(f.getViewportRoot(),f.root);this.handler=new a(l,f,g,f.root),this.animation=new c({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=l.delFromStorage,v=l.addToStorage;l.delFromStorage=function(t){m.call(l,t),t&&t.removeSelfFromZr(i)},l.addToStorage=function(t){v.call(l,t),t.addSelfToZr(i)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete p[t]}},e.version="4.3.2",e.init=function(t,e){var n=new f(i(),t,e);return p[n.id]=n,n},e.dispose=function(t){if(t)t.dispose();else{for(var e in p)p.hasOwnProperty(e)&&p[e].dispose();p={}}return this},e.getInstance=function(t){return p[t]},e.registerPainter=function(t,e){d[t]=e}},function(t,e,n){var i=n(37),r=n(18),o=i.identity;function a(t){return t>5e-5||t<-5e-5}var s=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=s.prototype;l.transform=null,l.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)};var c=[];l.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;if(n||e){r=r||i.create(),n?this.getLocalTransform(r):o(r),e&&(n?i.mul(r,t.transform,r):i.copy(r,t.transform)),this.transform=r;var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(c);var s=c[0]<0?-1:1,l=c[1]<0?-1:1,h=((c[0]-s)*a+s)/c[0]||0,u=((c[1]-l)*a+l)/c[1]||0;r[0]*=h,r[1]*=h,r[2]*=u,r[3]*=u}this.invTransform=this.invTransform||i.create(),i.invert(this.invTransform,r)}else r&&o(r)},l.getLocalTransform=function(t){return s.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var h=[],u=i.create();l.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=this.position,r=this.scale;a(e-1)&&(e=Math.sqrt(e)),a(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),i[0]=t[4],i[1]=t[5],r[0]=e,r[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(i.mul(h,t.invTransform,e),e=h);var n=this.origin;n&&(n[0]||n[1])&&(u[4]=n[0],u[5]=n[1],i.mul(h,e,u),h[4]-=n[0],h[5]-=n[1],e=h),this.setLocalTransform(e)}},l.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},l.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&r.applyTransform(n,n,i),n},l.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&r.applyTransform(n,n,i),n},s.getLocalTransform=function(t,e){o(e=e||[]);var n=t.origin,r=t.scale||[1,1],a=t.rotation||0,s=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),i.scale(e,e,r),a&&i.rotate(e,e,a),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=s[0],e[5]+=s[1],e};var d=s;t.exports=d},function(t,e){var n=1;"undefined"!=typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var i=n;e.debugMode=0,e.devicePixelRatio=i},function(t,e){e.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},e.WILL_BE_RESTORED=9},function(t,e,n){var i=n(3),r=i.retrieve2,o=i.retrieve3,a=i.each,s=i.normalizeCssArray,l=i.isString,c=i.isObject,h=n(39),u=n(250),d=n(182),p=n(246),f=n(124),g=f.ContextCachedBy,m=f.WILL_BE_RESTORED,v=h.DEFAULT_FONT,y={left:1,right:1,center:1},x={top:1,bottom:1,middle:1},b=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],w={},C={};function _(t){if(t){t.font=h.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||y[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||x[n]?n:"top",t.textPadding&&(t.textPadding=s(t.textPadding))}}function S(t,e,n,i,r){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r)}}function O(t,e,n,i,a,s,l,c){var h=i.rich[n.styleName]||{};h.text=n.text;var u=n.textVerticalAlign,d=s+a/2;"top"===u?d=s+n.height/2:"bottom"===u&&(d=s+a-n.height/2),!n.isLineHolder&&M(h)&&k(t,e,h,"right"===c?l-n.width:"center"===c?l-n.width/2:l,d-n.height/2,n.width,n.height);var p=n.textPadding;p&&(l=j(l,c,p),d-=n.height/2-p[2]-n.textHeight/2),D(e,"shadowBlur",o(h.textShadowBlur,i.textShadowBlur,0)),D(e,"shadowColor",h.textShadowColor||i.textShadowColor||"transparent"),D(e,"shadowOffsetX",o(h.textShadowOffsetX,i.textShadowOffsetX,0)),D(e,"shadowOffsetY",o(h.textShadowOffsetY,i.textShadowOffsetY,0)),D(e,"textAlign",c),D(e,"textBaseline","middle"),D(e,"font",n.font||v);var f=P(h.textStroke||i.textStroke,m),g=I(h.textFill||i.textFill),m=r(h.textStrokeWidth,i.textStrokeWidth);f&&(D(e,"lineWidth",m),D(e,"strokeStyle",f),e.strokeText(n.text,l,d)),g&&(D(e,"fillStyle",g),e.fillText(n.text,l,d))}function M(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function k(t,e,n,i,r,o,a){var s=n.textBackgroundColor,h=n.textBorderWidth,p=n.textBorderColor,f=l(s);if(D(e,"shadowBlur",n.textBoxShadowBlur||0),D(e,"shadowColor",n.textBoxShadowColor||"transparent"),D(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),D(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),f||h&&p){e.beginPath();var g=n.textBorderRadius;g?u.buildPath(e,{x:i,y:r,width:o,height:a,r:g}):e.rect(i,r,o,a),e.closePath()}if(f)if(D(e,"fillStyle",s),null!=n.fillOpacity){var m=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=m}else e.fill();else if(c(s)){var v=s.image;(v=d.createOrUpdateImage(v,null,t,A,s))&&d.isImageReady(v)&&e.drawImage(v,i,r,o,a)}if(h&&p)if(D(e,"lineWidth",h),D(e,"strokeStyle",p),null!=n.strokeOpacity){m=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=m}else e.stroke()}function A(t,e){e.image=t}function T(t,e,n,i){var r=n.x||0,o=n.y||0,a=n.textAlign,s=n.textVerticalAlign;if(i){var l=n.textPosition;if(l instanceof Array)r=i.x+E(l[0],i.width),o=i.y+E(l[1],i.height);else{var c=e&&e.calculateTextPosition?e.calculateTextPosition(w,n,i):h.calculateTextPosition(w,n,i);r=c.x,o=c.y,a=a||c.textAlign,s=s||c.textVerticalAlign}var u=n.textOffset;u&&(r+=u[0],o+=u[1])}return(t=t||{}).baseX=r,t.baseY=o,t.textAlign=a,t.textVerticalAlign=s,t}function D(t,e,n){return t[e]=p(t,e,n),t[e]}function P(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function I(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function E(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function j(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}e.normalizeTextStyle=function(t){return _(t),a(t.rich,_),t},e.renderText=function(t,e,n,i,r,o){i.rich?function(t,e,n,i,r,o){o!==m&&(e.__attrCachedBy=g.NONE);var a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=h.parseRichText(n,i));!function(t,e,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=i.textPadding,c=T(C,t,i,r),u=c.baseX,d=c.baseY,p=c.textAlign,f=c.textVerticalAlign;S(e,i,r,u,d);var g=h.adjustTextX(u,a,p),m=h.adjustTextY(d,s,f),v=g,y=m;l&&(v+=l[3],y+=l[0]);var x=v+o;M(i)&&k(t,e,i,g,m,a,s);for(var b=0;b<n.lines.length;b++){for(var w,_=n.lines[b],A=_.tokens,D=A.length,P=_.lineHeight,I=_.width,E=0,j=v,L=x,B=D-1;E<D&&(!(w=A[E]).textAlign||"left"===w.textAlign);)O(t,e,w,i,P,y,j,"left"),I-=w.width,j+=w.width,E++;for(;B>=0&&"right"===(w=A[B]).textAlign;)O(t,e,w,i,P,y,L,"right"),I-=w.width,L-=w.width,B--;for(j+=(o-(j-v)-(x-L)-I)/2;E<=B;)w=A[E],O(t,e,w,i,P,y,j+w.width/2,"center"),j+=w.width,E++;y+=P}}(t,e,a,i,r)}(t,e,n,i,r,o):function(t,e,n,i,r,o){"use strict";var a,s=M(i),l=!1,c=e.__attrCachedBy===g.PLAIN_TEXT;o!==m?(o&&(a=o.style,l=!s&&c&&a),e.__attrCachedBy=s?g.NONE:g.PLAIN_TEXT):c&&(e.__attrCachedBy=g.NONE);var u=i.font||v;l&&u===(a.font||v)||(e.font=u);var d=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,d=t.__computedFont=e.font);var f=i.textPadding,y=i.textLineHeight,x=t.__textCotentBlock;x&&!t.__dirtyText||(x=t.__textCotentBlock=h.parsePlainText(n,d,f,y,i.truncate));var w=x.outerHeight,_=x.lines,O=x.lineHeight,A=T(C,t,i,r),D=A.baseX,E=A.baseY,L=A.textAlign||"left",B=A.textVerticalAlign;S(e,i,r,D,E);var N=h.adjustTextY(E,w,B),R=D,F=N;if(s||f){var z=h.getWidth(n,d);f&&(z+=f[1]+f[3]);var V=h.adjustTextX(D,z,L);s&&k(t,e,i,V,N,z,w),f&&(R=j(D,L,f),F+=f[0])}e.textAlign=L,e.textBaseline="middle",e.globalAlpha=i.opacity||1;for(var G=0;G<b.length;G++){var H=b[G],W=H[0],$=H[1],Y=i[W];l&&Y===a[W]||(e[$]=p(e,$,Y||H[2]))}F+=O/2;var X=i.textStrokeWidth,q=l?a.textStrokeWidth:null,U=!l||X!==q,Z=!l||U||i.textStroke!==a.textStroke,K=P(i.textStroke,X),J=I(i.textFill);K&&(U&&(e.lineWidth=X),Z&&(e.strokeStyle=K));J&&(l&&i.textFill===a.textFill||(e.fillStyle=J));if(1===_.length)K&&e.strokeText(_[0],R,F),J&&e.fillText(_[0],R,F);else for(G=0;G<_.length;G++)K&&e.strokeText(_[G],R,F),J&&e.fillText(_[G],R,F),F+=O}(t,e,n,i,r,o)},e.getBoxPosition=T,e.getStroke=P,e.getFill=I,e.parsePercent=E,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e){var n=function(t){this.colorStops=t||[]};n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var i=n;t.exports=i},function(t,e,n){var i=n(69),r=n(103),o=n(56),a=function(){this.group=new i,this.uid=r.getUID("viewComponent")},s=a.prototype={constructor:a,init:function(t,e){},render:function(t,e,n,i){},dispose:function(){},filterForExposedEvent:null};s.updateView=s.updateLayout=s.updateVisual=function(t,e,n,i){},o.enableClassExtend(a),o.enableClassManagement(a,{registerWhenExtend:!0});var l=a;t.exports=l},function(t,e,n){var i=n(56);function r(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}r.prototype.parse=function(t){return t},r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},r.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},r.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},r.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r.prototype.getLabel=null,i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0});var o=r;t.exports=o},function(t,e,n){var i=n(8),r=n(15),o=n(128),a=n(270),s=i.round,l=o.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(t)},getTicks:function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;n[0]<i[0]&&(t?o.push(s(i[0]-e,r)):o.push(n[0]));for(var a=i[0];a<=i[1]&&(o.push(a),(a=s(a+e,r))!==o[o.length-1]);)if(o.length>1e4)return[];var l=o.length?o[o.length-1]:i[1];return n[1]>l&&(t?o.push(s(l+e,r)):o.push(n[1])),o},getMinorTicks:function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),o=1;o<e.length;o++){for(var a=e[o],s=e[o-1],l=0,c=[],h=(a-s)/t;l<t-1;){var u=i.round(s+(l+1)*h);u>r[0]&&u<r[1]&&c.push(u),l++}n.push(c)}return n},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=i.getPrecisionSafe(t)||0:"auto"===n&&(n=this._intervalPrecision),t=s(t,n,!0),r.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=a.intervalScaleNiceTicks(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=s(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=s(Math.ceil(e[1]/r)*r))}});l.create=function(){return new l};var c=l;t.exports=c},function(t,e,n){var i=n(3),r=n(8).parsePercent,o=n(52).isDimensionStacked,a=n(84),s="undefined"!=typeof Float32Array?Float32Array:Array;function l(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function c(t){return t.dim+t.index}function h(t,e){var n=[];return e.eachSeriesByType(t,(function(t){g(t)&&!m(t)&&n.push(t)})),n}function u(t){var e=function(t){var e={};i.each(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=t.getData(),r=n.dim+"_"+n.index,o=i.mapDimension(n.dim),a=0,s=i.count();a<s;++a){var l=i.get(o,a);e[r]?e[r].push(l):e[r]=[l]}}));var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.sort((function(t,e){return t-e}));for(var a=null,s=1;s<o.length;++s){var l=o[s]-o[s-1];l>0&&(a=null===a?l:Math.min(a,l))}n[r]=a}}return n}(t),n=[];return i.each(t,(function(t){var i,o=t.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)i=o.getBandWidth();else if("value"===o.type||"time"===o.type){var s=o.dim+"_"+o.index,h=e[s],u=Math.abs(a[1]-a[0]),d=o.scale.getExtent(),p=Math.abs(d[1]-d[0]);i=h?u/p*h:u}else{var f=t.getData();i=Math.abs(a[1]-a[0])/f.count()}var g=r(t.get("barWidth"),i),m=r(t.get("barMaxWidth"),i),v=r(t.get("barMinWidth")||1,i),y=t.get("barGap"),x=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:g,barMaxWidth:m,barMinWidth:v,barGap:y,barCategoryGap:x,axisKey:c(o),stackId:l(t)})})),d(n)}function d(t){var e={};i.each(t,(function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;e[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var c=t.barMaxWidth;c&&(a[s].maxWidth=c);var h=t.barMinWidth;h&&(a[s].minWidth=h);var u=t.barGap;null!=u&&(o.gap=u);var d=t.barCategoryGap;null!=d&&(o.categoryGap=d)}));var n={};return i.each(e,(function(t,e){n[e]={};var o=t.stacks,a=t.bandWidth,s=r(t.categoryGap,a),l=r(t.gap,1),c=t.remainedWidth,h=t.autoWidthCount,u=(c-s)/(h+(h-1)*l);u=Math.max(u,0),i.each(o,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,c-=i+l*i,h--}else{var i=u;e&&e<i&&(i=Math.min(e,c)),n&&n>i&&(i=n),i!==u&&(t.width=i,c-=i+l*i,h--)}})),u=(c-s)/(h+(h-1)*l),u=Math.max(u,0);var d,p=0;i.each(o,(function(t,e){t.width||(t.width=u),d=t,p+=t.width*(1+l)})),d&&(p-=d.width*l);var f=-p/2;i.each(o,(function(t,i){n[e][i]=n[e][i]||{bandWidth:a,offset:f,width:t.width},f+=t.width*(1+l)}))})),n}function p(t,e,n){if(t&&e){var i=t[c(e)];return null!=i&&null!=n&&(i=i[l(n)]),i}}var f={seriesType:"bar",plan:a(),reset:function(t){if(g(t)&&m(t)){var e=t.getData(),n=t.coordinateSystem,i=n.grid.getRect(),r=n.getBaseAxis(),o=n.getOtherAxis(r),a=e.mapDimension(o.dim),l=e.mapDimension(r.dim),c=o.isHorizontal(),h=c?0:1,d=p(u([t]),r,t).width;return d>.5||(d=.5),{progress:function(t,e){var u,p=t.count,f=new s(2*p),g=new s(2*p),m=new s(p),y=[],x=[],b=0,w=0;for(;null!=(u=t.next());)x[h]=e.get(a,u),x[1-h]=e.get(l,u),y=n.dataToPoint(x,null,y),g[b]=c?i.x+i.width:y[0],f[b++]=y[0],g[b]=c?y[1]:i.y+i.height,f[b++]=y[1],m[w++]=u;e.setLayout({largePoints:f,largeDataIndices:m,largeBackgroundPoints:g,barWidth:d,valueAxisStart:v(r,o,!1),backgroundStart:c?i.x:i.y,valueAxisHorizontal:c})}}}}};function g(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function m(t){return t.pipelineContext&&t.pipelineContext.large}function v(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}e.getLayoutOnAxis=function(t){var e=[],n=t.axis;if("category"===n.type){for(var r=n.getBandWidth(),o=0;o<t.count;o++)e.push(i.defaults({bandWidth:r,axisKey:"axis0",stackId:"__ec_stack_"+o},t));var a=d(e),s=[];for(o=0;o<t.count;o++){var l=a.axis0["__ec_stack_"+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}},e.prepareLayoutBarSeries=h,e.makeColumnLayout=u,e.retrieveColumnLayout=p,e.layout=function(t,e){var n=h(t,e),r=u(n),a={},s={};i.each(n,(function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),h=l(t),u=r[c(i)][h],d=u.offset,p=u.width,f=n.getOtherAxis(i),g=t.get("barMinHeight")||0;a[h]=a[h]||[],s[h]=s[h]||[],e.setLayout({bandWidth:u.bandWidth,offset:d,size:p});for(var m=e.mapDimension(f.dim),y=e.mapDimension(i.dim),x=o(e,m),b=f.isHorizontal(),w=v(i,f,x),C=0,_=e.count();C<_;C++){var S,O,M,k,A,T=e.get(m,C),D=e.get(y,C),P=T>=0?"p":"n",I=w;if(x&&(a[h][D]||(a[h][D]={p:w,n:w}),I=a[h][D][P]),b)S=I,O=(A=n.dataToPoint([T,D]))[1]+d,M=A[0]-w,k=p,Math.abs(M)<g&&(M=(M<0?-1:1)*g),isNaN(M)||x&&(a[h][D][P]+=M);else S=(A=n.dataToPoint([D,T]))[0]+d,O=I,M=p,k=A[1]-w,Math.abs(k)<g&&(k=(k<=0?-1:1)*g),isNaN(k)||x&&(a[h][D][P]+=k);e.setItemLayout(C,{x:S,y:O,width:M,height:k})}}),this)},e.largeLayout=f},function(t,e,n){var i=n(3),r=n(40).createSymbol,o=n(6),a=n(8).parsePercent,s=n(191).getDefaultLabel;function l(t,e,n){o.Group.call(this),this.updateData(t,e,n)}var c=l.prototype,h=l.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};function u(t){return[t[0]/2,t[1]/2]}function d(t,e){this.parent.drift(t,e)}c._createSymbol=function(t,e,n,i,o){this.removeAll();var a=e.getItemVisual(n,"color"),s=r(t,-1,-1,2,2,a,o);s.attr({z2:100,culling:!0,scale:u(i)}),s.drift=d,this._symbolType=t,this.add(s)},c.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},c.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},c.updateData=function(t,e,n){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",r=t.hostModel,a=h(t,e),s=i!==this._symbolType;if(s){var l=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,a,l)}else{(c=this.childAt(0)).silent=!1,o.updateProps(c,{scale:u(a)},r,e)}if(this._updateCommon(t,e,a,n),s){var c=this.childAt(0),d=n&&n.fadeIn,p={scale:c.scale.slice()};d&&(p.style={opacity:c.style.opacity}),c.scale=[0,0],d&&(c.style.opacity=0),o.initProps(c,p,r,e)}this._seriesModel=r};var p=["itemStyle"],f=["emphasis","itemStyle"],g=["label"],m=["emphasis","label"];function v(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var n=this.__symbolOriginalScale,i=n[1]/n[0],r={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(r,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}c._updateCommon=function(t,e,n,r){var l=this.childAt(0),c=t.hostModel,h=t.getItemVisual(e,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=r&&r.itemStyle,y=r&&r.hoverItemStyle,x=r&&r.symbolOffset,b=r&&r.labelModel,w=r&&r.hoverLabelModel,C=r&&r.hoverAnimation,_=r&&r.cursorStyle;if(!r||t.hasItemOption){var S=r&&r.itemModel?r.itemModel:t.getItemModel(e);d=S.getModel(p).getItemStyle(["color"]),y=S.getModel(f).getItemStyle(),x=S.getShallow("symbolOffset"),b=S.getModel(g),w=S.getModel(m),C=S.getShallow("hoverAnimation"),_=S.getShallow("cursor")}else y=i.extend({},y);var O=l.style,M=t.getItemVisual(e,"symbolRotate");l.attr("rotation",(M||0)*Math.PI/180||0),x&&l.attr("position",[a(x[0],n[0]),a(x[1],n[1])]),_&&l.attr("cursor",_),l.setColor(h,r&&r.symbolInnerColor),l.setStyle(d);var k=t.getItemVisual(e,"opacity");null!=k&&(O.opacity=k);var A=t.getItemVisual(e,"liftZ"),T=l.__z2Origin;null!=A?null==T&&(l.__z2Origin=l.z2,l.z2+=A):null!=T&&(l.z2=T,l.__z2Origin=null);var D=r&&r.useNameLabel;o.setLabelStyle(O,y,b,w,{labelFetcher:c,labelDataIndex:e,defaultText:function(e,n){return D?t.getName(e):s(t,e)},isRectText:!0,autoColor:h}),l.__symbolOriginalScale=u(n),l.hoverStyle=y,l.highDownOnUpdate=C&&c.isAnimationEnabled()?v:null,o.setHoverStyle(l)},c.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,(!e||!e.keepLabel)&&(n.style.text=null),o.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},i.inherits(l,o.Group);var y=l;t.exports=y},function(t,e,n){var i=n(3),r=n(278),o=n(30),a=n(14),s=a.getLayoutParams,l=a.mergeLayoutParam,c=n(269),h=["value","category","time","log"];t.exports=function(t,e,n,a){i.each(h,(function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,r){var a=this.layoutMode,c=a?s(e):{},h=r.getTheme();i.merge(e,h.get(o+"Axis")),i.merge(e,this.getDefaultOption()),e.type=n(t,e),a&&l(e,c,a)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=c.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:i.mergeAll([{},r[o+"Axis"],a],!0)})})),o.registerSubTypeDefaulter(t+"Axis",i.curry(n,t))}},function(t,e,n){var i=n(3),r=n(26),o=i.each,a=i.curry;function s(t,e){return"all"===t||i.isArray(t)&&i.indexOf(t,e)>=0||t===e}function l(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[h(t)]}function c(t){return!!t.get("handle.show")}function h(t){return t.type+"||"+t.id}e.collect=function(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var l=e.getComponent("tooltip"),u=e.getComponent("axisPointer"),d=u.get("link",!0)||[],p=[];o(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var f=h(n.model),g=t.coordSysAxesInfo[f]={};t.coordSysMap[f]=n;var m=n.model.getModel("tooltip",l);if(o(n.getAxes(),a(b,!1,null)),n.getTooltipAxes&&l&&m.get("show")){var v="axis"===m.get("trigger"),y="cross"===m.get("axisPointer.type"),x=n.getTooltipAxes(m.get("axisPointer.axis"));(v||y)&&o(x.baseAxes,a(b,!y||"cross",v)),y&&o(x.otherAxes,a(b,"cross",!1))}}function b(a,l,f){var v=f.model.getModel("axisPointer",u),y=v.get("show");if(y&&("auto"!==y||a||c(v))){null==l&&(l=v.get("triggerTooltip"));var x=(v=a?function(t,e,n,a,s,l){var c=e.getModel("axisPointer"),h={};o(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){h[t]=i.clone(c.get(t))})),h.snap="category"!==t.type&&!!l,"cross"===c.get("type")&&(h.type="line");var u=h.label||(h.label={});if(null==u.show&&(u.show=!1),"cross"===s){var d=c.get("label.show");if(u.show=null==d||d,!l){var p=h.lineStyle=c.get("crossStyle");p&&i.defaults(u,p.textStyle)}}return t.model.getModel("axisPointer",new r(h,n,a))}(f,m,u,e,a,l):v).get("snap"),b=h(f.model),w=l||x||"category"===f.type,C=t.axesInfo[b]={key:b,axis:f,coordSys:n,axisPointerModel:v,triggerTooltip:l,involveSeries:w,snap:x,useHandle:c(v),seriesModels:[]};g[b]=C,t.seriesInvolved|=w;var _=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(s(o[i+"AxisId"],n.id)||s(o[i+"AxisIndex"],n.componentIndex)||s(o[i+"AxisName"],n.name))return r}}(d,f);if(null!=_){var S=p[_]||(p[_]={axesInfo:{}});S.axesInfo[b]=C,S.mapper=d[_].mapper,C.linkGroup=S}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get("tooltip.trigger",!0),r=e.get("tooltip.show",!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get("axisPointer.show",!0)&&o(t.coordSysAxesInfo[h(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}),this)}(n,t),n},e.fixValue=function(t){var e=l(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=c(n);null==o&&(r.status=s?"show":"hide");var h=i.getExtent().slice();h[0]>h[1]&&h.reverse(),(null==a||a>h[1])&&(a=h[1]),a<h[0]&&(a=h[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}},e.getAxisInfo=l,e.getAxisPointerModel=function(t){var e=l(t);return e&&e.axisPointerModel},e.makeKey=h},function(t,e,n){n(12).__DEV__;var i=n(3),r=i.each,o=i.createHashMap,a=n(189),s=n(477),l=n(482),c=n(20),h={geoJSON:s,svg:l},u={load:function(t,e,n){var i,a=[],s=o(),l=o(),u=p(t);return r(u,(function(o){var c=h[o.type].load(t,o,n);r(c.regions,(function(t){var n=t.name;e&&e.hasOwnProperty(n)&&(t=t.cloneShallow(n=e[n])),a.push(t),s.set(n,t),l.set(n,t.center)}));var u=c.boundingRect;u&&(i?i.union(u):i=u.clone())})),{regions:a,regionsMap:s,nameCoordMap:l,boundingRect:i||new c(0,0,0,0)}},makeGraphic:d("makeGraphic"),removeGraphic:d("removeGraphic")};function d(t){return function(e,n){var i=p(e),o=[];return r(i,(function(i){var r=h[i.type][t];r&&o.push(r(e,i,n))})),o}}function p(t){return a.retrieveMap(t)||[]}t.exports=u},function(t,e){var n={axisPointer:1,tooltip:1,brush:1};e.onIrrelevantElement=function(t,e,i){var r=e.getComponentByElement(t.topTarget),o=r&&r.coordinateSystem;return r&&r!==i&&!n[r.mainType]&&o&&o.model!==i}},function(t,e,n){var i=n(3),r=function(t){return t.get("autoCurveness")||null},o=function(t,e){var n=r(t),o=20,a=[];if("number"==typeof n)o=n;else if(i.isArray(n))return void(t.__curvenessList=n);e>o&&(o=e);var s=o%2?o+2:o+3;a=[];for(var l=0;l<s;l++)a.push((l%2?l+1:l)/10*(l%2?-1:1));t.__curvenessList=a},a=function(t,e,n){var i=[t.id,t.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[n.uid,i,r].join("--\x3e")},s=function(t){var e=t.split("--\x3e");return[e[0],e[2],e[1]].join("--\x3e")},l=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};e.initCurvenessList=function(t){r(t)&&(t.__curvenessList=[],t.__edgeMap={},o(t))},e.createEdgeMapForCurveness=function(t,e,n,i){if(r(n)){var o=a(t,e,n),l=n.__edgeMap,c=l[s(o)];l[o]&&!c?l[o].isForward=!0:c&&l[o]&&(c.isForward=!0,l[o].isForward=!1),l[o]=l[o]||[],l[o].push(i)}},e.getCurvenessForEdge=function(t,e,n,c){var h=r(e),u=i.isArray(h);if(!h)return null;var d=function(t,e){var n=a(t.node1,t.node2,e);return e.__edgeMap[n]}(t,e);if(!d)return null;for(var p=-1,f=0;f<d.length;f++)if(d[f]===n){p=f;break}var g=function(t,e){return l(a(t.node1,t.node2,e),e)+l(a(t.node2,t.node1,e),e)}(t,e);o(e,g),t.lineStyle=t.lineStyle||{};var m=a(t.node1,t.node2,e),v=e.__curvenessList,y=u||g%2?0:1;if(d.isForward)return v[y+p];var x=s(m),b=l(x,e),w=v[p+b+y];return c?u?h&&0===h[0]?(b+y)%2?w:-w:((b%2?0:1)+y)%2?w:-w:(b+y)%2?w:-w:v[p+b+y]}},function(t,e,n){var i=n(3),r=n(6),o=n(39),a=n(15),s=n(37),l=n(45),c=n(64);function h(t,e,n,i,r){var s=u(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),l=n.getModel("label"),c=a.normalizeCssArray(l.get("padding")||0),h=l.getFont(),d=o.getBoundingRect(s,h),p=r.position,f=d.width+c[1]+c[3],g=d.height+c[0]+c[2],m=r.align;"right"===m&&(p[0]-=f),"center"===m&&(p[0]-=f/2);var v=r.verticalAlign;"bottom"===v&&(p[1]-=g),"middle"===v&&(p[1]-=g/2),function(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(p,f,g,i);var y=l.get("backgroundColor");y&&"auto"!==y||(y=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:f,height:g,r:l.get("borderRadius")},position:p.slice(),style:{text:s,textFont:h,textFill:l.getTextColor(),textPosition:"inside",textPadding:c,fill:y,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function u(t,e,n,r,o){t=e.scale.parse(t);var a=e.scale.getLabel(t,{precision:o.precision}),s=o.formatter;if(s){var c={value:l.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};i.each(r,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&c.seriesData.push(r)})),i.isString(s)?a=s.replace("{value}",a):i.isFunction(s)&&(a=s(c))}return a}function d(t,e,n){var i=s.create();return s.rotate(i,i,n.rotation),s.translate(i,i,n.position),r.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}e.buildElStyle=function(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle()).fill=null:"shadow"===n&&((e=i.getAreaStyle()).stroke=null),e},e.buildLabelElOption=h,e.getValueLabel=u,e.getTransformedPosition=d,e.buildCartesianSingleLabelElOption=function(t,e,n,i,r,o){var a=c.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),h(e,i,r,o,{position:d(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})},e.makeLineShape=function(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}},e.makeRectShape=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},e.makeSectorShape=function(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}},function(t,e,n){var i=n(3),r=n(76),o=i.each;function a(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}e.createVisualMappings=function(t,e,n){var a={};return o(e,(function(e){var s,l=a[e]=((s=function(){}).prototype.__hidden=s.prototype,new s);o(t[e],(function(t,o){if(r.isValidType(o)){var a={type:o,visual:t};n&&n(a,e),l[o]=new r(a),"opacity"===o&&((a=i.clone(a)).type="colorAlpha",l.__hidden.__alphaForOpacity=new r(a))}}))})),a},e.replaceVisualOption=function(t,e,n){var r;i.each(n,(function(t){e.hasOwnProperty(t)&&a(e[t])&&(r=!0)})),r&&i.each(n,(function(n){e.hasOwnProperty(n)&&a(e[n])?t[n]=i.clone(e[n]):delete t[n]}))},e.applyVisual=function(t,e,n,o,a,s){var l,c={};function h(t){return n.getItemVisual(l,t)}function u(t,e){n.setItemVisual(l,t,e)}function d(t,i){l=null==s?t:i;var r=n.getRawDataItem(l);if(!r||!1!==r.visualMap)for(var d=o.call(a,t),p=e[d],f=c[d],g=0,m=f.length;g<m;g++){var v=f[g];p[v]&&p[v].applyVisual(t,h,u)}}i.each(t,(function(t){var n=r.prepareVisualTypes(e[t]);c[t]=n})),null==s?n.each(d):n.each([s],d)},e.incrementalApplyVisual=function(t,e,n,o){var a={};return i.each(t,(function(t){var n=r.prepareVisualTypes(e[t]);a[t]=n})),{progress:function(t,i){function r(t){return i.getItemVisual(l,t)}function s(t,e){i.setItemVisual(l,t,e)}var l;for(null!=o&&(o=i.getDimension(o));null!=(l=t.next());){var c=i.getRawDataItem(l);if(!c||!1!==c.visualMap)for(var h=null!=o?i.get(o,l,!0):l,u=n(h),d=e[u],p=a[u],f=0,g=p.length;f<g;f++){var m=p[f];d[m]&&d[m].applyVisual(h,r,s)}}}}}},function(t,e,n){var i=n(346);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(349);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return r})),n.d(e,"clone",(function(){return o})),n.d(e,"length",(function(){return a})),n.d(e,"fromValues",(function(){return s})),n.d(e,"copy",(function(){return l})),n.d(e,"set",(function(){return c})),n.d(e,"add",(function(){return h})),n.d(e,"subtract",(function(){return u})),n.d(e,"multiply",(function(){return d})),n.d(e,"divide",(function(){return p})),n.d(e,"ceil",(function(){return f})),n.d(e,"floor",(function(){return g})),n.d(e,"min",(function(){return m})),n.d(e,"max",(function(){return v})),n.d(e,"round",(function(){return y})),n.d(e,"scale",(function(){return x})),n.d(e,"scaleAndAdd",(function(){return b})),n.d(e,"distance",(function(){return w})),n.d(e,"squaredDistance",(function(){return C})),n.d(e,"squaredLength",(function(){return _})),n.d(e,"negate",(function(){return S})),n.d(e,"inverse",(function(){return O})),n.d(e,"normalize",(function(){return M})),n.d(e,"dot",(function(){return k})),n.d(e,"cross",(function(){return A})),n.d(e,"lerp",(function(){return T})),n.d(e,"hermite",(function(){return D})),n.d(e,"bezier",(function(){return P})),n.d(e,"random",(function(){return I})),n.d(e,"transformMat4",(function(){return E})),n.d(e,"transformMat3",(function(){return j})),n.d(e,"transformQuat",(function(){return L})),n.d(e,"rotateX",(function(){return B})),n.d(e,"rotateY",(function(){return N})),n.d(e,"rotateZ",(function(){return R})),n.d(e,"angle",(function(){return F})),n.d(e,"zero",(function(){return z})),n.d(e,"str",(function(){return V})),n.d(e,"exactEquals",(function(){return G})),n.d(e,"equals",(function(){return H})),n.d(e,"sub",(function(){return $})),n.d(e,"mul",(function(){return Y})),n.d(e,"div",(function(){return X})),n.d(e,"dist",(function(){return q})),n.d(e,"sqrDist",(function(){return U})),n.d(e,"len",(function(){return Z})),n.d(e,"sqrLen",(function(){return K})),n.d(e,"forEach",(function(){return J}));var i=n(13);function r(){var t=new i.a(3);return i.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function o(t){var e=new i.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],n=t[1],i=t[2];return Math.hypot(e,n,i)}function s(t,e,n){var r=new i.a(3);return r[0]=t,r[1]=e,r[2]=n,r}function l(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function h(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function d(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function m(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function x(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function b(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t}function w(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.hypot(n,i,r)}function C(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function _(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function M(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function k(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function A(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=r*l-o*s,t[1]=o*a-i*l,t[2]=i*s-r*a,t}function T(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t}function D(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),h=a*(3-2*o);return t[0]=e[0]*s+n[0]*l+i[0]*c+r[0]*h,t[1]=e[1]*s+n[1]*l+i[1]*c+r[1]*h,t[2]=e[2]*s+n[2]*l+i[2]*c+r[2]*h,t}function P(t,e,n,i,r,o){var a=1-o,s=a*a,l=o*o,c=s*a,h=3*o*s,u=3*l*a,d=l*o;return t[0]=e[0]*c+n[0]*h+i[0]*u+r[0]*d,t[1]=e[1]*c+n[1]*h+i[1]*u+r[1]*d,t[2]=e[2]*c+n[2]*h+i[2]*u+r[2]*d,t}function I(t,e){e=e||1;var n=2*i.c()*Math.PI,r=2*i.c()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}function E(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t}function j(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function L(t,e,n){var i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],l=e[1],c=e[2],h=r*c-o*l,u=o*s-i*c,d=i*l-r*s,p=r*d-o*u,f=o*h-i*d,g=i*u-r*h,m=2*a;return h*=m,u*=m,d*=m,p*=2,f*=2,g*=2,t[0]=s+h+p,t[1]=l+u+f,t[2]=c+d+g,t}function B(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function N(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function R(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function F(t,e){var n=t[0],i=t[1],r=t[2],o=e[0],a=e[1],s=e[2],l=Math.sqrt(n*n+i*i+r*r)*Math.sqrt(o*o+a*a+s*s),c=l&&k(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function z(t){return t[0]=0,t[1]=0,t[2]=0,t}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function G(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function H(t,e){var n=t[0],r=t[1],o=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=i.b*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=i.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-l)<=i.b*Math.max(1,Math.abs(o),Math.abs(l))}var W,$=u,Y=d,X=p,q=w,U=C,Z=a,K=_,J=(W=r(),function(t,e,n,i,r,o){var a,s;for(e||(e=3),n||(n=0),s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)W[0]=t[a],W[1]=t[a+1],W[2]=t[a+2],r(W,W,o),t[a]=W[0],t[a+1]=W[1],t[a+2]=W[2];return t})},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return h}));var i=n(59);n.d(e,"Shape",(function(){return i}));var r=n(230);for(var o in r)["version","Event","Canvas","Group","Shape","default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);var a=n(232);for(var o in a)["version","Event","Canvas","Group","Shape","default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var s=n(16);n.d(e,"Event",(function(){return s.Event}));var l=n(325);n.d(e,"Canvas",(function(){return l.a}));var c=n(93);n.d(e,"Group",(function(){return c.a}));var h=n(375).version},function(t,e,n){var i=n(689);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(691);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(693);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(695);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(697);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(699);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(705);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(707);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(709);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(711);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(713);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(715);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(717);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(719);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(722);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){var i=n(726);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var i=n(10),r=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function l(t,e){var n=t.match(s);Object(i.c)(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function c(t,e,n){if(Object(i.k)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return function(t,e,n){var i,o,a=r.exec(n),s=parseFloat(a[1])%360*(Math.PI/180),c=a[2],h=e.getBBox();s>=0&&s<.5*Math.PI?(i={x:h.minX,y:h.minY},o={x:h.maxX,y:h.maxY}):.5*Math.PI<=s&&s<Math.PI?(i={x:h.maxX,y:h.minY},o={x:h.minX,y:h.maxY}):Math.PI<=s&&s<1.5*Math.PI?(i={x:h.maxX,y:h.maxY},o={x:h.minX,y:h.minY}):(i={x:h.minX,y:h.maxY},o={x:h.maxX,y:h.minY});var u=Math.tan(s),d=u*u,p=(o.x-i.x+u*(o.y-i.y))/(d+1)+i.x,f=u*(o.x-i.x+u*(o.y-i.y))/(d+1)+i.y,g=t.createLinearGradient(i.x,i.y,p,f);return l(c,g),g}(t,e,n);if("r"===n[0])return function(t,e,n){var i=o.exec(n),r=parseFloat(i[1]),a=parseFloat(i[2]),c=parseFloat(i[3]),h=i[4];if(0===c){var u=h.match(s);return u[u.length-1].split(":")[1]}var d=e.getBBox(),p=d.maxX-d.minX,f=d.maxY-d.minY,g=Math.sqrt(p*p+f*f)/2,m=t.createRadialGradient(d.minX+p*r,d.minY+f*a,0,d.minX+p/2,d.minY+f/2,c*g);return l(h,m),m}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var i,r,o=a.exec(n),s=o[1],l=o[2];function c(){i=t.createPattern(r,s),e.set("pattern",i),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return r=new Image,l.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=l,r.complete?c():(r.onload=c,r.src=r.src),i}(t,e,n)}return n}}function h(t){var e=0,n=0,r=0,o=0;return Object(i.g)(t)?1===t.length?e=n=r=o=t[0]:2===t.length?(e=r=t[0],n=o=t[1]):3===t.length?(e=t[0],n=o=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],o=t[3]):e=n=r=o=t,[e,n,r,o]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(361);e.getBBoxMethod=i.getMethod;var r=n(362),o=n(363),a=n(364),s=n(365),l=n(366),c=n(367),h=n(371),u=n(372);i.register("rect",r.default),i.register("image",r.default),i.register("circle",o.default),i.register("marker",o.default),i.register("polyline",a.default),i.register("polygon",s.default),i.register("text",l.default),i.register("path",c.default),i.register("line",h.default),i.register("ellipse",u.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(219),r=n(220);function o(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,n){var r=1;return i.isString(t)&&(r=t.split("\n").length),r>1?e*r+o(e,n)*(r-1):e},e.getLineSpaceing=o,e.getTextWidth=function(t,e){var n=r.getOffScreenContext(),o=0;if(i.isNil(t)||""===t)return o;if(n.save(),n.font=e,i.isString(t)&&t.includes("\n")){var a=t.split("\n");i.each(a,(function(t){var e=n.measureText(t).width;o<e&&(o=e)}))}else o=n.measureText(t).width;return n.restore(),o},e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,i=t.fontWeight;return[t.fontStyle,t.fontVariant,i,e+"px",n].join(" ").trim()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(373),r=/[a-z]/;function o(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=i.default(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,a=0;a<e.length;a++){var s=e[a][0];if(r.test(s)||["V","H","T","S"].indexOf(s)>=0){n=!0;break}}if(!n)return e;var l=[],c=0,h=0,u=0,d=0,p=0,f=e[0];"M"!==f[0]&&"m"!==f[0]||(u=c=+f[1],d=h=+f[2],p++,l[0]=["M",c,h]),a=p;for(var g=e.length;a<g;a++){var m=e[a],v=l[a-1],y=[],x=(s=m[0]).toUpperCase();if(s!==x)switch(y[0]=x,x){case"A":y[1]=m[1],y[2]=m[2],y[3]=m[3],y[4]=m[4],y[5]=m[5],y[6]=+m[6]+c,y[7]=+m[7]+h;break;case"V":y[1]=+m[1]+h;break;case"H":y[1]=+m[1]+c;break;case"M":u=+m[1]+c,d=+m[2]+h;break;default:for(var b=1,w=m.length;b<w;b++)y[b]=+m[b]+(b%2?c:h)}else y=e[a];switch(x){case"Z":c=+u,h=+d;break;case"H":y=["L",c=y[1],h];break;case"V":y=["L",c,h=y[1]];break;case"T":c=y[1],h=y[2];var C=o([v[1],v[2]],[v[3],v[4]]);y=["Q",C[0],C[1],c,h];break;case"S":c=y[y.length-2],h=y[y.length-1];var _=v.length,S=o([v[_-4],v[_-3]],[v[_-2],v[_-1]]);y=["C",S[0],S[1],y[1],y[2],c,h];break;case"M":u=y[y.length-2],d=y[y.length-1];break;default:c=y[y.length-2],h=y[y.length-1]}l.push(y)}return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(374),r=n(48);e.default={box:function(t){for(var e=[],n=[],i=0;i<t.length;i++){var o=t[i];e.push(o[0]),n.push(o[1])}return r.getBBoxByArray(e,n)},length:function(t){return i.lengthOfSegment(t)},pointAt:function(t,e){return i.pointAtSegments(t,e)},pointDistance:function(t,e,n){return i.distanceAtSegment(t,e,n)},tangentAngle:function(t,e){return i.angleAtSegments(t,e)}}},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(99))},function(t,e,n){"use strict";(function(t){var i=n(19),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r?i.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(179)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c}));n(54);var i=n(41),r=n.n(i);n(53);function o(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}n(327);n(0);var a="\t\n\v\f\r \u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");function c(t){if(!t)return null;if(r()(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(s,(function(t,i,r){var o=[],a=i.toLowerCase();if(r.replace(l,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([i].concat(o.splice(0,2))),a="l",i="m"===i?"l":"L"),"o"===a&&1===o.length&&n.push([i,o[0]]),"r"===a)n.push([i].concat(o));else for(;o.length>=e[a]&&(n.push([i].concat(o.splice(0,e[a]))),e[a]););return""})),n}n(91),n(92)},function(t,e,n){"use strict";function i(t){return+t}function r(t){return t*t}function o(t){return t*(2-t)}function a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}n.r(e),n.d(e,"easeLinear",(function(){return i})),n.d(e,"easeQuad",(function(){return a})),n.d(e,"easeQuadIn",(function(){return r})),n.d(e,"easeQuadOut",(function(){return o})),n.d(e,"easeQuadInOut",(function(){return a})),n.d(e,"easeCubic",(function(){return s.b})),n.d(e,"easeCubicIn",(function(){return s.a})),n.d(e,"easeCubicOut",(function(){return s.c})),n.d(e,"easeCubicInOut",(function(){return s.b})),n.d(e,"easePoly",(function(){return h})),n.d(e,"easePolyIn",(function(){return l})),n.d(e,"easePolyOut",(function(){return c})),n.d(e,"easePolyInOut",(function(){return h})),n.d(e,"easeSin",(function(){return g})),n.d(e,"easeSinIn",(function(){return p})),n.d(e,"easeSinOut",(function(){return f})),n.d(e,"easeSinInOut",(function(){return g})),n.d(e,"easeExp",(function(){return x})),n.d(e,"easeExpIn",(function(){return v})),n.d(e,"easeExpOut",(function(){return y})),n.d(e,"easeExpInOut",(function(){return x})),n.d(e,"easeCircle",(function(){return C})),n.d(e,"easeCircleIn",(function(){return b})),n.d(e,"easeCircleOut",(function(){return w})),n.d(e,"easeCircleInOut",(function(){return C})),n.d(e,"easeBounce",(function(){return O})),n.d(e,"easeBounceIn",(function(){return S})),n.d(e,"easeBounceOut",(function(){return O})),n.d(e,"easeBounceInOut",(function(){return M})),n.d(e,"easeBack",(function(){return T})),n.d(e,"easeBackIn",(function(){return k})),n.d(e,"easeBackOut",(function(){return A})),n.d(e,"easeBackInOut",(function(){return T})),n.d(e,"easeElastic",(function(){return I})),n.d(e,"easeElasticIn",(function(){return P})),n.d(e,"easeElasticOut",(function(){return I})),n.d(e,"easeElasticInOut",(function(){return E}));var s=n(97),l=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),c=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),h=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),u=Math.PI,d=u/2;function p(t){return 1==+t?1:1-Math.cos(t*d)}function f(t){return Math.sin(t*d)}function g(t){return(1-Math.cos(u*t))/2}function m(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function v(t){return m(1-+t)}function y(t){return 1-m(t)}function x(t){return((t*=2)<=1?m(1-t):2-m(t-1))/2}function b(t){return 1-Math.sqrt(1-t*t)}function w(t){return Math.sqrt(1- --t*t)}function C(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _=7.5625;function S(t){return 1-O(1-t)}function O(t){return(t=+t)<4/11?_*t*t:t<8/11?_*(t-=6/11)*t+3/4:t<10/11?_*(t-=9/11)*t+15/16:_*(t-=21/22)*t+63/64}function M(t){return((t*=2)<=1?1-O(1-t):O(t-1)+1)/2}var k=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),A=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),T=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),D=2*Math.PI,P=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=D);function r(t){return e*m(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*D)},r.period=function(n){return t(e,n)},r}(1,.3),I=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=D);function r(t){return 1-e*m(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*D)},r.period=function(n){return t(e,n)},r}(1,.3),E=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=D);function r(t){return((t=2*t-1)<0?e*m(-t)*Math.sin((i-t)/n):2-e*m(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*D)},r.period=function(n){return t(e,n)},r}(1,.3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={}.toString;e.default=function(t,e){return i.call(t)==="[object "+e+"]"}},function(t,e,n){"use strict";function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(352);e.default=function(t){var e=i.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){"use strict";n.r(e),n.d(e,"create",(function(){return r})),n.d(e,"clone",(function(){return o})),n.d(e,"fromValues",(function(){return a})),n.d(e,"copy",(function(){return s})),n.d(e,"set",(function(){return l})),n.d(e,"add",(function(){return c})),n.d(e,"subtract",(function(){return h})),n.d(e,"multiply",(function(){return u})),n.d(e,"divide",(function(){return d})),n.d(e,"ceil",(function(){return p})),n.d(e,"floor",(function(){return f})),n.d(e,"min",(function(){return g})),n.d(e,"max",(function(){return m})),n.d(e,"round",(function(){return v})),n.d(e,"scale",(function(){return y})),n.d(e,"scaleAndAdd",(function(){return x})),n.d(e,"distance",(function(){return b})),n.d(e,"squaredDistance",(function(){return w})),n.d(e,"length",(function(){return C})),n.d(e,"squaredLength",(function(){return _})),n.d(e,"negate",(function(){return S})),n.d(e,"inverse",(function(){return O})),n.d(e,"normalize",(function(){return M})),n.d(e,"dot",(function(){return k})),n.d(e,"cross",(function(){return A})),n.d(e,"lerp",(function(){return T})),n.d(e,"random",(function(){return D})),n.d(e,"transformMat2",(function(){return P})),n.d(e,"transformMat2d",(function(){return I})),n.d(e,"transformMat3",(function(){return E})),n.d(e,"transformMat4",(function(){return j})),n.d(e,"rotate",(function(){return L})),n.d(e,"angle",(function(){return B})),n.d(e,"zero",(function(){return N})),n.d(e,"str",(function(){return R})),n.d(e,"exactEquals",(function(){return F})),n.d(e,"equals",(function(){return z})),n.d(e,"len",(function(){return G})),n.d(e,"sub",(function(){return H})),n.d(e,"mul",(function(){return W})),n.d(e,"div",(function(){return $})),n.d(e,"dist",(function(){return Y})),n.d(e,"sqrDist",(function(){return X})),n.d(e,"sqrLen",(function(){return q})),n.d(e,"forEach",(function(){return U}));var i=n(13);function r(){var t=new i.a(2);return i.a!=Float32Array&&(t[0]=0,t[1]=0),t}function o(t){var e=new i.a(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var n=new i.a(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function l(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function f(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function y(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function x(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function b(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.hypot(n,i)}function w(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function C(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function _(t){var e=t[0],n=t[1];return e*e+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t}function O(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function M(t,e){var n=e[0],i=e[1],r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t}function k(t,e){return t[0]*e[0]+t[1]*e[1]}function A(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}function T(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t}function D(t,e){e=e||1;var n=2*i.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function P(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}function I(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function E(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}function j(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}function L(t,e,n,i){var r=e[0]-n[0],o=e[1]-n[1],a=Math.sin(i),s=Math.cos(i);return t[0]=r*s-o*a+n[0],t[1]=r*a+o*s+n[1],t}function B(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=Math.sqrt(n*n+i*i)*Math.sqrt(r*r+o*o),s=a&&(n*r+i*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function N(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function F(t,e){return t[0]===e[0]&&t[1]===e[1]}function z(t,e){var n=t[0],r=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=i.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=i.b*Math.max(1,Math.abs(r),Math.abs(a))}var V,G=C,H=h,W=u,$=d,Y=b,X=w,q=_,U=(V=r(),function(t,e,n,i,r,o){var a,s;for(e||(e=2),n||(n=0),s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)V[0]=t[a],V[1]=t[a+1],r(V,V,o),t[a]=V[0],t[a+1]=V[1];return t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},function(t,e,n){"use strict";function i(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBBox=i,e.mergeArrowBBox=function(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape");return n&&(e=i(e,n.getCanvasBBox())),r&&(e=i(e,r.getCanvasBBox())),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReplaceAttrs=e.getPolygonCentroid=e.getAngle=e.getArcPath=e.getSectorPath=e.polarToCartesian=void 0;var i=n(0);function r(t,e,n,i){return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}e.polarToCartesian=r,e.getSectorPath=function(t,e,n,i,o,a){void 0===a&&(a=0);var s=r(t,e,n,i),l=r(t,e,n,o),c=r(t,e,a,i),h=r(t,e,a,o);if(o-i==2*Math.PI){var u=r(t,e,n,i+Math.PI),d=r(t,e,a,i+Math.PI),p=[["M",s.x,s.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,l.x,l.y],["M",c.x,c.y]];return a&&(p.push(["A",a,a,0,1,0,d.x,d.y]),p.push(["A",a,a,0,1,0,h.x,h.y])),p.push(["M",s.x,s.y]),p.push(["Z"]),p}var f=o-i<=Math.PI?0:1,g=[["M",s.x,s.y],["A",n,n,0,f,1,l.x,l.y],["L",h.x,h.y]];return a&&g.push(["A",a,a,0,f,0,c.x,c.y]),g.push(["L",s.x,s.y]),g.push(["Z"]),g},e.getArcPath=function(t,e,n,o,a){var s=r(t,e,n,o),l=r(t,e,n,a);if(i.isNumberEqual(a-o,2*Math.PI)){var c=r(t,e,n,o+Math.PI);return[["M",s.x,s.y],["A",n,n,0,1,1,c.x,c.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,0,c.x,c.y],["A",n,n,0,1,0,s.x,s.y],["Z"]]}var h=a-o<=Math.PI?0:1;return[["M",s.x,s.y],["A",n,n,0,h,1,l.x,l.y]]},e.getAngle=function(t,e){var n,r,o=function(t){if(i.isEmpty(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,o=t[0].y;return i.each(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,o=o<t.y?t.y:o})),{minX:e,maxX:n,minY:r,maxY:o,centerX:(e+n)/2,centerY:(r+o)/2}}(t.points),a=e.startAngle,s=e.endAngle-a;return e.isTransposed?(n=o.maxY*s,r=o.minY*s):(n=o.maxX*s,r=o.minX*s),{startAngle:r+=a,endAngle:n+=a}},e.getPolygonCentroid=function(t,e){if(i.isNumber(t)&&i.isNumber(e))return[t,e];for(var n,r,o=-1,a=0,s=0,l=t.length-1,c=0;++o<t.length;)n=l,l=o,c+=r=t[n]*e[l]-t[l]*e[n],a+=(t[n]+t[l])*r,s+=(e[n]+e[l])*r;return[a/(c*=3),s/c]},e.getReplaceAttrs=function(t,e){var n=t.attr(),r=e.attr();return i.each(n,(function(t,e){void 0===r[e]&&(r[e]=void 0)})),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerSymbols=void 0,e.MarkerSymbols={hexagon:function(t,e,n){var i=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+i,e-n/2],["L",t+i,e+n/2],["L",t,e+n],["L",t-i,e+n/2],["L",t-i,e-n/2],["Z"]]},bowtie:function(t,e,n){var i=n-1.5;return[["M",t-n,e-i],["L",t+n,e+i],["L",t+n,e-i],["L",t-n,e+i],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScaleByField=e.isInRecords=e.getSiblingPoint=e.getSilbings=e.isInBox=e.getSpline=e.distance=e.getComponents=e.getElementsByPath=e.getIntersectElements=e.intersectRect=e.getElementValue=e.getElementsByState=e.getElementsByField=e.getElements=e.getSiblingMaskElements=e.getMaskedElements=e.isMask=e.isSlider=e.isList=e.isElementChange=e.getDelegationObject=e.getCurrentElement=void 0;var i=n(2),r=n(0),o=n(385),a=n(223),s=i.__importDefault(n(217));function l(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function c(t){var e=t.geometries,n=[];return r.each(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&r.each(t.views,(function(t){n=n.concat(c(t))})),n}function h(t,e){var n=t.getModel().data;return r.isArray(n)?n[0][e]:n[e]}function u(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function d(t,e){var n=c(t),i=[];return r.each(n,(function(t){var n=t.shape.getCanvasBBox();u(e,n)&&i.push(t)})),i}function p(t){var e=[];return r.each(t,(function(t){if("A"!==t[0])for(var n=1;n<t.length;n+=2)e.push([t[n],t[n+1]]);else{var i=t.length;e.push([t[i-2],t[i-1]])}})),e}function f(t,e){var n=c(t),i=p(e);return n.filter((function(t){var e,n=t.shape;if("path"===n.get("type"))e=p(n.attr("path"));else{var r=n.getCanvasBBox();e=a.toPoints(r)}return s.default(i,e)}))}function g(t,e,n){var i=function(t,e){return t.getCoordinate().invert(e)}(t,n);return e.getCoordinate().convert(i)}e.getCurrentElement=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e},e.getDelegationObject=function(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e},e.isElementChange=function(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))},e.isList=function(t){return t&&t.component&&t.component.isList()},e.isSlider=function(t){return t&&t.component&&t.component.isSlider()},e.isMask=function(t){var e=t.event.target;return e&&"mask"===e.get("name")},e.getMaskedElements=function(t,e){if("path"===t.event.target.get("type")){var n=function(t,e){var n=t.event.target,i=n.getCanvasBBox();return i.width>=e||i.height>=e?n.attr("path"):null}(t,e);if(!n)return;return f(t.view,n)}var i=l(t,e);return i?d(t.view,i):null},e.getSiblingMaskElements=function(t,e,n){var i=l(t,n);if(!i)return null;var r=t.view,o=g(r,e,{x:i.x,y:i.y}),a=g(r,e,{x:i.maxX,y:i.maxY});return d(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})},e.getElements=c,e.getElementsByField=function(t,e,n){return c(t).filter((function(t){return h(t,e)===n}))},e.getElementsByState=function(t,e){var n=t.geometries,i=[];return r.each(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));i=i.concat(n)})),i},e.getElementValue=h,e.intersectRect=u,e.getIntersectElements=d,e.getElementsByPath=f,e.getComponents=function(t){return t.getComponents().map((function(t){return t.component}))},e.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},e.getSpline=function(t,e){if(t.length<=2)return o.getLinePath(t,!1);var n=t[0],i=[];r.each(t,(function(t){i.push(t.x),i.push(t.y)}));var a=o.catmullRom2bezier(i,e,null);return a.unshift(["M",n.x,n.y]),a},e.isInBox=function(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y},e.getSilbings=function(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n},e.getSiblingPoint=g,e.isInRecords=function(t,e,n,i){var o=!1;return r.each(t,(function(t){if(t[n]===e[n]&&t[i]===e[i])return o=!0,!1})),o},e.getScaleByField=function t(e,n){var i=e.getScaleByField(n);return!i&&e.views&&r.each(e.views,(function(e){if(i=t(e,n))return!1})),i}},function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});var r=n(391),o=n(46);e.default=((i={})[""+o.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},i[""+o.TITLE_CLASS]={marginBottom:"4px"},i[""+o.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},i[""+o.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},i[""+o.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},i[""+o.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},i[""+o.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},i[""+o.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},i)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){function n(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){n--;for(;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function i(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var c=i-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;c>0;)t[s+c]=t[s+c-1],c--}t[s]=a}}function r(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function o(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])<0?l=h:a=h+1}return l}function a(t,e){var n,i,a,s=7,l=0;n=t.length;var c=[];function h(n){var h=i[n],u=a[n],d=i[n+1],p=a[n+1];a[n]=u+p,n===l-3&&(i[n+1]=i[n+2],a[n+1]=a[n+2]),l--;var f=o(t[d],t,h,u,0,e);h+=f,0!==(u-=f)&&0!==(p=r(t[h+u-1],t,d,p,p-1,e))&&(u<=p?function(n,i,a,l){var h=0;for(h=0;h<i;h++)c[h]=t[n+h];var u=0,d=a,p=n;if(t[p++]=t[d++],0==--l){for(h=0;h<i;h++)t[p+h]=c[u+h];return}if(1===i){for(h=0;h<l;h++)t[p+h]=t[d+h];return void(t[p+l]=c[u])}var f,g,m,v=s;for(;;){f=0,g=0,m=!1;do{if(e(t[d],c[u])<0){if(t[p++]=t[d++],g++,f=0,0==--l){m=!0;break}}else if(t[p++]=c[u++],f++,g=0,1==--i){m=!0;break}}while((f|g)<v);if(m)break;do{if(0!==(f=o(t[d],c,u,i,0,e))){for(h=0;h<f;h++)t[p+h]=c[u+h];if(p+=f,u+=f,(i-=f)<=1){m=!0;break}}if(t[p++]=t[d++],0==--l){m=!0;break}if(0!==(g=r(c[u],t,d,l,0,e))){for(h=0;h<g;h++)t[p+h]=t[d+h];if(p+=g,d+=g,0===(l-=g)){m=!0;break}}if(t[p++]=c[u++],1==--i){m=!0;break}v--}while(f>=7||g>=7);if(m)break;v<0&&(v=0),v+=2}if((s=v)<1&&(s=1),1===i){for(h=0;h<l;h++)t[p+h]=t[d+h];t[p+l]=c[u]}else{if(0===i)throw new Error;for(h=0;h<i;h++)t[p+h]=c[u+h]}}(h,u,d,p):function(n,i,a,l){var h=0;for(h=0;h<l;h++)c[h]=t[a+h];var u=n+i-1,d=l-1,p=a+l-1,f=0,g=0;if(t[p--]=t[u--],0==--i){for(f=p-(l-1),h=0;h<l;h++)t[f+h]=c[h];return}if(1===l){for(g=(p-=i)+1,f=(u-=i)+1,h=i-1;h>=0;h--)t[g+h]=t[f+h];return void(t[p]=c[d])}var m=s;for(;;){var v=0,y=0,x=!1;do{if(e(c[d],t[u])<0){if(t[p--]=t[u--],v++,y=0,0==--i){x=!0;break}}else if(t[p--]=c[d--],y++,v=0,1==--l){x=!0;break}}while((v|y)<m);if(x)break;do{if(0!==(v=i-o(c[d],t,n,i,i-1,e))){for(i-=v,g=(p-=v)+1,f=(u-=v)+1,h=v-1;h>=0;h--)t[g+h]=t[f+h];if(0===i){x=!0;break}}if(t[p--]=c[d--],1==--l){x=!0;break}if(0!==(y=l-r(t[u],c,0,l,l-1,e))){for(l-=y,g=(p-=y)+1,f=(d-=y)+1,h=0;h<y;h++)t[g+h]=c[f+h];if(l<=1){x=!0;break}}if(t[p--]=t[u--],0==--i){x=!0;break}m--}while(v>=7||y>=7);if(x)break;m<0&&(m=0),m+=2}(s=m)<1&&(s=1);if(1===l){for(g=(p-=i)+1,f=(u-=i)+1,h=i-1;h>=0;h--)t[g+h]=t[f+h];t[p]=c[d]}else{if(0===l)throw new Error;for(f=p-(l-1),h=0;h<l;h++)t[f+h]=c[h]}}(h,u,d,p))}i=[],a=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&a[t-1]<=a[t]+a[t+1]||t>=2&&a[t-2]<=a[t]+a[t-1])a[t-1]<a[t+1]&&t--;else if(a[t]>a[t+1])break;h(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&a[t-1]<a[t+1]&&t--,h(t)}},this.pushRun=function(t,e){i[l]=t,a[l]=e,l+=1}}t.exports=function(t,e,r,o){r||(r=0),o||(o=t.length);var s=o-r;if(!(s<2)){var l=0;if(s<32)i(t,r,o,r+(l=n(t,r,o,e)),e);else{var c=new a(t,e),h=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(s);do{if((l=n(t,r,o,e))<h){var u=s;u>h&&(u=h),i(t,r,r+u,r+l,e),l=u}c.pushRun(r,l),c.mergeRuns(),s-=l,r+=l}while(0!==s);c.forceMergeRuns()}}}},function(t,e,n){var i=n(246),r=n(124).ContextCachedBy,o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],a=function(t){this.extendFrom(t,!1)};function s(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)}function l(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}for(var c=a.prototype={constructor:a,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var a=n&&n.style,s=!a||t.__attrCachedBy!==r.STYLE_BIND;t.__attrCachedBy=r.STYLE_BIND;for(var l=0;l<o.length;l++){var c=o[l],h=c[0];(s||this[h]!==a[h])&&(t[h]=i(t,h,this[h]||c[1]))}if((s||this.fill!==a.fill)&&(t.fillStyle=this.fill),(s||this.stroke!==a.stroke)&&(t.strokeStyle=this.stroke),(s||this.opacity!==a.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(s||this.blend!==a.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var u=this.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var i=("radial"===e.type?l:s)(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}},h=0;h<o.length;h++){var u=o[h];u[0]in c||(c[u[0]]=u[1])}a.getGradient=c.getGradient;var d=a;t.exports=d},function(t,e,n){var i=new(n(245))(50);function r(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function o(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"==typeof t){var e=i.get(t);return e&&e.image}return t},e.createOrUpdateImage=function(t,e,n,a,s){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var l=i.get(t),c={hostEl:n,cb:a,cbPayload:s};return l?!o(e=l.image)&&l.pending.push(c):((e=new Image).onload=e.onerror=r,i.put(t,e.__cachedImgObj={image:e,pending:[c]}),e.src=e.__zrImageSrc=t),e}return t}return e},e.isImageReady=o},function(t,e,n){var i=n(24),r=n(250),o=n(184).subPixelOptimizeRect,a={},s=i.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,i,s,l;this.subPixelOptimize?(o(a,e,this.style),n=a.x,i=a.y,s=a.width,l=a.height,a.r=e.r,e=a):(n=e.x,i=e.y,s=e.width,l=e.height),e.r?r.buildPath(t,e):t.rect(n,i,s,l),t.closePath()}});t.exports=s},function(t,e){var n=Math.round;function i(t,e,i){if(!e)return t;var r=n(2*t);return(r+n(e))%2==0?r/2:(r+(i?1:-1))/2}e.subPixelOptimizeLine=function(t,e,r){if(e){var o=e.x1,a=e.x2,s=e.y1,l=e.y2;t.x1=o,t.x2=a,t.y1=s,t.y2=l;var c=r&&r.lineWidth;c&&(n(2*o)===n(2*a)&&(t.x1=t.x2=i(o,c,!0)),n(2*s)===n(2*l)&&(t.y1=t.y2=i(s,c,!0)))}},e.subPixelOptimizeRect=function(t,e,n){if(e){var r=e.x,o=e.y,a=e.width,s=e.height;t.x=r,t.y=o,t.width=a,t.height=s;var l=n&&n.lineWidth;l&&(t.x=i(r,l,!0),t.y=i(o,l,!0),t.width=Math.max(i(r+a,l,!1)-t.x,0===a?0:1),t.height=Math.max(i(o+s,l,!1)-t.y,0===s?0:1))}},e.subPixelOptimize=i},function(t,e,n){var i=n(3),r=n(126),o=function(t,e,n,i,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=a||!1,r.call(this,o)};o.prototype={constructor:o},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(3).inherits,r=n(101),o=n(20);function a(t){r.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}a.prototype.incremental=!0,a.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},a.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},a.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},a.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},a.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},a.prototype.brush=function(t,e){for(var n=this._cursor;n<this._displayables.length;n++){(i=this._displayables[n]).beforeBrush&&i.beforeBrush(t),i.brush(t,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._cursor=n;for(n=0;n<this._temporaryDisplayables.length;n++){var i;(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(t),i.brush(t,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var s=[];a.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(s)),t.union(i)}this._rect=t}return this._rect},a.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},i(a,r);var l=a;t.exports=l},function(t,e,n){var i=n(71).retrieveRawValue,r=n(15),o=r.getTooltipMarker,a=r.formatTpl,s=n(11).getTooltipRenderMode,l=/\{@(.+?)\}/g,c={getDataParams:function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),a=n.getName(t),l=n.getRawDataItem(t),c=n.getItemVisual(t,"color"),h=n.getItemVisual(t,"borderColor"),u=this.ecModel.getComponent("tooltip"),d=u&&u.get("renderMode"),p=s(d),f=this.mainType,g="series"===f,m=n.userOutput;return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:a,dataIndex:r,data:l,dataType:e,value:i,color:c,borderColor:h,dimensionNames:m?m.dimensionNames:null,encode:m?m.encode:null,marker:o({color:c,renderMode:p}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r,o){e=e||"normal";var s=this.getData(n),c=s.getItemModel(t),h=this.getDataParams(t,n);null!=r&&h.value instanceof Array&&(h.value=h.value[r]);var u=c.get("normal"===e?[o||"label","formatter"]:[e,o||"label","formatter"]);return"function"==typeof u?(h.status=e,h.dimensionIndex=r,u(h)):"string"==typeof u?a(u,h).replace(l,(function(e,n){var r=n.length;return"["===n.charAt(0)&&"]"===n.charAt(r-1)&&(n=+n.slice(1,r-1)),i(s,t,n)})):void 0},getRawValue:function(t,e){return i(this.getData(e),t)},formatTooltip:function(){}};t.exports=c},function(t,e,n){var i=n(3),r=(i.assert,i.isArray);n(12).__DEV__;function o(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var a=o.prototype;a.perform=function(t){var e,n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(e=this._plan(this.context));var a,s=d(this._modBy),c=this._modDataCount||0,h=d(t&&t.modBy),u=t&&t.modDataCount||0;function d(t){return!(t>=1)&&(t=1),t}s===h&&c===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=function(t,e){var n,i;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(i=n.forceFirstProgress,n=n.progress),r(n)&&!n.length&&(n=null));t._progress=n,t._modBy=t._modDataCount=null;var o=t._downstream;return o&&o.dirty(),i}(this,i)),this._modBy=h,this._modDataCount=u;var p=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,g=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!i&&(a||f<g)){var m=this._progress;if(r(m))for(var v=0;v<m.length;v++)l(this,m[v],f,g,h,u);else l(this,m,f,g,h,u)}this._dueIndex=g;var y=null!=this._settedOutputEnd?this._settedOutputEnd:g;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var s=function(){var t,e,n,i,r,o={reset:function(l,c,h,u){e=l,t=c,n=h,i=u,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%r*n+Math.ceil(e/r),a=e>=t?null:o<i?o:e;return e++,a}}();function l(t,e,n,i,r,o){s.reset(n,i,r,o),t._callingProgress=e,t._callingProgress({start:n,end:i,count:i-n,next:s.next},t.context)}a.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},a.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.getUpstream=function(){return this._upstream},a.getDownstream=function(){return this._downstream},a.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=function(t){return new o(t)}},function(t,e,n){n(12).__DEV__;var i=n(3),r=i.createHashMap,o=i.isString,a=i.isArray,s=i.each,l=(i.assert,n(266).parseXML),c=r(),h={registerMap:function(t,e,n){var i;return a(e)?i=e:e.svg?i=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),i=[{type:"geoJSON",source:e,specialAreas:n}]),s(i,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,u[e])(t)})),c.set(t,i)},retrieveMap:function(t){return c.get(t)}},u={geoJSON:function(t){var e=t.source;t.geoJSON=o(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=l(t.source)}};t.exports=h},function(t,e,n){var i=n(3),r=i.createHashMap,o=i.each,a=i.isString,s=i.defaults,l=i.extend,c=i.isObject,h=i.clone,u=n(11).normalizeToArray,d=n(57),p=d.guessOrdinal,f=d.BE_ORDINAL,g=n(104),m=n(106).OTHER_DIMENSIONS,v=n(268);function y(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}var x=function(t,e,n){g.isInstance(e)||(e=g.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i=(n.dimsDef||[]).slice(),d=r(),x=r(),b=[],w=function(t,e,n,i){var r=Math.max(t.dimensionsDetectCount||1,e.length,n.length,i||0);return o(e,(function(t){var e=t.dimsDef;e&&(r=Math.max(r,e.length))})),r}(e,t,i,n.dimCount),C=0;C<w;C++){var _=i[C]=l({},c(i[C])?i[C]:{name:i[C]}),S=_.name,O=b[C]=new v;null!=S&&null==d.get(S)&&(O.name=O.displayName=S,d.set(S,C)),null!=_.type&&(O.type=_.type),null!=_.displayName&&(O.displayName=_.displayName)}var M=n.encodeDef;!M&&n.encodeDefaulter&&(M=n.encodeDefaulter(e,w)),(M=r(M)).each((function(t,e){if(1===(t=u(t).slice()).length&&!a(t[0])&&t[0]<0)M.set(e,!1);else{var n=M.set(e,[]);o(t,(function(t,i){a(t)&&(t=d.get(t)),null!=t&&t<w&&(n[i]=t,A(b[t],e,i))}))}}));var k=0;function A(t,e,n){null!=m.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,x.set(e,!0))}o(t,(function(t,e){var n,i,r;if(a(t))n=t,t={};else{n=t.name;var l=t.ordinalMeta;t.ordinalMeta=null,(t=h(t)).ordinalMeta=l,i=t.dimsDef,r=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}if(!1!==(d=M.get(n))){var d;if(!(d=u(d)).length)for(var p=0;p<(i&&i.length||1);p++){for(;k<b.length&&null!=b[k].coordDim;)k++;k<b.length&&d.push(k++)}o(d,(function(e,o){var a=b[e];if(A(s(a,t),n,o),null==a.name&&i){var l=i[o];!c(l)&&(l={name:l}),a.name=a.displayName=l.name,a.defaultTooltip=l.defaultTooltip}r&&s(a.otherDims,r)}))}}));var T=n.generateCoord,D=n.generateCoordCount,P=null!=D;D=T?D||1:0;for(var I=T||"value",E=0;E<w;E++){null==(O=b[E]=b[E]||new v).coordDim&&(O.coordDim=y(I,x,P),O.coordDimIndex=0,(!T||D<=0)&&(O.isExtraCoord=!0),D--),null==O.name&&(O.name=y(O.coordDim,d)),null!=O.type||p(e,E,O.name)!==f.Must&&(!O.isExtraCoord||null==O.otherDims.itemName&&null==O.otherDims.seriesName)||(O.type="ordinal")}return b};t.exports=x},function(t,e,n){var i=n(71).retrieveRawValue;e.getDefaultLabel=function(t,e){var n=t.mapDimension("defaultedLabel",!0),r=n.length;if(1===r)return i(t,e,n[0]);if(r){for(var o=[],a=0;a<n.length;a++){var s=i(t,e,n[a]);o.push(s)}return o.join(" ")}}},function(t,e,n){n(12).__DEV__;var i=n(3),r=i.isObject,o=i.each,a=i.map,s=i.indexOf,l=(i.retrieve,n(14).getLayoutRect),c=n(45),h=c.createScaleByModel,u=c.ifAxisCrossZero,d=c.niceScaleExtent,p=c.estimateLabelUnionRect,f=n(445),g=n(447),m=n(44),v=n(52).getStackedDimension;function y(t,e,n){return t.getCoordSysModel()===e}function x(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}n(448);var b=x.prototype;function w(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],a=n.model,s=a.get("axisLine.onZero"),l=a.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)C(o[l])&&(r=o[l]);else for(var c in o)if(o.hasOwnProperty(c)&&C(o[c])&&!i[h(o[c])]){r=o[c];break}r&&(i[h(r)]=!0)}function h(t){return t.dim+"_"+t.index}}function C(t){return t&&"category"!==t.type&&"time"!==t.type&&u(t)}b.type="grid",b.axisPointerEnabled=!0,b.getRect=function(){return this._rect},b.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),o(n.x,(function(t){d(t.scale,t.model)})),o(n.y,(function(t){d(t.scale,t.model)}));var i={};o(n.x,(function(t){w(n,"y",t,i)})),o(n.y,(function(t){w(n,"x",t,i)})),this.resize(this.model,e)},b.resize=function(t,e,n){var i=l(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var r=this._axesList;function a(){o(r,(function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?i.x:i.y)}))}a(),!n&&t.get("containLabel")&&(o(r,(function(t){if(!t.model.get("axisLabel.inside")){var e=p(t);if(e){var n=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");i[n]-=e[n]+r,"top"===t.position?i.y+=e.height+r:"left"===t.position&&(i.x+=e.width+r)}}})),a())},b.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},b.getAxes=function(){return this._axesList.slice()},b.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}r(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},b.getCartesians=function(){return this._coordsList.slice()},b.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},b.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},b._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],l=e.gridModel,c=this._coordsList;if(r)n=r.coordinateSystem,s(c,n)<0&&(n=null);else if(o&&a)n=this.getCartesian(o.componentIndex,a.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(a)i=this.getAxis("y",a.componentIndex);else if(l){l.coordinateSystem===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},b.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},b._initCartesian=function(t,e,n){var i={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},a={x:0,y:0};if(e.eachComponent("xAxis",s("x"),this),e.eachComponent("yAxis",s("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);function s(e){return function(n,o){if(y(n,t)){var s=n.get("position");"x"===e?"top"!==s&&"bottom"!==s&&(s=i.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=i.left?"right":"left"),i[s]=!0;var l=new g(e,h(n),[0,0],n.get("type"),s),c="category"===l.type;l.onBand=c&&n.get("boundaryGap"),l.inverse=n.get("inverse"),n.axis=l,l.model=n,l.grid=this,l.index=o,this._axesList.push(l),r[e][o]=l,a[e]++}}}this._axesMap=r,o(r.x,(function(e,n){o(r.y,(function(i,r){var o="x"+n+"y"+r,a=new f(o);a.grid=this,a.model=t,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(e),a.addAxis(i)}),this)}),this)},b._updateScale=function(t,e){function n(t,e,n){o(t.mapDimension(e.dim,!0),(function(n){e.scale.unionExtentFromData(t,v(t,n))}))}o(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(i){if(O(i)){var r=S(i,t),o=r[0],a=r[1];if(!y(o,e)||!y(a,e))return;var s=this.getCartesian(o.componentIndex,a.componentIndex),l=i.getData(),c=s.getAxis("x"),h=s.getAxis("y");"list"===l.type&&(n(l,c,i),n(l,h,i))}}),this)},b.getTooltipAxes=function(t){var e=[],n=[];return o(this.getCartesians(),(function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);s(e,r)<0&&e.push(r),s(n,o)<0&&n.push(o)})),{baseAxes:e,otherAxes:n}};var _=["xAxis","yAxis"];function S(t,e){return a(_,(function(e){return t.getReferringComponents(e)[0]}))}function O(t){return"cartesian2d"===t.get("coordinateSystem")}x.create=function(t,e){var n=[];return t.eachComponent("grid",(function(i,r){var o=new x(i,t,e);o.name="grid_"+r,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)})),t.eachSeries((function(t){if(O(t)){var e=S(t),n=e[0],i=e[1],r=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),n},x.dimensions=x.prototype.dimensions=f.prototype.dimensions,m.register("cartesian2d",x);var M=x;t.exports=M},function(t,e,n){var i=n(3),r={updateSelectedMap:function(t){this._targetList=i.isArray(t)?t.slice():[],this._selectTargetMap=i.reduce(t||[],(function(t,e){return t.set(e.name,e),t}),i.createHashMap())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(t){t.selected=!1})),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}};t.exports=r},function(t,e){e.updateViewOnPan=function(t,e,n){var i=t.target,r=i.position;r[0]+=e,r[1]+=n,i.dirty()},e.updateViewOnZoom=function(t,e,n,i){var r=t.target,o=t.zoomLimit,a=r.position,s=r.scale,l=t.zoom=t.zoom||1;if(l*=e,o){var c=o.min||0,h=o.max||1/0;l=Math.max(Math.min(h,l),c)}var u=l/t.zoom;t.zoom=l,a[0]-=(n-a[0])*(u-1),a[1]-=(i-a[1])*(u-1),s[0]*=u,s[1]*=u,r.dirty()}},function(t,e){e.updateCenterAndZoom=function(t,e,n){var i=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.dataToPoint(r);if(null!=e.dx&&null!=e.dy){a[0]-=e.dx,a[1]-=e.dy;r=t.pointToData(a);t.setCenter(r)}if(null!=o){if(n){var s=n.min||0,l=n.max||1/0;o=Math.max(Math.min(i*o,l),s)/i}t.scale[0]*=o,t.scale[1]*=o;var c=t.position,h=(e.originX-c[0])*(o-1),u=(e.originY-c[1])*(o-1);c[0]-=h,c[1]-=u,t.updateTransform();r=t.pointToData(a);t.setCenter(r),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}}},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(484),a=n(14),s=n(8),l=n(134),c=n(189);function h(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var o,l=this.getBoundingRect(),c=t.get("layoutCenter"),h=t.get("layoutSize"),u=e.getWidth(),d=e.getHeight(),p=l.width/l.height*this.aspectScale,f=!1;if(c&&h&&(c=[s.parsePercent(c[0],u),s.parsePercent(c[1],d)],h=s.parsePercent(h,Math.min(u,d)),isNaN(c[0])||isNaN(c[1])||isNaN(h)||(f=!0)),f){var g={};p>1?(g.width=h,g.height=h/p):(g.height=h,g.width=h*p),g.y=c[1]-g.height/2,g.x=c[0]-g.width/2}else(o=t.getBoxLayoutParams()).aspect=p,g=a.getLayoutRect(o,{width:u,height:d});this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function u(t,e){r.each(e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}var d={dimensions:o.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",(function(t,i){var r=t.get("map"),a=t.get("aspectScale"),s=!0,l=c.retrieveMap(r);l&&l[0]&&"svg"===l[0].type?(null==a&&(a=1),s=!1):null==a&&(a=.75);var d=new o(r+i,r,t.get("nameMap"),s);d.aspectScale=a,d.zoomLimit=t.get("scaleLimit"),n.push(d),u(d,t),t.coordinateSystem=d,d.model=t,d.resize=h,d.resize(t,e)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}}));var i={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();i[e]=i[e]||[],i[e].push(t)}})),r.each(i,(function(t,i){var a=r.map(t,(function(t){return t.get("nameMap")})),s=new o(i,i,r.mergeAll(a));s.zoomLimit=r.retrieve.apply(null,r.map(t,(function(t){return t.get("scaleLimit")}))),n.push(s),s.resize=h,s.aspectScale=t[0].get("aspectScale"),s.resize(t[0],e),r.each(t,(function(t){t.coordinateSystem=s,u(s,t)}))})),n},getFilledRegions:function(t,e,n){for(var i=(t||[]).slice(),o=r.createHashMap(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);var s=l.load(e,n);return r.each(s.regions,(function(t){var e=t.name;!o.get(e)&&i.push({name:e})})),i}};i.registerCoordinateSystem("geo",d);var p=d;t.exports=p},function(t,e,n){var i=n(3),r=n(18),o=n(37),a=n(20),s=n(122),l=r.applyTransform;function c(){s.call(this)}function h(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransformable=new c,this._rawTransformable=new c,this._center,this._zoom}function u(t,e,n,i){var r=n.seriesModel,o=r?r.coordinateSystem:null;return o===this?o[t](i):null}i.mixin(c,s),h.prototype={constructor:h,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,i){return this._rect=new a(t,e,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new a(t,e,n,i)},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new a(t,e,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=r.applyTransform([],i,t),n=r.applyTransform([],n,t),e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),o.copy(this.transform||(this.transform=[]),e.transform||o.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],o.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var t=this._roamTransformable.transform,e=this._rawTransformable;return{roamTransform:t?i.slice(t):o.create(),rawScale:i.slice(e.scale),rawPosition:i.slice(e.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?l(n,t,i):r.copy(n,t)},pointToData:function(t){var e=this.invTransform;return e?l([],t,e):[t[0],t[1]]},convertToPixel:i.curry(u,"dataToPoint"),convertFromPixel:i.curry(u,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},i.mixin(h,s);var d=h;t.exports=d},function(t,e,n){var i=n(3),r=n(287),o=n(42),a=n(85),s=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};function l(t){this.root,this.data,this._nodes=[],this.hostModel=t}s.prototype={constructor:s,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},i.isString(t)&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(r=e.call(n,this));for(var s=0;!r&&s<a.length;s++)a[s].eachNode(t,e,n);"postorder"===o&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},l.prototype={constructor:l,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},l.createTree=function(t,e,n){var c=new l(e),h=[],u=1;!function t(e,n){var r=e.value;u=Math.max(u,i.isArray(r)?r.length:1),h.push(e);var o=new s(e.name,c);n?function(t,e){var n=e.children;if(t.parentNode===e)return;n.push(t),t.parentNode=e}(o,n):c.root=o,c._nodes.push(o);var a=e.children;if(a)for(var l=0;l<a.length;l++)t(a[l],o)}(t),c.root.updateDepthAndHeight(0);var d=a(h,{coordDimensions:["value"],dimensionsCount:u}),p=new o(d,e);return p.initData(h),n&&n(p),r({mainData:p,struct:c,structAttr:"tree"}),c.update(),c};var c=l;t.exports=c},function(t,e,n){var i=n(6),r=n(200);function o(t){this._ctor=t||r,this.group=new i.Group}var a=o.prototype;function s(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function l(t){return isNaN(t[0])||isNaN(t[1])}function c(t){return!l(t[0])&&!l(t[1])}a.isPersistent=function(){return!0},a.updateData=function(t){var e=this,n=e.group,i=e._lineData;e._lineData=t,i||n.removeAll();var r=s(t);t.diff(i).add((function(n){!function(t,e,n,i){if(!c(e.getItemLayout(n)))return;var r=new t._ctor(e,n,i);e.setItemGraphicEl(n,r),t.group.add(r)}(e,t,n,r)})).update((function(n,o){!function(t,e,n,i,r,o){var a=e.getItemGraphicEl(i);if(!c(n.getItemLayout(r)))return void t.group.remove(a);a?a.updateData(n,r,o):a=new t._ctor(n,r,o);n.setItemGraphicEl(r,a),t.group.add(a)}(e,i,t,o,n,r)})).remove((function(t){n.remove(i.getItemGraphicEl(t))})).execute()},a.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},a.incrementalPrepareUpdate=function(t){this._seriesScope=s(t),this._lineData=null,this.group.removeAll()},a.incrementalUpdate=function(t,e){function n(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=t.useHoverLayer=!0)}for(var i=t.start;i<t.end;i++){if(c(e.getItemLayout(i))){var r=new this._ctor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r)}}},a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var h=o;t.exports=h},function(t,e,n){var i=n(3),r=n(18),o=n(40),a=n(507),s=n(6),l=n(8).round,c=["fromSymbol","toSymbol"];function h(t){return"_"+t+"Type"}function u(t,e,n){var r=e.getItemVisual(n,t);if(r&&"none"!==r){var a=e.getItemVisual(n,"color"),s=e.getItemVisual(n,t+"Size"),l=e.getItemVisual(n,t+"Rotate");i.isArray(s)||(s=[s,s]);var c=o.createSymbol(r,-s[0]/2,-s[1]/2,s[0],s[1],a);return c.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,c.name=t,c}}function d(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}function p(t,e,n){s.Group.call(this),this._createLine(t,e,n)}var f=p.prototype;f.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.childOfName("label");if(t||e||!n.ignore){for(var i=1,o=this.parent;o;)o.scale&&(i/=o.scale[0]),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),c=a.pointAt(s),h=r.sub([],c,l);if(r.normalize(h,h),t){if(t.attr("position",l),null==(d=t.__specifiedRotation)){var u=a.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(u[1],u[0]))}else t.attr("rotation",d);t.attr("scale",[i*s,i*s])}if(e){var d;if(e.attr("position",c),null==(d=e.__specifiedRotation)){u=a.tangentAt(1);e.attr("rotation",-Math.PI/2-Math.atan2(u[1],u[0]))}else e.attr("rotation",d);e.attr("scale",[i*s,i*s])}if(!n.ignore){var p,f,g,m;n.attr("position",c);var v=n.__labelDistance,y=v[0]*i,x=v[1]*i,b=s/2,w=[(u=a.tangentAt(b))[1],-u[0]],C=a.pointAt(b);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var _,S=u[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var O=-Math.atan2(u[1],u[0]);c[0]<l[0]&&(O=Math.PI+O),n.attr("rotation",O)}switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":_=-x,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":_=x,g="top";break;default:_=0,g="middle"}switch(n.__position){case"end":p=[h[0]*y+c[0],h[1]*x+c[1]],f=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":p=[-h[0]*y+l[0],-h[1]*x+l[1]],f=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":p=[y*S+l[0],l[1]+_],f=u[0]<0?"right":"left",m=[-y*S,-_];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":p=[C[0],C[1]+_],f="center",m=[0,-_];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":p=[-y*S+c[0],c[1]+_],f=u[0]>=0?"right":"left",m=[y*S,-_]}n.attr({style:{textVerticalAlign:n.__verticalAlign||g,textAlign:n.__textAlign||f},position:p,scale:[i,i],origin:m})}}}},f._createLine=function(t,e,n){var r=t.hostModel,o=function(t){var e=new a({name:"line",subPixelOptimize:!0});return d(e.shape,t),e}(t.getItemLayout(e));o.shape.percent=0,s.initProps(o,{shape:{percent:1}},r,e),this.add(o);var l=new s.Text({name:"label",lineLabelOriginalOpacity:1});this.add(l),i.each(c,(function(n){var i=u(n,t,e);this.add(i),this[h(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},f.updateData=function(t,e,n){var r=t.hostModel,o=this.childOfName("line"),a=t.getItemLayout(e),l={shape:{}};d(l.shape,a),s.updateProps(o,l,r,e),i.each(c,(function(n){var i=t.getItemVisual(e,n),r=h(n);if(this[r]!==i){this.remove(this.childOfName(n));var o=u(n,t,e);this.add(o)}this[r]=i}),this),this._updateCommonStl(t,e,n)},f._updateCommonStl=function(t,e,n){var r=t.hostModel,o=this.childOfName("line"),a=n&&n.lineStyle,h=n&&n.hoverLineStyle,u=n&&n.labelModel,d=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var p=t.getItemModel(e);a=p.getModel("lineStyle").getLineStyle(),h=p.getModel("emphasis.lineStyle").getLineStyle(),u=p.getModel("label"),d=p.getModel("emphasis.label")}var f=t.getItemVisual(e,"color"),g=i.retrieve3(t.getItemVisual(e,"opacity"),a.opacity,1);o.useStyle(i.defaults({strokeNoScale:!0,fill:"none",stroke:f,opacity:g},a)),o.hoverStyle=h,i.each(c,(function(t){var e=this.childOfName(t);e&&(e.setColor(f),e.setStyle({opacity:g}))}),this);var m,v,y=u.getShallow("show"),x=d.getShallow("show"),b=this.childOfName("label");if((y||x)&&(m=f||"#000",null==(v=r.getFormattedLabel(e,"normal",t.dataType)))){var w=r.getRawValue(e);v=null==w?t.getName(e):isFinite(w)?l(w):w}var C=y?v:null,_=x?i.retrieve2(r.getFormattedLabel(e,"emphasis",t.dataType),v):null,S=b.style;if(null!=C||null!=_){s.setTextStyle(b.style,u,{text:C},{autoColor:m}),b.__textAlign=S.textAlign,b.__verticalAlign=S.textVerticalAlign,b.__position=u.get("position")||"middle";var O=u.get("distance");i.isArray(O)||(O=[O,O]),b.__labelDistance=O}b.hoverStyle=null!=_?{text:_,textFill:d.getTextColor(!0),fontStyle:d.getShallow("fontStyle"),fontWeight:d.getShallow("fontWeight"),fontSize:d.getShallow("fontSize"),fontFamily:d.getShallow("fontFamily")}:{text:null},b.ignore=!y&&!x,s.setHoverStyle(this)},f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},f.setLinePoints=function(t){var e=this.childOfName("line");d(e.shape,t),e.dirty()},i.inherits(p,s.Group);var g=p;t.exports=g},function(t,e){e.getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scale,r=i&&i[0]||1;return((e.getZoom()-1)*n+1)/r},e.getSymbolSize=function(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(68),o=n(6),a=n(285),s=n(72),l=i.curry,c=i.each,h=i.map,u=Math.min,d=Math.max,p=Math.pow,f={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},g={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},m={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},v=0;function y(t){r.call(this),this._zr=t,this.group=new o.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+v++,this._handlers={},c(W,(function(t,e){this._handlers[e]=i.bind(t,this)}),this)}function x(t,e){var n=Y[e.brushType].createCover(t,e);return n.__brushOption=e,C(n,e),t.group.add(n),n}function b(t,e){var n=S(e);return n.endCreating&&(n.endCreating(t,e),C(e,e.__brushOption)),e}function w(t,e){var n=e.__brushOption;S(e).updateCoverShape(t,e,n.range,n)}function C(t,e){var n=e.z;null==n&&(n=1e4),t.traverse((function(t){t.z=n,t.z2=n}))}function _(t,e){S(e).updateCommon(t,e),w(t,e)}function S(t){return Y[t.__brushOption.brushType]}function O(t,e,n){var i,r=t._panels;if(!r)return!0;var o=t._transform;return c(r,(function(t){t.isTargetByCursor(e,n,o)&&(i=t)})),i}function M(t,e){var n=t._panels;if(!n)return!0;var i=e.__brushOption.panelId;return null==i||n[i]}function k(t){var e=t._covers,n=e.length;return c(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function A(t,e){var n=h(t._covers,(function(t){var e=t.__brushOption,n=i.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function T(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function D(t,e,n,i){var r=new o.Group;return r.add(new o.Rect({name:"main",style:j(n),silent:!0,draggable:!0,cursor:"move",drift:l(t,e,r,"nswe"),ondragend:l(A,e,{isEnd:!0})})),c(i,(function(n){r.add(new o.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:l(t,e,r,n),ondragend:l(A,e,{isEnd:!0})}))})),r}function P(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=d(r,6),a=n[0][0],s=n[1][0],l=a-r/2,c=s-r/2,h=n[0][1],u=n[1][1],p=h-o+r/2,f=u-o+r/2,g=h-a,m=u-s,v=g+r,y=m+r;E(t,e,"main",a,s,g,m),i.transformable&&(E(t,e,"w",l,c,o,y),E(t,e,"e",p,c,o,y),E(t,e,"n",l,c,v,o),E(t,e,"s",l,f,v,o),E(t,e,"nw",l,c,o,o),E(t,e,"ne",p,c,o,o),E(t,e,"sw",l,f,o,o),E(t,e,"se",p,f,o,o))}function I(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(j(n)),r.attr({silent:!i,cursor:i?"move":"default"}),c(["w","e","n","s","se","sw","ne","nw"],(function(n){var r=e.childOfName(n),a=function t(e,n){if(n.length>1)return n=n.split(""),("e"===(i=[t(e,n[0]),t(e,n[1])])[0]||"w"===i[0])&&i.reverse(),i.join("");var i;return{left:"w",right:"e",top:"n",bottom:"s"}[i=o.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function(t){return o.getTransform(t.group)}(e))]}(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?g[a]+"-resize":null})}))}function E(t,e,n,i,r,o,a){var s,l,c,h,p,f=e.childOfName(n);f&&f.setShape((s=F(t,e,[[i,r],[i+o,r+a]]),l=u(s[0][0],s[1][0]),c=u(s[0][1],s[1][1]),h=d(s[0][0],s[1][0]),p=d(s[0][1],s[1][1]),{x:l,y:c,width:h-l,height:p-c}))}function j(t){return i.defaults({strokeNoScale:!0},t.brushStyle)}function L(t,e,n,i){var r=[u(t,n),u(e,i)],o=[d(t,n),d(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function B(t,e,n,i,r,o,a,s){var l=i.__brushOption,h=t(l.range),u=R(n,o,a);c(r.split(""),(function(t){var e=f[t];h[e[0]][e[1]]+=u[e[0]]})),l.range=e(L(h[0][0],h[1][0],h[0][1],h[1][1])),_(n,i),A(n,{isEnd:!1})}function N(t,e,n,i,r){var o=e.__brushOption.range,a=R(t,n,i);c(o,(function(t){t[0]+=a[0],t[1]+=a[1]})),_(t,e),A(t,{isEnd:!1})}function R(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function F(t,e,n){var r=M(t,e);return r&&!0!==r?r.clipPath(n,t._transform):i.clone(n)}function z(t){var e=t.event;e.preventDefault&&e.preventDefault()}function V(t,e,n){return t.childOfName("main").contain(e,n)}function G(t,e,n,r){var o,a=t._creatingCover,s=t._creatingPanel,l=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1];return p(r*r+o*o,.5)>6}(t)||a){if(s&&!a){"single"===l.brushMode&&k(t);var c=i.clone(l);c.brushType=H(c.brushType,s),c.panelId=!0===s?null:s.panelId,a=t._creatingCover=x(t,c),t._covers.push(a)}if(a){var h=Y[H(t._brushType,s)];a.__brushOption.range=h.getCreatingRange(F(t,a,t._track)),r&&(b(t,a),h.updateCommon(t,a)),w(t,a),o={isEnd:r}}}else r&&"single"===l.brushMode&&l.removeOnClick&&O(t,e,n)&&k(t)&&(o={isEnd:r,removeOnClick:!0});return o}function H(t,e){return"auto"===t?e.defaultBrushType:t}y.prototype={constructor:y,enableBrush:function(t){var e,n;return this._brushType&&(n=(e=this)._zr,a.release(n,"globalPan",e._uid),function(t,e){c(e,(function(e,n){t.off(n,e)}))}(n,e._handlers),e._brushType=e._brushOption=null),t.brushType&&function(t,e){var n=t._zr;t._enableGlobalPan||a.take(n,"globalPan",t._uid);(function(t,e){c(e,(function(e,n){t.on(n,e)}))})(n,t._handlers),t._brushType=e.brushType,t._brushOption=i.merge(i.clone(m),e,!0)}(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};i.each(t,(function(t){e[t.panelId]=i.clone(t)}))}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){c(this._covers,t,e)},updateCovers:function(t){t=i.map(t,(function(t){return i.merge(i.clone(m),t,!0)}));var e=this._covers,n=this._covers=[],r=this,o=this._creatingCover;return new s(e,t,(function(t,e){return a(t.__brushOption,e)}),a).add(l).update(l).remove((function(t){e[t]!==o&&r.group.remove(e[t])})).execute(),this;function a(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function l(i,a){var s=t[i];if(null!=a&&e[a]===o)n[i]=e[a];else{var l=n[i]=null!=a?(e[a].__brushOption=s,e[a]):b(r,x(r,s));_(r,l)}}},unmount:function(){return this.enableBrush(!1),k(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},i.mixin(y,r);var W={mousedown:function(t){if(this._dragging)$(this,t);else if(!t.target||!t.target.draggable){z(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=O(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}(t,e)){var i=t._zr,r=t._covers,o=O(t,e,n);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&Y[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}}(this,t,i),this._dragging){z(t);var r=G(this,t,i,!1);r&&A(this,r)}},mouseup:function(t){$(this,t)}};function $(t,e){if(t._dragging){z(e);var n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),o=G(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&A(t,o)}}var Y={lineX:X(0),lineY:X(1),rect:{createCover:function(t,e){return D(l(B,(function(t){return t}),(function(t){return t})),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=T(t);return L(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){P(t,e,n,i)},updateCommon:I,contain:V},polygon:{createCover:function(t,e){var n=new o.Group;return n.add(new o.Polyline({name:"main",style:j(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new o.Polygon({name:"main",draggable:!0,drift:l(N,t,e),ondragend:l(A,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:F(t,e,n)})},updateCommon:I,contain:V}};function X(t){return{createCover:function(e,n){return D(l(B,(function(e){var n=[e,[0,100]];return t&&n.reverse(),n}),(function(e){return e[t]})),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=T(e);return[u(n[0][t],n[1][t]),d(n[0][t],n[1][t])]},updateCoverShape:function(e,n,i,r){var o,a=M(e,n);if(!0!==a&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,o];t&&l.reverse(),P(e,n,l,r)},updateCommon:I,contain:V}}var q=y;t.exports=q},function(t,e,n){var i=n(3),r=n(56),o=n(6),a=n(133),s=n(49),l=n(61),c=(0,n(11).makeInner)(),h=i.clone,u=i.bind;function d(){}function p(t,e,n,r){(function t(e,n){if(i.isObject(e)&&i.isObject(n)){var r=!0;return i.each(n,(function(n,i){r=r&&t(e[i],n)})),!!r}return e===n})(c(n).lastProp,r)||(c(n).lastProp=r,e?o.updateProps(n,r,t):(n.stopAnimation(),n.attr(r)))}function f(t,e){t[e.get("label.show")?"show":"hide"]()}function g(t){return{position:t.position.slice(),rotation:t.rotation||0}}function m(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)}))}d.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,r){var a=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,r||this._lastValue!==a||this._lastStatus!==s){this._lastValue=a,this._lastStatus=s;var l=this._group,c=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(c&&c.hide());l&&l.show(),c&&c.show();var h={};this.makeElOption(h,a,t,e,n);var u=h.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(t,e);if(l){var f=i.curry(p,e,d);this.updatePointerEl(l,h,f,e),this.updateLabelEl(l,h,f,e)}else l=this._group=new o.Group,this.createPointerEl(l,h,t,e),this.createLabelEl(l,h,t,e),n.getZr().add(l);m(l,e,!0),this._renderHandle(a)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(r&&i.getBandWidth()>s)return!0;if(o){var l=a.getAxisInfo(t).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===n},makeElOption:function(t,e,n,i,r){},createPointerEl:function(t,e,n,i){var r=e.pointer;if(r){var a=c(t).pointerEl=new o[r.type](h(e.pointer));t.add(a)}},createLabelEl:function(t,e,n,i){if(e.label){var r=c(t).labelEl=new o.Rect(h(e.label));t.add(r),f(r,i)}},updatePointerEl:function(t,e,n){var i=c(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,i){var r=c(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{shape:e.label.shape,position:e.label.position}),f(r,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,r=this._api.getZr(),a=this._handle,c=n.getModel("handle"),h=n.get("status");if(!c.get("show")||!h||"hide"===h)return a&&r.remove(a),void(this._handle=null);this._handle||(e=!0,a=this._handle=o.createIcon(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){s.stop(t.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),r.add(a)),m(a,n,!1);a.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=c.get("size");i.isArray(d)||(d=[d,d]),a.attr("scale",[d[0]/2,d[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){p(this._axisPointerModel,!e&&this._moveAnimation,this._handle,g(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(g(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(g(i)),c(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}},d.prototype.constructor=d,r.enableClassExtend(d);var v=d;t.exports=v},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(601),o=n(8).parsePercent,a=n(45),s=a.createScaleByModel,l=a.niceScaleExtent,c=n(44),h=n(52).getStackedDimension;function u(t,e){var n=this,r=n.getAngleAxis(),o=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===n){var e=t.getData();i.each(e.mapDimension("radius",!0),(function(t){o.scale.unionExtentFromData(e,h(e,t))})),i.each(e.mapDimension("angle",!0),(function(t){r.scale.unionExtentFromData(e,h(e,t))}))}})),l(r.scale,r.model),l(o.scale,o.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),s=360/r.scale.count();r.inverse?a[1]+=s:a[1]-=s,r.setExtent(a[0],a[1])}}function d(t,e){if(t.type=e.get("type"),t.scale=s(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}n(604);var p={dimensions:r.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",(function(t,a){var s=new r(a);s.update=u;var l=s.getRadiusAxis(),c=s.getAngleAxis(),h=t.findAxisModel("radiusAxis"),p=t.findAxisModel("angleAxis");d(l,h),d(c,p),function(t,e,n){var r=e.get("center"),a=n.getWidth(),s=n.getHeight();t.cx=o(r[0],a),t.cy=o(r[1],s);var l=t.getRadiusAxis(),c=Math.min(a,s)/2,h=e.get("radius");null==h?h=[0,"100%"]:i.isArray(h)||(h=[0,h]),h=[o(h[0],c),o(h[1],c)],l.inverse?l.setExtent(h[1],h[0]):l.setExtent(h[0],h[1])}(s,t,e),n.push(s),t.coordinateSystem=s,s.model=t})),t.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}})),n}};c.register("polar",p)},function(t,e,n){n(30).registerSubTypeDefaulter("dataZoom",(function(){return"slider"}))},function(t,e,n){var i=n(3),r=n(15),o=["cartesian2d","polar","singleAxis"];function a(t,e){t=t.slice();var n=i.map(t,r.capitalFirst);e=(e||[]).slice();var o=i.map(e,r.capitalFirst);return function(r,a){i.each(t,(function(t,i){for(var s={name:t,capital:n[i]},l=0;l<e.length;l++)s[e[l]]=t+o[l];r.call(a,s)}))}}var s=a(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);e.isCoordSupported=function(t){return i.indexOf(o,t)>=0},e.createNameEach=a,e.eachAxisDim=s,e.createLinkedNodesFinder=function(t,e,n){return function(o){var a,s={nodes:[],records:{}};if(e((function(t){s.records[t.name]={}})),!o)return s;r(o,s);do{a=!1,t(l)}while(a);function l(t){!function(t,e){return i.indexOf(e.nodes,t)>=0}(t,s)&&function(t,r){var o=!1;return e((function(e){i.each(n(t,e)||[],(function(t){r.records[e.name][t]&&(o=!0)}))})),o}(t,s)&&(r(t,s),a=!0)}return s};function r(t,r){r.nodes.push(t),e((function(e){i.each(n(t,e)||[],(function(t){r.records[e.name][t]=!0}))}))}}},function(t,e,n){var i=n(5),r=n(3),o=r.createHashMap,a=r.each;i.registerProcessor({getTargetSeries:function(t){var e=o();return t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,n,i){var r=i.getAxisProxy(t.name,n);a(r.getTargetSeriesModels(),(function(t){e.set(t.uid,t)}))}))})),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,n,i){i.getAxisProxy(t.name,n).reset(i,e)})),t.eachTargetAxis((function(t,n,i){i.getAxisProxy(t.name,n).filterData(i,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}))}})},function(t,e,n){var i=n(5),r=n(3),o=n(206);i.registerAction("dataZoom",(function(t,e){var n=o.createLinkedNodesFinder(r.bind(e.eachComponent,e,"dataZoom"),o.eachAxisDim,(function(t,e){return t.get(e.axisIndex)})),i=[];e.eachComponent({mainType:"dataZoom",query:t},(function(t,e){i.push.apply(i,n(t).nodes)})),r.each(i,(function(e,n){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(25),a=n(11),s=n(15),l=n(187),c=s.addCommas,h=s.encodeHTML;function u(t){a.defaultEmphasis(t,"label",["show"])}var d=i.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},isAnimationEnabled:function(){if(o.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,e,n,i){var o=this.constructor,a=this.mainType+"Model";n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),s=t[a];n&&n.data?(s?s._mergeOption(n,e,!0):(i&&u(n),r.each(n.data,(function(t){t instanceof Array?(u(t[0]),u(t[1])):u(t)})),s=new o(n,this,e),r.extend(s,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),t[a]=s):t[a]=null}),this)},formatTooltip:function(t,e,n,i){var o=this.getData(),a=this.getRawValue(t),s=r.isArray(a)?r.map(a,c).join(", "):c(a),l=o.getName(t),u=h(this.name);return(null!=a||l)&&(u+="html"===i?"<br/>":"\n"),l&&(u+=h(l),null!=a&&(u+=" : ")),null!=a&&(u+=h(s)),u},getData:function(){return this._data},setData:function(t){this._data=t}});r.mixin(d,l);var p=d;t.exports=p},function(t,e,n){var i=n(3),r=n(8),o=n(52).isDimensionStacked,a=i.indexOf;function s(t,e,n,i,a,s){var l=[],c=o(e,i)?e.getCalculationInfo("stackResultDimension"):i,h=u(e,c,t),d=e.indicesOfNearest(c,h)[0];l[a]=e.get(n,d),l[s]=e.get(c,d);var p=e.get(i,d),f=r.getPrecision(e.get(i,d));return(f=Math.min(f,20))>=0&&(l[s]=+l[s].toFixed(f)),[l,p]}var l=i.curry,c={min:l(s,"min"),max:l(s,"max"),average:l(s,"average")};function h(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var r=0;r<i.length;r++){var o=n.getDimensionInfo(i[r]);if(o.name===e)return o.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function u(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,r++)})),i/r}return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0]}e.dataTransform=function(t,e){var n=t.getData(),r=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!i.isArray(e.coord)&&r){var o=r.dimensions,s=h(e,n,r,t);if((e=i.clone(e)).type&&c[e.type]&&s.baseAxis&&s.valueAxis){var l=a(o,s.baseAxis.dim),d=a(o,s.valueAxis.dim),p=c[e.type](n,s.baseDataDim,s.valueDataDim,l,d);e.coord=p[0],e.value=p[1]}else{for(var f=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],g=0;g<2;g++)c[f[g]]&&(f[g]=u(n,n.mapDimension(o[g]),f[g]));e.coord=f}}return e},e.getAxisInfo=h,e.dataFilter=function(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)},e.dimValueGetter=function(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value},e.numCalculate=u},function(t,e,n){var i=n(5),r=n(3),o=i.extendComponentView({type:"marker",init:function(){this.markerGroupMap=r.createHashMap()},render:function(t,e,n){var i=this.markerGroupMap;i.each((function(t){t.__keep=!1}));var r=this.type+"Model";e.eachSeries((function(t){var i=t[r];i&&this.renderSeries(t,i,e,n)}),this),i.each((function(t){!t.__keep&&this.group.remove(t.group)}),this)},renderSeries:function(){}});t.exports=o},function(t,e,n){var i=n(213).createElement,r=n(83),o=n(20),a=n(37),s=n(39),l=n(125),c=n(70),h=r.CMD,u=Array.prototype.join,d=Math.round,p=Math.sin,f=Math.cos,g=Math.PI,m=2*Math.PI,v=180/g;function y(t){return d(1e4*t)/1e4}function x(t){return t<1e-4&&t>-1e-4}function b(t,e){e&&w(t,"transform","matrix("+u.call(e,",")+")")}function w(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function C(t,e,n,i){if(function(t,e){var n=e?t.textFill:t.fill;return null!=n&&"none"!==n}(e,n)){var r=n?e.textFill:e.fill;w(t,"fill",r="transparent"===r?"none":r),w(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else w(t,"fill","none");if(function(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&"none"!==n}(e,n)){var o=n?e.textStroke:e.stroke;w(t,"stroke",o="transparent"===o?"none":o),w(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?i.getLineScale():1)),w(t,"paint-order",n?"stroke":"fill"),w(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(w(t,"stroke-dasharray",e.lineDash.join(",")),w(t,"stroke-dashoffset",d(e.lineDashOffset||0))):w(t,"stroke-dasharray",""),e.lineCap&&w(t,"stroke-linecap",e.lineCap),e.lineJoin&&w(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&w(t,"stroke-miterlimit",e.miterLimit)}else w(t,"stroke","none")}var _={};_.brush=function(t){var e=t.style,n=t.__svgEl;n||(n=i("path"),t.__svgEl=n),t.path||t.createPathProxy();var r=t.path;if(t.__dirtyPath){r.beginPath(),r.subPixelOptimize=!1,t.buildPath(r,t.shape),t.__dirtyPath=!1;var o=function(t){for(var e=[],n=t.data,i=t.len(),r=0;r<i;){var o="",a=0;switch(n[r++]){case h.M:o="M",a=2;break;case h.L:o="L",a=2;break;case h.Q:o="Q",a=4;break;case h.C:o="C",a=6;break;case h.A:var s=n[r++],l=n[r++],c=n[r++],u=n[r++],b=n[r++],w=n[r++],C=n[r++],_=n[r++],S=Math.abs(w),O=x(S-m)||(_?w>=m:-w>=m),M=w>0?w%m:w%m+m,k=!1;k=!!O||!x(S)&&M>=g==!!_;var A=y(s+c*f(b)),T=y(l+u*p(b));O&&(w=_?m-1e-4:1e-4-m,k=!0,9===r&&e.push("M",A,T));var D=y(s+c*f(b+w)),P=y(l+u*p(b+w));e.push("A",y(c),y(u),d(C*v),+k,+_,D,P);break;case h.Z:o="Z";break;case h.R:D=y(n[r++]),P=y(n[r++]);var I=y(n[r++]),E=y(n[r++]);e.push("M",D,P,"L",D+I,P,"L",D+I,P+E,"L",D,P+E,"L",D,P)}o&&e.push(o);for(var j=0;j<a;j++)e.push(y(n[r++]))}return e.join(" ")}(r);o.indexOf("NaN")<0&&w(n,"d",o)}C(n,e,!1,t),b(n,t.transform),null!=e.text?D(t,t.getBoundingRect()):I(t)};var S={brush:function(t){var e=t.style,n=e.image;n instanceof HTMLImageElement&&(n=n.src);if(n){var r=e.x||0,o=e.y||0,a=e.width,s=e.height,l=t.__svgEl;l||(l=i("image"),t.__svgEl=l),n!==t.__imageSrc&&(!function(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}(l,"href",n),t.__imageSrc=n),w(l,"width",a),w(l,"height",s),w(l,"x",r),w(l,"y",o),b(l,t.transform),null!=e.text?D(t,t.getBoundingRect()):I(t)}}},O={},M=new o,k={},A=[],T={left:"start",right:"end",center:"middle",middle:"middle"},D=function(t,e){var n=t.style,r=t.transform,o=t instanceof c||n.transformText;t.__dirty&&l.normalizeTextStyle(n,!0);var h=n.text;if(null!=h&&(h+=""),l.needDrawText(h,n)){null==h&&(h=""),!o&&r&&(M.copy(e),M.applyTransform(r),e=M);var u=t.__textSvgEl;u||(u=i("text"),t.__textSvgEl=u);var d=u.style,p=n.font||s.DEFAULT_FONT,f=u.__computedFont;p!==u.__styleFont&&(d.font=u.__styleFont=p,f=u.__computedFont=d.font);var g=n.textPadding,m=n.textLineHeight,v=t.__textCotentBlock;v&&!t.__dirtyText||(v=t.__textCotentBlock=s.parsePlainText(h,f,g,m,n.truncate));var y=v.outerHeight,x=v.lineHeight;l.getBoxPosition(k,t,n,e);var w=k.baseX,_=k.baseY,S=k.textAlign||"left",O=k.textVerticalAlign;!function(t,e,n,i,r,o,s){a.identity(A),e&&n&&a.copy(A,n);var l=i.textRotation;if(r&&l){var c=i.textOrigin;"center"===c?(o=r.width/2+r.x,s=r.height/2+r.y):c&&(o=c[0]+r.x,s=c[1]+r.y),A[4]-=o,A[5]-=s,a.rotate(A,A,l),A[4]+=o,A[5]+=s}b(t,A)}(u,o,r,n,e,w,_);var T=w,D=s.adjustTextY(_,y,O);g&&(T=function(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}(w,S,g),D+=g[0]),D+=x/2,C(u,n,!0,t);var I=v.canCacheByTextString,E=t.__tspanList||(t.__tspanList=[]),j=E.length;if(I&&t.__canCacheByTextString&&t.__text===h){if(t.__dirtyText&&j)for(var L=0;L<j;++L)P(E[L],S,T,D+L*x)}else{t.__text=h,t.__canCacheByTextString=I;var B=v.lines,N=B.length;for(L=0;L<N;L++){var R=E[L],F=B[L];R?R.__zrText!==F&&(R.innerHTML="",R.appendChild(document.createTextNode(F))):(R=E[L]=i("tspan"),u.appendChild(R),R.appendChild(document.createTextNode(F))),P(R,S,T,D+L*x)}if(j>N){for(;L<j;L++)u.removeChild(E[L]);E.length=N}}}};function P(t,e,n,i){w(t,"dominant-baseline","middle"),w(t,"text-anchor",T[e]),w(t,"x",n),w(t,"y",i)}function I(t){t&&t.__textSvgEl&&(t.__textSvgEl.parentNode&&t.__textSvgEl.parentNode.removeChild(t.__textSvgEl),t.__textSvgEl=null,t.__tspanList=[],t.__text=null)}O.drawRectText=D,O.brush=function(t){null!=t.style.text?D(t,!1):I(t)},e.path=_,e.image=S,e.text=O},function(t,e){e.createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},function(t,e,n){var i=n(213).createElement,r=n(3),o=n(24),a=n(81),s=n(70),l=n(212),c=l.path,h=l.image,u=l.text;function d(t,e,n,i,r){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=r||"_dom",this.nextId=0}d.prototype.createElement=i,d.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},d.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var i=this.add(t);i&&(t[this._domName]=i)}}},d.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},d.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},d.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return r.each(this._tagNames,(function(n){var i=t.getElementsByTagName(n);e=e.concat([].slice.call(i))})),e},d.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;r.each(t,(function(t){t[e._markLabel]="0"}))},d.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},d.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),n=this;r.each(e,(function(e){"1"!==e[n._markLabel]&&t.removeChild(e)}))}},d.prototype.getSvgProxy=function(t){return t instanceof o?c:t instanceof a?h:t instanceof s?u:c},d.prototype.getTextSvgElement=function(t){return t.__textSvgEl},d.prototype.getSvgElement=function(t){return t.__svgEl};var p=d;t.exports=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(225),o=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.abs(n)>Math.abs(i)?n>0?"right":"left":i>0?"down":"up"},a=function(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)},s=function(t,e){if(t){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r],a=o.clientX,s=o.clientY,l=e.getPointByClient(a,s);n.push(l)}return n}},l=function(t){function e(e){var n=t.call(this,e)||this;return n.processEvent={},n.touchStart=function(t){var e,i,r=s(t.originalEvent.touches,n.canvas);r&&(t.points=r,n.reset(),n.startTime=Date.now(),n.startPoints=r,r.length>1?(n.startDistance=a(r[0],r[1]),n.center=(e=r[0],i=r[1],{x:(e.x+i.x)/2,y:(e.y+i.y)/2})):n.pressTimeout=setTimeout((function(){t.direction="none",n.emitStart("press",t),n.emitEvent("press",t),n.eventType="press"}),250))},n.touchMove=function(t){var e=s(t.originalEvent.touches,n.canvas);if(e){n.clearPressTimeout(),t.points=e;var i=n.startPoints;if(i)if(e.length>1){var r=n.startDistance,l=a(e[0],e[1]);t.zoom=l/r,t.center=n.center,n.emitStart("pinch",t),n.emitEvent("pinch",t)}else{var c=e[0].x-i[0].x,h=e[0].y-i[0].y,u=n.direction||o(i[0],e[0]);n.direction=u;var d=n.getEventType(e);t.direction=u,t.deltaX=c,t.deltaY=h,n.emitStart(d,t),n.emitEvent(d,t);var p=n.lastMoveTime,f=Date.now();f-p>0&&(n.prevMoveTime=p,n.prevMovePoints=n.lastMovePoints,n.lastMoveTime=f,n.lastMovePoints=e)}}},n.touchEnd=function(t){n.emitEnd(t);var e=n.lastMoveTime;if(Date.now()-e<100){var i=e-(n.prevMoveTime||n.startTime);if(i>0){var r=n.prevMovePoints||n.startPoints,s=n.lastMovePoints,l=a(r[0],s[0])/i;l>.3&&(t.velocity=l,t.direction=o(r[0],s[0]),n.emitEvent("swipe",t))}}n.reset();var c=t.touches;c&&c.length>0&&n.touchStart(t)},n.canvas=e.getCanvas(),n.delegateEvent(),n.processEvent={},n}return i.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){},e.prototype.layout=function(){},e.prototype.update=function(){},e.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},e.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},e.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},e.prototype.emitEvent=function(t,e){this.view.emit(t,e)},e.prototype.emitStart=function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent(t+"start",e))},e.prototype.emitEnd=function(t){var e=this,n=this.processEvent;Object.keys(n).forEach((function(i){e.emitEvent(i+"end",t),delete n[i]}))},e.prototype.enable=function(t){this.processEvent[t]=!0},e.prototype.isProcess=function(t){return this.processEvent[t]},e.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},e.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},e.prototype.getEventType=function(t){var e,n=this.eventType,i=this.view,r=this.startTime,o=this.startPoints;if(n)return n;var s=i.getEvents().pan;s&&s.length?e=Date.now()-r>250&&a(o[0],t[0])<10?"press":"pan":e="press";return this.eventType=e,e},e}(r.Controller);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){return"[Event (type="+this.type+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(359),r=n(360),o=n(0);function a(t){for(var e=[],n=t.length,i=0;i<n-1;i++){var r=t[i],o=t[i+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var a=t[0],s=t[n-1];e.push({from:{x:s[0],y:s[1]},to:{x:a[0],y:a[1]}})}return e}function s(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}e.default=function(t,e){if(t.length<2||e.length<2)return!1;var n,l,c=s(t),h=s(e);if(n=c,(l=h).minX>n.maxX||l.maxX<n.minX||l.minY>n.maxY||l.maxY<n.minY)return!1;var u=!1;if(o.each(e,(function(e){if(i.default(t,e[0],e[1]))return u=!0,!1})),u)return!0;if(o.each(t,(function(t){if(i.default(e,t[0],t[1]))return u=!0,!1})),u)return!0;var d=a(t),p=a(e),f=!1;return o.each(p,(function(t){if(function(t,e){var n=!1;return o.each(t,(function(t){if(r.default(t.from,t.to,e.from,e.to))return n=!0,!1})),n}(d,t))return f=!0,!1})),f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.propagationDelegate=void 0;var i=n(216);e.propagationDelegate=function(t,e,n){var r=new i.default(e,n);r.target=t,r.propagationPath.push(t),t.emitDelegation(e,r);for(var o=t.getParent();o;)o.emitDelegation(e,r),r.propagationPath.push(o),o=o.getParent()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var i=n(67);e.isNil=i.default;var r=n(80);e.isFunction=r.default;var o=n(53);e.isString=o.default;var a=n(118);e.isObject=a.default;var s=n(41);e.isArray=s.default;var l=n(169);e.mix=l.default;var c=n(54);e.each=c.default;var h=n(170);e.upperFirst=h.default,e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),i=!1;n;){if(n===t){i=!0;break}n=n.getParent()}return i},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=null;e.getOffScreenContext=function(){if(!i){var t=document.createElement("canvas");t.width=1,t.height=1,i=t.getContext("2d")}return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(35),r=n(48),o=n(228);function a(t,e,n,i){var r=1-i;return r*r*t+2*i*r*e+i*i*n}function s(t,e,n){var i=t+n-2*e;if(r.isNumberEqual(i,0))return[.5];var o=(t-e)/i;return o<=1&&o>=0?[o]:[]}function l(t,e,n,i){return 2*(1-i)*(e-t)+2*i*(n-e)}function c(t,e,n,r,o,s,l){var c=a(t,n,o,l),h=a(e,r,s,l),u=i.default.pointAt(t,e,n,r,l),d=i.default.pointAt(n,r,o,s,l);return[[t,e,u.x,u.y,c,h],[c,h,d.x,d.y,o,s]]}e.default={box:function(t,e,n,i,o,l){var c=s(t,n,o)[0],h=s(e,i,l)[0],u=[t,o],d=[e,l];return void 0!==c&&u.push(a(t,n,o,c)),void 0!==h&&d.push(a(e,i,l,h)),r.getBBoxByArray(u,d)},length:function(t,e,n,i,o,a){return function t(e,n,i,o,a,s,l){if(0===l)return(r.distance(e,n,i,o)+r.distance(i,o,a,s)+r.distance(e,n,a,s))/2;var h=c(e,n,i,o,a,s,.5),u=h[0],d=h[1];return u.push(l-1),d.push(l-1),t.apply(null,u)+t.apply(null,d)}(t,e,n,i,o,a,3)},nearestPoint:function(t,e,n,i,r,s,l,c){return o.nearestPoint([t,n,r],[e,i,s],l,c,a)},pointDistance:function(t,e,n,i,o,a,s,l){var c=this.nearestPoint(t,e,n,i,o,a,s,l);return r.distance(c.x,c.y,s,l)},interpolationAt:a,pointAt:function(t,e,n,i,r,o,s){return{x:a(t,n,r,s),y:a(e,i,o,s)}},divide:function(t,e,n,i,r,o,a){return c(t,e,n,i,r,o,a)},tangentAngle:function(t,e,n,i,o,a,s){var c=l(t,n,o,s),h=l(e,i,a,s),u=Math.atan2(h,c);return r.piMod(u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(229),r=n(229),o=n(370);function a(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){for(var e=[],n=null,s=null,l=null,c=0,h=(t=o.default(t)).length,u=0;u<h;u++){var d=t[u];s=t[u+1];var p=d[0],f={command:p,prePoint:n,params:d,startTangent:null,endTangent:null};switch(p){case"M":l=[d[1],d[2]],c=u;break;case"A":var g=i.default(n,d);f.arcParams=g}if("Z"===p)n=l,s=t[c+1];else{var m=d.length;n=[d[m-2],d[m-1]]}s&&"Z"===s[0]&&(s=t[c],e[c]&&(e[c].prePoint=n)),f.currentPoint=n,e[c]&&r.isSamePoint(n,e[c].currentPoint)&&(e[c].prePoint=f.prePoint);var v=s?[s[s.length-2],s[s.length-1]]:null;f.nextPoint=v;var y=f.prePoint;if(["L","H","V"].includes(p))f.startTangent=[y[0]-n[0],y[1]-n[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]];else if("Q"===p){var x=[d[1],d[2]];f.startTangent=[y[0]-x[0],y[1]-x[1]],f.endTangent=[n[0]-x[0],n[1]-x[1]]}else if("T"===p){x=a((C=e[u-1]).currentPoint,y);"Q"===C.command?(f.command="Q",f.startTangent=[y[0]-x[0],y[1]-x[1]],f.endTangent=[n[0]-x[0],n[1]-x[1]]):(f.command="TL",f.startTangent=[y[0]-n[0],y[1]-n[1]],f.endTangent=[n[0]-y[0],n[1]-y[1]])}else if("C"===p){var b=[d[1],d[2]],w=[d[3],d[4]];f.startTangent=[y[0]-b[0],y[1]-b[1]],f.endTangent=[n[0]-w[0],n[1]-w[1]]}else if("S"===p){var C;b=a((C=e[u-1]).currentPoint,y),w=[d[1],d[2]];"C"===C.command?(f.command="C",f.startTangent=[y[0]-b[0],y[1]-b[1]],f.endTangent=[n[0]-w[0],n[1]-w[1]]):(f.command="SQ",f.startTangent=[y[0]-w[0],y[1]-w[1]],f.endTangent=[n[0]-w[0],n[1]-w[1]])}else if("A"===p){var _=.001,S=f.arcParams||{},O=S.cx,M=void 0===O?0:O,k=S.cy,A=void 0===k?0:k,T=S.rx,D=void 0===T?0:T,P=S.ry,I=void 0===P?0:P,E=S.sweepFlag,j=void 0===E?0:E,L=S.startAngle,B=void 0===L?0:L,N=S.endAngle,R=void 0===N?0:N;0===j&&(_*=-1);var F=D*Math.cos(B-_)+M,z=I*Math.sin(B-_)+A;f.startTangent=[F-l[0],z-l[1]];var V=D*Math.cos(B+R+_)+M,G=I*Math.sin(B+R-_)+A;f.endTangent=[y[0]-V,y[1]-G]}e.push(f)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toPoints=e.getRegionBBox=e.BBox=void 0;var i=n(0),r=n(38),o=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.height=i,this.width=n}return t.fromRange=function(e,n,i,r){return new t(e,n,i-e,r-n)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return i.each(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return i.each(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var i=e.width,o=e.height;switch(n){case r.DIRECTION.TOP:case r.DIRECTION.TOP_LEFT:case r.DIRECTION.TOP_RIGHT:return t.fromRange(this.minX,this.minY+o,this.maxX,this.maxY);case r.DIRECTION.RIGHT:case r.DIRECTION.RIGHT_TOP:case r.DIRECTION.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case r.DIRECTION.BOTTOM:case r.DIRECTION.BOTTOM_LEFT:case r.DIRECTION.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-o);case r.DIRECTION.LEFT:case r.DIRECTION.LEFT_TOP:case r.DIRECTION.LEFT_BOTTOM:return t.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=e[0],i=e[1],r=e[2],o=e[3];return new t(this.x+o,this.y+n,this.width-o-i,this.height-n-r)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.size=function(){return this.width*this.height},t}();e.BBox=o,e.getRegionBBox=function(t,e){var n=e.start,i=e.end;return new o(t.x+t.width*n.x,t.y+t.height*n.y,t.width*Math.abs(i.x-n.x),t.height*Math.abs(i.y-n.y))},e.toPoints=function(t){return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyMatrix=function(t,e){var n=[],i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=t[8],d=e[0],p=e[1],f=e[2],g=e[3],m=e[4],v=e[5],y=e[6],x=e[7],b=e[8];return n[0]=d*i+p*a+f*c,n[1]=d*r+p*s+f*h,n[2]=d*o+p*l+f*u,n[3]=g*i+m*a+v*c,n[4]=g*r+m*s+v*h,n[5]=g*o+m*l+v*u,n[6]=y*i+x*a+b*c,n[7]=y*r+x*s+b*h,n[8]=y*o+x*l+b*u,n},e.multiplyVec2=function(t,e){var n=[],i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n},e.invert=function(t){var e=[],n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=h*a-s*c,d=-h*o+s*l,p=c*o-a*l,f=n*u+i*d+r*p;return f?(f=1/f,e[0]=u*f,e[1]=(-h*i+r*c)*f,e[2]=(s*i-r*a)*f,e[3]=d*f,e[4]=(h*n-r*l)*f,e[5]=(-s*n+r*o)*f,e[6]=p*f,e[7]=(-c*n+i*l)*f,e[8]=(a*n-i*o)*f,e):null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;var i=n(0),r=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(){i.each(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();e.Controller=r},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],h=!1,u=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&p())}function p(){if(!h){var t=s(d);h=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||h||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.snapLength=e.nearestPoint=void 0;var i=n(48);e.nearestPoint=function(t,e,n,r,o){for(var a,s=.005,l=1/0,c=[n,r],h=0;h<=20;h++){var u=.05*h,d=[o.apply(null,t.concat([u])),o.apply(null,e.concat([u]))];(m=i.distance(c[0],c[1],d[0],d[1]))<l&&(a=u,l=m)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var p=t.length;return{x:t[p-1],y:e[p-1]}}for(l=1/0,h=0;h<32&&!(s<1e-4);h++){var f=a-s,g=a+s,m=(d=[o.apply(null,t.concat([f])),o.apply(null,e.concat([f]))],i.distance(c[0],c[1],d[0],d[1]));if(f>=0&&m<l)a=f,l=m;else{var v=[o.apply(null,t.concat([g])),o.apply(null,e.concat([g]))],y=i.distance(c[0],c[1],v[0],v[1]);g<=1&&y<l?(a=g,l=y):s*=.5}}return{x:o.apply(null,t.concat([a])),y:o.apply(null,e.concat([a]))}},e.snapLength=function(t,e){for(var n=0,r=t.length,o=0;o<r;o++){var a=t[o],s=e[o],l=t[(o+1)%r],c=e[(o+1)%r];n+=i.distance(a,s,l,c)}return n/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(91),r=n(92);function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function a(t,e){return o(t)*o(e)?(t[0]*e[0]+t[1]*e[1])/(o(t)*o(e)):1}function s(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(a(t,e))}function l(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=l,e.default=function(t,e){var n=e[1],o=e[2],c=i.default(r.default(e[3]),2*Math.PI),h=e[4],u=e[5],d=t[0],p=t[1],f=e[6],g=e[7],m=Math.cos(c)*(d-f)/2+Math.sin(c)*(p-g)/2,v=-1*Math.sin(c)*(d-f)/2+Math.cos(c)*(p-g)/2,y=m*m/(n*n)+v*v/(o*o);y>1&&(n*=Math.sqrt(y),o*=Math.sqrt(y));var x=n*n*(v*v)+o*o*(m*m),b=x?Math.sqrt((n*n*(o*o)-x)/x):1;h===u&&(b*=-1),isNaN(b)&&(b=0);var w=o?b*n*v/o:0,C=n?b*-o*m/n:0,_=(d+f)/2+Math.cos(c)*w-Math.sin(c)*C,S=(p+g)/2+Math.sin(c)*w+Math.cos(c)*C,O=[(m-w)/n,(v-C)/o],M=[(-1*m-w)/n,(-1*v-C)/o],k=s([1,0],O),A=s(O,M);return a(O,M)<=-1&&(A=Math.PI),a(O,M)>=1&&(A=0),0===u&&A>0&&(A-=2*Math.PI),1===u&&A<0&&(A+=2*Math.PI),{cx:_,cy:S,rx:l(t,[f,g])?0:n,ry:l(t,[f,g])?0:o,startAngle:k,endAngle:k+A,xRotation:c,arcFlag:h,sweepFlag:u}}},function(t,e,n){"use strict";n.r(e);var i=n(231);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";n.r(e);var i=n(233);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(0),o=n(235),a=n(236),s=n(175),l=n(379);var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return i.__extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var o=this.getTitle(n),a={x:n[0].x,y:n[0].y};e.emit("tooltip:show",i.__assign({items:n,title:o},t));var s=this.getTooltipCfg(),l=s.follow,c=s.showMarkers,h=s.showCrosshairs,u=s.showContent,d=s.marker,p=this.items,f=this.title;if(r.isEqual(f,o)&&r.isEqual(p,n)?(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",i.__assign({items:n,title:o},t)),u&&(this.tooltip||this.renderTooltip(),this.tooltip.update(r.mix({},s,{items:n,title:o},l?t:{})),this.tooltip.show()),c&&this.renderTooltipMarkers(n,d)),this.items=n,this.title=o,h){var g=r.get(s,["crosshairs","follow"],!1);this.renderCrosshairs(g?t:a,s)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var t=this.tooltipMarkersGroup;t&&t.hide();var e=this.xCrosshair,n=this.yCrosshair;e&&e.hide(),n&&n.hide();var i=this.tooltip;i&&i.hide(),this.view.emit("tooltip:hide",{}),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,n=this.yCrosshair,i=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),n&&n.clear(),i&&i.clear()},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this.tooltip,n=this.tooltipMarkersGroup,i=this.xCrosshair,r=this.yCrosshair;t?(e&&e.show(),n&&n.show(),i&&i.show(),r&&r.show()):(e&&e.hide(),n&&n.hide(),i&&i.hide(),r&&r.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,i=e=r.flatten(e);n<i.length;n++)for(var o=0,a=i[n];o<a.length;o++){var s=a[o],l=s.mappingData,c=l.x,h=l.y;s.x=r.isArray(c)?c[c.length-1]:c,s.y=r.isArray(h)?h[h.length-1]:h}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var u=e[0],d=Math.abs(t.y-u[0].y),p=0,f=e;p<f.length;p++){var g=f[p],m=Math.abs(t.y-g[0].y);m<=d&&(u=g,d=m)}e=[u]}return function(t){for(var e=[],n=function(n){var i=t[n];r.find(e,(function(t){return t.color===i.color&&t.name===i.name&&t.value===i.value&&t.title===i.title}))||e.push(i)},i=0;i<t.length;i++)n(i);return e}(r.flatten(e))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),i=r.get(n,["components","tooltip"],{}),o=r.isUndefined(r.get(e,"enterable"))?i.enterable:r.get(e,"enterable");return r.deepMix({},i,e,{capture:!(!o&&!this.isLocked)})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),r=new o.HtmlTooltip(i.__assign(i.__assign({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));r.init(),this.tooltip=r},e.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),r=0,o=t;r<o.length;r++){var a=o[r],s=a.x,l=a.y,c=i.__assign(i.__assign({fill:a.color,symbol:"circle",shadowColor:a.color},e),{x:s,y:l});n.addShape("marker",{attrs:c})}},e.prototype.renderCrosshairs=function(t,e){var n=r.get(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(a.isPointInCoordinate(n,t)){var i,l;if(n.isRect)n.isTransposed?(i={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}):(i={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y});else{var c=a.getAngleByPoint(n,t),h=n.getCenter(),u=n.getRadius();l=s.polarToCartesian(h.x,h.y,u,c),i=h}var d=r.deepMix({start:i,end:l,container:this.getTooltipCrosshairsGroup()},r.get(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete d.type;var p=this.xCrosshair;p?p.update(d):(p=new o.Crosshair.Line(d)).init(),p.render(),p.show(),this.xCrosshair=p}},e.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(a.isPointInCoordinate(n,t)){var i,s;if(n.isRect){var l=void 0,c=void 0;n.isTransposed?(l={x:t.x,y:n.end.y},c={x:t.x,y:n.start.y}):(l={x:n.start.x,y:t.y},c={x:n.end.x,y:t.y}),i={start:l,end:c},s="Line"}else i={center:n.getCenter(),radius:a.getDistanceToCenter(n,t),startAngle:n.startAngle,endAngle:n.endAngle},s="Circle";delete(i=r.deepMix({container:this.getTooltipCrosshairsGroup()},i,r.get(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var h=this.yCrosshair;h?n.isRect&&"circle"===h.get("type")||!n.isRect&&"line"===h.get("type")?(h=new o.Crosshair[s](i)).init():h.update(i):(h=new o.Crosshair[s](i)).init(),h.render(),h.show(),this.yCrosshair=h}},e.prototype.getCrosshairsText=function(t,e,n){var i=r.get(n,["crosshairs","text"]),o=r.get(n,["crosshairs","follow"]),a=this.items;if(i){var s=this.getViewWithGeometry(this.view),l=a[0],c=s.getXScale(),h=s.getYScales()[0],u=void 0,d=void 0;if(o){var p=this.view.getCoordinate().invert(e);u=c.invert(p.x),d=h.invert(p.y)}else u=l.data[c.field],d=l.data[h.field];var f="x"===t?u:d;return r.isFunction(i)?i=i(t,f,a,e):i.content=f,{text:i}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.getTooltipItemsByHitShape=function(t,e,n){var i=[],r=t.container.getShape(e.x,e.y);if(r&&r.get("visible")&&r.get("origin")){var o=r.get("origin").mappingData,a=l.getTooltipItems(o,t,n);a.length&&i.push(a)}return i},e.prototype.getTooltipItemsByFindData=function(t,e,n){var i=[],r=t.dataArray;t.sort(r);for(var o=0,a=r;o<a.length;o++){var s=a[o],c=l.findDataByPoint(e,s,t);if(c){var h=t.getElementId(c),u=t.elementsMap[h];if("heatmap"===t.type||u.visible){var d=l.getTooltipItems(c,t,n);d.length&&i.push(d)}}}return i},e.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=[],i=t.geometries,r=this.getTooltipCfg(),o=r.shared,a=r.title,s=0,l=i;s<l.length;s++){var c=l[s];if(c.visible&&!1!==c.tooltipOption){var h=c.type,u=void 0;(u=["point","edge","polygon"].includes(h)?this.getTooltipItemsByHitShape(c,e,a):["area","line","path","heatmap"].includes(h)||!1!==o?this.getTooltipItemsByFindData(c,e,a):this.getTooltipItemsByHitShape(c,e,a)).length&&n.push(u)}}for(var d=0,p=t.views;d<p.length;d++){var f=p[d];n=n.concat(this.findItemsFromView(f,e))}return n},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:r.find(t.views,(function(t){return e.getViewWithGeometry(t)}))},e}(n(225).Controller);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=e.HtmlTooltip=e.ContinuousLegend=e.CategoryLegend=e.CircleGrid=e.LineGrid=e.CircleAxis=e.LineAxis=e.Annotation=e.Crosshair=e.Component=e.GroupComponent=e.HtmlComponent=void 0;var i=n(16);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"AbstractGroup",{enumerable:!0,get:function(){return i.AbstractGroup}}),Object.defineProperty(e,"AbstractShape",{enumerable:!0,get:function(){return i.AbstractShape}});var r=n(98);Object.defineProperty(e,"registerAdjust",{enumerable:!0,get:function(){return r.registerAdjust}}),Object.defineProperty(e,"getAdjust",{enumerable:!0,get:function(){return r.getAdjust}}),Object.defineProperty(e,"Adjust",{enumerable:!0,get:function(){return r.Adjust}});var o=n(119);Object.defineProperty(e,"getAttribute",{enumerable:!0,get:function(){return o.getAttribute}}),Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.Attribute}});var a=n(116);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return a.Color}});var s=n(77);Object.defineProperty(e,"getCoordinate",{enumerable:!0,get:function(){return s.getCoordinate}}),Object.defineProperty(e,"registerCoordinate",{enumerable:!0,get:function(){return s.registerCoordinate}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return s.Coordinate}});var l=n(23);Object.defineProperty(e,"getScale",{enumerable:!0,get:function(){return l.getScale}}),Object.defineProperty(e,"registerScale",{enumerable:!0,get:function(){return l.registerScale}}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return l.Scale}});var c=n(17);Object.defineProperty(e,"Annotation",{enumerable:!0,get:function(){return c.Annotation}}),Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return c.Component}}),Object.defineProperty(e,"Crosshair",{enumerable:!0,get:function(){return c.Crosshair}}),Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return c.GroupComponent}}),Object.defineProperty(e,"HtmlComponent",{enumerable:!0,get:function(){return c.HtmlComponent}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return c.Slider}});var h=c.Axis.Line,u=c.Axis.Circle;e.LineAxis=h,e.CircleAxis=u;var d=c.Grid.Line,p=c.Grid.Circle;e.LineGrid=d,e.CircleGrid=p;var f=c.Legend.Category,g=c.Legend.Continuous;e.CategoryLegend=f,e.ContinuousLegend=g;var m=c.Tooltip.Html;e.HtmlTooltip=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoordinateClipCfg=e.getAngleByPoint=e.isPointInCoordinate=e.getDistanceToCenter=e.isFullCircle=e.getXDimensionLength=void 0;var i=n(175),r=n(378);e.getXDimensionLength=function(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},e.isFullCircle=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1},e.getDistanceToCenter=function(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))},e.isPointInCoordinate=function(t,e){var n=!1;if(t)if("theta"===t.type){var i=t.start,o=t.end;n=r.isBetween(e.x,i.x,o.x)&&r.isBetween(e.y,i.y,o.y)}else{var a=t.invert(e);n=r.isBetween(a.x,0,1)&&r.isBetween(a.y,0,1)}return n},e.getAngleByPoint=function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},e.getCoordinateClipCfg=function(t,e){void 0===e&&(e=0);var n,r=t.start,o=t.end,a=t.getWidth(),s=t.getHeight();if(t.isPolar){var l=t.startAngle,c=t.endAngle,h=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:i.getSectorPath(h.x,h.y,u+e,l,l)},endState:function(t){var n=(c-l)*t+l;return{path:i.getSectorPath(h.x,h.y,u+e,l,n)}},attrs:{path:i.getSectorPath(h.x,h.y,u+e,l,c)}}}return n=t.isTransposed?{height:s+2*e}:{width:a+2*e},{type:"rect",startState:{x:r.x-e,y:o.y-e,width:t.isTransposed?a+2*e:0,height:t.isTransposed?0:s+2*e},endState:n,attrs:{x:r.x-e,y:o.y-e,width:a+2*e,height:s+2*e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(0),o=n(381),a=i.__importDefault(n(384)),s=i.__importDefault(n(386));function l(t,e){var n=t.split(":"),i=n[0],r=e.getAction(i)||o.createAction(i,e);if(!r)throw new Error("There is no action named "+i);return{action:r,methodName:n[1]}}function c(t){var e=t.action,n=t.methodName;if(!e[n])throw new Error("Action("+e.name+") doesn't have a method called "+n);e[n]()}var h="start",u="showEnable",d="end",p="rollback",f="processing",g=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return i.__extends(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;r.each(this.steps,(function(e,n){r.each(e,(function(e){var i=t.getActionCallback(n,e);i&&t.bindEvent(e.trigger,i)}))}))},e.prototype.clearEvents=function(){var t=this;r.each(this.steps,(function(e,n){r.each(e,(function(e){var i=t.getActionCallback(n,e);i&&t.offEvent(e.trigger,i)}))}))},e.prototype.initContext=function(){var t=this.view,e=new a.default(t);this.context=e;var n=this.steps;r.each(n,(function(t){r.each(t,(function(t){if(r.isFunction(t.action))t.actionObject={action:o.createCallbackAction(t.action,e),methodName:"execute"};else if(r.isString(t.action))t.actionObject=l(t.action,e);else if(r.isArray(t.action)){var n=t.action;t.actionObject=[],r.each(n,(function(n){t.actionObject.push(l(n,e))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===u)return!0;if(t===f)return e===h;if(t===h)return e!==f;if(t===d)return e===f||e===h;if(t===p){if(n[d])return e===d;if(e===h)return!0}return!1},e.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==u&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,i=this.context,o=this.callbackCaches,a=e.actionObject;if(e.action&&a){var s=this.getKey(t,e);if(!o[s]){var l=function(o){i.event=o,n.isAllowExcute(t,e)?(r.isArray(a)?r.each(a,(function(t){i.event=o,c(t)})):(i.event=o,c(a)),n.afterExecute(t,e),e.callback&&(i.event=o,e.callback(i))):i.event=null};e.debounce?o[s]=r.debounce(l,e.debounce.wait,e.debounce.immediate):e.throttle?o[s]=r.throttle(l,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[s]=l}return o[s]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(s.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(0),o=n(55),a=i.__importDefault(n(388)),s=n(175),l=n(218),c=function(t){function e(e){var n=t.call(this,e)||this;n.states=[];var i=e.shapeFactory,r=e.container,o=e.offscreenGroup,a=e.visible,s=void 0===a||a;return n.shapeFactory=i,n.container=r,n.offscreenGroup=o,n.visible=s,n}return i.__extends(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this.shapeFactory,n=this.shape;if(n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var i=this.getOffscreenGroup(),r=e.drawShape(this.shapeType,t,i);r.cfg.data=this.data,r.cfg.origin=t,this.syncShapeStyle(n,r,"",this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this.shapeFactory,n=this.shape;if(n){var r=this.getAnimateCfg("leave");r?o.doAnimate(n,r,{coordinate:e.coordinate,toAttrs:i.__assign({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,i=this,r=i.states,o=i.shapeFactory,a=i.model,s=i.shape,c=i.shapeType,h=r.indexOf(t);if(e){if(h>-1)return;r.push(t),"active"!==t&&"selected"!==t||s.toFront()}else{if(-1===h)return;r.splice(h,1),"active"!==t&&"selected"!==t||s.toBack()}var u=o.drawShape(c,a,this.getOffscreenGroup());r.length?r.forEach((function(t){n.syncShapeStyle(s,u,t,null)})):this.syncShapeStyle(s,u,"reset",null),u.remove(!0);var d={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",d),l.propagationDelegate(this.shape,"statechange",d)},e.prototype.clearStates=function(){var t=this,e=this.states;r.each(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach((function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)})),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this.shapeType,e=this.geometry,n=this.shapeFactory,i=e.stateOption,o=n.defaultShapeType,a=n.theme[t]||n.theme[o];this.statesStyle=r.deepMix({},a,i)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),i=r.get(n,[t,"style"],{}),o=i[e]||i;return r.isFunction(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},e.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var n=this.shapeFactory,a=this.container,s=this.shapeType;if(this.shape=n.drawShape(s,t,a),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?r.isString(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=e?"enter":"appear",h=this.getAnimateCfg(c);h&&o.doAnimate(this.shape,h,{coordinate:n.coordinate,toAttrs:i.__assign({},this.shape.attr())})}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;(t.cfg.origin=e,t.cfg.element=this,t.isGroup())&&t.get("children").forEach((function(t){n.setShapeInfo(t,e)}))},e.prototype.syncShapeStyle=function(t,e,n,i,a){if(void 0===n&&(n=""),void 0===a&&(a=0),t.isGroup())for(var l=t.get("children"),c=e.get("children"),h=0;h<l.length;h++)this.syncShapeStyle(l[h],c[h],n,i,a+h);else{if(n&&"reset"!==n){var u=t.get("name");r.isArray(u)&&(u=u[1]);var d=this.getStateStyle(n,u||a);e.attr(d)}var p=s.getReplaceAttrs(t,e);this.animate?i?o.doAnimate(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p):t.attr(p)}},e.prototype.getShapeType=function(t){var e=r.get(t,"shape");return r.isArray(e)?e[0]:e},e}(a.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(78),o=n(7),a=n(0),s=n(389),l=n(240),c=n(46),h=n(178),u=n(392);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.__assign(i.__assign({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+c.CONTAINER_CLASS+'"><div class="'+c.TITLE_CLASS+'"></div><ul class="'+c.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+c.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+c.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+c.NAME_CLASS+'">{name}</span>:\n          <span class="'+c.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+c.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+c.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:c.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:h.default})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),o.modifyCSS(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),o.modifyCSS(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");n&&o.modifyCSS(n,{display:e}),i&&o.modifyCSS(i,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){var n,i,r;this.get("customContent")?this.renderCustomContent():(n=e,i=["title","showTitle"],r=!1,a.each(i,(function(t){if(a.hasKey(n,t))return r=!0,!1})),r&&this.resetTitle(),a.hasKey(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),i=this.get("offset"),r=this.getOffset(),a=r.offsetX,s=r.offsetY,c=this.get("position"),h=this.get("region"),d=this.getContainer(),p=this.getBBox(),f=p.width,g=p.height;h&&(t=l.regionToBBox(h));var m=u.getAlignPoint(e,n,i,f,g,c,t);o.modifyCSS(d,{left:l.toPx(m.x+a),top:l.toPx(m.y+s)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=a.isElement(n)?n:o.createDom(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(c.TITLE_CLASS)[0],n=t.getElementsByClassName(c.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=l.regionToBBox(t),i=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),r&&(r.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),i&&(i.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),i=this.get(t);"x"===t?o.modifyCSS(n,{left:l.toPx(i),top:l.toPx(e.y),height:l.toPx(e.height)}):o.modifyCSS(n,{top:l.toPx(i),left:l.toPx(e.x),width:l.toPx(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),r=c[i],a=this.get(e),s=this.get("parent");return a||(a=o.createDom(this.get(n)),this.applyStyle(r,a),s.appendChild(a),this.set(e,a)),a},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&(a.each(t,(function(t){var s=r.default.toCSSGradient(t.color),l=i.__assign(i.__assign({},t),{color:s}),c=a.substitute(e,l),h=o.createDom(c);n.appendChild(h)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&l.clearDom(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(s.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTextPoint=e.toPx=e.updateClip=e.getBBoxWithClip=e.mergeBBox=e.intersectBBox=e.near=e.wait=e.distance=e.getCirclePoint=e.getValueByPercent=e.createBBox=e.pointsToBBox=e.regionToBBox=e.hasClass=e.clearDom=e.formatPadding=void 0;var i=n(0);function r(t,e,n,i){return{x:t,y:e,width:n,height:i,minX:t,minY:e,maxX:t+n,maxY:e+i}}function o(t,e,n){return(1-n)*t+e*n}function a(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function s(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY);return r(n,i,Math.min(t.maxX,e.maxX)-n,Math.min(t.maxY,e.maxY)-i)}e.formatPadding=function(t){var e=0,n=0,r=0,o=0;return i.isNumber(t)?e=n=r=o=t:i.isArray(t)&&(e=t[0],r=i.isNil(t[1])?t[0]:t[1],o=i.isNil(t[2])?t[0]:t[2],n=i.isNil(t[3])?r:t[3]),[e,r,o,n]},e.clearDom=function(t){for(var e=t.childNodes,n=e.length-1;n>=0;n--)t.removeChild(e[n])},e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.regionToBBox=function(t){var e=t.start,n=t.end,i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}},e.pointsToBBox=function(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}},e.createBBox=r,e.getValueByPercent=o,e.getCirclePoint=function(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}},e.distance=a,e.wait=function(t){return new Promise((function(e){setTimeout(e,t)}))},e.near=function(t,e){return[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<Math.pow(Number.EPSILON,.5)},e.intersectBBox=s,e.mergeBBox=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY);return r(n,i,Math.max(t.maxX,e.maxX)-n,Math.max(t.maxY,e.maxY)-i)},e.getBBoxWithClip=function t(e){var n,o=e.getClip(),a=o&&o.getBBox();if(e.isGroup()){var l=1/0,c=-1/0,h=1/0,u=-1/0,d=e.getChildren();d.length>0?i.each(d,(function(e){if(e.get("visible")){if(e.isGroup()&&0===e.get("children").length)return!0;var n=t(e),i=e.applyToMatrix([n.minX,n.minY,1]),r=e.applyToMatrix([n.minX,n.maxY,1]),o=e.applyToMatrix([n.maxX,n.minY,1]),a=e.applyToMatrix([n.maxX,n.maxY,1]),s=Math.min(i[0],r[0],o[0],a[0]),d=Math.max(i[0],r[0],o[0],a[0]),p=Math.min(i[1],r[1],o[1],a[1]),f=Math.max(i[1],r[1],o[1],a[1]);s<l&&(l=s),d>c&&(c=d),p<h&&(h=p),f>u&&(u=f)}})):(l=0,c=0,h=0,u=0),n=r(l,h,c-l,u-h)}else n=e.getBBox();return a?s(n,a):n},e.updateClip=function(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var i={type:n.get("type"),attrs:n.attr()};t.setClip(i)}else t.setClip(null)}},e.toPx=function(t){return t+"px"},e.getTextPoint=function(t,e,n,i){var r=i/a(t,e),s=0;return"start"===n?s=0-r:"end"===n&&(s=1+r),{x:o(t.x,e.x,s),y:o(t.y,e.y,s)}}},function(t,e){var n=2311;t.exports=function(){return n++}},function(t,e,n){var i=n(25),r=n(396).buildTransformer,o=[];function a(t,e,n,o,a){if(e.getBoundingClientRect&&i.domSupported&&!s(e)){var l=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),c=function(t,e,n){for(var i=n?"invTrans":"trans",o=e[i],a=e.srcCoords,s=!0,l=[],c=[],h=0;h<4;h++){var u=t[h].getBoundingClientRect(),d=2*h,p=u.left,f=u.top;l.push(p,f),s=s&&a&&p===a[d]&&f===a[d+1],c.push(t[h].offsetLeft,t[h].offsetTop)}return s&&o?o:(e.srcCoords=l,e[i]=n?r(c,l):r(l,c))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,c=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,l),l,a);if(c)return c(t,n,o),!0}return!1}function s(t){return"CANVAS"===t.nodeName.toUpperCase()}e.transformLocalCoord=function(t,e,n,i,r){return a(o,e,i,r,!0)&&a(t,n,o[0],o[1])},e.transformCoordWithViewport=a,e.isCanvasEl=s},function(t,e,n){var i=n(241),r=n(68),o=n(122),a=n(399),s=n(3),l=function(t){o.call(this,t),r.call(this,t),a.call(this,t),this.id=t.id||i()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,a),s.mixin(l,o),s.mixin(l,r);var c=l;t.exports=c},function(t,e,n){var i=n(400),r=n(50),o=n(3).isArrayLike,a=Array.prototype.slice;function s(t,e){return t[e]}function l(t,e,n){t[e]=n}function c(t,e,n){return(e-t)*n+t}function h(t,e,n){return n>.5?e:t}function u(t,e,n,i,r){var o=t.length;if(1===r)for(var a=0;a<o;a++)i[a]=c(t[a],e[a],n);else{var s=o&&t[0].length;for(a=0;a<o;a++)for(var l=0;l<s;l++)i[a][l]=c(t[a][l],e[a][l],n)}}function d(t,e,n){var i=t.length,r=e.length;if(i!==r)if(i>r)t.length=r;else for(var o=i;o<r;o++)t.push(1===n?e[o]:a.call(e[o]));var s=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;l<s;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function p(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(var r=0;r<i;r++)if(t[r]!==e[r])return!1}else{var o=t[0].length;for(r=0;r<i;r++)for(var a=0;a<o;a++)if(t[r][a]!==e[r][a])return!1}return!0}function f(t,e,n,i,r,o,a,s,l){var c=t.length;if(1===l)for(var h=0;h<c;h++)s[h]=g(t[h],e[h],n[h],i[h],r,o,a);else{var u=t[0].length;for(h=0;h<c;h++)for(var d=0;d<u;d++)s[h][d]=g(t[h][d],e[h][d],n[h][d],i[h][d],r,o,a)}}function g(t,e,n,i,r,o,a){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*r+e}function m(t){if(o(t)){var e=t.length;if(o(t[0])){for(var n=[],i=0;i<e;i++)n.push(a.call(t[i]));return n}return a.call(t)}return t}function v(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function y(t,e,n,a,s,l){var m=t._getter,y=t._setter,x="spline"===e,b=a.length;if(b){var w,C=a[0].value,_=o(C),S=!1,O=!1,M=_?function(t){var e=t[t.length-1].value;return o(e&&e[0])?2:1}(a):0;a.sort((function(t,e){return t.time-e.time})),w=a[b-1].time;for(var k=[],A=[],T=a[0].value,D=!0,P=0;P<b;P++){k.push(a[P].time/w);var I=a[P].value;if(_&&p(I,T,M)||!_&&I===T||(D=!1),T=I,"string"==typeof I){var E=r.parse(I);E?(I=E,S=!0):O=!0}A.push(I)}if(l||!D){var j=A[b-1];for(P=0;P<b-1;P++)_?d(A[P],j,M):!isNaN(A[P])||isNaN(j)||O||S||(A[P]=j);_&&d(m(t._target,s),j,M);var L,B,N,R,F,z=0,V=0;if(S)var G=[0,0,0,0];var H=new i({target:t._target,life:w,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<V){for(n=Math.min(z+1,b-1);n>=0&&!(k[n]<=e);n--);n=Math.min(n,b-2)}else{for(n=z;n<b&&!(k[n]>e);n++);n=Math.min(n-1,b-2)}z=n,V=e;var i=k[n+1]-k[n];if(0!==i)if(L=(e-k[n])/i,x)if(N=A[n],B=A[0===n?n:n-1],R=A[n>b-2?b-1:n+1],F=A[n>b-3?b-1:n+2],_)f(B,N,R,F,L,L*L,L*L*L,m(t,s),M);else{if(S)r=f(B,N,R,F,L,L*L,L*L*L,G,1),r=v(G);else{if(O)return h(N,R,L);r=g(B,N,R,F,L,L*L,L*L*L)}y(t,s,r)}else if(_)u(A[n],A[n+1],L,m(t,s),M);else{var r;if(S)u(A[n],A[n+1],L,G,1),r=v(G);else{if(O)return h(A[n],A[n+1],L);r=c(A[n],A[n+1],L)}y(t,s,r)}},ondestroy:n});return e&&"spline"!==e&&(H.easing=e),H}}}var x=function(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||s,this._setter=i||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};x.prototype={when:function(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:m(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,i=this,r=0,o=function(){--r||i._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=y(this,t,o,this._tracks[a],a,e);s&&(this._clipList.push(s),r++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return r||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var b=x;t.exports=b},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},i=n.prototype;i.insert=function(t){var e=new r(t);return this.insertEntry(e),e},i.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};var r=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},a=o.prototype;a.put=function(t,e){var n=this._list,i=this._map,o=null;if(null==i[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new r(e),s.key=t,n.insertEntry(s),i[t]=s}return o},a.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},a.clear=function(){this._list.clear(),this._map={}};var s=o;t.exports=s},function(t,e){var n={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,i){return n.hasOwnProperty(e)?i*t.dpr:i}},function(t,e){var n=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var i=n;t.exports=i},function(t,e){var n="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){var i=n(125),r=n(20),o=n(124).WILL_BE_RESTORED,a=new r,s=function(){};s.prototype={constructor:s,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&i.normalizeTextStyle(n,!0);var r=n.text;if(null!=r&&(r+=""),i.needDrawText(r,n)){t.save();var s=this.transform;n.transformText?this.setTransform(t):s&&(a.copy(e),a.applyTransform(s),e=a),i.renderText(this,t,r,n,e,o),t.restore()}}};var l=s;t.exports=l},function(t,e){e.buildPath=function(t,e){var n,i,r,o,a,s=e.x,l=e.y,c=e.width,h=e.height,u=e.r;c<0&&(s+=c,c=-c),h<0&&(l+=h,h=-h),"number"==typeof u?n=i=r=o=u:u instanceof Array?1===u.length?n=i=r=o=u[0]:2===u.length?(n=r=u[0],i=o=u[1]):3===u.length?(n=u[0],i=o=u[1],r=u[2]):(n=u[0],i=u[1],r=u[2],o=u[3]):n=i=r=o=0,n+i>c&&(n*=c/(a=n+i),i*=c/a),r+o>c&&(r*=c/(a=r+o),o*=c/a),i+r>h&&(i*=h/(a=i+r),r*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+c-i,l),0!==i&&t.arc(s+c-i,l+i,i,-Math.PI/2,0),t.lineTo(s+c,l+h-r),0!==r&&t.arc(s+c-r,l+h-r,r,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}},function(t,e,n){n(12).__DEV__;var i=n(3),r=i.each,o=i.filter,a=i.map,s=i.isArray,l=i.indexOf,c=i.isObject,h=i.isString,u=i.createHashMap,d=i.assert,p=i.clone,f=i.merge,g=i.extend,m=i.mixin,v=n(11),y=n(26),x=n(30),b=n(423),w=n(263),C=n(57).resetSourceDefaulter,_=y.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new y(n),this._optionManager=i},setOption:function(t,e){d(!("\0_ec_inner"in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):S.call(this,i),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this,this._api);a.length&&r(a,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){var e=this.option,n=this._componentsMap,i=[];C(this),r(t,(function(t,n){null!=t&&(x.hasClass(n)?n&&i.push(n):e[n]=null==e[n]?p(t):f(e[n],t,!0))})),x.topologicalTravel(i,x.getAllClassMainTypes(),(function(i,o){var a=v.normalizeToArray(t[i]),l=v.mappingToExists(n.get(i),a);v.makeIdAndName(l),r(l,(function(t,e){var n=t.option;c(n)&&(t.keyInfo.mainType=i,t.keyInfo.subType=function(t,e,n){return e.type?e.type:n?n.subType:x.determineSubType(t,e)}(i,n,t.exist))}));var h=function(t,e){s(e)||(e=e?[e]:[]);var n={};return r(e,(function(e){n[e]=(t.get(e)||[]).slice()})),n}(n,o);e[i]=[],n.set(i,[]),r(l,(function(t,r){var o=t.exist,a=t.option;if(d(c(a)||o,"Empty component definition"),a){var s=x.getClass(i,t.keyInfo.subType,!0);if(o&&o.constructor===s)o.name=t.keyInfo.name,o.mergeOption(a,this),o.optionUpdated(a,!1);else{var l=g({dependentModels:h,componentIndex:r},t.keyInfo);o=new s(a,this,this,l),g(o,l),o.init(a,this,this,l),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);n.get(i)[r]=o,e[i][r]=o.option}),this),"series"===i&&O(this,n.get("series"))}),this),this._seriesIndicesMap=u(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=p(this.option);return r(t,(function(e,n){if(x.hasClass(n)){for(var i=(e=v.normalizeToArray(e)).length-1;i>=0;i--)v.isIdInner(e[i])&&e.splice(i,1);t[n]=e}})),delete t["\0_ec_inner"],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,c=t.name,h=this._componentsMap.get(e);if(!h||!h.length)return[];if(null!=i)s(i)||(i=[i]),n=o(a(i,(function(t){return h[t]})),(function(t){return!!t}));else if(null!=r){var u=s(r);n=o(h,(function(t){return u&&l(r,t.id)>=0||!u&&t.id===r}))}else if(null!=c){var d=s(c);n=o(h,(function(t){return d&&l(c,t.name)>=0||!d&&t.name===c}))}else n=h.slice();return M(n,t)},findComponents:function(t){var e,n,i,r,a,s=t.query,l=t.mainType,c=(n=l+"Index",i=l+"Id",r=l+"Name",!(e=s)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:l,index:e[n],id:e[i],name:e[r]}),h=c?this.queryComponents(c):this._componentsMap.get(l);return a=M(h,t),t.filter?o(a,t.filter):a},eachComponent:function(t,e,n){var i=this._componentsMap;if("function"==typeof t)n=e,e=t,i.each((function(t,i){r(t,(function(t,r){e.call(n,i,t,r)}))}));else if(h(t))r(i.get(t),e,n);else if(c(t)){var o=this.findComponents(t);r(o,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return o(e,(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return o(e,(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){r(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},eachRawSeries:function(t,e){r(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){r(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)}),this)},eachRawSeriesByType:function(t,e,n){return r(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){O(this,o(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;O(this,e.get("series"));var n=[];e.each((function(t,e){n.push(e)})),x.topologicalTravel(n,x.getAllClassMainTypes(),(function(n,i){r(e.get(n),(function(e){("series"!==n||!function(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(e,t))&&e.restoreData()}))}))}});function S(t){var e,n,i;t=t,this.option={},this.option["\0_ec_inner"]=1,this._componentsMap=u({series:[]}),this._seriesIndices,this._seriesIndicesMap,e=t,n=this._theme.option,i=e.color&&!e.colorLayer,r(n,(function(t,n){"colorLayer"===n&&i||x.hasClass(n)||("object"==typeof t?e[n]=e[n]?f(e[n],t,!1):p(t):null==e[n]&&(e[n]=t))})),f(t,b,!1),this.mergeOption(t)}function O(t,e){t._seriesIndicesMap=u(t._seriesIndices=a(e,(function(t){return t.componentIndex}))||[])}function M(t,e){return e.hasOwnProperty("subType")?o(t,(function(t){return t.subType===e.subType})):t}m(_,w);var k=_;t.exports=k},function(t,e,n){var i=n(24),r=n(83),o=n(412),a=Math.sqrt,s=Math.sin,l=Math.cos,c=Math.PI,h=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},u=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(h(t)*h(e))},d=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(u(t,e))};function p(t,e,n,i,r,o,h,p,f,g,m){var v=f*(c/180),y=l(v)*(t-n)/2+s(v)*(e-i)/2,x=-1*s(v)*(t-n)/2+l(v)*(e-i)/2,b=y*y/(h*h)+x*x/(p*p);b>1&&(h*=a(b),p*=a(b));var w=(r===o?-1:1)*a((h*h*(p*p)-h*h*(x*x)-p*p*(y*y))/(h*h*(x*x)+p*p*(y*y)))||0,C=w*h*x/p,_=w*-p*y/h,S=(t+n)/2+l(v)*C-s(v)*_,O=(e+i)/2+s(v)*C+l(v)*_,M=d([1,0],[(y-C)/h,(x-_)/p]),k=[(y-C)/h,(x-_)/p],A=[(-1*y-C)/h,(-1*x-_)/p],T=d(k,A);u(k,A)<=-1&&(T=c),u(k,A)>=1&&(T=0),0===o&&T>0&&(T-=2*c),1===o&&T<0&&(T+=2*c),m.addData(g,S,O,h,p,M,T,v,o)}var f=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,g=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function m(t,e){var n=function(t){if(!t)return new r;for(var e,n=0,i=0,o=n,a=i,s=new r,l=r.CMD,c=t.match(f),h=0;h<c.length;h++){for(var u,d=c[h],m=d.charAt(0),v=d.match(g)||[],y=v.length,x=0;x<y;x++)v[x]=parseFloat(v[x]);for(var b=0;b<y;){var w,C,_,S,O,M,k,A=n,T=i;switch(m){case"l":n+=v[b++],i+=v[b++],u=l.L,s.addData(u,n,i);break;case"L":n=v[b++],i=v[b++],u=l.L,s.addData(u,n,i);break;case"m":n+=v[b++],i+=v[b++],u=l.M,s.addData(u,n,i),o=n,a=i,m="l";break;case"M":n=v[b++],i=v[b++],u=l.M,s.addData(u,n,i),o=n,a=i,m="L";break;case"h":n+=v[b++],u=l.L,s.addData(u,n,i);break;case"H":n=v[b++],u=l.L,s.addData(u,n,i);break;case"v":i+=v[b++],u=l.L,s.addData(u,n,i);break;case"V":i=v[b++],u=l.L,s.addData(u,n,i);break;case"C":u=l.C,s.addData(u,v[b++],v[b++],v[b++],v[b++],v[b++],v[b++]),n=v[b-2],i=v[b-1];break;case"c":u=l.C,s.addData(u,v[b++]+n,v[b++]+i,v[b++]+n,v[b++]+i,v[b++]+n,v[b++]+i),n+=v[b-2],i+=v[b-1];break;case"S":w=n,C=i;var D=s.len(),P=s.data;e===l.C&&(w+=n-P[D-4],C+=i-P[D-3]),u=l.C,A=v[b++],T=v[b++],n=v[b++],i=v[b++],s.addData(u,w,C,A,T,n,i);break;case"s":w=n,C=i;D=s.len(),P=s.data;e===l.C&&(w+=n-P[D-4],C+=i-P[D-3]),u=l.C,A=n+v[b++],T=i+v[b++],n+=v[b++],i+=v[b++],s.addData(u,w,C,A,T,n,i);break;case"Q":A=v[b++],T=v[b++],n=v[b++],i=v[b++],u=l.Q,s.addData(u,A,T,n,i);break;case"q":A=v[b++]+n,T=v[b++]+i,n+=v[b++],i+=v[b++],u=l.Q,s.addData(u,A,T,n,i);break;case"T":w=n,C=i;D=s.len(),P=s.data;e===l.Q&&(w+=n-P[D-4],C+=i-P[D-3]),n=v[b++],i=v[b++],u=l.Q,s.addData(u,w,C,n,i);break;case"t":w=n,C=i;D=s.len(),P=s.data;e===l.Q&&(w+=n-P[D-4],C+=i-P[D-3]),n+=v[b++],i+=v[b++],u=l.Q,s.addData(u,w,C,n,i);break;case"A":_=v[b++],S=v[b++],O=v[b++],M=v[b++],k=v[b++],p(A=n,T=i,n=v[b++],i=v[b++],M,k,_,S,O,u=l.A,s);break;case"a":_=v[b++],S=v[b++],O=v[b++],M=v[b++],k=v[b++],p(A=n,T=i,n+=v[b++],i+=v[b++],M,k,_,S,O,u=l.A,s)}}"z"!==m&&"Z"!==m||(u=l.Z,s.addData(u),n=o,i=a),e=u}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){o(n,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new i(m(t,e))},e.extendFromString=function(t,e){return i.extend(m(t,e))},e.mergePath=function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var s=new i(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},s}},function(t,e){e.containStroke=function(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,l=0;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var c=(l=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return c*c/(l*l+1)<=s/2*s/2}},function(t,e,n){var i=n(60).quadraticProjectPoint;e.containStroke=function(t,e,n,r,o,a,s,l,c){if(0===s)return!1;var h=s;return!(c>e+h&&c>r+h&&c>a+h||c<e-h&&c<r-h&&c<a-h||l>t+h&&l>n+h&&l>o+h||l<t-h&&l<n-h&&l<o-h)&&i(t,e,n,r,o,a,l,c,null)<=h/2}},function(t,e){var n=2*Math.PI;e.normalizeRadian=function(t){return(t%=n)<0&&(t+=n),t}},function(t,e){t.exports=function(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var a=i<e?1:-1,s=(o-e)/(i-e);1!==s&&0!==s||(a=i<e?.5:-.5);var l=s*(n-t)+t;return l===r?1/0:l>r?a:0}},function(t,e,n){var i=n(24).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=i},function(t,e,n){var i=n(25),r=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return i.browser.ie&&i.browser.version>=11?function(){var e,n=this.__clipPaths,i=this.style;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var c=0;c<r.length;c++)r[c][2]=i[r[c][0]],i[r[c][0]]=r[c][1];e=!0;break}}if(t.apply(this,arguments),e)for(c=0;c<r.length;c++)i[r[c][0]]=r[c][2]}:t}},function(t,e,n){var i=n(24),r=n(260),o=i.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){r.buildPath(t,e,!0)}});t.exports=o},function(t,e,n){var i=n(415),r=n(416);e.buildPath=function(t,e,n){var o=e.points,a=e.smooth;if(o&&o.length>=2){if(a&&"spline"!==a){var s=r(o,a,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var l=o.length,c=0;c<(n?l:l-1);c++){var h=s[2*c],u=s[2*c+1],d=o[(c+1)%l];t.bezierCurveTo(h[0],h[1],u[0],u[1],d[0],d[1])}}else{"spline"===a&&(o=i(o,n)),t.moveTo(o[0][0],o[0][1]);c=1;for(var p=o.length;c<p;c++)t.lineTo(o[c][0],o[c][1])}n&&t.closePath()}}},function(t,e,n){var i=n(24),r=n(260),o=i.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){r.buildPath(t,e,!1)}});t.exports=o},function(t,e,n){var i=n(24),r=n(184).subPixelOptimizeLine,o={},a=i.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,i,a,s;this.subPixelOptimize?(r(o,e,this.style),n=o.x1,i=o.y1,a=o.x2,s=o.y2):(n=e.x1,i=e.y1,a=e.x2,s=e.y2);var l=e.percent;0!==l&&(t.moveTo(n,i),l<1&&(a=n*(1-l)+a*l,s=i*(1-l)+s*l),t.lineTo(a,s))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=a},function(t,e,n){var i=n(11),r=i.makeInner,o=i.normalizeToArray,a=r();var s={clearColorPalette:function(){a(this).colorIdx=0,a(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var i=a(e=e||this),r=i.colorIdx||0,s=i.colorNameMap=i.colorNameMap||{};if(s.hasOwnProperty(t))return s[t];var l=o(this.get("color",!0)),c=this.get("colorLayer",!0),h=null!=n&&c?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(c,n):l;if((h=h||l)&&h.length){var u=h[r];return t&&(s[t]=u),i.colorIdx=(r+1)%h.length,u}}};t.exports=s},function(t,e,n){var i=n(3),r=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];var o=function(t){i.each(r,(function(e){this[e]=i.bind(t[e],t)}),this)};t.exports=o},function(t,e,n){var i=n(30),r=n(127),o=n(57).detectSourceFormat,a=n(105).SERIES_LAYOUT_BY_COLUMN;i.extend({type:"dataset",defaultOption:{seriesLayoutBy:a,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}}),r.extend({type:"dataset"})},function(t,e,n){var i=n(69),r=n(81),o=n(70),a=n(257),s=n(183),l=n(434),c=n(262),h=n(24),u=n(259),d=n(261),p=n(185),f=n(181),g=n(37),m=n(252).createFromString,v=n(3),y=v.isString,x=v.extend,b=v.defaults,w=v.trim,C=v.each,_=/[\s,]+/;function S(t){y(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function O(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}O.prototype.parse=function(t,e){e=e||{};var n=S(t);if(!n)throw new Error("Illegal svg");var r=new i;this._root=r;var o=n.getAttribute("viewBox")||"",a=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(l)&&(l=null),P(n,r,null,!0);for(var c,h,u=n.firstChild;u;)this._parseNode(u,r),u=u.nextSibling;if(o){var d=w(o).split(_);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&null!=a&&null!=l&&(h=B(c,a,l),!e.ignoreViewBox)){var p=r;(r=new i).add(p),p.scale=h.scale.slice(),p.position=h.position.slice()}return e.ignoreRootClip||null==a||null==l||r.setClipPath(new s({shape:{x:0,y:0,width:a,height:l}})),{root:r,width:a,height:l,viewBoxRect:c,viewBoxTransform:h}},O.prototype._parseNode=function(t,e){var n,i,r=t.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){if(i=k[r]){var o=i.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=o)}}else(i=M[r])&&(n=i.call(this,t,e),e.add(n));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},O.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var r=new o({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});A(e,r),P(t,r,this._defs);var a=r.style.fontSize;a&&a<9&&(r.style.fontSize=9,r.scale=r.scale||[1,1],r.scale[0]*=a/9,r.scale[1]*=a/9);var s=r.getBoundingRect();return this._textX+=s.width,e.add(r),r};var M={g:function(t,e){var n=new i;return A(e,n),P(t,n,this._defs),n},rect:function(t,e){var n=new s;return A(e,n),P(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new a;return A(e,n),P(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new c;return A(e,n),P(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new l;return A(e,n),P(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=T(n));var i=new u({shape:{points:n||[]}});return A(e,i),P(t,i,this._defs),i},polyline:function(t,e){var n=new h;A(e,n),P(t,n,this._defs);var i=t.getAttribute("points");return i&&(i=T(i)),new d({shape:{points:i||[]}})},image:function(t,e){var n=new r;return A(e,n),P(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,r=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new i;return A(e,s),P(t,s,this._defs),s},tspan:function(t,e){var n=t.getAttribute("x"),r=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,s=new i;return A(e,s),P(t,s,this._defs),this._textX+=o,this._textY+=a,s},path:function(t,e){var n=t.getAttribute("d")||"",i=m(n);return A(e,i),P(t,i,this._defs),i}},k={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),r=parseInt(t.getAttribute("y2")||0,10),o=new p(e,n,i,r);return function(t,e){var n=t.firstChild;for(;n;){if(1===n.nodeType){var i=n.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r=n.getAttribute("stop-color")||"#000000";e.addColorStop(i,r)}n=n.nextSibling}}(t,o),o},radialgradient:function(t){}};function A(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),b(e.__inheritedStyle,t.__inheritedStyle))}function T(t){for(var e=w(t).split(_),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}var D={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function P(t,e,n,i){var r=e.__inheritedStyle||{},o="text"===e.type;if(1===t.nodeType&&(function(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=null,r=[];n.replace(j,(function(t,e,n){r.push(e,n)}));for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1];switch(i=i||g.create(),s){case"translate":a=w(a).split(_),g.translate(i,i,[parseFloat(a[0]),parseFloat(a[1]||0)]);break;case"scale":a=w(a).split(_),g.scale(i,i,[parseFloat(a[0]),parseFloat(a[1]||a[0])]);break;case"rotate":a=w(a).split(_),g.rotate(i,i,parseFloat(a[0]));break;case"skew":a=w(a).split(_),console.warn("Skew transform is not supported yet");break;case"matrix":a=w(a).split(_);i[0]=parseFloat(a[0]),i[1]=parseFloat(a[1]),i[2]=parseFloat(a[2]),i[3]=parseFloat(a[3]),i[4]=parseFloat(a[4]),i[5]=parseFloat(a[5])}}e.setLocalTransform(i)}}(t,e),x(r,function(t){var e=t.getAttribute("style"),n={};if(!e)return n;var i,r={};L.lastIndex=0;for(;null!=(i=L.exec(e));)r[i[1]]=i[2];for(var o in D)D.hasOwnProperty(o)&&null!=r[o]&&(n[D[o]]=r[o]);return n}(t)),!i))for(var a in D)if(D.hasOwnProperty(a)){var s=t.getAttribute(a);null!=s&&(r[D[a]]=s)}var l=o?"textFill":"fill",c=o?"textStroke":"stroke";e.style=e.style||new f;var h=e.style;null!=r.fill&&h.set(l,E(r.fill,n)),null!=r.stroke&&h.set(c,E(r.stroke,n)),C(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){var e="lineWidth"===t&&o?"textStrokeWidth":t;null!=r[t]&&h.set(e,parseFloat(r[t]))})),r.textBaseline&&"auto"!==r.textBaseline||(r.textBaseline="alphabetic"),"alphabetic"===r.textBaseline&&(r.textBaseline="bottom"),"start"===r.textAlign&&(r.textAlign="left"),"end"===r.textAlign&&(r.textAlign="right"),C(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=r[t]&&h.set(t,r[t])})),r.lineDash&&(e.style.lineDash=w(r.lineDash).split(_)),h[c]&&"none"!==h[c]&&(e[c]=!0),e.__inheritedStyle=r}var I=/url\(\s*#(.*?)\)/;function E(t,e){var n=e&&t&&t.match(I);return n?e[w(n[1])]:t}var j=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;var L=/([^\s:;]+)\s*:\s*([^:;]+)/g;function B(t,e,n){var i=e/t.width,r=n/t.height,o=Math.min(i,r);return{scale:[o,o],position:[-(t.x+t.width/2)*o+e/2,-(t.y+t.height/2)*o+n/2]}}e.parseXML=S,e.makeViewBoxTransform=B,e.parseSVG=function(t,e){return(new O).parse(t,e)}},function(t,e,n){var i=n(121);e.zrender=i;var r=n(37);e.matrix=r;var o=n(18);e.vector=o;var a=n(3),s=n(50);e.color=s;var l=n(6),c=n(8);e.number=c;var h=n(15);e.format=h;var u=n(61);u.throttle;e.throttle=u.throttle;var d=n(435);e.helper=d;var p=n(272);e.parseGeoJSON=p;var f=n(42);e.List=f;var g=n(26);e.Model=g;var m=n(63);e.Axis=m;var v=n(25);e.env=v;var y=p,x={};a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){x[t]=a[t]}));var b={};a.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(t){b[t]=l[t]})),e.parseGeoJson=y,e.util=x,e.graphic=b},function(t,e,n){var i=n(3);var r=function(t){null!=t&&i.extend(this,t),this.otherDims={}};t.exports=r},function(t,e,n){var i=n(3),r=i.createHashMap,o=i.isObject,a=i.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&a(n,h);return new s({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})};var l=s.prototype;function c(t){return t._map||(t._map=r(t.categories))}function h(t){return o(t)&&null!=t.value?t.value:t+""}l.getOrdinal=function(t){return c(this).get(t)},l.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=c(this);return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e};var u=s;t.exports=u},function(t,e,n){var i=n(8),r=i.round;function o(t){return i.getPrecisionSafe(t)+2}function a(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function s(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),a(t,0,e),a(t,1,e),t[0]>t[1]&&(t[0]=t[1])}e.intervalScaleNiceTicks=function(t,e,n,a){var l={},c=t[1]-t[0],h=l.interval=i.nice(c/e,!0);null!=n&&h<n&&(h=l.interval=n),null!=a&&h>a&&(h=l.interval=a);var u=l.intervalPrecision=o(h);return s(l.niceTickExtent=[r(Math.ceil(t[0]/h)*h,u),r(Math.floor(t[1]/h)*h,u)],t),l},e.getIntervalPrecision=o,e.fixExtent=s},function(t,e,n){var i=n(3),r=n(128),o=n(8),a=n(129),s=r.prototype,l=a.prototype,c=o.getPrecisionSafe,h=o.round,u=Math.floor,d=Math.ceil,p=Math.pow,f=Math.log,g=r.extend({type:"log",base:10,$constructor:function(){r.apply(this,arguments),this._originalScale=new a},getTicks:function(t){var e=this._originalScale,n=this._extent,r=e.getExtent();return i.map(l.getTicks.call(this,t),(function(t){var i=o.round(p(this.base,t));return i=t===n[0]&&e.__fixMin?m(i,r[0]):i,i=t===n[1]&&e.__fixMax?m(i,r[1]):i}),this)},getMinorTicks:l.getMinorTicks,getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),p(this.base,t)},setExtent:function(t,e){var n=this.base;t=f(t)/f(n),e=f(e)/f(n),l.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=s.getExtent.call(this);e[0]=p(t,e[0]),e[1]=p(t,e[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(e[0]=m(e[0],i[0])),n.__fixMax&&(e[1]=m(e[1],i[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=f(t[0])/f(e),t[1]=f(t[1])/f(e),s.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=o.quantity(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[o.round(d(e[0]/i)*i),o.round(u(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},niceExtent:function(t){l.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function m(t,e){return h(t,c(e))}i.each(["contain","normalize"],(function(t){g.prototype[t]=function(e){return e=f(e)/f(this.base),s[t].call(this,e)}})),g.create=function(){return new g};var v=g;t.exports=v},function(t,e,n){var i=n(3),r=n(273);function o(t,e,n){for(var i=[],r=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/n,l/n])}return i}t.exports=function(t,e){return function(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var r=n[i].geometry,a=r.coordinates,s=r.encodeOffsets,l=0;l<a.length;l++){var c=a[l];if("Polygon"===r.type)a[l]=o(c,s[l],e);else if("MultiPolygon"===r.type)for(var h=0;h<c.length;h++){var u=c[h];c[h]=o(u,s[l][h],e)}}t.UTF8Encoding=!1}(t),i.map(i.filter(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,o=t.geometry,a=o.coordinates,s=[];"Polygon"===o.type&&s.push({type:"polygon",exterior:a[0],interiors:a.slice(1)}),"MultiPolygon"===o.type&&i.each(a,(function(t){t[0]&&s.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var l=new r(n[e||"name"],s,n.cp);return l.properties=n,l}))}},function(t,e,n){var i=n(20),r=n(102),o=n(18),a=n(274);function s(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}s.prototype={constructor:s,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],a=[-e,-e],s=[],l=[],c=this.geometries,h=0;h<c.length;h++)if("polygon"===c[h].type){var u=c[h].exterior;r.fromPoints(u,s,l),o.min(n,n,s),o.max(a,a,l)}return 0===h&&(n[0]=n[1]=a[0]=a[1]=0),this._rect=new i(n[0],n[1],a[0]-n[0],a[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var o=n[i].exterior,s=n[i].interiors;if(a.contain(o,t[0],t[1])){for(var l=0;l<(s?s.length:0);l++)if(a.contain(s[l]))continue t;return!0}}return!1},transformTo:function(t,e,n,r){var a=this.getBoundingRect(),s=a.width/a.height;n?r||(r=n/s):n=s*r;for(var l=new i(t,e,n,r),c=a.calculateTransform(l),h=this.geometries,u=0;u<h.length;u++)if("polygon"===h[u].type){for(var d=h[u].exterior,p=h[u].interiors,f=0;f<d.length;f++)o.applyTransform(d[f],d[f],c);for(var g=0;g<(p?p.length:0);g++)for(f=0;f<p[g].length;f++)o.applyTransform(p[g][f],p[g][f],c)}(a=this._rect).copy(l),this.center=[a.x+a.width/2,a.y+a.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new s(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var l=s;t.exports=l},function(t,e,n){var i=n(256);function r(t,e){return Math.abs(t-e)<1e-8}e.contain=function(t,e,n){var o=0,a=t[0];if(!a)return!1;for(var s=1;s<t.length;s++){var l=t[s];o+=i(a[0],a[1],l[0],l[1],e,n),a=l}var c=t[0];return r(a[0],c[0])&&r(a[1],c[1])||(o+=i(a[0],a[1],c[0],c[1],e,n)),0!==o}},function(t,e,n){var i=n(52).isDimensionStacked,r=n(3).map;e.prepareDataCoordInfo=function(t,e,n){var o,a=t.getBaseAxis(),s=t.getOtherAxis(a),l=function(t,e){var n=0,i=t.scale.getExtent();"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]);return n}(s,n),c=a.dim,h=s.dim,u=e.mapDimension(h),d=e.mapDimension(c),p="x"===h||"radius"===h?1:0,f=r(t.dimensions,(function(t){return e.mapDimension(t)})),g=e.getCalculationInfo("stackResultDimension");return(o|=i(e,f[0]))&&(f[0]=g),(o|=i(e,f[1]))&&(f[1]=g),{dataDimsForPoint:f,valueStart:l,valueAxisDim:h,baseAxisDim:c,stacked:!!o,valueDim:u,baseDim:d,baseDataOffset:p,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}},e.getStackedOnPoint=function(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}},function(t,e,n){var i=n(24),r=n(18),o=n(258),a=r.min,s=r.max,l=r.scaleAndAdd,c=r.copy,h=[],u=[],d=[];function p(t){return isNaN(t[0])||isNaN(t[1])}function f(t,e,n,i,r,o,a,s,l,c,h){return"none"!==c&&c?g.apply(this,arguments):m.apply(this,arguments)}function g(t,e,n,i,r,o,a,s,l,h,f){for(var g=0,m=n,v=0;v<i;v++){var y=e[m];if(m>=r||m<0)break;if(p(y)){if(f){m+=o;continue}break}if(m===n)t[o>0?"moveTo":"lineTo"](y[0],y[1]);else if(l>0){var x=e[g],b="y"===h?1:0,w=(y[b]-x[b])*l;c(u,x),u[b]=x[b]+w,c(d,y),d[b]=y[b]-w,t.bezierCurveTo(u[0],u[1],d[0],d[1],y[0],y[1])}else t.lineTo(y[0],y[1]);g=m,m+=o}return v}function m(t,e,n,i,o,f,g,m,v,y,x){for(var b=0,w=n,C=0;C<i;C++){var _=e[w];if(w>=o||w<0)break;if(p(_)){if(x){w+=f;continue}break}if(w===n)t[f>0?"moveTo":"lineTo"](_[0],_[1]),c(u,_);else if(v>0){var S=w+f,O=e[S];if(x)for(;O&&p(e[S]);)O=e[S+=f];var M=.5,k=e[b];if(!(O=e[S])||p(O))c(d,_);else{var A,T;if(p(O)&&!x&&(O=_),r.sub(h,O,k),"x"===y||"y"===y){var D="x"===y?0:1;A=Math.abs(_[D]-k[D]),T=Math.abs(_[D]-O[D])}else A=r.dist(_,k),T=r.dist(_,O);l(d,_,h,-v*(1-(M=T/(T+A))))}a(u,u,m),s(u,u,g),a(d,d,m),s(d,d,g),t.bezierCurveTo(u[0],u[1],d[0],d[1],_[0],_[1]),l(u,_,h,v*M)}else t.lineTo(_[0],_[1]);b=w,w+=f}return C}function v(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:e?n:i,max:e?i:n}}var y=i.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:o(i.prototype.brush),buildPath:function(t,e){var n=e.points,i=0,r=n.length,o=v(n,e.smoothConstraint);if(e.connectNulls){for(;r>0&&p(n[r-1]);r--);for(;i<r&&p(n[i]);i++);}for(;i<r;)i+=f(t,n,i,r,r,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),x=i.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:o(i.prototype.brush),buildPath:function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length,a=e.smoothMonotone,s=v(n,e.smoothConstraint),l=v(i,e.smoothConstraint);if(e.connectNulls){for(;o>0&&p(n[o-1]);o--);for(;r<o&&p(n[r]);r++);}for(;r<o;){var c=f(t,n,r,o,o,1,s.min,s.max,e.smooth,a,e.connectNulls);f(t,i,r+c-1,c,o,-1,l.min,l.max,e.stackedOnSmooth,a,e.connectNulls),r+=c+1,t.closePath()}}});e.Polyline=y,e.Polygon=x},function(t,e,n){var i=n(3),r=n(30),o=n(132),a=n(86),s=r.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(t,e){return e.type||(e.data?"category":"value")}i.merge(s.prototype,a);var c={offset:0};o("x",s,l,c),o("y",s,l,c);var h=s;t.exports=h},function(t,e,n){var i=n(3),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o={};o.categoryAxis=i.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),o.valueAxis=i.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},r),o.timeAxis=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},o.valueAxis),o.logAxis=i.defaults({scale:!0,logBase:10},o.valueAxis);var a=o;t.exports=a},function(t,e,n){var i=n(3);e.layout=function(t,e,n){n=n||{};var r=t.coordinateSystem,o=e.axis,a={},s=o.getAxesOnZeroOf()[0],l=o.position,c=s?"onZero":l,h=o.dim,u=r.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,g="x"===h?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));g[p.onZero]=Math.max(Math.min(m,g[1]),g[0])}a.position=["y"===h?g[p[c]]:d[0],"x"===h?g[p[c]]:d[3]],a.rotation=Math.PI/2*("x"===h?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?g[p[l]]-g[p.onZero]:0,e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),i.retrieve(n.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var v=e.get("axisLabel.rotate");return a.labelRotate="top"===c?-v:v,a.z2=1,a}},function(t,e,n){var i=n(3),r=n(6);e.rectCoordAxisBuildSplitArea=function(t,e,n,o){var a=n.axis;if(!a.scale.isBlank()){var s=n.getModel("splitArea"),l=s.getModel("areaStyle"),c=l.get("color"),h=o.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:s,clamp:!0});if(u.length){var d=c.length,p=t.__splitAreaColors,f=i.createHashMap(),g=0;if(p)for(var m=0;m<u.length;m++){var v=p.get(u[m].tickValue);if(null!=v){g=(v+(d-1)*m)%d;break}}var y=a.toGlobalCoord(u[0].coord),x=l.getAreaStyle();c=i.isArray(c)?c:[c];for(m=1;m<u.length;m++){var b,w,C,_,S=a.toGlobalCoord(u[m].coord);a.isHorizontal()?(b=y,w=h.y,C=S-b,_=h.height,y=b+C):(b=h.x,w=y,C=h.width,y=w+(_=S-w));var O=u[m-1].tickValue;null!=O&&f.set(O,g),e.add(new r.Rect({anid:null!=O?"area_"+O:null,shape:{x:b,y:w,width:C,height:_},style:i.defaults({fill:c[g]},x),silent:!0})),g=(g+1)%d}t.__splitAreaColors=f}}},e.rectCoordAxisHandleRemove=function(t){t.__splitAreaColors=null}},function(t,e,n){var i=n(31),r=n(58),o=i.extend({type:"series.__base_bar__",getInitialData:function(t,e){return r(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});t.exports=o},function(t,e,n){var i=n(6),r=n(191).getDefaultLabel;function o(t,e){"outside"===t.textPosition&&(t.textPosition=e)}e.setLabel=function(t,e,n,a,s,l,c){var h=n.getModel("label"),u=n.getModel("emphasis.label");i.setLabelStyle(t,e,h,u,{labelFetcher:s,labelDataIndex:l,defaultText:r(s.getData(),l),isRectText:!0,autoColor:a}),o(t),o(e)}},function(t,e,n){var i=n(5),r=n(3);t.exports=function(t,e){r.each(e,(function(e){e.update="updateView",i.registerAction(e,(function(n,i){var r={};return i.eachComponent({mainType:"series",subType:t,query:n},(function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var i=t.getData();i.each((function(e){var n=i.getName(e);r[n]=t.isSelected(n)||!1}))})),{name:n.name,selected:r,seriesId:n.seriesId}}))}))}},function(t,e,n){var i=n(3),r=n(114),o=n(194),a=n(135).onIrrelevantElement,s=n(6),l=n(134),c=n(103).getUID,h=n(122);function u(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function d(t,e){e.eachChild((function(e){i.each(e.__regions,(function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")}))}))}function p(t,e){var n=new s.Group;this.uid=c("ec_map_draw"),this._controller=new r(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new s.Group),n.add(this._backgroundGroup=new s.Group)}p.prototype={constructor:p,draw:function(t,e,n,r,o){var a="geo"===t.mainType,l=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},(function(e){l||e.getHostGeoModel()!==t||(l=e.getData())}));var c=t.coordinateSystem;this._updateBackground(c);var p,f=this._regionsGroup,g=this.group,m=c.getTransformInfo(),v=!f.childAt(0)||o;if(v)g.transform=m.roamTransform,g.decomposeTransform(),g.dirty();else{var y=new h;y.transform=m.roamTransform,y.decomposeTransform();var x={scale:y.scale,position:y.position};p=y.scale,s.updateProps(g,x,t)}var b=m.rawScale,w=m.rawPosition;f.removeAll();var C=["itemStyle"],_=["emphasis","itemStyle"],S=["label"],O=["emphasis","label"],M=i.createHashMap();i.each(c.regions,(function(e){var n=M.get(e.name)||M.set(e.name,new s.Group),r=new s.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});n.add(r);var o,c=(N=t.getRegionModel(e.name)||t).getModel(C),h=N.getModel(_),d=u(c),m=u(h),y=N.getModel(S),x=N.getModel(O);if(l){o=l.indexOfName(e.name);var k=l.getItemVisual(o,"color",!0);k&&(d.fill=k)}var A=function(t){return[t[0]*b[0]+w[0],t[1]*b[1]+w[1]]};i.each(e.geometries,(function(t){if("polygon"===t.type){for(var e=[],n=0;n<t.exterior.length;++n)e.push(A(t.exterior[n]));r.shape.paths.push(new s.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}));for(n=0;n<(t.interiors?t.interiors.length:0);++n){for(var i=t.interiors[n],o=(e=[],0);o<i.length;++o)e.push(A(i[o]));r.shape.paths.push(new s.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}))}}})),r.setStyle(d),r.style.strokeNoScale=!0,r.culling=!0;var T=y.get("show"),D=x.get("show"),P=l&&isNaN(l.get(l.mapDimension("value"),o)),I=l&&l.getItemLayout(o);if(a||P&&(T||D)||I&&I.showLabel){var E,j=a?e.name:o;(!l||o>=0)&&(E=t);var L=new s.Text({position:A(e.center.slice()),scale:[1/g.scale[0],1/g.scale[1]],z2:10,silent:!0});if(s.setLabelStyle(L.style,L.hoverStyle={},y,x,{labelFetcher:E,labelDataIndex:j,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!v){var B=[1/p[0],1/p[1]];s.updateProps(L,{scale:B},t)}n.add(L)}if(l)l.setItemGraphicEl(o,n);else{var N=t.getRegionModel(e.name);r.eventData={componentType:"geo",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:N&&N.option||{}}}(n.__regions||(n.__regions=[])).push(e),n.highDownSilentOnTouch=!!t.get("selectedMode"),s.setHoverStyle(n,m),f.add(n)})),this._updateController(t,e,n),function(t,e,n,r,o){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",(function(){t._mouseDownFlag=!0})),n.on("click",(function(a){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var s=a.target;!s.__regions;)s=s.parent;if(s){var l={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:i.map(s.__regions,(function(t){return{name:t.name,from:o.uid}}))};l[e.mainType+"Id"]=e.id,r.dispatchAction(l),d(e,n)}}})))}(this,t,f,n,r),d(t,f)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&l.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e&&i.each(l.makeGraphic(e,this.uid),(function(t){this._backgroundGroup.add(t)}),this),this._mapName=e},_updateController:function(t,e,n){var r=t.coordinateSystem,s=this._controller,l=this._controllerHost;l.zoomLimit=t.get("scaleLimit"),l.zoom=r.getZoom(),s.enable(t.get("roam")||!1);var c=t.mainType;function h(){var e={type:"geoRoam",componentType:c};return e[c+"Id"]=t.id,e}s.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,o.updateViewOnPan(l,t.dx,t.dy),n.dispatchAction(i.extend(h(),{dx:t.dx,dy:t.dy}))}),this),s.off("zoom").on("zoom",(function(t){if(this._mouseDownFlag=!1,o.updateViewOnZoom(l,t.scale,t.originX,t.originY),n.dispatchAction(i.extend(h(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse((function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])}))}}),this),s.setPointerChecker((function(e,i,o){return r.getViewRectAfterRoam().contain(i,o)&&!a(e,n,t)}))}};var f=p;t.exports=f},function(t,e,n){var i=n(5),r="\0_ec_interaction_mutex";function o(t){return t[r]||(t[r]={})}i.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),e.take=function(t,e,n){o(t)[e]=n},e.release=function(t,e,n){var i=o(t);i[e]===n&&(i[e]=null)},e.isTaken=function(t,e){return!!o(t)[e]}},function(t,e,n){var i=n(5),r=n(3),o=n(195).updateCenterAndZoom;i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){var i=e.coordinateSystem;if("geo"===i.type){var a=o(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom),"series"===n&&r.each(e.seriesGroup,(function(t){t.setCenter(a.center),t.setZoom(a.zoom)}))}}))}))},function(t,e,n){var i=n(3),r=i.each,o="\0__link_datas",a="\0__link_mainData";function s(t,e){if((r=this)[a]===r){var n=i.extend({},this[o]);n[this.dataType]=e,u(e,n,t)}else d(e,this.dataType,this[a],t);var r;return e}function l(t,e){return t.struct&&t.struct.update(this),e}function c(t,e){return r(e[o],(function(n,i){n!==e&&d(n.cloneShallow(),i,e,t)})),e}function h(t){var e=this[a];return null==t||null==e?e:e[o][t]}function u(t,e,n){t[o]={},r(e,(function(e,i){d(e,i,t,n)}))}function d(t,e,n,i){n[o][e]=t,t[a]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=h}var p=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,u(e,n,t),r(n,(function(n){r(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,i.curry(s,t))}))})),e.wrapMethod("cloneShallow",i.curry(c,t)),r(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,i.curry(l,t))})),i.assert(n[e.dataType]===e)};t.exports=p},function(t,e,n){var i=n(14);function r(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function o(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function a(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function s(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function l(t,e){return t.parentNode===e.parentNode?1:2}e.init=function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,i=[t];e=i.pop();)if(n=e.children,e.isExpand&&n.length)for(var r=n.length-1;r>=0;r--){var o=n[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}},e.firstWalk=function(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,l=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){!function(t){var e=t.children,n=e.length,i=0,r=0;for(;--n>=0;){var o=e[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(t);var c=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;l?(t.hierNode.prelim=l.hierNode.prelim+e(t,l),t.hierNode.modifier=t.hierNode.prelim-c):t.hierNode.prelim=c}else l&&(t.hierNode.prelim=l.hierNode.prelim+e(t,l));t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var l=t,c=t,h=c.parentNode.children[0],u=e,d=l.hierNode.modifier,p=c.hierNode.modifier,f=h.hierNode.modifier,g=u.hierNode.modifier;u=r(u),c=o(c),u&&c;){l=r(l),h=o(h),l.hierNode.ancestor=t;var m=u.hierNode.prelim+g-c.hierNode.prelim-p+i(u,c);m>0&&(s(a(u,t,n),t,m),p+=m,d+=m),g+=u.hierNode.modifier,p+=c.hierNode.modifier,d+=l.hierNode.modifier,f+=h.hierNode.modifier}u&&!r(l)&&(l.hierNode.thread=u,l.hierNode.modifier+=g-d),c&&!o(h)&&(h.hierNode.thread=c,h.hierNode.modifier+=p-f,n=t)}return n}(t,l,t.parentNode.hierNode.defaultAncestor||i[0],e)},e.secondWalk=function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},e.separation=function(t){return arguments.length?t:l},e.radialCoordinate=function(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n},e.getViewRect=function(t,e){return i.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}},function(t,e,n){var i=n(3),r=n(42),o=n(505),a=n(287),s=n(85),l=n(44),c=n(58);t.exports=function(t,e,n,h,u){for(var d=new o(h),p=0;p<t.length;p++)d.addNode(i.retrieve(t[p].id,t[p].name,p),p);var f=[],g=[],m=0;for(p=0;p<e.length;p++){var v=e[p],y=v.source,x=v.target;d.addEdge(y,x,m)&&(g.push(v),f.push(i.retrieve(v.id,y+" > "+x)),m++)}var b,w=n.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)b=c(t,n);else{var C=l.get(w),_=C&&"view"!==C.type&&C.dimensions||[];i.indexOf(_,"value")<0&&_.concat(["value"]);var S=s(t,{coordDimensions:_});(b=new r(S,n)).initData(t)}var O=new r(["value"],n);return O.initData(g,f),u&&u(b,O),a({mainData:b,struct:d,structAttr:"graph",datas:{node:b,edge:O},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}},function(t,e,n){var i=n(5);i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){}))},function(t,e,n){var i=n(18),r=n(3),o=n(136).getCurvenessForEdge;function a(t,e){t.eachEdge((function(t,n){var a=r.retrieve3(t.getModel().get("lineStyle.curveness"),-o(t,e,n,!0),0),s=i.clone(t.node1.getLayout()),l=i.clone(t.node2.getLayout()),c=[s,l];+a&&c.push([(s[0]+l[0])/2-(s[1]-l[1])*a,(s[1]+l[1])/2-(l[0]-s[0])*a]),t.setLayout(c)}))}e.simpleLayout=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),a(n,t)}},e.simpleLayoutEdge=a},function(t,e,n){var i=n(18),r=n(201),o=r.getSymbolSize,a=r.getNodeGlobalScale,s=n(3),l=n(136).getCurvenessForEdge,c=Math.PI,h=[];var u={value:function(t,e,n,i,r,o,a,s){var l=0,c=i.getSum("value"),h=2*Math.PI/(c||s);n.eachNode((function(t){var e=t.getValue("value"),n=h*(c?e:1)/2;l+=n,t.setLayout([r*Math.cos(l)+o,r*Math.sin(l)+a]),l+=n}))},symbolSize:function(t,e,n,i,r,s,l,u){var d=0;h.length=u;var p=a(t);n.eachNode((function(t){var e=o(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=p;var n=Math.asin(e/2/r);isNaN(n)&&(n=c/2),h[t.dataIndex]=n,d+=2*n}));var f=(2*c-d)/u/2,g=0;n.eachNode((function(t){var e=f+h[t.dataIndex];g+=e,t.setLayout([r*Math.cos(g)+s,r*Math.sin(g)+l]),g+=e}))}};e.circularLayout=function(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var r=n.getBoundingRect(),o=t.getData(),a=o.graph,c=r.width/2+r.x,h=r.height/2+r.y,d=Math.min(r.width,r.height)/2,p=o.count();o.setLayout({cx:c,cy:h}),p&&(u[e](t,n,a,o,d,c,h,p),a.eachEdge((function(e,n){var r,o=s.retrieve3(e.getModel().get("lineStyle.curveness"),l(e,t,n),0),a=i.clone(e.node1.getLayout()),u=i.clone(e.node2.getLayout()),d=(a[0]+u[0])/2,p=(a[1]+u[1])/2;+o&&(r=[c*(o*=3)+d*(1-o),h*o+p*(1-o)]),e.setLayout([a,u,r])})))}}},function(t,e,n){var i=n(5),r=n(3),o=n(61),a=n(527);n(294),n(530),n(532);i.extendComponentView({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},r.each(s,(function(t,e){n.getZr().on(e,this._handlers[e]=r.bind(t,this))}),this)),o.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){r.each(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(r.extend({type:"parallelAxisExpand"},t))}});var s={mousedown:function(t){l(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(l(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&l(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i&&null})}}};function l(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}i.registerPreprocessor(a)},function(t,e,n){var i=n(528);n(44).register("parallel",{create:function(t,e){var n=[];return t.eachComponent("parallel",(function(r,o){var a=new i(r,t,e);a.name="parallel_"+o,a.resize(r,e),r.coordinateSystem=a,a.model=r,n.push(a)})),t.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}})),n}})},function(t,e,n){var i=n(20),r=n(135).onIrrelevantElement,o=n(6);function a(t){return i.create(t)}e.makeRectPanelClipPath=function(t){return t=a(t),function(e,n){return o.clipPointsByRect(e,t)}},e.makeLinearBrushOtherExtent=function(t,e){return t=a(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,o=i?t.x:t.y;return[o,o+(r||0)]}},e.makeRectIsTargetByCursor=function(t,e,n){return t=a(t),function(i,o,a){return t.contain(o[0],o[1])&&!r(i,e,n)}}},function(t,e,n){var i=n(87),r=n(3),o=n(106).getDimensionTypeByAxis,a=n(57).makeSeriesEncodeForAxisCoordSys,s={_baseAxisDim:null,getInitialData:function(t,e){var n,s,l=e.getComponent("xAxis",this.get("xAxisIndex")),c=e.getComponent("yAxis",this.get("yAxisIndex")),h=l.get("type"),u=c.get("type");"category"===h?(t.layout="horizontal",n=l.getOrdinalMeta(),s=!0):"category"===u?(t.layout="vertical",n=c.getOrdinalMeta(),s=!0):t.layout=t.layout||"horizontal";var d=["x","y"],p="horizontal"===t.layout?0:1,f=this._baseAxisDim=d[p],g=d[1-p],m=[l,c],v=m[p].get("type"),y=m[1-p].get("type"),x=t.data;if(x&&s){var b=[];r.each(x,(function(t,e){var n;t.value&&r.isArray(t.value)?(n=t.value.slice(),t.value.unshift(e)):r.isArray(t)?(n=t.slice(),t.unshift(e)):n=t,b.push(n)})),t.data=b}var w=this.defaultValueDimensions,C=[{name:f,type:o(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:o(y),dimsDef:w.slice()}];return i(this,{coordDimensions:C,dimensionsCount:w.length+1,encodeDefaulter:r.curry(a,C,this)})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};e.seriesModelMixin=s},function(t,e,n){var i=n(6),r=n(200),o=n(3),a=n(40).createSymbol,s=n(18),l=n(60);function c(t,e,n){i.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var h=c.prototype;h.createLine=function(t,e,n){return new r(t,e,n)},h._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");o.isArray(i)||(i=[i,i]);var s=n.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1);this._symbolType!==r&&(this.remove(l),(l=a(r,-.5,-.5,1,1,s)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(n.getItemStyle(["color"])),l.attr("scale",i),l.setColor(s),l.attr("scale",i),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},h._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=this,a=t.getItemLayout(n),s=1e3*e.get("period"),l=e.get("loop"),c=e.get("constantSpeed"),h=o.retrieve(e.get("delay"),(function(e){return e/t.count()*s/3})),u="function"==typeof h;if(i.ignore=!0,this.updateAnimationPoints(i,a),c>0&&(s=this.getLineLength(i)/c*1e3),s!==this._period||l!==this._loop){i.stopAnimation();var d=h;u&&(d=h(n)),i.__t>0&&(d=-s*i.__t),i.__t=0;var p=i.animate("",l).when(s,{__t:1}).delay(d).during((function(){r.updateSymbolPosition(i)}));l||p.done((function(){r.remove(i)})),p.start()}this._period=s,this._loop=l}},h.getLineLength=function(t){return s.dist(t.__p1,t.__cp1)+s.dist(t.__cp1,t.__p2)},h.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},h.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},h.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=t.position,a=[o[0],o[1]],c=l.quadraticAt,h=l.quadraticDerivativeAt;o[0]=c(e[0],i[0],n[0],r),o[1]=c(e[1],i[1],n[1],r);var u=h(e[0],i[0],n[0],r),d=h(e[1],i[1],n[1],r);if(t.rotation=-Math.atan2(d,u)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==t.__lastT&&t.__lastT<t.__t){var p=1.05*s.dist(a,o);t.attr("scale",[t.scale[0],p]),1===r&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)}else if(1===t.__lastT){p=2*s.dist(e,o);t.attr("scale",[t.scale[0],p])}else t.attr("scale",this._symbolScale);t.__lastT=t.__t,t.ignore=!1},h.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},o.inherits(c,i.Group);var u=c;t.exports=u},function(t,e,n){var i=n(6),r=n(3);function o(t,e,n){i.Group.call(this),this._createPolyline(t,e,n)}var a=o.prototype;a._createPolyline=function(t,e,n){var r=t.getItemLayout(e),o=new i.Polyline({shape:{points:r}});this.add(o),this._updateCommonStl(t,e,n)},a.updateData=function(t,e,n){var r=t.hostModel,o=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};i.updateProps(o,a,r,e),this._updateCommonStl(t,e,n)},a._updateCommonStl=function(t,e,n){var o=this.childAt(0),a=t.getItemModel(e),s=t.getItemVisual(e,"color"),l=n&&n.lineStyle,c=n&&n.hoverLineStyle;n&&!t.hasItemOption||(l=a.getModel("lineStyle").getLineStyle(),c=a.getModel("emphasis.lineStyle").getLineStyle()),o.useStyle(r.defaults({strokeNoScale:!0,fill:"none",stroke:s},l)),o.hoverStyle=c,i.setHoverStyle(this)},a.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},r.inherits(o,i.Group);var s=o;t.exports=s},function(t,e,n){var i={seriesType:"lines",plan:n(84)(),reset:function(t){var e=t.coordinateSystem,n=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s,l=r.end-r.start;if(n){for(var c=0,h=r.start;h<r.end;h++)c+=t.getLineCoordsCount(h);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var u=0,d=[];for(h=r.start;h<r.end;h++){var p=t.getLineCoords(h,a);n&&(s[u++]=p);for(var f=0;f<p;f++)d=e.dataToPoint(a[f],!1,d),s[u++]=d[0],s[u++]=d[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var g=o.getItemModel(h),m=(p=t.getLineCoords(h,a),[]);if(n)for(var v=0;v<p;v++)m.push(e.dataToPoint(a[v]));else{m[0]=e.dataToPoint(a[0]),m[1]=e.dataToPoint(a[1]);var y=g.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(h,m)}}}}};t.exports=i},function(t,e,n){var i=n(5);n(573),n(576),n(577),n(115),n(581),i.extendComponentView({type:"single"})},function(t,e,n){var i=n(3);e.layout=function(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,o={},a=r.position,s=r.orient,l=n.getRect(),c=[l.x,l.x+l.width,l.y,l.y+l.height],h={horizontal:{top:c[2],bottom:c[3]},vertical:{left:c[0],right:c[1]}};o.position=["vertical"===s?h.vertical[a]:c[0],"horizontal"===s?h.horizontal[a]:c[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),i.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var u=e.rotate;return null==u&&(u=t.get("axisLabel.rotate")),o.labelRotation="top"===a?-u:u,o.z2=1,o}},function(t,e,n){var i=n(3),r=n(11);t.exports=function(t,e){var n,o=[],a=t.seriesIndex;if(null==a||!(n=e.getSeriesByIndex(a)))return{point:[]};var s=n.getData(),l=r.queryDataIndex(s,t);if(null==l||l<0||i.isArray(l))return{point:[]};var c=s.getItemGraphicEl(l),h=n.coordinateSystem;if(n.getTooltipPosition)o=n.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)o=h.dataToPoint(s.getValues(i.map(h.dimensions,(function(t){return s.mapDimension(t)})),l,!0))||[];else if(c){var u=c.getBoundingRect().clone();u.applyTransform(c.transform),o=[u.x+u.width/2,u.y+u.height/2]}return{point:o,el:c}}},function(t,e,n){var i=n(3),r=n(25),o=(0,n(11).makeInner)(),a=i.each;function s(t,e,n){t.handler("leave",null,n)}function l(t,e,n,i){e.handler(t,n,i)}e.register=function(t,e,n){if(!r.node){var c=e.getZr();o(c).records||(o(c).records={}),function(t,e){if(o(t).initialized)return;function n(n,i){t.on(n,(function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}(e);a(o(t).records,(function(t){t&&i(t,n,r.dispatchAction)})),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)}))}o(t).initialized=!0,n("click",i.curry(l,"click")),n("mousemove",i.curry(l,"mousemove")),n("globalout",s)}(c,e),(o(c).records[t]||(o(c).records[t]={})).handler=n}},e.unregister=function(t,e){if(!r.node){var n=e.getZr();(o(n).records||{})[t]&&(o(n).records[t]=null)}}},function(t,e,n){var i=n(203),r=n(137),o=n(279),a=n(74),s=i.extend({makeElOption:function(t,e,n,i,a){var s=n.axis,h=s.grid,u=i.get("type"),d=l(h,s).getOtherAxis(s).getGlobalExtent(),p=s.toGlobalCoord(s.dataToCoord(e,!0));if(u&&"none"!==u){var f=r.buildElStyle(i),g=c[u](s,p,d);g.style=f,t.graphicKey=g.type,t.pointer=g}var m=o.layout(h.model,n);r.buildCartesianSingleLabelElOption(e,t,m,n,i,a)},getHandleTransform:function(t,e,n){var i=o.layout(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:r.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=l(o,r).getOtherAxis(r).getGlobalExtent(),c="x"===r.dim?0:1,h=t.position;h[c]+=e[c],h[c]=Math.min(a[1],h[c]),h[c]=Math.max(a[0],h[c]);var u=(s[1]+s[0])/2,d=[u,u];d[c]=h[c];return{position:h,rotation:t.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][c]}}});function l(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var c={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:r.makeLineShape([e,n[0]],[e,n[1]],h(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:r.makeRectShape([e-i/2,n[0]],[i,o],h(t))}}};function h(t){return"x"===t.dim?0:1}a.registerAxisPointerClass("CartesianAxisPointer",s);var u=s;t.exports=u},function(t,e,n){var i=n(14),r=i.getLayoutRect,o=i.box,a=i.positionElement,s=n(15),l=n(6);e.layout=function(t,e,n){var i=e.getBoxLayoutParams(),s=e.get("padding"),l={width:n.getWidth(),height:n.getHeight()},c=r(i,l,s);o(e.get("orient"),t,e.get("itemGap"),c.width,c.height),a(t,i,l,s)},e.makeBackground=function(t,e){var n=s.normalizeCssArray(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new l.Rect({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(6),o=n(11),a=n(295),s=i.each,l=i.indexOf,c=i.curry,h=["dataToPoint","pointToData"],u=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function d(t,e,n){var i=this._targetInfoList=[],r={},o=g(e,t);s(m,(function(t,e){(!n||!n.include||l(n.include,e)>=0)&&t(o,i,r)}))}var p=d.prototype;function f(t){return t[0]>t[1]&&t.reverse(),t}function g(t,e){return o.parseFinder(t,e,{includeMainTypes:u})}p.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=x[t.brushType](0,n,e);t.__rangeOffset={offset:w[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}}))},p.matchOutputRanges=function(t,e,n){s(t,(function(t){var r=this.findTargetInfo(t,e);r&&!0!==r&&i.each(r.coordSyses,(function(i){var r=x[t.brushType](1,i,t.range);n(t,r.values,i,e)}))}),this)},p.setInputRanges=function(t,e){s(t,(function(t){var n,i,r,o,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var l=x[t.brushType](0,s.coordSys,t.coordRange),c=t.__rangeOffset;t.range=c?w[t.brushType](l.values,c.offset,(n=l.xyMinMax,i=c.xyMinMax,r=_(n),o=_(i),a=[r[0]/o[0],r[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},p.makePanelOpts=function(t,e){return i.map(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e&&e(n),clipPath:a.makeRectPanelClipPath(i),isTargetByCursor:a.makeRectIsTargetByCursor(i,t,n.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(i)}}))},p.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&l(i.coordSyses,e.coordinateSystem)>=0},p.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=g(e,t),r=0;r<n.length;r++){var o=n[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(r=0;r<v.length;r++)if(v[r](i,o))return o}return!0};var m={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,o=t.gridModels,a=i.createHashMap(),c={},h={};(n||r||o)&&(s(n,(function(t){var e=t.axis.grid.model;a.set(e.id,e),c[e.id]=!0})),s(r,(function(t){var e=t.axis.grid.model;a.set(e.id,e),h[e.id]=!0})),s(o,(function(t){a.set(t.id,t),c[t.id]=!0,h[t.id]=!0})),a.each((function(t){var i=t.coordinateSystem,o=[];s(i.getCartesians(),(function(t,e){(l(n,t.getAxis("x").model)>=0||l(r,t.getAxis("y").model)>=0)&&o.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:o[0],coordSyses:o,getPanelRect:y.grid,xAxisDeclared:c[t.id],yAxisDeclared:h[t.id]})})))},geo:function(t,e){s(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:y.geo})}))}},v=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],y={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(r.getTransform(t)),e}},x={lineX:c(b,0),lineY:c(b,1),rect:function(t,e,n){var i=e[h[t]]([n[0][0],n[1][0]]),r=e[h[t]]([n[0][1],n[1][1]]),o=[f([i[0],r[0]]),f([i[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:i.map(n,(function(n){var i=e[h[t]](n);return r[0][0]=Math.min(r[0][0],i[0]),r[1][0]=Math.min(r[1][0],i[1]),r[0][1]=Math.max(r[0][1],i[0]),r[1][1]=Math.max(r[1][1],i[1]),i})),xyMinMax:r}}};function b(t,e,n,r){var o=n.getAxis(["x","y"][t]),a=f(i.map([0,1],(function(t){return e?o.coordToData(o.toLocalCoord(r[t])):o.toGlobalCoord(o.dataToCoord(r[t]))}))),s=[];return s[t]=a,s[1-t]=[NaN,NaN],{values:a,xyMinMax:s}}var w={lineX:c(C,0),lineY:c(C,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return i.map(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function C(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function _(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var S=d;t.exports=S},function(t,e,n){var i=n(3).each,r="\0_ec_hist_store";function o(t){var e=t[r];return e||(e=t[r]=[{}]),e}e.push=function(t,e){var n=o(t);i(e,(function(e,i){for(var r=n.length-1;r>=0;r--){if(n[r][i])break}if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var a=o.getPercentRange();n[0][i]={dataZoomId:i,start:a[0],end:a[1]}}}})),n.push(e)},e.pop=function(t){var e=o(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return i(n,(function(t,n){for(var i=e.length-1;i>=0;i--){if(t=e[i][n]){r[n]=t;break}}})),r},e.clear=function(t){t[r]=null},e.count=function(t){return o(t).length}},function(t,e,n){var i=n(5),r=n(3),o=n(20),a=n(138),s=n(638),l=n(61),c=n(306),h=["inBrush","outOfBrush"],u=i.PRIORITY.VISUAL.BRUSH;function d(t){t.eachComponent({mainType:"brush"},(function(e){(e.brushTargetManager=new c(e.option,t)).setInputRanges(e.areas,t)}))}function p(t,e){if(!t.isDisposed()){var n=t.getZr();n.__ecInBrushSelectEvent=!0,t.dispatchAction({type:"brushSelect",batch:e}),n.__ecInBrushSelectEvent=!1}}function f(t,e,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t[a.brushType](i,n,a.selectors,a))return!0}}function g(t){var e=t.brushSelector;if(r.isString(e)){var n=[];return r.each(s,(function(t,i){n[i]=function(n,i,r,o){var a=i.getItemLayout(n);return t[e](a,r,o)}})),n}if(r.isFunction(e)){var i={};return r.each(s,(function(t,n){i[n]=e})),i}return e}i.registerLayout(u,(function(t,e,n){t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),d(t)})),i.registerVisual(u,(function(t,e,n){var i,o,c=[];t.eachComponent({mainType:"brush"},(function(e,n){var l={brushId:e.id,brushIndex:n,brushName:e.name,areas:r.clone(e.areas),selected:[]};c.push(l);var u=e.option,d=u.brushLink,p=[],v=[],y=[],x=0;n||(i=u.throttleType,o=u.throttleDelay);var b=r.map(e.areas,(function(t){return function(t){var e=t.selectors={};return r.each(s[t.brushType],(function(n,i){e[i]=function(i){return n(i,e,t)}})),t}(r.defaults({boundingRect:m[t.brushType](t)},t))})),w=a.createVisualMappings(e.option,h,(function(t){t.mappingMethod="fixed"}));function C(t){return"all"===d||p[t]}function _(t){return!!t.length}r.isArray(d)&&r.each(d,(function(t){p[t]=1})),t.eachSeries((function(n,i){var o=y[i]=[];"parallel"===n.subType?function(t,e){var n=t.coordinateSystem;x|=n.hasAxisBrushed(),C(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(v[e]=1)}))}(n,i):function(n,i,o){var a=g(n);if(!a||function(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(r.isArray(n)?r.indexOf(n,e)<0:e!==n)}(e,i))return;if(r.each(b,(function(i){a[i.brushType]&&e.brushTargetManager.controlSeries(i,n,t)&&o.push(i),x|=_(o)})),C(i)&&_(o)){var s=n.getData();s.each((function(t){f(a,o,s,t)&&(v[t]=1)}))}}(n,i,o)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};l.selected.push(n);var i=g(t),r=y[e],o=t.getData(),s=C(e)?function(t){return v[t]?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return f(i,r,o,t)?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};(C(e)?x:_(r))&&a.applyVisual(h,w,o,s)}))})),function(t,e,n,i,r){if(!r)return;var o=t.getZr();if(o.__ecInBrushSelectEvent)return;o.__ecBrushSelect||(o.__ecBrushSelect=p);l.createOrUpdate(o,"__ecBrushSelect",n,e)(t,i)}(e,i,o,c,n)}));var m={lineX:r.noop,lineY:r.noop,rect:function(t){return v(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&v(e)}};function v(t){return new o(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}e.layoutCovers=d},function(t,e,n){var i=n(5);n(310),n(663),n(311);var r=n(664),o=n(30);i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,r),o.registerSubTypeDefaulter("legend",(function(){return"plain"}))},function(t,e,n){var i=n(5),r=n(3),o=n(26),a=n(11).isNameSpecified,s=n(62).legend.selector,l={all:{type:"all",title:r.clone(s.all)},inverse:{type:"inverse",title:r.clone(s.inverse)}},c=i.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){c.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),r.isArray(e)&&r.each(e,(function(t,n){r.isString(t)&&(t={type:t}),e[n]=r.merge(t,l[t.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var s=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(s)),s.length?e=e.concat(s):r=!0}else r=!0;r&&a(i)&&e.push(i.name)})),this._availableNames=n;var i=this.get("data")||e,s=r.map(i,(function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new o(t,this,this.ecModel)}),this);this._data=s},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;r.each(n,(function(t){e[t.get("name")]=!1}))}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;r.each(t,(function(t){e[t.get("name",!0)]=!0}))},inverseSelect:function(){var t=this._data,e=this.option.selected;r.each(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&r.indexOf(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=c;t.exports=h},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(40).createSymbol,a=n(6),s=n(305).makeBackground,l=n(14),c=r.curry,h=r.each,u=a.Group,d=i.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new u),this._backgroundEl,this.group.add(this._selectorGroup=new u),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),a=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===a?"right":"left");var c=t.get("selector",!0),h=t.get("selectorPosition",!0);!c||h&&"auto"!==h||(h="horizontal"===a?"end":"start"),this.renderInner(o,t,e,n,c,a,h);var u=t.getBoxLayoutParams(),d={width:n.getWidth(),height:n.getHeight()},p=t.get("padding"),f=l.getLayoutRect(u,d,p),g=this.layoutInner(t,o,f,i,c,h),m=l.getLayoutRect(r.defaults({width:g.width,height:g.height},u),d,p);this.group.attr("position",[m.x-g.x,m.y-g.y]),this.group.add(this._backgroundEl=s(g,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,n,i,o,a,s){var l=this.getContentGroup(),d=r.createHashMap(),p=e.get("selectedMode"),v=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&v.push(t.id)})),h(e.getData(),(function(r,o){var a=r.get("name");if(this.newlineDisabled||""!==a&&"\n"!==a){var s=n.getSeriesByName(a)[0];if(!d.get(a))if(s){var h=s.getData(),y=h.getVisual("color"),x=h.getVisual("borderColor");"function"==typeof y&&(y=y(s.getDataParams(0))),"function"==typeof x&&(x=x(s.getDataParams(0)));var b=h.getVisual("legendSymbol")||"roundRect",w=h.getVisual("symbol");this._createItem(a,o,r,e,b,w,t,y,x,p).on("click",c(f,a,null,i,v)).on("mouseover",c(g,s.name,null,i,v)).on("mouseout",c(m,s.name,null,i,v)),d.set(a,!0)}else n.eachRawSeries((function(n){if(!d.get(a)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(a))return;var l=s.indexOfName(a),h=s.getItemVisual(l,"color"),u=s.getItemVisual(l,"borderColor");this._createItem(a,o,r,e,"roundRect",null,t,h,u,p).on("click",c(f,null,a,i,v)).on("mouseover",c(g,null,a,i,v)).on("mouseout",c(m,null,a,i,v)),d.set(a,!0)}}),this)}else l.add(new u({newline:!0}))}),this),o&&this._createSelector(o,e,i,a,s)},_createSelector:function(t,e,n,i,r){var o=this.getSelectorGroup();h(t,(function(t){!function(t){var i=t.type,r=new a.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r);var s=e.getModel("selectorLabel"),l=e.getModel("emphasis.selectorLabel");a.setLabelStyle(r.style,r.hoverStyle={},s,l,{defaultText:t.title,isRectText:!1}),a.setHoverStyle(r)}(t)}))},_createItem:function(t,e,n,i,s,l,c,h,d,f){var g=i.get("itemWidth"),m=i.get("itemHeight"),v=i.get("inactiveColor"),y=i.get("inactiveBorderColor"),x=i.get("symbolKeepAspect"),b=i.getModel("itemStyle"),w=i.isSelected(t),C=new u,_=n.getModel("textStyle"),S=n.get("icon"),O=n.getModel("tooltip"),M=O.parentModel,k=o(s=S||s,0,0,g,m,w?h:v,null==x||x);if(C.add(p(k,s,b,d,y,w)),!S&&l&&(l!==s||"none"===l)){var A=.8*m;"none"===l&&(l="circle");var T=o(l,(g-A)/2,(m-A)/2,A,A,w?h:v,null==x||x);C.add(p(T,l,b,d,y,w))}var D="left"===c?g+5:-5,P=c,I=i.get("formatter"),E=t;"string"==typeof I&&I?E=I.replace("{name}",null!=t?t:""):"function"==typeof I&&(E=I(t)),C.add(new a.Text({style:a.setTextStyle({},_,{text:E,x:D,y:m/2,textFill:w?_.getTextColor():v,textAlign:P,textVerticalAlign:"middle"})}));var j=new a.Rect({shape:C.getBoundingRect(),invisible:!0,tooltip:O.get("show")?r.extend({content:t,formatter:M.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]}},O.option):null});return C.add(j),C.eachChild((function(t){t.silent=!0})),j.silent=!f,this.getContentGroup().add(C),a.setHoverStyle(C),C.__legendDataIndex=e,C},layoutInner:function(t,e,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();l.box(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var c=a.getBoundingRect(),h=[-c.x,-c.y];if(r){l.box("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),d=[-u.x,-u.y],p=t.get("selectorButtonGap",!0),f=t.getOrient().index,g=0===f?"width":"height",m=0===f?"height":"width",v=0===f?"y":"x";"end"===o?d[f]+=c[g]+p:h[f]+=u[g]+p,d[1-f]+=c[m]/2-u[m]/2,s.attr("position",d),a.attr("position",h);var y={x:0,y:0};return y[g]=c[g]+p+u[g],y[m]=Math.max(c[m],u[m]),y[v]=Math.min(0,u[v]+d[1-f]),y}return a.attr("position",h),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function p(t,e,n,i,r,o){var a;return"line"!==e&&e.indexOf("empty")<0?(a=n.getItemStyle(),t.style.stroke=i,o||(a.stroke=r)):a=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(a)}function f(t,e,n,i){m(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),g(t,e,n,i)}function g(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function m(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}t.exports=d},function(t,e,n){n(205),n(89),n(90),n(669),n(670),n(207),n(208)},function(t,e,n){n(205),n(89),n(90),n(671),n(672),n(207),n(208)},function(t,e,n){var i=n(5),r=n(315);n(316),n(317),n(675),n(676),n(322),i.registerPreprocessor(r)},function(t,e,n){var i=n(3),r=i.each;function o(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.visualMap;i.isArray(e)||(e=e?[e]:[]),r(e,(function(t){if(t){o(t,"splitList")&&!o(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&i.isArray(e)&&r(e,(function(t){i.isObject(t)&&(o(t,"start")&&!o(t,"min")&&(t.min=t.start),o(t,"end")&&!o(t,"max")&&(t.max=t.end))}))}}))}},function(t,e,n){n(30).registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}))},function(t,e,n){var i=n(5),r=n(3),o=n(138),a=n(76),s=i.PRIORITY.VISUAL.COMPONENT;function l(t,e,n,i){for(var r=e.targetVisuals[i],o=a.prepareVisualTypes(r),s={color:t.getData().getVisual("color")},l=0,c=o.length;l<c;l++){var h=o[l],u=r["opacity"===h?"__alphaForOpacity":h];u&&u.applyVisual(n,d,p)}return s.color;function d(t){return s[t]}function p(t,e){s[t]=e}}i.registerVisual(s,{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i=t.pipelineContext;!e.isTargetSeries(t)||i&&i.large||n.push(o.incrementalApplyVisual(e.stateList,e.targetVisuals,r.bind(e.getValueState,e),e.getDataDimension(t.getData())))})),n}}),i.registerVisual(s,{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(r.bind(l,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimension(n),s=n.getDimensionInfo(a);null!=s&&(o.dimension=s.index,i.push(o))}})),t.getData().setVisual("visualMeta",i)}})},function(t,e,n){var i=n(5),r=n(3),o=n(25),a=n(319),s=n(76),l=n(138),c=n(11),h=n(8),u=s.mapVisual,d=s.eachVisual,p=r.isArray,f=r.each,g=h.asc,m=h.linearMap,v=r.noop,y=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;o.canvasSupported||(n.realtime=!1),!e&&l.replaceVisualOption(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=r.bind(t,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,e,t),this.targetVisuals=l.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=c.normalizeToArray(t),e},eachTargetSeries:function(t,e){r.each(this.getTargetSeriesIndices(),(function(n){t.call(e,this.ecModel.getSeriesByIndex(n))}),this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},formatValueText:function(t,e,n){var i,o,a=this.option,s=a.precision,l=this.dataBound,c=a.formatter;return n=n||["<",">"],r.isArray(t)&&(t=t.slice(),i=!0),o=e?t:i?[h(t[0]),h(t[1])]:h(t),r.isString(c)?c.replace("{value}",i?o[0]:o).replace("{value2}",i?o[1]:o):r.isFunction(c)?i?c(t[0],t[1]):c(t):i?t[0]===l[0]?n[0]+" "+o[1]:t[1]===l[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o;function h(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(Math.min(s,20))}},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var i=t.dimensions,r=i.length-1;r>=0;r--){var o=i[r];if(!t.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),o=e.controller||(e.controller={});r.merge(i,n),r.merge(o,n);var l=this.isCategory();function c(n){p(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")},f(this.stateList,(function(t){var e=n[t];if(r.isString(e)){var i=a.get(e,"active",l);i?(n[t]={},n[t][e]=i):delete n[t]}}),this)}c.call(this,i),c.call(this,o),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},f(i,(function(t,e){if(s.isValidType(e)){var n=a.get(e,"inactive",l);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor");f(this.stateList,(function(o){var a=this.itemSize,s=t[o];s||(s=t[o]={color:l?i:[i]}),null==s.symbol&&(s.symbol=e&&r.clone(e)||(l?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&r.clone(n)||(l?a[0]:[a[0],a[0]])),s.symbol=u(s.symbol,(function(t){return"none"===t||"square"===t?"roundRect":t}));var c=s.symbolSize;if(null!=c){var h=-1/0;d(c,(function(t){t>h&&(h=t)})),s.symbolSize=u(c,(function(t){return m(t,[0,h],[0,a[0]],!0)}))}}),this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v});t.exports=y},function(t,e,n){var i=n(3),r={get:function(t,e,n){var r=i.clone((o[t]||{})[e]);return n&&i.isArray(r)?r[r.length-1]:r}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=r;t.exports=a},function(t,e,n){var i=n(5),r=n(3),o=n(6),a=n(15),s=n(14),l=n(76),c=i.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=a.normalizeCssArray(e.get("padding")||0),i=t.getBoundingRect();t.add(new o.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){var i=(n=n||{}).forceState,o=this.visualMapModel,a={};if("symbol"===e&&(a.symbol=o.get("itemSymbol")),"color"===e){var s=o.get("contentColor");a.color=s}function c(t){return a[t]}function h(t,e){a[t]=e}var u=o.controllerVisuals[i||o.getValueState(t)],d=l.prepareVisualTypes(u);return r.each(d,(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),l.dependsOn(i,e)&&r&&r.applyVisual(t,c,h)})),a[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;s.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:r.noop});t.exports=c},function(t,e,n){var i=n(3),r=n(14).getLayoutRect;e.getItemAlign=function(t,e,n){var i=t.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},s="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[s],h=[0,null,10],u={},d=0;d<3;d++)u[l[1-s][d]]=h[d],u[c[d]]=2===d?n[0]:i[c[d]];var p=[["x","width",3],["y","height",0]][s],f=r(u,a,i.padding);return c[(f.margin[p[2]]||0)+f[p[0]]+.5*f[p[1]]<.5*a[p[1]]?0:1]},e.makeHighDownBatch=function(t,e){return i.each(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}},function(t,e,n){n(5).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},(function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))}))},function(t,e,n){var i=n(5),r=n(315);n(316),n(317),n(677),n(678),n(322),i.registerPreprocessor(r)},function(t,e,n){var i,r=n(25),o="urn:schemas-microsoft-com:vml",a="undefined"==typeof window?null:window,s=!1,l=a&&a.document;if(l&&!r.canvasSupported)try{!l.namespaces.zrvml&&l.namespaces.add("zrvml",o),i=function(t){return l.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){i=function(t){return l.createElement("<"+t+' xmlns="'+o+'" class="zrvml">')}}e.doc=l,e.createNode=function(t){return i(t)},e.initVML=function(){if(!s&&l){s=!0;var t=l.styleSheets;t.length<31?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(t,e,n){"use strict";var i=n(1),r=n(16),o=n(219),a=n(224);function s(t,e,n){var i=t.getTotalMatrix();if(i){var r=function(t,e){if(e){var n=Object(a.invert)(e);return Object(a.multiplyVec2)(n,t)}return t}([e,n,1],i);return[r[0],r[1]]}return[e,n]}function l(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!Object(o.isAllowCapture)(t)&&!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var i=s(t,e,n),r=i[0],a=i[1];if(t.isClipped(r,a))return!1}var l=t.cfg.cacheCanvasBBox;return l||(l=t.getCanvasBBox()),e>=l.minX&&e<=l.maxX&&n>=l.minY&&n<=l.maxY}var c=n(59),h=n(93),u=n(27),d=n(10),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.renderer="canvas",e.autoDraw=!0,e.localRefresh=!0,e.refreshElements=[],e.clipView=!0,e.quickHit=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return h.a},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(d.d)();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var i=this.get("context"),r=this.get("el"),o=this.getPixelRatio();r.width=o*e,r.height=o*n,o>1&&i.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){return this.get("quickHit")?function t(e,n,i){if(!l(e,n,i))return null;for(var r=null,o=e.getChildren(),a=o.length-1;a>=0;a--){var c=o[a];if(c.isGroup())r=t(c,n,i);else if(l(c,n,i)){var h=c,u=s(c,n,i),d=u[0],p=u[1];h.isInShape(d,p)&&(r=c)}if(r)break}return r}(this,e,n):t.prototype.getShape.call(this,e,n,null)},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();e.length&&e[0]===this?t=n:(t=Object(u.d)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),this.get("clipView")&&(t=Object(u.e)(t,n)));return t},e.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(d.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(u.a)(t,this),Object(u.b)(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),i=this._getRefreshRegion();i&&(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Object(u.a)(t,this),Object(u.b)(t,n,i),t.restore()),Object(d.c)(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(d.n)((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e}(r.AbstractCanvas);e.a=p},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},r=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},o=function(e){this.version=e,this.type="node",this.name="node",this.os=t.platform},a=function(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"},s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},l=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],u=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(e){return e?f(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!=typeof navigator?f(navigator.userAgent):void 0!==t&&t.version?new o(t.version.slice(1)):null}function p(t){return""!==t&&h.reduce((function(e,n){var i=n[0],r=n[1];if(e)return e;var o=r.exec(t);return!!o&&[i,o]}),!1)}function f(t){var e=p(t);if(!e)return null;var n=e[0],o=e[1];if("searchbot"===n)return new s;var l=o[1]&&o[1].split(/[._]/).slice(0,3);l?l.length<3&&(l=i(l,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-l.length))):l=[];var h=l.join("."),d=function(t){for(var e=0,n=u.length;e<n;e++){var i=u[e],r=i[0];if(i[1].exec(t))return r}return null}(t),f=c.exec(t);return f&&f[1]?new a(n,h,d,f[1]):new r(n,h,d)}}).call(this,n(226))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(357),r=n(358),o=n(53),a=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(o.default(t)||o.default(e))return!1;if(r.default(t)||r.default(e)){if(t.length!==e.length)return!1;for(var n=!0,s=0;s<t.length&&(n=a(t[s],e[s]));s++);return n}if(i.default(t)||i.default(e)){var l=Object.keys(t),c=Object.keys(e);if(l.length!==c.length)return!1;for(n=!0,s=0;s<l.length&&(n=a(t[l[s]],e[l[s]]));s++);return n}return!1};e.default=a},function(t,e,n){"use strict";(function(t){var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){this.name=t,this.version=e,this.os=n};e.BrowserInfo=i;var r=function(e){this.version=e,this.name="node",this.os=t.platform};e.NodeInfo=r;var o=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};e.BotInfo=o;var a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],s=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function l(t){var e=""!==t&&a.reduce((function(e,n){var i=n[0],r=n[1];if(e)return e;var o=r.exec(t);return!!o&&[i,o]}),!1);if(!e)return null;var r=e[0],s=e[1];if("searchbot"===r)return new o;var l=s[1]&&s[1].split(/[._]/).slice(0,3);return l?l.length<3&&(l=n(l,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-l.length))):l=[],new i(r,l.join("."),c(t))}function c(t){for(var e=0,n=s.length;e<n;e++){var i=s[e],r=i[0];if(i[1].test(t))return r}return null}function h(){return void 0!==t&&t.version?new r(t.version.slice(1)):null}e.detect=function(t){return t?l(t):"undefined"!=typeof navigator?l(navigator.userAgent):h()},e.parseUserAgent=l,e.detectOS=c,e.getNodeVersion=h}).call(this,n(226))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(377);function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function a(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(o(t,e))}e.default=function(t,e){var n=e[1],r=e[2],s=i.mod(i.toRadian(e[3]),2*Math.PI),l=e[4],c=e[5],h=t[0],u=t[1],d=e[6],p=e[7],f=Math.cos(s)*(h-d)/2+Math.sin(s)*(u-p)/2,g=-1*Math.sin(s)*(h-d)/2+Math.cos(s)*(u-p)/2,m=f*f/(n*n)+g*g/(r*r);m>1&&(n*=Math.sqrt(m),r*=Math.sqrt(m));var v=n*n*(g*g)+r*r*(f*f),y=v?Math.sqrt((n*n*(r*r)-v)/v):1;l===c&&(y*=-1),isNaN(y)&&(y=0);var x=r?y*n*g/r:0,b=n?y*-r*f/n:0,w=(h+d)/2+Math.cos(s)*x-Math.sin(s)*b,C=(u+p)/2+Math.sin(s)*x+Math.cos(s)*b,_=[(f-x)/n,(g-b)/r],S=[(-1*f-x)/n,(-1*g-b)/r],O=a([1,0],_),M=a(_,S);return o(_,S)<=-1&&(M=Math.PI),o(_,S)>=1&&(M=0),0===c&&M>0&&(M-=2*Math.PI),1===c&&M<0&&(M+=2*Math.PI),{cx:w,cy:C,rx:i.isSamePoint(t,[d,p])?0:n,ry:i.isSamePoint(t,[d,p])?0:r,startAngle:O,endAngle:O+M,xRotation:s,arcFlag:l,sweepFlag:c}}},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,i){return t[0]===e&&(n=i,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function a(){n&&(n=!1,t()),i&&l()}function s(){o(a)}function l(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,e);r=t}return l}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),c=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},u=v(0,0,0,0);function d(t){return parseFloat(t)||0}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+d(t["border-"+n+"-width"])}),0)}function f(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return u;var i=h(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=t["padding-"+r];e[r]=d(o)}return e}(i),o=r.left+r.right,a=r.top+r.bottom,s=d(i.width),l=d(i.height);if("border-box"===i.boxSizing&&(Math.round(s+o)!==e&&(s-=p(i,"left","right")+o),Math.round(l+a)!==n&&(l-=p(i,"top","bottom")+a)),!function(t){return t===h(t).document.documentElement}(t)){var c=Math.round(s+o)-e,f=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(f)&&(l-=f)}return v(r.left,r.top,s,l)}var g="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return i?g(t)?function(t){var e=t.getBBox();return v(0,0,e.width,e.height)}(t):f(t):u}function v(t,e,n,i){return{x:t,y:e,width:n,height:i}}var y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),x=function(t,e){var n,i,r,o,a,s,l,h=(i=(n=e).x,r=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:i,y:r,width:o,height:a,top:r,right:i+o,bottom:a+r,left:i}),l);c(this,{target:t,contentRect:h})},b=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new x(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,C=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),i=new b(e,n,this);w.set(this,i)};["observe","unobserve","disconnect"].forEach((function(t){C.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}));var _=void 0!==r.ResizeObserver?r.ResizeObserver:C;e.a=_}).call(this,n(99))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPoints=e.HOLLOW_SHAPES=e.SHAPES=void 0;var i=n(2),r=n(176),o=n(117);e.SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e.HOLLOW_SHAPES=["cross","tick","plus","hyphen","line"],e.drawPoints=function(t,e,n,a,s){var l=o.getStyle(e,s,!s,"r"),c=t.parsePoints(e.points),h=c[0];if(e.isStack)h=c[1];else if(c.length>1){for(var u=n.addGroup(),d=0,p=c;d<p.length;d++){var f=p[d];u.addShape({type:"marker",attrs:i.__assign(i.__assign(i.__assign({},l),{symbol:r.MarkerSymbols[a]||a}),f)})}return u}return n.addShape({type:"marker",attrs:i.__assign(i.__assign(i.__assign({},l),{symbol:r.MarkerSymbols[a]||a}),h)})}},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){var i;!function(r,o,a){if(r){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)l[111+d]="f"+d;for(d=0;d<=9;++d)l[d+96]=d.toString();y.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},y.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},y.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function t(e,n){return null!==e&&e!==o&&(e===n||t(e.parentNode,n))}(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},y.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},y.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(l[e]=t[e]);s=null},y.init=function(){var t=y(o);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),r.Mousetrap=y,t.exports&&(t.exports=y),void 0===(i=function(){return y}.call(e,n,e,t))||(t.exports=i)}function p(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function f(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return l[t.which]?l[t.which]:c[t.which]?c[t.which]:String.fromCharCode(t.which).toLowerCase()}function g(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function m(t,e,n){return n||(n=function(){if(!s)for(var t in s={},l)t>95&&t<112||l.hasOwnProperty(t)&&(s[l[t]]=t);return s}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function v(t,e){var n,i,r,o=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),r=0;r<n.length;++r)i=n[r],u[i]&&(i=u[i]),e&&"keypress"!=e&&h[i]&&(i=h[i],o.push("shift")),g(i)&&o.push(i);return{key:i,modifiers:o,action:e=m(i,o,e)}}function y(t){var e=this;if(t=t||o,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var n,i={},r=!1,a=!1,s=!1;function l(t){t=t||{};var e,n=!1;for(e in i)t[e]?n=!0:i[e]=0;n||(s=!1)}function c(t,n,r,o,a,s){var l,c,h,u,d=[],p=r.type;if(!e._callbacks[t])return[];for("keyup"==p&&g(t)&&(n=[t]),l=0;l<e._callbacks[t].length;++l)if(c=e._callbacks[t][l],(o||!c.seq||i[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(h=n,u=c.modifiers,h.sort().join(",")===u.sort().join(",")))){var f=!o&&c.combo==a,m=o&&c.seq==o&&c.level==s;(f||m)&&e._callbacks[t].splice(l,1),d.push(c)}return d}function h(t,n,i,r){e.stopCallback(n,n.target||n.srcElement,i,r)||!1===t(n,i)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function u(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=f(t);n&&("keyup"!=t.type||r!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):r=!1)}function d(t,e,o,a){function c(e){return function(){s=e,++i[t],clearTimeout(n),n=setTimeout(l,1e3)}}function u(e){h(o,e,t),"keyup"!==a&&(r=f(e)),setTimeout(l,10)}i[t]=0;for(var d=0;d<e.length;++d){var p=d+1===e.length?u:c(a||v(e[d+1]).action);m(e[d],p,a,t,d)}}function m(t,n,i,r,o){e._directMap[t+":"+i]=n;var a,s=(t=t.replace(/\s+/g," ")).split(" ");s.length>1?d(t,s,n,i):(a=v(t,i),e._callbacks[a.key]=e._callbacks[a.key]||[],c(a.key,a.modifiers,{type:a.action},r,t,o),e._callbacks[a.key][r?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:t}))}e._handleKey=function(t,e,n){var i,r=c(t,e,n),o={},u=0,d=!1;for(i=0;i<r.length;++i)r[i].seq&&(u=Math.max(u,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=u)continue;d=!0,o[r[i].seq]=1,h(r[i].callback,n,r[i].combo,r[i].seq)}else d||h(r[i].callback,n,r[i].combo);var p="keypress"==n.type&&a;n.type!=s||g(t)||p||l(o),a=d&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var i=0;i<t.length;++i)m(t[i],e,n)},p(t,"keypress",u),p(t,"keydown",u),p(t,"keyup",u)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){var i=n(720);function r(t,e,n){Array.isArray(t)?t.push(e):t[n]=e}t.exports=function(t){var e,n,o,a=[];if(Array.isArray(t))n=[],e=t.length-1;else{if("object"!=typeof t||null===t)throw new TypeError("Expecting an Array or an Object, but `"+(null===t?"null":typeof t)+"` provided.");n={},o=Object.keys(t),e=o.length-1}return function n(s,l){var c,h,u;for(h=o?o[l]:l,Array.isArray(t[h])||(void 0===t[h]?t[h]=[]:t[h]=[t[h]]),c=0;c<t[h].length;c++)d=s,r(u=Array.isArray(d)?[].concat(d):i(d),t[h][c],h),l>=e?a.push(u):n(u,l+1);var d}(n,0),a}},function(t,e,n){"use strict";(function(t){function i(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}n.d(e,"a",(function(){return q})),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,i((function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",i="hour",r="day",o="week",a="month",s="quarter",l="year",c="date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},f={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+p(i,2,"0")+":"+p(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,a),o=n-r<0,s=e.clone().add(i+(o?-1:1),a);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:a,y:l,w:o,d:r,D:c,h:i,m:n,s:e,ms:t,Q:s}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",m={};m[g]=d;var v=function(t){return t instanceof w},y=function(t,e,n){var i;if(!t)return g;if("string"==typeof t)m[t]&&(i=t),e&&(m[t]=e,i=t);else{var r=t.name;m[r]=t,i=r}return!n&&i&&(g=i),i||!n&&g},x=function(t,e){if(v(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new w(n)},b=f;b.l=y,b.i=v,b.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function d(t){this.$L=y(t.locale,null,!0),this.parse(t)}var p=d.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(h);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return b},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var n=x(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return x(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<x(t)},p.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,s){var h=this,u=!!b.u(s)||s,d=b.p(t),p=function(t,e){var n=b.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return u?n:n.endOf(r)},f=function(t,e){return b.w(h.toDate()[t].apply(h.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},g=this.$W,m=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case l:return u?p(1,0):p(31,11);case a:return u?p(1,m):p(0,m+1);case o:var x=this.$locale().weekStart||0,w=(g<x?g+7:g)-x;return p(u?v-w:v+(6-w),m);case r:case c:return f(y+"Hours",0);case i:return f(y+"Minutes",1);case n:return f(y+"Seconds",2);case e:return f(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(o,s){var h,u=b.p(o),d="set"+(this.$u?"UTC":""),p=(h={},h[r]=d+"Date",h[c]=d+"Date",h[a]=d+"Month",h[l]=d+"FullYear",h[i]=d+"Hours",h[n]=d+"Minutes",h[e]=d+"Seconds",h[t]=d+"Milliseconds",h)[u],f=u===r?this.$D+(s-this.$W):s;if(u===a||u===l){var g=this.clone().set(c,1);g.$d[p](f),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[b.p(t)]()},p.add=function(t,s){var c,h=this;t=Number(t);var u=b.p(s),d=function(e){var n=x(h);return b.w(n.date(n.date()+Math.round(e*t)),h)};if(u===a)return this.set(a,this.$M+t);if(u===l)return this.set(l,this.$y+t);if(u===r)return d(1);if(u===o)return d(7);var p=(c={},c[n]=6e4,c[i]=36e5,c[e]=1e3,c)[u]||1,f=this.$d.getTime()+t*p;return b.w(f,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),r=this.$locale(),o=this.$H,a=this.$m,s=this.$M,l=r.weekdays,c=r.months,h=function(t,i,r,o){return t&&(t[i]||t(e,n))||r[i].substr(0,o)},d=function(t){return b.s(o%12||12,t,"0")},p=r.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:h(r.monthsShort,s,c,3),MMMM:h(c,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:h(r.weekdaysMin,this.$W,l,2),ddd:h(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:b.s(o,2,"0"),h:d(1),hh:d(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:i};return n.replace(u,(function(t,e){return e||f[t]||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,c,h){var u,d=b.p(c),p=x(t),f=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,m=b.m(this,p);return m=(u={},u[l]=m/12,u[a]=m,u[s]=m/3,u[o]=(g-f)/6048e5,u[r]=(g-f)/864e5,u[i]=g/36e5,u[n]=g/6e4,u[e]=g/1e3,u)[d]||g,h?m:b.a(m)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return m[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=y(t,e,!0);return i&&(n.$L=i),n},p.clone=function(){return b.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},d}(),C=w.prototype;return x.prototype=C,[["$ms",t],["$s",e],["$m",n],["$H",i],["$W",r],["$M",a],["$y",l],["$D",c]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,w,x),t.$i=!0),x},x.locale=y,x.isDayjs=v,x.unix=function(t){return x(1e3*t)},x.en=m[g],x.Ls=m,x.p={},x}()})),i((function(t,e){t.exports=function(t,e,n){var i=e.prototype;n.utc=function(t){return new e({date:t,utc:!0,args:arguments})},i.utc=function(t){var e=n(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},i.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var r=i.parse;i.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),r.call(this,t)};var o=i.init;i.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else o.call(this)};var a=i.utcOffset;i.utcOffset=function(t,e){var n=this.$utils().u;if(n(t))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;var i=Math.abs(t)<=16?60*t:t,r=this;if(e)return r.$offset=i,r.$u=0===t,r;if(0!==t){var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(i+o,"minute")).$offset=i,r.$x.$localOffset=o}else r=this.utc();return r};var s=i.format;i.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,e)},i.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var l=i.toDate;i.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var c=i.diff;i.diff=function(t,e,i){if(t&&this.$u===t.$u)return c.call(this,t,e,i);var r=this.local(),o=n(t).local();return c.call(r,o,e,i)}}})),new class{constructor(){this.GSTCID=this.GSTCID.bind(this),this.isGSTCID=this.isGSTCID.bind(this),this.sourceID=this.sourceID.bind(this)}GSTCID(t){return"gstcid-"+t}isGSTCID(t){return t.startsWith("gstcid-")}sourceID(t){return this.isGSTCID(t)?t.substr(7):t}};const r=t=>null!=t&&"boolean"==typeof t.isDirective,o="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,a=(t,e,n=null,i=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,i),e=n}},s=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},l={},c={},h=`{{lit-${String(Math.random()).slice(2)}}}`,u=`\x3c!--${h}--\x3e`,d=new RegExp(`${h}|${u}`);class p{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],r=document.createTreeWalker(e.content,133,null,!1);let o=0,a=-1,s=0;const{strings:l,values:{length:c}}=t;for(;s<c;){const t=r.nextNode();if(null!==t){if(a++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let i=0;for(let t=0;t<n;t++)f(e[t].name,"$lit$")&&i++;for(;i-- >0;){const e=l[s],n=y.exec(e)[2],i=n.toLowerCase()+"$lit$",r=t.getAttribute(i);t.removeAttribute(i);const o=r.split(d);this.parts.push({type:"attribute",index:a,name:n,strings:o}),s+=o.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),r.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(h)>=0){const i=t.parentNode,r=e.split(d),o=r.length-1;for(let e=0;e<o;e++){let n,o=r[e];if(""===o)n=v();else{const t=y.exec(o);null!==t&&f(t[2],"$lit$")&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),n=document.createTextNode(o)}i.insertBefore(n,t),this.parts.push({type:"node",index:++a})}""===r[o]?(i.insertBefore(v(),t),n.push(t)):t.data=r[o],s+=o}}else if(8===t.nodeType)if(t.data===h){const e=t.parentNode;null!==t.previousSibling&&a!==o||(a++,e.insertBefore(v(),t)),o=a,this.parts.push({type:"node",index:a}),null===t.nextSibling?t.data="":(n.push(t),a--),s++}else{let e=-1;for(;-1!==(e=t.data.indexOf(h,e+1));)this.parts.push({type:"node",index:-1}),s++}}else r.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const f=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},g=t=>-1!==t.index,m=document.createComment(""),v=()=>m.cloneNode(),y=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class x{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=o?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let r,a=0,s=0,l=i.nextNode();for(;a<n.length;)if(r=n[a],g(r)){for(;s<r.index;)s++,"TEMPLATE"===l.nodeName&&(e.push(l),i.currentNode=l.content),null===(l=i.nextNode())&&(i.currentNode=e.pop(),l=i.nextNode());if("node"===r.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));a++}else this.__parts.push(void 0),a++;return o&&(document.adoptNode(t),customElements.upgrade(t)),t}}const b=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),w=` ${h} `,C=document.createElement("template");class _{constructor(t,e,n,i){this.strings=t,this.values=e,this.type=n,this.processor=i}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let i=0;i<t;i++){const t=this.strings[i],r=t.lastIndexOf("\x3c!--");n=(r>-1||n)&&-1===t.indexOf("--\x3e",r+1);const o=y.exec(t);e+=null===o?t+(n?w:u):t.substr(0,o.index)+o[1]+o[2]+"$lit$"+o[3]+h}return e+=this.strings[t],e}getTemplateElement(){const t=C.cloneNode();let e=this.getHTML();return void 0!==b&&(e=b.createHTML(e)),t.innerHTML=e,t}}class S extends _{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),a(e,n.firstChild),t}}const O=t=>null===t||!("object"==typeof t||"function"==typeof t),M=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]),k=document.createTextNode("");class A{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new T(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!M(t))return t}let i="";for(let r=0;r<e;r++){i+=t[r];const e=n[r];if(void 0!==e){const t=e.value;if(O(t)||!M(t))i+="string"==typeof t?t:String(t);else for(const e of t)i+="string"==typeof e?e:String(e)}}return i+=t[e],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class T{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===l||O(t)&&t===this.value||(this.value=t,r(t)||(this.committer.dirty=!0))}commit(){for(;r(this.value);){const t=this.value;this.value=l,t.isClass?t.body(this):t(this)}this.value!==l&&this.committer.commit()}}class D{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(v()),this.endNode=t.appendChild(v())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=v()),t.__insert(this.endNode=v())}insertAfterPart(t){t.__insert(this.startNode=v()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;r(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=l,t.isClass?t.body(this):t(this)}const t=this.__pendingValue;t!==l&&(O(t)?t!==this.value&&this.__commitText(t):t instanceof _?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):M(t)?this.__commitIterable(t):t===c?(this.value=c,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);if(e===this.endNode.previousSibling&&3===e.nodeType)e.data=n;else{const t=k.cloneNode();t.textContent=n,this.__commitNode(t)}this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof x&&this.value.template===e)this.value.update(t.values);else{const n=new x(e,t.processor,this.options),i=n._clone();n.update(t.values),this.__commitNode(i),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,i=0;for(const r of t)n=e[i],void 0===n&&(n=new D(this.options),e.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(e[i-1])),n.setValue(r),n.commit(),i++;i<e.length&&(e.length=i,this.clear(n&&n.endNode))}clear(t=this.startNode){s(this.startNode.parentNode,t.nextSibling,this.endNode)}}class P{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;r(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=l,t.isClass?t.body(this):t(this)}if(this.__pendingValue===l)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=l}}class I extends A{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends T{}let j=!1;(()=>{try{const t={get capture(){return j=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class L{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;r(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=l,t.isClass?t.body(this):t(this)}if(this.__pendingValue===l)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),i=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=B(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=l}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const B=t=>t&&(j?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);class N{handleAttributeExpressions(t,e,n,i){const r=e[0];return"."===r?new I(t,e.slice(1),n).parts:"@"===r?[new L(t,e.slice(1),i.eventContext)]:"?"===r?[new P(t,e.slice(1),n)]:new A(t,e,n).parts}handleTextExpression(t){return new D(t)}}const R=new N;function F(t){let e=z.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},z.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const i=t.strings.join(h);return n=e.keyString.get(i),void 0===n&&(n=new p(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const z=new Map,V=new WeakMap;function G(t,e=""){let n="gstc__"+t;return"gstc"===t&&(n="gstc"),e?`${n} ${n}--${e.replace(":","-")}`:n}"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0"),Object.freeze({__proto__:null,html:(t,...e)=>new _(t,e,"html",R),svg:(t,...e)=>new S(t,e,"svg",R),DefaultTemplateProcessor:N,defaultTemplateProcessor:R,directive:t=>(...e)=>{const n=t(...e);return n.isDirective=!0,n},Directive:class{constructor(){this.isDirective=!0,this.isClass=!0}body(t){}},isDirective:r,removeNodes:s,reparentNodes:a,noChange:l,nothing:c,AttributeCommitter:A,AttributePart:T,BooleanAttributePart:P,EventPart:L,isIterable:M,isPrimitive:O,NodePart:D,PropertyCommitter:I,PropertyPart:E,parts:V,render:(t,e,n)=>{let i=V.get(e);void 0===i&&(s(e,e.firstChild),V.set(e,i=new D(Object.assign({templateFactory:F},n))),i.appendInto(e)),i.setValue(t),i.commit()},templateCaches:z,templateFactory:F,TemplateInstance:x,SVGTemplateResult:S,TemplateResult:_,createMarker:v,isTemplatePartActive:g,Template:p}),document.createElement("template"),document.createTextNode("");const H="chart-timeline-items-row-item",W=G("chart-timeline-items-row-item-resizing-handle-content-line"),$="chart-timeline-items-row-item-resizing-handle",Y=G($);class X{constructor(t,e){this.onDestroy=[],this.scrollWaiting=0,this.vido=t,this.state=t.state,this.api=t.api,this.data=function(t={}){const e={onStart:({items:t})=>t.after,onResize:({items:t})=>t.after,onEnd:({items:t})=>t.after},n={start:({startTime:t,time:e})=>t.startOf(e.period),end:({endTime:t,time:e})=>t.endOf(e.period)},i={width:18,horizontalMargin:0,verticalMargin:0,outside:!1,outsideWidth:14,outsideHorizontalMargin:6,onlyWhenSelected:!0},r=Object.assign({enabled:!0,dependant:!0,debug:!1,state:"",content:null,bodyClass:"gstc-items-resizing",bodyClassLeft:"gstc-items-resizing-left",bodyClassRight:"gstc-items-resizing-right",outsideWidthThreshold:100,movement:{px:0,time:0},initialItems:[],initialDependant:[],initialItemsData:{},initialDependantData:{},initialLeftPx:0,leftIsMoving:!1,rightIsMoving:!1,handle:Object.assign({},i),events:Object.assign({},e),snapToTime:Object.assign({},n),autoScroll:{speed:1,edgeThreshold:50}},t);return t.snapToTime&&(r.snapToTime=Object.assign(Object.assign({},n),t.snapToTime)),t.events&&(r.events=Object.assign(Object.assign({},e),t.events)),t.handle&&(r.handle=Object.assign(Object.assign({},i),t.handle)),t.autoScroll&&(r.autoScroll=Object.assign(Object.assign({},r.autoScroll),t.autoScroll)),r}(e),this.html=t.html,this.data.content||(this.data.content=this.html`<div class=${W}></div><div class=${W}></div>`),this.innerSlot=this.innerSlot.bind(this),this.onRightPointerDown=this.onRightPointerDown.bind(this),this.onRightPointerMove=this.onRightPointerMove.bind(this),this.onRightPointerUp=this.onRightPointerUp.bind(this),this.onLeftPointerDown=this.onLeftPointerDown.bind(this),this.onLeftPointerMove=this.onLeftPointerMove.bind(this),this.onLeftPointerUp=this.onLeftPointerUp.bind(this),this.destroy=this.destroy.bind(this),this.updateData(),this.onDestroy.push(this.state.subscribe("$data.elements.chart-timeline",t=>this.timelineElement=t)),this.onDestroy.push(this.state.subscribe("config.plugin.ItemResizing",t=>{t.enabled?document.body.classList.add(t.bodyClass):document.body.classList.remove(t.bodyClass),this.data=t})),this.onDestroy.push(this.state.subscribe("config.plugin.TimelinePointer",t=>{this.pointerData=t,this.onPointerData()})),this.state.update("config.slots.chart-timeline-items-row-item.inner",t=>(t.includes(this.innerSlot)||t.push(this.innerSlot),t))}destroy(){this.onDestroy.forEach(t=>t()),this.state.update("config.slots.chart-timeline-items-row-item.inner",t=>t.filter(t=>t!==this.innerSlot)),this.api.pluginDestroyed("ItemResizing")}updateData(){this.state.update("config.plugin.ItemResizing",this.data)}setUpClasses(t=!1){this.leftClassName=this.api.getClass($),this.leftClassName+=" "+this.leftClassName+"--left",this.rightClassName=this.api.getClass($),this.rightClassName+=" "+this.rightClassName+"--right",t&&(this.leftClassName+=` ${this.api.getClass($)}--left-outside`,this.rightClassName+=` ${this.api.getClass($)}--right-outside`)}getSelectedItems(){return this.state.get("config.plugin.Selection.selected."+H).map(t=>this.api.mergeDeep({},this.api.getItem(t)))}getSelectedItemsData(t){const e={};for(const n of t)e[n.id]=this.api.mergeDeep({},this.api.getItemData(n.id));return e}getRightStyleMap(t){const e=new this.vido.StyleMap({}),n=this.api.getItemData(t.id);return e.style.top="0px",this.data.handle.outside||n.actualWidth<this.data.outsideWidthThreshold?(e.style.position="absolute",e.style.right=-(this.data.handle.outsideWidth+this.data.handle.outsideHorizontalMargin)+"px",e.style.width=this.data.handle.outsideWidth+"px",this.setUpClasses(!0)):(e.style.position="static",e.style.width=this.data.handle.width+"px",this.setUpClasses(!1)),e.style.height=n.actualHeight-2*this.data.handle.verticalMargin+"px",n.position.right!==n.position.actualRight&&(e.style.display="none"),e}getLeftStyleMap(t){const e=new this.vido.StyleMap({}),n=this.api.getItemData(t.id);return e.style.top="0px",this.data.handle.outside||n.actualWidth<this.data.outsideWidthThreshold?(e.style.position="absolute",e.style.left=-(this.data.handle.outsideWidth+this.data.handle.outsideHorizontalMargin)+"px",e.style.width=this.data.handle.outsideWidth+"px",this.setUpClasses(!0)):(e.style.position="static",e.style.left=this.data.handle.horizontalMargin+"px",e.style.width=this.data.handle.width+"px",this.setUpClasses(!1)),e.style.height=n.actualHeight-2*this.data.handle.verticalMargin+"px",n.position.left!==n.position.actualLeft&&(e.style.display="none"),e}getEventArgument(t){const e=this.api.getAllItems(),n=[];for(const i of t)n.push(this.api.mergeDeep({},e[i.id]));return{items:{initial:this.data.initialItems,before:n,after:t},vido:this.vido,state:this.state,time:this.state.get("$data.chart.time")}}getDependantItems(){const t=[],e=this.api.getItemsData();for(const n of this.data.initialItems)for(const i of e[n.id].dependant)t.includes(i)||t.push(i);const n=this.state.get("config.chart.items");return t.map(t=>n[t]).map(t=>this.api.mergeDeep({},t))}getDependantItemsData(){const t={},e=this.api.getItemsData();for(const n of this.data.initialDependant)t[n.id]=this.api.mergeDeep({},e[n.id]);return t}moveDependantItems(t,e){if(!this.data.dependant)return e;const n=this.api.getItemsData(),i=this.state.get("config.chart.time");for(const r of t){const t=this.data.initialItems.find(t=>t.id===r.id),o=this.data.initialItemsData[t.id],a=n[r.id];if(a.dependant.length)for(const t of a.dependant){const n=this.data.initialDependant.find(e=>e.id===t),r=this.data.initialDependantData[t],s=a.time.endDate.diff(o.time.endDate,"millisecond"),l=r.time.startDate.add(s,"millisecond"),c=r.time.endDate.add(s,"millisecond"),h=a.position.right-r.position.right,u=this.data.snapToTime.start({startTime:l,item:this.api.mergeDeep({},n),time:i,movement:{px:h,time:s},vido:this.vido}),d=this.data.snapToTime.end({endTime:c,item:this.api.mergeDeep({},n),time:i,movement:{px:h,time:s},vido:this.vido});e=(e=e.update(`config.chart.items.${t}.time`,t=>(t.start=u.valueOf(),t.end=d.valueOf(),t))).update(`$data.chart.items.${t}.time`,t=>(t.startDate=u,t.endDate=d,t))}}return e}dispatchEvent(t,e,n=null){"onStart"===t&&(this.api.muteMethod("fixOverlapped"),this.api.muteMethod("fullReload"),this.api.muteMethod("prepareExpanded"),this.api.muteMethod("calculateRowsHeight"),this.api.muteMethod("recalculateRowPercents"),this.api.muteMethod("getLastPageRowsHeight"),this.api.muteMethod("calculateVerticalScrollArea"),this.api.muteMethod("calculateVisibleRowsHeights"),this.api.muteMethod("heightChange"),this.api.muteMethod("generateVisibleRowsAndItems"),0===this.data.autoScroll.speed&&this.api.muteMethod("recalculateTimes")),"onEnd"===t&&(this.api.unmuteMethod("fixOverlapped"),this.api.unmuteMethod("heightChange"),this.api.unmuteMethod("calculateVisibleRowsHeights"),this.api.unmuteMethod("calculateVerticalScrollArea"),this.api.unmuteMethod("getLastPageRowsHeight"),this.api.unmuteMethod("recalculateRowPercents"),this.api.unmuteMethod("calculateRowsHeight"),this.api.unmuteMethod("prepareExpanded"),this.api.unmuteMethod("fullReload"),this.api.unmuteMethod("generateVisibleRowsAndItems"),0===this.data.autoScroll.speed&&this.api.unmuteMethod("recalculateTimes")),e=e.map(t=>this.api.mergeDeep({},t));const i=this.data.events[t](this.getEventArgument(e));let r=this.state.multi();for(const t of i)r=r.update(`config.chart.items.${t.id}.time`,t.time),n&&(r=r.update("$data.chart.items."+t.id,e=>(e.time=Object.assign(Object.assign({},e.time),n[t.id].time),e.position=Object.assign(Object.assign({},e.position),n[t.id].position),e)));"onStart"!==t&&"onResize"!==t||(r=this.moveDependantItems(i,r)),r.done()}getItemsForDiff(){const t=this.getSelectedItems()[0],e=this.data.initialItems.find(e=>e.id===t.id);return{modified:t,original:e}}onPointerData(){this.data.enabled&&("down"===this.pointerData.pointerState&&this.pointerData.targetType===H?this.api.plugins.TimelinePointer.isLocked("down")||this.onPointerDown():"move"===this.pointerData.pointerState&&this.pointerData.targetType===H?"item-resizing"===this.api.plugins.TimelinePointer.isLocked("move")&&this.onPointerMove():"up"===this.pointerData.pointerState&&this.pointerData.targetType===H&&"item-resizing"===this.api.plugins.TimelinePointer.isLocked("up")&&this.onPointerUp())}onPointerDown(){const t=this.pointerData.currentTarget.closest("."+Y);t&&!this.api.plugins.TimelinePointer.isLocked("down")&&(this.api.plugins.TimelinePointer.lock("down","item-resizing"),this.api.plugins.TimelinePointer.lock("move","item-resizing"),this.api.plugins.TimelinePointer.lock("up","item-resizing"),this.pointerData.events.down.preventDefault(),this.pointerData.events.down.stopPropagation(),this.data.initialLeftPx=this.state.get("$data.chart.time.leftPx"),this.data.initialItems=this.getSelectedItems(),this.data.initialDependant=this.getDependantItems(),this.data.initialItemsData=this.getSelectedItemsData(this.data.initialItems),this.data.initialDependantData=this.getDependantItemsData(),""!==this.data.state&&"end"!==this.data.state||(this.data.state="resize"),t.classList.contains(Y+"--left")&&this.onLeftPointerDown(),t.classList.contains(Y+"--right")&&this.onRightPointerDown(),this.dispatchEvent("onStart",this.data.initialItems))}onLeftPointerDown(){this.data.enabled&&(document.body.classList.add(this.data.bodyClassLeft),this.data.leftIsMoving=!0,this.updateData())}onRightPointerDown(){this.data.enabled&&(document.body.classList.add(this.data.bodyClassRight),this.data.rightIsMoving=!0,this.updateData())}getScrollDiff(){return this.state.get("$data.chart.time.leftPx")-this.data.initialLeftPx}scrollLeft(){if(this.data.autoScroll.speed){if(this.scrollWaiting++,this.data.autoScroll.speed<0){if(this.scrollWaiting-1<Math.abs(this.data.autoScroll.speed))return;const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex-1)}else if(this.data.autoScroll.speed>0){const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex-this.data.autoScroll.speed)}this.scrollWaiting=0}}scrollRight(){if(this.data.autoScroll.speed){if(this.scrollWaiting++,this.data.autoScroll.speed<0){if(this.scrollWaiting-1<Math.abs(this.data.autoScroll.speed))return;const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex+1)}else if(this.data.autoScroll.speed>0){const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex+this.data.autoScroll.speed)}this.scrollWaiting=0}}autoScroll(){if(!this.timelineElement)return;const t=this.pointerData.currentPosition.x,e=this.timelineElement.getBoundingClientRect();t<this.data.autoScroll.edgeThreshold?this.scrollLeft():t>e.width-this.data.autoScroll.edgeThreshold&&this.scrollRight()}onPointerMove(){if(!this.data.enabled)return;const{original:t,modified:e}=this.getItemsForDiff();t&&(this.data.movement={px:this.pointerData.movement.x,time:e.time.start-t.time.start},"resize"!==this.data.state&&"start"!==this.data.state||(this.data.state="resize"),this.autoScroll(),this.data.leftIsMoving&&this.onLeftPointerMove(),this.data.rightIsMoving&&this.onRightPointerMove())}onLeftPointerMove(){if(!this.data.enabled||!this.data.leftIsMoving)return;const t=this.getSelectedItems(),e={},n=this.data.movement,i=this.state.get("$data.chart.time");for(let r=0,o=t.length;r<o;r++){const o=t[r],a=this.api.mergeDeep({},this.data.initialItemsData[o.id]),s=this.getScrollDiff();a.position.right+=-1*s,a.position.left=a.position.left+n.px,a.position.left>a.position.right-o.minWidth&&(a.position.left=a.position.right-o.minWidth);const l=this.api.time.getTimeFromViewOffsetPx(a.position.left,i,!0);a.width=a.position.right-a.position.left,a.width<o.minWidth&&(a.width=o.minWidth),a.actualWidth=a.width;const c=this.data.snapToTime.start({startTime:this.api.time.date(l),item:o,time:i,movement:n,vido:this.vido});o.time.start=c.valueOf(),a.time.startDate=c,e[o.id]=a}this.dispatchEvent("onResize",t,e),this.updateData()}onRightPointerMove(){if(!this.data.enabled||!this.data.rightIsMoving)return;const t=this.getSelectedItems(),e={},n=this.data.movement,i=this.state.get("$data.chart.time");for(let r=0,o=t.length;r<o;r++){const o=t[r],a=this.api.mergeDeep({},this.data.initialItemsData[o.id]),s=this.getScrollDiff();a.position.left+=-1*s,a.position.right=a.position.right+n.px,a.position.right<a.position.left+o.minWidth&&(a.position.right=a.position.left+o.minWidth);const l=this.api.time.getTimeFromViewOffsetPx(a.position.right,i,!1);a.width=a.position.right-a.position.left,a.width<o.minWidth&&(a.width=o.minWidth),a.actualWidth=a.width;const c=this.data.snapToTime.end({endTime:this.api.time.date(l),item:o,time:i,movement:n,vido:this.vido});o.time.end=c.valueOf(),a.time.endDate=c,e[o.id]=a}this.dispatchEvent("onResize",t,e),this.updateData()}onEnd(){const t=this.getSelectedItems();this.dispatchEvent("onEnd",t)}onPointerUp(){"resize"===this.data.state&&(this.data.state="end"),this.onLeftPointerUp(),this.onRightPointerUp(),this.onEnd(),this.updateData(),this.api.plugins.TimelinePointer.unlock("down"),this.api.plugins.TimelinePointer.unlock("move"),this.api.plugins.TimelinePointer.unlock("up")}onLeftPointerUp(){document.body.classList.remove(this.data.bodyClassLeft),this.data.enabled&&this.data.leftIsMoving&&(this.data.leftIsMoving=!1,this.onEnd(),this.updateData())}onRightPointerUp(){document.body.classList.remove(this.data.bodyClassRight),this.data.enabled&&this.data.rightIsMoving&&(this.data.rightIsMoving=!1)}innerSlot(t,e){let n,i,r;return t.onChange(e=>{const o=e.item;n=!this.api.getItemData(o.id).detached,this.data.handle.onlyWhenSelected&&(n=n&&o.selected);const a=this.getRightStyleMap(o),s=this.getLeftStyleMap(o);i=this.html`<div class=${this.leftClassName} style=${s}>${this.data.content}</div>`,r=this.html`<div class=${this.rightClassName} style=${a}>${this.data.content}</div>`,t.update()}),t=>this.html`${n?i:null}${t}${n?r:null}`}}function q(t={}){return function(e){const n=e.api;if(!n.isPluginInitialized("TimelinePointer"))throw new Error("TimelinePointer plugin must be initialized before ItemResizing plugin.");if(!n.isPluginInitialized("Selection"))throw new Error("Selection plugin must be initialized before ItemResizing plugin.");if(n.isPluginInitialized("ItemMovement"))throw new Error("ItemResizing plugin must be initialized before ItemMovement plugin.");const i=e.state.get("config.plugin.ItemResizing");i&&(t=e.api.mergeDeep({},t,i));const r=new X(e,t);return n.pluginInitialized("ItemResizing"),r.destroy}}}).call(this,n(99))},,,,,,,,function(t,e,n){n(344),t.exports=n(1121)},function(t,e,n){"use strict";n.r(e),VueAdmin.booting((function(t,e,i){t.component("Link",n(730).default),t.component("SortEdit",n(731).default),t.component("SortUpDown",n(732).default),t.component("DragGrid",n(350).default),t.component("AntvGroupColumn",n(733).default),t.component("AntvStackedColumn",n(734).default),t.component("AntvPie",n(735).default),t.component("AntvGraph",n(727).default),t.component("LineChart",n(736).default),t.component("PieChart",n(737).default),t.component("BarChart",n(738).default),t.component("GaugeChart",n(739).default),t.component("MixChart",n(740).default),t.component("RatePieChart",n(741).default),t.component("LiquidFillChart",n(742).default),t.component("SectionLineChart",n(743).default),t.component("NumDisplayH",n(744).default),t.component("NumDisplayV",n(745).default),t.component("DisplayList",n(746).default),t.component("MarkLineChart",n(747).default),t.component("NormalBarChart",n(748).default),t.component("PropertyList",n(749).default),t.component("GoodsSku",n(728).default),t.component("GSTC",n(729).default)}))},function(t,e,n){"use strict";var i=n(139);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".rank input[data-v-780db488] {\n  width: 30px;\n  display: inline-block;\n  border: 1px solid #E0E0E0;\n  outline: none;\n}",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e,n){"use strict";var i=n(140);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".rank input[data-v-0cefb6f5] {\n  width: 30px;\n  display: inline-block;\n  border: #4e555b;\n  outline: none;\n}",""])},function(t,e,n){"use strict";n.r(e);var i=n(9),r=Object(i.a)({},void 0,void 0,!1,null,null,null);e.default=r.exports},function(t){t.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-base@0.4.7","/Users/fans/work/mybag/DeepAdmin/packages/Andruby/deep-admin"]],"_development":true,"_from":"@antv/g-base@0.4.7","_id":"@antv/g-base@0.4.7","_inBundle":false,"_integrity":"sha512-wKSpS3/M1slU92iOgi2QV4MCd82J1d2PyPcQArqSFRUZU0KnVMIl95v79dG0Be4YvFaZ3bVrT6Ns1Czr8oplhA==","_location":"/@antv/g-base","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-base@0.4.7","name":"@antv/g-base","escapedName":"@antv%2fg-base","scope":"@antv","rawSpec":"0.4.7","saveSpec":null,"fetchSpec":"0.4.7"},"_requiredBy":["/@antv/component","/@antv/g-canvas","/@antv/g-svg","/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-base/-/g-base-0.4.7.tgz","_spec":"0.4.7","_where":"/Users/fans/work/mybag/DeepAdmin/packages/Andruby/deep-admin","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/util/issues"},"dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"description":"A common util collection for antv projects","devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"files":["package.json","esm","lib","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/util#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-base","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","clean":"rm -rf esm lib","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc"},"types":"lib/index.d.ts","version":"0.4.7"}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(67);e.default=function(t){return i.default(t)?"":t.toString()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(354),o=function(){function t(t){var e=t.xField,n=t.yField,i=t.adjustNames,r=void 0===i?["x","y"]:i;this.adjustNames=r,this.xField=e,this.yField=n}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var i,r,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(i=0,r=1):s>1?(i=n[0===a?0:a-1],r=n[a===s-1?s-1:a+1],0!==a?i+=(e-i)/2:i-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-n[s-2])/2):(i=0===e?0:e-.5,r=0===e?1:e+.5),{pre:i,next:r}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);i.each(t,(function(t,e){i.each(r,(function(i,r){n.adjustDim(r,i,t,e)}))}))},t.prototype.groupData=function(t,e){return i.each(t,(function(t){void 0===t[e]&&(t[e]=r.DEFAULT_Y)})),i.groupBy(t,e)},t.prototype.adjustDim=function(t,e,n,i){},t.prototype.getDimValues=function(t){var e=this.xField,n=this.yField,o={},a=[];if(e&&this.isAdjust("x")&&a.push(e),n&&this.isAdjust("y")&&a.push(n),a.forEach((function(e){o[e]=i.valuesOfKey(t,e).sort((function(t,e){return t-e}))})),!n&&this.isAdjust("y")){o.y=[r.DEFAULT_Y,1]}return o},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_Y=0,e.MARGIN_RATIO=.5,e.DODGE_RATIO=.5,e.GAP=.05},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(t,e){return i.isString(e)?e:t.invert(t.scale(e))},o=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,i)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),i=e*t-n,r=this.values[n];return r+((n===e?r:this.values[n+1])-r)*i},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),i=[],r=0;r<n;r+=1)i.push(e[r]);return i},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var i=t.scales[n];return"identity"===i.type?i.values[0]:t._getAttributeValue(i,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,r=void 0===n?"base":n,o=t.names,a=void 0===o?[]:o,s=t.scales,l=void 0===s?[]:s,c=t.values,h=void 0===c?[]:c,u=t.callback;this.type=r,this.scales=l,this.values=h,this.names=a,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(u){var r=u.apply(void 0,t);if(!i.isNil(r))return[r]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var i=t.scale(e);return this.getLinearValue(i)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:i.isArray(t)?t.map((function(t){return r(e,t)})):r(e,t)},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(23);e.Scale=i.Scale},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return"object"==typeof t&&null!==t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(t){return Math.abs(t)<1e-6?0:t<0?-1:1}function r(t,e,n){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}e.default=function(t,e,n){var o=!1,a=t.length;if(a<=2)return!1;for(var s=0;s<a;s++){var l=t[s],c=t[(s+1)%a];if(r(l,c,[e,n]))return!0;i(l[1]-n)>0!=i(c[1]-n)>0&&i(e-(n-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(o=!o)}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return t>=e&&t<=n};e.default=function(t,e,n,r){var o=n.x-t.x,a=n.y-t.y,s=e.x-t.x,l=e.y-t.y,c=r.x-n.x,h=r.y-n.y,u=s*h-l*c,d=null;if(u*u>.001*(s*s+l*l)*(c*c+h*h)){var p=(o*h-a*c)/u,f=(o*l-a*s)/u;i(p,0,1)&&i(f,0,1)&&(d={x:t.x+p*s,y:t.y+p*l})}return d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=new Map;e.register=function(t,e){i.set(t,e)},e.getMethod=function(t){return i.get(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.r;return{x:n-r,y:i-r,width:2*r,height:2*r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=n(174);e.default=function(t){for(var e=t.attr().points,n=[],o=[],a=0;a<e.length;a++){var s=e[a];n.push(s[0]),o.push(s[1])}var l=i.getBBoxByArray(n,o),c=l.x,h=l.y,u={minX:c,minY:h,maxX:c+l.width,maxY:h+l.height};return{x:(u=r.mergeArrowBBox(t,u)).minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48);e.default=function(t){for(var e=t.attr().points,n=[],r=[],o=0;o<e.length;o++){var a=e[o];n.push(a[0]),r.push(a[1])}return i.getBBoxByArray(n,r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(161);e.default=function(t){var e=t.attr(),n=e.x,r=e.y,o=e.text,a=e.fontSize,s=e.lineHeight,l=e.font;l||(l=i.assembleFont(e));var c,h=i.getTextWidth(o,l);if(h){var u=e.textAlign,d=e.textBaseline,p=i.getTextHeight(o,a,s),f={x:n,y:r-p};u&&("end"===u||"right"===u?f.x-=h:"center"===u&&(f.x-=h/2)),d&&("top"===d?f.y+=p:"middle"===d&&(f.y+=p/2)),c={x:f.x,y:f.y,width:h,height:p}}else c={x:n,y:r,width:0,height:0};return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(221),r=n(79),o=n(368),a=n(222),s=n(120),l=n(174);function c(t,e){var n=t.prePoint,i=t.currentPoint,r=t.nextPoint,o=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2),a=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),l=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),c=Math.acos((o+a-l)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!c||0===Math.sin(c)||s.default(c,0))return{xExtra:0,yExtra:0};var h=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),u=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1]));return h=h>Math.PI/2?Math.PI-h:h,u=u>Math.PI/2?Math.PI-u:u,{xExtra:Math.cos(c/2-h)*(e/2*(1/Math.sin(c/2)))-e/2||0,yExtra:Math.cos(u-c/2)*(e/2*(1/Math.sin(c/2)))-e/2||0}}e.default=function(t){var e=t.attr(),n=e.path,s=e.stroke?e.lineWidth:0,h=function(t,e){for(var n=[],a=[],s=[],l=0;l<t.length;l++){var h=(x=t[l]).currentPoint,u=x.params,d=x.prePoint,p=void 0;switch(x.command){case"Q":p=i.default.box(d[0],d[1],u[1],u[2],u[3],u[4]);break;case"C":p=r.default.box(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6]);break;case"A":var f=x.arcParams;p=o.default.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(h[0]),a.push(h[1])}p&&(x.box=p,n.push(p.x,p.x+p.width),a.push(p.y,p.y+p.height)),e&&("L"===x.command||"M"===x.command)&&x.prePoint&&x.nextPoint&&s.push(x)}n=n.filter((function(t){return!Number.isNaN(t)})),a=a.filter((function(t){return!Number.isNaN(t)}));var g=Math.min.apply(null,n),m=Math.min.apply(null,a),v=Math.max.apply(null,n),y=Math.max.apply(null,a);if(0===s.length)return{x:g,y:m,width:v-g,height:y-m};for(l=0;l<s.length;l++){var x;(h=(x=s[l]).currentPoint)[0]===g?g-=c(x,e).xExtra:h[0]===v&&(v+=c(x,e).xExtra),h[1]===m?m-=c(x,e).yExtra:h[1]===y&&(y+=c(x,e).yExtra)}return{x:g,y:m,width:v-g,height:y-m}}(t.get("segments")||a.default(n),s),u=h.x,d=h.y,p={minX:u,minY:d,maxX:u+h.width,maxY:d+h.height};return{x:(p=l.mergeArrowBBox(t,p)).minX,y:p.minY,width:p.maxX-p.minX,height:p.maxY-p.minY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=n(369);function o(t,e,n,i,r,o){return n*Math.cos(r)*Math.cos(o)-i*Math.sin(r)*Math.sin(o)+t}function a(t,e,n,i,r,o){return n*Math.sin(r)*Math.cos(o)+i*Math.cos(r)*Math.sin(o)+e}function s(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function l(t,e,n){var i=Math.cos(n),r=Math.sin(n);return[t*i-e*r,t*r+e*i]}e.default={box:function(t,e,n,i,r,s,l){for(var c=function(t,e,n){return Math.atan(-e/t*Math.tan(n))}(n,i,r),h=1/0,u=-1/0,d=[s,l],p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var f=c+p;s<l?s<f&&f<l&&d.push(f):l<f&&f<s&&d.push(f)}for(p=0;p<d.length;p++){var g=o(t,0,n,i,r,d[p]);g<h&&(h=g),g>u&&(u=g)}var m=function(t,e,n){return Math.atan(e/(t*Math.tan(n)))}(n,i,r),v=1/0,y=-1/0,x=[s,l];for(p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var b=m+p;s<l?s<b&&b<l&&x.push(b):l<b&&b<s&&x.push(b)}for(p=0;p<x.length;p++){var w=a(0,e,n,i,r,x[p]);w<v&&(v=w),w>y&&(y=w)}return{x:h,y:v,width:u-h,height:y-v}},length:function(t,e,n,i,r,o,a){},nearestPoint:function(t,e,n,i,o,a,c,h,u){var d=l(h-t,u-e,-o),p=d[0],f=d[1],g=r.default.nearestPoint(0,0,n,i,p,f),m=function(t,e,n,i){return(Math.atan2(i*t,n*e)+2*Math.PI)%(2*Math.PI)}(n,i,g.x,g.y);m<a?g=s(n,i,a):m>c&&(g=s(n,i,c));var v=l(g.x,g.y,o);return{x:v[0]+t,y:v[1]+e}},pointDistance:function(t,e,n,r,o,a,s,l,c){var h=this.nearestPoint(t,e,n,r,l,c);return i.distance(h.x,h.y,l,c)},pointAt:function(t,e,n,i,r,s,l,c){var h=(l-s)*c+s;return{x:o(t,0,n,i,r,h),y:a(0,e,n,i,r,h)}},tangentAngle:function(t,e,n,r,o,a,s,l){var c=(s-a)*l+a,h=function(t,e,n,i,r,o,a,s){return-1*n*Math.cos(r)*Math.sin(s)-i*Math.sin(r)*Math.cos(s)}(0,0,n,r,o,0,0,c),u=function(t,e,n,i,r,o,a,s){return-1*n*Math.sin(r)*Math.sin(s)+i*Math.cos(r)*Math.cos(s)}(0,0,n,r,o,0,0,c);return i.piMod(Math.atan2(u,h))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48);function r(t,e){var n=Math.abs(t);return e>0?n:-1*n}e.default={box:function(t,e,n,i){return{x:t-n,y:e-i,width:2*n,height:2*i}},length:function(t,e,n,i){return Math.PI*(3*(n+i)-Math.sqrt((3*n+i)*(n+3*i)))},nearestPoint:function(t,e,n,i,o,a){var s=n,l=i;if(0===s||0===l)return{x:t,y:e};for(var c,h,u=o-t,d=a-e,p=Math.abs(u),f=Math.abs(d),g=s*s,m=l*l,v=Math.PI/4,y=0;y<4;y++){c=s*Math.cos(v),h=l*Math.sin(v);var x=(g-m)*Math.pow(Math.cos(v),3)/s,b=(m-g)*Math.pow(Math.sin(v),3)/l,w=c-x,C=h-b,_=p-x,S=f-b,O=Math.hypot(C,w),M=Math.hypot(S,_);v+=O*Math.asin((w*S-C*_)/(O*M))/Math.sqrt(g+m-c*c-h*h),v=Math.min(Math.PI/2,Math.max(0,v))}return{x:t+r(c,u),y:e+r(h,d)}},pointDistance:function(t,e,n,r,o,a){var s=this.nearestPoint(t,e,n,r,o,a);return i.distance(s.x,s.y,o,a)},pointAt:function(t,e,n,i,r){var o=2*Math.PI*r;return{x:t+n*Math.cos(o),y:e+i*Math.sin(o)}},tangentAngle:function(t,e,n,r,o){var a=2*Math.PI*o,s=Math.atan2(r*Math.cos(a),-n*Math.sin(a));return i.piMod(s)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),r=n(41),o=n(53),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;e.default=function(t){var e=t||[];return r.default(e)?e:o.default(e)?(e=e.match(a),i.default(e,(function(t,n){if((t=t.match(s))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}i.default(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(174);e.default=function(t){var e=t.attr(),n=e.x1,r=e.y1,o=e.x2,a=e.y2,s={minX:Math.min(n,o),maxX:Math.max(n,o),minY:Math.min(r,a),maxY:Math.max(r,a)};return{x:(s=i.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.rx,o=e.ry;return{x:n-r,y:i-o,width:2*r,height:2*o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),r="\t\n\v\f\r \u2028\u2029",o=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");e.default=function(t){if(!t)return null;if(i.default(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(o,(function(t,i,r){var o=[],s=i.toLowerCase();if(r.replace(a,(function(t,e){e&&o.push(+e)})),"m"===s&&o.length>2&&(n.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&n.push([i,o[0]]),"r"===s)n.push([i].concat(o));else for(;o.length>=e[s]&&(n.push([i].concat(o.splice(0,e[s]))),e[s]););return""})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distanceAtSegment=e.angleAtSegments=e.pointAtSegments=e.lengthOfSegment=void 0;var i=n(35),r=n(48);function o(t){for(var e=0,n=[],i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],s=r.distance(o[0],o[1],a[0],a[1]),l={from:o,to:a,length:s};n.push(l),e+=s}return{segments:n,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var i=t[n],o=t[n+1];e+=r.distance(i[0],i[1],o[0],o[1])}return e},e.pointAtSegments=function(t,e){if(e>1||e<0||t.length<2)return null;var n=o(t),r=n.segments,a=n.totalLength;if(0===a)return{x:t[0][0],y:t[0][1]};for(var s=0,l=null,c=0;c<r.length;c++){var h=r[c],u=h.from,d=h.to,p=h.length/a;if(e>=s&&e<=s+p){var f=(e-s)/p;l=i.default.pointAt(u[0],u[1],d[0],d[1],f);break}s+=p}return l},e.angleAtSegments=function(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=o(t),i=n.segments,r=n.totalLength,a=0,s=0,l=0;l<i.length;l++){var c=i[l],h=c.from,u=c.to,d=c.length/r;if(e>=a&&e<=a+d){s=Math.atan2(u[1]-h[1],u[0]-h[0]);break}a+=d}return s},e.distanceAtSegment=function(t,e,n){for(var r=1/0,o=0;o<t.length-1;o++){var a=t[o],s=t[o+1],l=i.default.pointDistance(a[0],a[1],s[0],s[1],e,n);l<r&&(r=l)}return r}},function(t){t.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-canvas@0.4.14","/Users/fans/work/mybag/DeepAdmin/packages/Andruby/deep-admin"]],"_development":true,"_from":"@antv/g-canvas@0.4.14","_id":"@antv/g-canvas@0.4.14","_inBundle":false,"_integrity":"sha512-BPpEbHvszEPQHhssPQrIOF2zKztiogabhiBQ/MCX3qvLUXgBRRzN6ktwS816fQPa82RYiGUmzEUDhgCXUWXAcg==","_location":"/@antv/g-canvas","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-canvas@0.4.14","name":"@antv/g-canvas","escapedName":"@antv%2fg-canvas","scope":"@antv","rawSpec":"0.4.14","saveSpec":null,"fetchSpec":"0.4.14"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-canvas/-/g-canvas-0.4.14.tgz","_spec":"0.4.14","_where":"/Users/fans/work/mybag/DeepAdmin/packages/Andruby/deep-admin","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"6b4107c8cfae1b893c385758ad8e870236f73f6b","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-canvas","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","dist":"webpack --config webpack.config.js --mode production","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.14"}')},function(t){t.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-svg@0.4.7","/Users/fans/work/mybag/DeepAdmin/packages/Andruby/deep-admin"]],"_development":true,"_from":"@antv/g-svg@0.4.7","_id":"@antv/g-svg@0.4.7","_inBundle":false,"_integrity":"sha512-+lqlBK+qylP4t/vyUgEaPthp1XmTiImfkPl/ZmRp3L1knH64OI9XTfOGGuBUFAt3JBt7VHKf6t0L/MCf0BR88Q==","_location":"/@antv/g-svg","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-svg@0.4.7","name":"@antv/g-svg","escapedName":"@antv%2fg-svg","scope":"@antv","rawSpec":"0.4.7","saveSpec":null,"fetchSpec":"0.4.7"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-svg/-/g-svg-0.4.7.tgz","_spec":"0.4.7","_where":"/Users/fans/work/mybag/DeepAdmin/packages/Andruby/deep-admin","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-svg","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.7"}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)},e.inBox=function(t,e,n,i,r,o){return r>=t&&r<=t+n&&o>=e&&o<=e+i},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var i=n(67);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return i.default}});var r=n(53);Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.default}});var o=n(80);Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return o.default}});var a=n(41);Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return a.default}});var s=n(54);Object.defineProperty(e,"each",{enumerable:!0,get:function(){return s.default}});var l=n(92);Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return l.default}});var c=n(91);Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return c.default}});var h=n(120);Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return h.default}});var u=n(172);Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return u.default}});var d=n(173);Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return d.default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniq=e.omit=e.padEnd=e.isBetween=void 0;var i=n(0);e.isBetween=function(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return t>=i&&t<=r},e.padEnd=function(t,e,n){if(i.isString(t))return t.padEnd(e,n);if(i.isArray(t)){var r=t.length;if(r<e)for(var o=e-r,a=0;a<o;a++)t.push(n)}return t},e.omit=function(t,e){return e.forEach((function(e){delete t[e]})),t},e.uniq=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];n[o]||(e.push(o),n[o]=!0)}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTooltipItems=e.findDataByPoint=void 0;var i=n(2),r=n(0),o=n(38),a=n(380);function s(t,e,n){var i=n.translate(t),o=n.translate(e);return r.isNumberEqual(i,o)}function l(t,e,n){var i=n.coordinate,a=n.getYScale(),s=a.field,l=i.invert(e),c=a.invert(l.y);return r.find(t,(function(t){var e=t[o.FIELD_ORIGIN];return e[s][0]<=c&&e[s][1]>=c}))||t[t.length-1]}var c=r.memoize((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,i=t.translate(e[0]),r=i,o=0;o<n;o++){var a=e[o],s=t.translate(a);s<i&&(i=s),s>r&&(r=s)}return(r-i)/(n-1)}));function h(t){for(var e,n=0,i=function(t){var e=r.values(t.attributes);return r.filter(e,(function(t){return r.contains(o.GROUP_ATTRS,t.type)}))}(t);n<i.length;n++){var a=i[n],s=a.getScale(a.type);if(s&&s.isLinear){e=s;break}}var l=t.getXScale(),c=t.getYScale();return e||c||l}e.findDataByPoint=function(t,e,n){if(0===e.length)return null;var i=n.type,a=n.getXScale(),h=n.getYScale(),u=a.field,d=h.field,p=null;if("heatmap"===i||"point"===i){for(var f=n.coordinate.invert(t),g=a.invert(f.x),m=h.invert(f.y),v=1/0,y=0;y<e.length;y++){var x=e[y],b=x[o.FIELD_ORIGIN],w=Math.pow(b[u]-g,2)+Math.pow(b[d]-m,2);w<v&&(v=w,p=x)}return p}var C=e[0],_=e[e.length-1],S=function(t,e){var n=e.coordinate,i=e.getXScale(),r=i.range,o=r[r.length-1],a=r[0],s=n.invert(t).x;return n.isPolar&&s>(1+o)/2&&(s=a),i.translate(i.invert(s))}(t,n),O=C[o.FIELD_ORIGIN][u],M=C[o.FIELD_ORIGIN][d],k=_[o.FIELD_ORIGIN][u],A=h.isLinear&&r.isArray(M);if(r.isArray(O)){for(y=0;y<e.length;y++){b=(j=e[y])[o.FIELD_ORIGIN];if(a.translate(b[u][0])<=S&&a.translate(b[u][1])>=S){if(!A){p=j;break}r.isArray(p)||(p=[]),p.push(j)}}r.isArray(p)&&(p=l(p,t,n))}else{var T=void 0;if(a.isLinear||"timeCat"===a.type){if((S>a.translate(k)||S<a.translate(O))&&(S>a.max||S<a.min))return null;for(var D=0,P=e.length-1,I=void 0;D<=P;){var E=e[I=Math.floor((D+P)/2)][o.FIELD_ORIGIN][u];if(s(E,S,a))return e[I];a.translate(E)<=a.translate(S)?(D=I+1,_=e[I],T=e[I+1]):(0===P&&(_=e[0]),P=I-1)}}else{for(y=0;y<e.length;y++){var j;if(s((b=(j=e[y])[o.FIELD_ORIGIN])[u],S,a)){if(!A){p=j;break}r.isArray(p)||(p=[]),p.push(j)}else a.translate(b[u])<=S&&(_=j,T=e[y+1])}r.isArray(p)&&(p=l(p,t,n))}_&&T&&Math.abs(a.translate(_[o.FIELD_ORIGIN][u])-S)>Math.abs(a.translate(T[o.FIELD_ORIGIN][u])-S)&&(_=T)}var L=c(n.getXScale());return!p&&Math.abs(a.translate(_[o.FIELD_ORIGIN][u])-S)<=L/2&&(p=_),p},e.getTooltipItems=function(t,e,n){void 0===n&&(n="");var s,l=t[o.FIELD_ORIGIN],c=function(t,e,n){var i=n;n||(i=e.getAttribute("position").getFields()[0]);var o=e.scales;return o[i]?o[i].getText(t[i]):r.hasKey(t,i)?t[i]:i}(l,e,n),u=e.tooltipOption,d=e.theme.defaultColor,p=[];function f(e,n){if(!r.isNil(n)&&""!==n){var i={title:c,data:l,mappingData:t,name:e,value:n,color:t.color||d,marker:!0};p.push(i)}}if(r.isObject(u)){var g=u.fields,m=u.callback;if(m){var v=g.map((function(e){return t[o.FIELD_ORIGIN][e]})),y=m.apply(void 0,v),x=i.__assign({data:t[o.FIELD_ORIGIN],mappingData:t,title:c,color:t.color||d,marker:!0},y);p.push(x)}else for(var b=e.scales,w=0,C=g;w<C.length;w++){var _=C[w];if(!r.isNil(l[_])){var S=b[_];f(a.getName(S),s=S.getText(l[_]))}}}else{var O=h(e);r.isNil(l[O.field])||(s=function(t,e){var n=t[e.field];return r.isArray(n)?n.map((function(t){return e.getText(t)})).join("-"):e.getText(n)}(l,O),f(function(t,e){var n,i=e.getGroupScales();if(i.length&&(n=i[0]),n){var r=n.field;return n.getText(t[r])}var o=h(e);return a.getName(o)}(l,e),s))}return p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getName=e.syncScale=e.createScaleByField=void 0;var i=n(2),r=n(0),o=n(235),a=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;e.createScaleByField=function(t,e,n){var s=e||[];if(r.isNumber(t)||r.isNil(r.firstValue(s,t))&&r.isEmpty(n))return new(o.getScale("identity"))({field:t.toString(),values:[t]});var l=r.valuesOfKey(s,t),c=r.get(n,"type",function(t){var e="linear";return a.test(t)?e="time":r.isString(t)&&(e="cat"),e}(l[0]));return new(o.getScale(c))(i.__assign({field:t,values:l},n))},e.syncScale=function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);t.change(n)}},e.getName=function(t){return t.alias||t.field}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCallbackAction=e.unregisterAction=e.registerAction=e.getActionClass=e.createAction=void 0;var i=n(2).__importDefault(n(382)),r=n(0),o={};e.createAction=function(t,e){var n=o[t],i=null;return n&&((i=new(0,n.ActionClass)(e,n.cfg)).name=t,i.init()),i},e.getActionClass=function(t){var e=o[t];return r.get(e,"ActionClass")},e.registerAction=function(t,e,n){o[t]={ActionClass:e,cfg:n}},e.unregisterAction=function(t){delete o[t]},e.createCallbackAction=function(t,e){var n=new i.default(e);return n.callback=t,n.name="callback",n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(i.__importDefault(n(383)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){i.assign(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(177),o=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},t.prototype.getCurrentShape=function(){return i.get(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=r.getComponents(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var i=e.getBBox();return t?e.get("name")===t&&r.isInBox(i,n):r.isInBox(i,n)}))},t.prototype.destroy=function(){this.view=null,this.event=null,i.each(this.actions.slice(),(function(t){t.destroy()})),this.actions=null,this.cacheMap=null},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertPolarPath=e.convertNormalPath=e.getSplinePath=e.getLinePath=e.catmullRom2bezier=e.smoothBezier=void 0;var i=n(4),r=n(0),o=n(236);function a(t,e){for(var n=[t[0]],i=1,r=t.length;i<r;i+=2){var o=e.convert({x:t[i],y:t[i+1]});n.push(o.x,o.y)}return n}function s(t,n,i){for(var r=!!n,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);var l,c,h,u=e.smoothBezier(o,.4,r,i),d=o.length,p=[];for(a=0;a<d-1;a++)l=u[2*a],c=u[2*a+1],h=o[a+1],p.push(["C",l[0],l[1],c[0],c[1],h[0],h[1]]);return r&&(l=u[d],c=u[d+1],h=o[0],p.push(["C",l[0],l[1],c[0],c[1],h[0],h[1]])),p}function l(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var o=t[i];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}e.smoothBezier=function(t,e,n,r){var o,a,s,l,c=[],h=!!r;if(h){s=[1/0,1/0],l=[-1/0,-1/0];for(var u=0,d=t.length;u<d;u++){var p=t[u];s=i.vec2.min([0,0],s,p),l=i.vec2.max([0,0],l,p)}s=i.vec2.min([0,0],s,r[0]),l=i.vec2.max([0,0],l,r[1])}u=0;for(var f=t.length;u<f;u++){p=t[u];if(n)o=t[u?u-1:f-1],a=t[(u+1)%f];else{if(0===u||u===f-1){c.push(p);continue}o=t[u-1],a=t[u+1]}var g=[0,0];g=i.vec2.sub(g,a,o),g=i.vec2.scale(g,g,e);var m=i.vec2.distance(p,o),v=i.vec2.distance(p,a),y=m+v;0!==y&&(m/=y,v/=y);var x=i.vec2.scale([0,0],g,-m),b=i.vec2.scale([0,0],g,v),w=i.vec2.add([0,0],p,x),C=i.vec2.add([0,0],p,b);h&&(w=i.vec2.max([0,0],w,s),w=i.vec2.min([0,0],w,l),C=i.vec2.max([0,0],C,s),C=i.vec2.min([0,0],C,l)),c.push(w),c.push(C)}return n&&c.push(c.shift()),c},e.catmullRom2bezier=s,e.getLinePath=l,e.getSplinePath=function(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return l(t,e);for(var a=0,c=t.length;a<c;a++){var h=t[a];o&&o.x===h.x&&o.y===h.y||(i.push(h.x),i.push(h.y),o=h)}var u=s(i,e,n||[[0,0],[1,1]]);return u.unshift(["M",r.x,r.y]),u},e.convertNormalPath=function(t,e){var n=[];return r.each(e,(function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(a(e,t));break;case"z":default:n.push(e)}})),n},e.convertPolarPath=function(t,e){var n,i,s,l=[];return r.each(e,(function(r,c){switch(r[0].toLowerCase()){case"m":case"c":case"q":l.push(a(r,t));break;case"l":n=e[c-1],i=r,s=t.isTransposed,(s?n[n.length-2]===i[1]:n[n.length-1]===i[2])?l=l.concat(function(t,e,n){var i=n.isTransposed,r=n.startAngle,a=n.endAngle,s={x:t[1],y:t[2]},l={x:e[1],y:e[2]},c=[],h=i?"y":"x",u=Math.abs(l[h]-s[h])*(a-r),d=l[h]>=s[h]?1:0,p=u>Math.PI?1:0,f=n.convert(l),g=o.getDistanceToCenter(n,f);if(g>=.5)if(u===2*Math.PI){var m={x:(l.x+s.x)/2,y:(l.y+s.y)/2},v=n.convert(m);c.push(["A",g,g,0,p,d,v.x,v.y]),c.push(["A",g,g,0,p,d,f.x,f.y])}else c.push(["A",g,g,0,p,d,f.x,f.y]);return c}(n,i,t)):l.push(a(r,t));break;case"z":default:l.push(r)}})),function(t){r.each(t,(function(e,n){if("a"===e[0].toLowerCase()){var i=t[n-1],r=t[n+1];r&&"a"===r[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M")}}))}(l),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAnimation=e.getAnimation=void 0;var i={};e.getAnimation=function(t){return i[t.toLowerCase()]},e.registerAnimation=function(t,e){i[t.toLowerCase()]=e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var i=e.visible,r=void 0===i||i;return n.visible=r,n}return i.__extends(e,t),e.prototype.show=function(){this.visible||this.changeVisible(!0)},e.prototype.hide=function(){this.visible&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(i.__importDefault(n(32)).default);e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(7),o=n(0),a=n(240),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.__assign(i.__assign({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},e.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return a.createBBox(e,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");a.clearDom(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(o.isNil(t)){t=this.createDom();var e=this.get("parent");o.isString(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else o.isString(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?o.deepMix({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");if(n&&a.hasClass(e,n)){var i=t[n];r.modifyCSS(e,i)}}},e.prototype.applyChildrenStyles=function(t,e){o.each(e,(function(e,n){var i=t.getElementsByClassName(n);o.each(i,(function(t){r.modifyCSS(t,e)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");r.modifyCSS(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return r.createDom(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){o.hasKey(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(n(390).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(16),o=n(0),a={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},s=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return i.__extends(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg");o.each(t,(function(t,i){var r=t;e.get(i)!==t&&(o.isObject(t)&&n[i]&&(r=o.deepMix({},n[i],t)),e.set(i,r))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){o.hasKey(t,"visible")&&(t.visible?this.show():this.hide()),o.hasKey(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=i.__assign({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),i=a[n];return o.each(i,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");o.each(e,(function(e,n){var i=t.get(n);if(o.isObject(i)){var r=o.deepMix({},e,i);t.set(n,r)}}))},e}(r.Base);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},function(t,e,n){"use strict";function i(t,e,n,i,r){return{left:t<r.x,right:t+n>r.x+r.width,top:e<r.y,bottom:e+i>r.y+r.height}}function r(t,e,n,i,r,o){var a=t,s=e;switch(o){case"left":a=t-i-n,s=e-r/2;break;case"right":a=t+n,s=e-r/2;break;case"top":a=t-i/2,s=e-r-n;break;case"bottom":a=t-i/2,s=e+n;break;default:a=t+n,s=e-r-n}return{x:a,y:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAlignPoint=e.getPointByPosition=e.getOutSides=void 0,e.getOutSides=i,e.getPointByPosition=r,e.getAlignPoint=function(t,e,n,o,a,s,l){var c=r(t,e,n,o,a,s);if(l){var h=i(c.x,c.y,o,a,l);"auto"===s?(h.right&&(c.x=Math.max(0,t-o-n)),h.top&&(c.y=Math.max(0,e-a-n))):"top"===s||"bottom"===s?(h.left&&(c.x=l.x),h.right&&(c.x=l.x+l.width-o),"top"===s&&h.top&&(c.y=e+n),"bottom"===s&&h.bottom&&(c.y=e-a-n)):(h.top&&(c.y=l.y),h.bottom&&(c.y=l.y+l.height-a),"left"===s&&h.left&&(c.x=t+n),"right"===s&&h.right&&(c.x=t-o-n))}return c}},function(t,e,n){var i,r,o;r=[n(21)],void 0===(o="function"==typeof(i=function(t){var e,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var a=i.length;a;)t.event.fixHooks[i[--a]]=t.event.mouseHooks;var s=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",s.getLineHeight(this)),t.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r=i||window.event,a=o.call(arguments,1),l=0,u=0,d=0,p=0,f=0,g=0;if((i=t.event.fix(r)).type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*d,d=0),l=0===d?u:d,"deltaY"in r&&(l=d=-1*r.deltaY),"deltaX"in r&&(u=r.deltaX,0===d&&(l=-1*u)),0!==d||0!==u){if(1===r.deltaMode){var m=t.data(this,"mousewheel-line-height");l*=m,d*=m,u*=m}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");l*=v,d*=v,u*=v}if(p=Math.max(Math.abs(d),Math.abs(u)),(!n||p<n)&&(n=p,h(r,p)&&(n/=40)),h(r,p)&&(l/=40,u/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/n),u=Math[u>=1?"floor":"ceil"](u/n),d=Math[d>=1?"floor":"ceil"](d/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=i.clientX-y.left,g=i.clientY-y.top}return i.deltaX=u,i.deltaY=d,i.deltaFactor=n,i.offsetX=f,i.offsetY=g,i.deltaMode=0,a.unshift(i,l,u,d),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function c(){n=null}function h(t,e){return s.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i=n(3),r=n(18),o=n(395),a=n(68),s=n(49),l=n(397);function c(){s.stop(this.event)}function h(){}h.prototype.dispose=function(){};var u=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],d=function(t,e,n,i){a.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new h,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,o.call(this),this.setHandlerProxy(n)};function p(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||"silent"}return!1}function f(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}d.prototype={constructor:d,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(i.each(u,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,i=f(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?{x:e,y:n}:this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,n=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!n&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:c}}(e,t,n);i&&(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(e,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},findHover:function(t,e,n){for(var i=this.storage.getDisplayList(),r={x:t,y:e},o=i.length-1;o>=0;o--){var a;if(i[o]!==n&&!i[o].ignore&&(a=p(i[o],t,e))&&(!r.topTarget&&(r.topTarget=i[o]),"silent"!==a)){r.target=i[o];break}}return r},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new l);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r,this.dispatchToElement({target:i.target},r,i.event)}}},i.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){d.prototype[t]=function(e){var n,i,o=e.zrX,a=e.zrY,s=f(this,o,a);if("mouseup"===t&&s||(i=(n=this.findHover(o,a)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||r.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}})),i.mixin(d,a),i.mixin(d,o);var g=d;t.exports=g},function(t,e){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function i(t,e){return{target:t,topTarget:e&&e.topTarget}}n.prototype={constructor:n,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(i(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,o=n-this._x,a=r-this._y;this._x=n,this._y=r,e.drift(o,a,t),this.dispatchToElement(i(e,t),"drag",t.event);var s=this.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.dispatchToElement(i(l,t),"dragleave",t.event),s&&s!==l&&this.dispatchToElement(i(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(i(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(i(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var r=n;t.exports=r},function(t,e){var n=Math.log(2);function i(t,e,r,o,a,s){var l=o+"-"+a,c=t.length;if(s.hasOwnProperty(l))return s[l];if(1===e){var h=Math.round(Math.log((1<<c)-1&~a)/n);return t[r][h]}for(var u=o|1<<r,d=r+1;o&1<<d;)d++;for(var p=0,f=0,g=0;f<c;f++){var m=1<<f;m&a||(p+=(g%2?-1:1)*t[r][f]*i(t,e-1,d,u,a|m,s),g++)}return s[l]=p,p}e.buildTransformer=function(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},o=i(n,8,0,0,0,r);if(0!==o){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*i(n,7,0===s?1:0,1<<s,1<<l,r)/o*e[s];return function(t,e,n){var i=e*a[6]+n*a[7]+1;t[0]=(e*a[0]+n*a[1]+a[2])/i,t[1]=(e*a[3]+n*a[4]+a[5])/i}}}},function(t,e,n){var i=n(49),r=function(){this._track=[]};function o(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}r.prototype={constructor:r,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],c=i.clientToLocal(n,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var n=a[e](this._track,t);if(n)return n}}};var a={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,a=(t[n-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var s=o(r)/o(a);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},s=r;t.exports=s},function(t,e,n){var i=n(3),r=n(25),o=n(69),a=n(180);function s(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,r.canvasSupported&&a(n,s)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof o&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof o&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var r=t.length;e<r;e++)this.delRoot(t[e])}else{var a=i.indexOf(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof o&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var c=l;t.exports=c},function(t,e,n){var i=n(244),r=n(100),o=n(3),a=o.isString,s=o.isFunction,l=o.isObject,c=o.isArrayLike,h=o.indexOf,u=function(){this.animators=[]};function d(t,e,n,i,r,o,h,u){a(i)?(o=r,r=i,i=0):s(r)?(o=r,r="linear",i=0):s(i)?(o=i,i=0):s(n)?(o=n,n=500):n||(n=500),t.stopAnimation(),function t(e,n,i,r,o,a,s){var h={},u=0;for(var d in r)r.hasOwnProperty(d)&&(null!=i[d]?l(r[d])&&!c(r[d])?t(e,n?n+"."+d:d,i[d],r[d],o,a,s):(s?(h[d]=i[d],p(e,n,d,r[d])):h[d]=r[d],u++):null==r[d]||s||p(e,n,d,r[d]));u>0&&e.animate(n,!1).when(null==o?500:o,h).delay(a||0)}(t,"",t,e,n,i,u);var d=t.animators.slice(),f=d.length;function g(){--f||o&&o()}f||o&&o();for(var m=0;m<d.length;m++)d[m].done(g).start(r,h)}function p(t,e,n,i){if(e){var r={};r[e]={},r[e][n]=i,t.attr(r)}else t.attr(n,i)}u.prototype={constructor:u,animate:function(t,e){var n,o=!1,a=this,s=this.__zr;if(t){var l=t.split("."),c=a;o="shape"===l[0];for(var u=0,d=l.length;u<d;u++)c&&(c=c[l[u]]);c&&(n=c)}else n=a;if(n){var p=a.animators,f=new i(n,e);return f.during((function(t){a.dirty(o)})).done((function(){p.splice(h(p,f),1)})),p.push(f),s&&s.animation.addAnimator(f),f}r('Property "'+t+'" is not existed in element '+a.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r,o){d(this,t,e,n,i,r,o)},animateFrom:function(t,e,n,i,r,o){d(this,t,e,n,i,r,o,!0)}};var f=u;t.exports=f},function(t,e,n){var i=n(401);function r(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}r.prototype={constructor:r,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,o="string"==typeof r?i[r]:r,a="function"==typeof o?o(n):n;return this.fire("frame",a),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var o=r;t.exports=o},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},i=n;t.exports=i},function(t,e,n){var i=n(123).devicePixelRatio,r=n(3),o=n(100),a=n(20),s=n(180),l=n(403),c=n(248),h=n(81),u=n(25);function d(t){return parseInt(t,10)}var p=new a(0,0,0,0),f=new a(0,0,0,0);var g=function(t,e,n){this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=r.extend({},n||{}),this.dpr=n.devicePixelRatio||i,this._singleCanvas=o,this.root=t;var a=t.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList=[],c=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,o){var h=t.width,u=t.height;null!=n.width&&(h=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,t.width=h*this.dpr,t.height=u*this.dpr,this._width=h,this._height=u;var d=new l(t,this,this.dpr);d.__builtin__=!0,d.initContext(),c[314159]=d,d.zlevel=314159,s.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(p)}this._hoverlayer=null,this._hoverElements=[]};g.prototype={constructor:g,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];if(!o.__builtin__&&o.refresh){var a=0===i?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,i=r.indexOf(n,e);i>=0&&n.splice(i,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var i=e[n].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){s(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;r<e;){var o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(t.splice(r,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var r=this;c((function(){r._paintList(t,e,n)}))}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},_doPaintList:function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];(l=this._layers[o]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||e)&&n.push(l)}for(var a=!0,s=0;s<n.length;s++){var l,c=(l=n[s]).ctx,h={};c.save();var d=e?l.__startIndex:l.__drawIndex,p=!e&&l.incremental&&Date.now,f=p&&Date.now(),g=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,g);else if(d===l.__startIndex){var m=t[d];m.incremental&&m.notClear&&!e||l.clear(!1,g)}-1===d&&(console.error("For some unknown reason. drawIndex is -1"),d=l.__startIndex);for(var v=d;v<l.__endIndex;v++){var y=t[v];if(this._doPaintEl(y,l,e,h),y.__dirty=y.__dirtyText=!1,p)if(Date.now()-f>15)break}l.__drawIndex=v,l.__drawIndex<l.__endIndex&&(a=!1),h.prevElClipPaths&&c.restore(),c.restore()}return u.wxa&&r.each(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),a},_doPaintEl:function(t,e,n,i){var r=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!function(t,e,n){return p.copy(t.getBoundingRect()),t.transform&&p.applyTransform(t.transform),f.width=e,f.height=n,!p.intersect(f)}(t,this._width,this._height))){var a=t.__clipPaths,s=i.prevElClipPaths;s&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}(a,s)||(s&&(r.restore(),i.prevElClipPaths=null,i.prevEl=null),a&&(r.save(),function(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(a,r),i.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new l("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?r.merge(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&r.merge(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,a=null,s=-1,l=this._domRoot;if(n[t])o("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>i[0]){for(s=0;s<r-1&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var c=a.dom;c.nextSibling?l.insertBefore(e.dom,c.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else o("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],(n=this._layers[i]).__builtin__&&t.call(e,n,i)},eachOtherLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],(n=this._layers[i]).__builtin__||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var i,r=null,a=0;for(n=0;n<t.length;n++){var s,l,c=(s=t[n]).zlevel;i!==c&&(i=c,a=0),s.incremental?((l=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,a=1):l=this.getLayer(c+(a>0?.01:0),this._needsManuallyCompositing),l.__builtin__||o("ZLevel "+c+" has been used by unkown layer "+l.id),l!==r&&(l.__used=!0,l.__startIndex!==n&&(l.__dirty=!0),l.__startIndex=n,l.incremental?l.__drawIndex=-1:l.__drawIndex=n,e(n),r=l),s.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=n))}e(n),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?r.merge(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+.01){var a=this._layers[o];r.merge(a,n[t],!0)}}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(r.indexOf(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);r.each(this._progressiveLayers,(function(n){n.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,r=e.ctx;this.eachLayer((function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var c=a[s];this._doPaintEl(c,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||d(s[n])||d(a.style[n]))-(d(s[r])||0)-(d(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,c=o.hasStroke()?o.lineWidth:0,u=Math.max(c/2,-s+a),d=Math.max(c/2,s+a),p=Math.max(c/2,-l+a),f=Math.max(c/2,l+a),g=r.width+u+d,m=r.height+p+f;n.width=g*e,n.height=m*e,i.scale(e,e),i.clearRect(0,0,g,m),i.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-r.x,p-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var y=new h({style:{x:0,y:0,image:n}});return null!=v.position&&(y.position=t.position=v.position),null!=v.rotation&&(y.rotation=t.rotation=v.rotation),null!=v.scale&&(y.scale=t.scale=v.scale),y}};var m=g;t.exports=m},function(t,e,n){var i=n(3),r=n(123).devicePixelRatio,o=n(181),a=n(247);function s(){return!1}function l(t,e,n){var r=i.createCanvas(),o=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=o*n,r.height=a*n,r}var c=function(t,e,n){var o;n=n||r,"string"==typeof t?o=l(t,e,n):i.isObject(t)&&(t=(o=t).id),this.id=t,this.dom=o;var a=o.style;a&&(o.onselectstart=s,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};c.prototype={constructor:c,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,i=this.dom,r=this.ctx,s=i.width,l=i.height,c=(e=e||this.clearColor,this.motionBlur&&!t),h=this.lastFrameAlpha,u=this.dpr;(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,s/u,l/u)),r.clearRect(0,0,s,l),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||o.getGradient(r,e,{x:0,y:0,width:s,height:l}),e.__canvasGradient=n):e.image&&(n=a.prototype.getCanvasPattern.call(e,r)),r.save(),r.fillStyle=n||e,r.fillRect(0,0,s,l),r.restore());if(c){var d=this.domBack;r.save(),r.globalAlpha=h,r.drawImage(d,0,0,s,l),r.restore()}}};var h=c;t.exports=h},function(t,e,n){var i=n(3),r=n(49).Dispatcher,o=n(248),a=n(244),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,r.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=i.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;a<i;a++){var s=n[a],l=s.step(t,e);l&&(r.push(l),o.push(s))}for(a=0;a<i;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r.length;for(a=0;a<i;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,o((function e(){t._running&&(o(e),!t._paused&&t._update())}))},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new a(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},i.mixin(s,r);var l=s;t.exports=l},function(t,e,n){var i,r,o=n(49),a=o.addEventListener,s=o.removeEventListener,l=o.normalizeEvent,c=o.getNativeEvent,h=n(3),u=n(68),d=n(25),p=d.domSupported,f=(r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:i=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:h.map(i,(function(t){var e=t.replace("mouse","pointer");return r.hasOwnProperty(e)?e:t}))}),g=["mousemove","mouseup"],m=["pointermove","pointerup"];function v(t){return"mousewheel"===t&&d.browser.firefox?"DOMMouseScroll":t}function y(t){var e=t.pointerType;return"pen"===e||"touch"===e}function x(t){t&&(t.zrByTouch=!0)}function b(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}function w(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var C=w.prototype;C.stopPropagation=C.stopImmediatePropagation=C.preventDefault=h.noop;var _={mousedown:function(t){t=l(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=l(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||T(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=l(this.dom,t),T(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=l(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=b(this,e),this.trigger("mouseout",t)},touchstart:function(t){x(t=l(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),_.mousemove.call(this,t),_.mousedown.call(this,t)},touchmove:function(t){x(t=l(this.dom,t)),this.handler.processGesture(t,"change"),_.mousemove.call(this,t)},touchend:function(t){x(t=l(this.dom,t)),this.handler.processGesture(t,"end"),_.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&_.click.call(this,t)},pointerdown:function(t){_.mousedown.call(this,t)},pointermove:function(t){y(t)||_.mousemove.call(this,t)},pointerup:function(t){_.mouseup.call(this,t)},pointerout:function(t){y(t)||_.mouseout.call(this,t)}};h.each(["click","mousewheel","dblclick","contextmenu"],(function(t){_[t]=function(e){e=l(this.dom,e),this.trigger(t,e)}}));var S={pointermove:function(t){y(t)||S.mousemove.call(this,t)},pointerup:function(t){S.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;T(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function O(t,e){var n=e.domHandlers;d.pointerEventsSupported?h.each(f.pointer,(function(i){k(e,i,(function(e){n[i].call(t,e)}))})):(d.touchEventsSupported&&h.each(f.touch,(function(i){k(e,i,(function(r){n[i].call(t,r),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(e)}))})),h.each(f.mouse,(function(i){k(e,i,(function(r){r=c(r),e.touching||n[i].call(t,r)}))})))}function M(t,e){function n(n){k(e,n,(function(i){i=c(i),b(t,i.target)||(i=function(t,e){return l(t.dom,new w(t,e),!0)}(t,i),e.domHandlers[n].call(t,i))}),{capture:!0})}d.pointerEventsSupported?h.each(m,n):d.touchEventsSupported||h.each(g,n)}function k(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,a(t.domTarget,v(e),n,i)}function A(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&s(t.domTarget,v(n),e[n],t.listenerOpts[n]);t.mounted={}}function T(t,e){if(t._mayPointerCapture=null,p&&t._pointerCapturing^e){t._pointerCapturing=e;var n=t._globalHandlerScope;e?M(t,n):A(n)}}function D(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function P(t,e){u.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new D(t,_),p&&(this._globalHandlerScope=new D(document,S)),this._pointerCapturing=!1,this._mayPointerCapture=null,O(this,this._localHandlerScope)}var I=P.prototype;I.dispose=function(){A(this._localHandlerScope),p&&A(this._globalHandlerScope)},I.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},h.mixin(P,u);var E=P;t.exports=E},function(t,e,n){var i=n(82)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getLineStyle:function(t){var e=i(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),i=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[i,i]:[n,n])}};t.exports=r},function(t,e,n){var i=n(82)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),r={getAreaStyle:function(t,e){return i(this,t,e)}};t.exports=r},function(t,e,n){var i=n(39),r=n(6),o=["textStyle","color"],a={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(o):null)},getFont:function(){return r.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return i.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=a},function(t,e,n){var i=n(83),r=n(253),o=n(410),a=n(254),s=n(411),l=n(255).normalizeRadian,c=n(60),h=n(256),u=i.CMD,d=2*Math.PI;var p=[-1,-1,-1],f=[-1,-1];function g(t,e,n,i,r,o,a,s,l,h){if(h>e&&h>i&&h>o&&h>s||h<e&&h<i&&h<o&&h<s)return 0;var u,d=c.cubicRootAt(e,i,o,s,h,p);if(0===d)return 0;for(var g,m,v=0,y=-1,x=0;x<d;x++){var b=p[x],w=0===b||1===b?.5:1;c.cubicAt(t,n,r,a,b)<l||(y<0&&(y=c.cubicExtrema(e,i,o,s,f),f[1]<f[0]&&y>1&&(u=void 0,u=f[0],f[0]=f[1],f[1]=u),g=c.cubicAt(e,i,o,s,f[0]),y>1&&(m=c.cubicAt(e,i,o,s,f[1]))),2===y?b<f[0]?v+=g<e?w:-w:b<f[1]?v+=m<g?w:-w:v+=s<m?w:-w:b<f[0]?v+=g<e?w:-w:v+=s<g?w:-w)}return v}function m(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=c.quadraticRootAt(e,i,o,s,p);if(0===l)return 0;var h=c.quadraticExtremum(e,i,o);if(h>=0&&h<=1){for(var u=0,d=c.quadraticAt(e,i,o,h),f=0;f<l;f++){var g=0===p[f]||1===p[f]?.5:1;c.quadraticAt(t,n,r,p[f])<a||(p[f]<h?u+=d<e?g:-g:u+=o<d?g:-g)}return u}g=0===p[0]||1===p[0]?.5:1;return c.quadraticAt(t,n,r,p[0])<a?0:o<e?g:-g}function v(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;var c=Math.sqrt(n*n-s*s);p[0]=-c,p[1]=c;var h=Math.abs(i-r);if(h<1e-4)return 0;if(h%d<1e-4){i=0,r=d;var u=o?1:-1;return a>=p[0]+t&&a<=p[1]+t?u:0}if(o){c=i;i=l(r),r=l(c)}else i=l(i),r=l(r);i>r&&(r+=d);for(var f=0,g=0;g<2;g++){var m=p[g];if(m+t>a){var v=Math.atan2(s,m);u=o?1:-1;v<0&&(v=d+v),(v>=i&&v<=r||v+d>=i&&v+d<=r)&&(v>Math.PI/2&&v<1.5*Math.PI&&(u=-u),f+=u)}}return f}function y(t,e,n,i,l){for(var c,d,p=0,f=0,y=0,x=0,b=0,w=0;w<t.length;){var C=t[w++];switch(C===u.M&&w>1&&(n||(p+=h(f,y,x,b,i,l))),1===w&&(x=f=t[w],b=y=t[w+1]),C){case u.M:f=x=t[w++],y=b=t[w++];break;case u.L:if(n){if(r.containStroke(f,y,t[w],t[w+1],e,i,l))return!0}else p+=h(f,y,t[w],t[w+1],i,l)||0;f=t[w++],y=t[w++];break;case u.C:if(n){if(o.containStroke(f,y,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],e,i,l))return!0}else p+=g(f,y,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],i,l)||0;f=t[w++],y=t[w++];break;case u.Q:if(n){if(a.containStroke(f,y,t[w++],t[w++],t[w],t[w+1],e,i,l))return!0}else p+=m(f,y,t[w++],t[w++],t[w],t[w+1],i,l)||0;f=t[w++],y=t[w++];break;case u.A:var _=t[w++],S=t[w++],O=t[w++],M=t[w++],k=t[w++],A=t[w++];w+=1;var T=1-t[w++],D=Math.cos(k)*O+_,P=Math.sin(k)*M+S;w>1?p+=h(f,y,D,P,i,l):(x=D,b=P);var I=(i-_)*M/O+_;if(n){if(s.containStroke(_,S,M,k,k+A,T,e,I,l))return!0}else p+=v(_,S,M,k,k+A,T,I,l);f=Math.cos(k+A)*O+_,y=Math.sin(k+A)*M+S;break;case u.R:x=f=t[w++],b=y=t[w++];D=x+t[w++],P=b+t[w++];if(n){if(r.containStroke(x,b,D,b,e,i,l)||r.containStroke(D,b,D,P,e,i,l)||r.containStroke(D,P,x,P,e,i,l)||r.containStroke(x,P,x,b,e,i,l))return!0}else p+=h(D,b,D,P,i,l),p+=h(x,P,x,b,i,l);break;case u.Z:if(n){if(r.containStroke(f,y,x,b,e,i,l))return!0}else p+=h(f,y,x,b,i,l);f=x,y=b}}return n||(c=y,d=b,Math.abs(c-d)<1e-4)||(p+=h(f,y,x,b,i,l)||0),0!==p}e.contain=function(t,e,n){return y(t,0,!1,e,n)},e.containStroke=function(t,e,n,i){return y(t,e,!0,n,i)}},function(t,e,n){var i=n(60);e.containStroke=function(t,e,n,r,o,a,s,l,c,h,u){if(0===c)return!1;var d=c;return!(u>e+d&&u>r+d&&u>a+d&&u>l+d||u<e-d&&u<r-d&&u<a-d&&u<l-d||h>t+d&&h>n+d&&h>o+d&&h>s+d||h<t-d&&h<n-d&&h<o-d&&h<s-d)&&i.cubicProjectPoint(t,e,n,r,o,a,s,l,h,u,null)<=d/2}},function(t,e,n){var i=n(255).normalizeRadian,r=2*Math.PI;e.containStroke=function(t,e,n,o,a,s,l,c,h){if(0===l)return!1;var u=l;c-=t,h-=e;var d=Math.sqrt(c*c+h*h);if(d-u>n||d+u<n)return!1;if(Math.abs(o-a)%r<1e-4)return!0;if(s){var p=o;o=i(a),a=i(p)}else o=i(o),a=i(a);o>a&&(a+=r);var f=Math.atan2(h,c);return f<0&&(f+=r),f>=o&&f<=a||f+r>=o&&f+r<=a}},function(t,e,n){var i=n(83),r=n(18).applyTransform,o=i.CMD,a=[[],[],[]],s=Math.sqrt,l=Math.atan2;t.exports=function(t,e){var n,i,c,h,u,d=t.data,p=o.M,f=o.C,g=o.L,m=o.R,v=o.A,y=o.Q;for(c=0,h=0;c<d.length;){switch(n=d[c++],h=c,i=0,n){case p:case g:i=1;break;case f:i=3;break;case y:i=2;break;case v:var x=e[4],b=e[5],w=s(e[0]*e[0]+e[1]*e[1]),C=s(e[2]*e[2]+e[3]*e[3]),_=l(-e[1]/C,e[0]/w);d[c]*=w,d[c++]+=x,d[c]*=C,d[c++]+=b,d[c++]*=w,d[c++]*=C,d[c++]+=_,d[c++]+=_,h=c+=2;break;case m:S[0]=d[c++],S[1]=d[c++],r(S,S,e),d[h++]=S[0],d[h++]=S[1],S[0]+=d[c++],S[1]+=d[c++],r(S,S,e),d[h++]=S[0],d[h++]=S[1]}for(u=0;u<i;u++){var S;(S=a[u])[0]=d[c++],S[1]=d[c++],r(S,S,e),d[h++]=S[0],d[h++]=S[1]}}}},function(t,e,n){var i=n(24),r=n(258),o=i.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:r(i.prototype.brush),buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,c=Math.cos(a),h=Math.sin(a);t.moveTo(c*r+n,h*r+i),t.lineTo(c*o+n,h*o+i),t.arc(n,i,o,a,s,!l),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,a,l),t.closePath()}});t.exports=o},function(t,e,n){var i=n(24).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}});t.exports=i},function(t,e,n){var i=n(18).distance;function r(t,e,n,i,r,o,a){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*r+e}t.exports=function(t,e){for(var n=t.length,o=[],a=0,s=1;s<n;s++)a+=i(t[s-1],t[s]);var l=a/2;for(l=l<n?n:l,s=0;s<l;s++){var c,h,u,d=s/(l-1)*(e?n:n-1),p=Math.floor(d),f=d-p,g=t[p%n];e?(c=t[(p-1+n)%n],h=t[(p+1)%n],u=t[(p+2)%n]):(c=t[0===p?p:p-1],h=t[p>n-2?n-1:p+1],u=t[p>n-3?n-1:p+2]);var m=f*f,v=f*m;o.push([r(c[0],g[0],h[0],u[0],f,m,v),r(c[1],g[1],h[1],u[1],f,m,v)])}return o}},function(t,e,n){var i=n(18),r=i.min,o=i.max,a=i.scale,s=i.distance,l=i.add,c=i.clone,h=i.sub;t.exports=function(t,e,n,i){var u,d,p,f,g=[],m=[],v=[],y=[];if(i){p=[1/0,1/0],f=[-1/0,-1/0];for(var x=0,b=t.length;x<b;x++)r(p,p,t[x]),o(f,f,t[x]);r(p,p,i[0]),o(f,f,i[1])}for(x=0,b=t.length;x<b;x++){var w=t[x];if(n)u=t[x?x-1:b-1],d=t[(x+1)%b];else{if(0===x||x===b-1){g.push(c(t[x]));continue}u=t[x-1],d=t[x+1]}h(m,d,u),a(m,m,e);var C=s(w,u),_=s(w,d),S=C+_;0!==S&&(C/=S,_/=S),a(v,m,-C),a(y,m,_);var O=l([],w,v),M=l([],w,y);i&&(o(O,O,p),r(O,O,f),o(M,M,p),r(M,M,f)),g.push(O),g.push(M)}return n&&g.push(g.shift()),g}},function(t,e,n){var i=n(24),r=n(18),o=n(60),a=o.quadraticSubdivide,s=o.cubicSubdivide,l=o.quadraticAt,c=o.cubicAt,h=o.quadraticDerivativeAt,u=o.cubicDerivativeAt,d=[];function p(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?u:c)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?u:c)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?h:l)(t.x1,t.cpx1,t.x2,e),(n?h:l)(t.y1,t.cpy1,t.y2,e)]}var f=i.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,l=e.cpx1,c=e.cpy1,h=e.cpx2,u=e.cpy2,p=e.percent;0!==p&&(t.moveTo(n,i),null==h||null==u?(p<1&&(a(n,l,r,p,d),l=d[1],r=d[2],a(i,c,o,p,d),c=d[1],o=d[2]),t.quadraticCurveTo(l,c,r,o)):(p<1&&(s(n,l,h,r,p,d),l=d[1],h=d[2],r=d[3],s(i,c,u,o,p,d),c=d[1],u=d[2],o=d[3]),t.bezierCurveTo(l,c,h,u,r,o)))},pointAt:function(t){return p(this.shape,t,!1)},tangentAt:function(t){var e=p(this.shape,t,!0);return r.normalize(e,e)}});t.exports=f},function(t,e,n){var i=n(24).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*r+n,c*r+i),t.arc(n,i,r,o,a,!s)}});t.exports=i},function(t,e,n){var i=n(24),r=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}});t.exports=r},function(t,e,n){var i=n(3),r=n(126),o=function(t,e,n,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,r.call(this,i)};o.prototype={constructor:o},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(82)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),r={getItemStyle:function(t,e){var n=i(this,t,e),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=r},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e){var n="";"undefined"!=typeof navigator&&(n=navigator.platform||"");var i={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=i},function(t,e,n){var i=n(3),r=n(11),o=n(30),a=i.each,s=i.clone,l=i.map,c=i.merge,h=/^(min|max)?(.+)$/;function u(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function d(t,e,n){var r,o,s=[],l=[],c=t.timeline;if(t.baseOption&&(o=t.baseOption),(c||t.options)&&(o=o||{},s=(t.options||[]).slice()),t.media){o=o||{};var h=t.media;a(h,(function(t){t&&t.option&&(t.query?l.push(t):r||(r=t))}))}return o||(o=t),o.timeline||(o.timeline=c),a([o].concat(s).concat(i.map(l,(function(t){return t.option}))),(function(t){a(e,(function(e){e(t,n)}))})),{baseOption:o,timelineOptions:s,mediaDefault:r,mediaList:l}}function p(t,e,n){var r={width:e,height:n,aspectratio:e/n},o=!0;return i.each(t,(function(t,e){var n=e.match(h);if(n&&n[1]&&n[2]){var i=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(r[a],t,i)||(o=!1)}})),o}u.prototype={constructor:u,setOption:function(t,e){t&&i.each(r.normalizeToArray(t.series),(function(t){t&&t.data&&i.isTypedArray(t.data)&&i.setAsPrimitive(t.data)})),t=s(t);var n,h,u=this._optionBackup,p=d.call(this,t,e,!u);this._newBaseOption=p.baseOption,u?(n=u.baseOption,h=p.baseOption,a(h=h||{},(function(t,e){if(null!=t){var i=n[e];if(o.hasClass(e)){t=r.normalizeToArray(t),i=r.normalizeToArray(i);var a=r.mappingToExists(i,t);n[e]=l(a,(function(t){return t.option&&t.exist?c(t.exist,t.option,!0):t.exist||t.option}))}else n[e]=c(i,t,!0)}})),p.timelineOptions.length&&(u.timelineOptions=p.timelineOptions),p.mediaList.length&&(u.mediaList=p.mediaList),p.mediaDefault&&(u.mediaDefault=p.mediaDefault)):this._optionBackup=p},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=l(e.timelineOptions,s),this._mediaList=l(e.mediaList,s),this._mediaDefault=s(e.mediaDefault),this._currentMediaIndices=[],s(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=s(n[i.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e,n,i=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,c=[],h=[];if(!o.length&&!a)return h;for(var u=0,d=o.length;u<d;u++)p(o[u].query,i,r)&&c.push(u);return!c.length&&a&&(c=[-1]),c.length&&(e=c,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(h=l(c,(function(t){return s(-1===t?a.option:o[t].option)}))),this._currentMediaIndices=c,h}};var f=u;t.exports=f},function(t,e,n){var i=n(3),r=i.each,o=i.isArray,a=i.isObject,s=n(426),l=n(11).normalizeToArray;function c(t){r(h,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var h=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],u=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];t.exports=function(t,e){s(t,e),t.series=l(t.series),r(t.series,(function(t){if(a(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var n=function(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}(t,"pointer.color");null!=n&&function(t,e,n,i){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)null==o[r=e[a]]&&(o[r]={}),o=o[r];(i||null==o[e[a]])&&(o[e[a]]=n)}(t,"itemStyle.color",n)}c(t)}})),t.dataRange&&(t.visualMap=t.dataRange),r(u,(function(e){var n=t[e];n&&(o(n)||(n=[n]),r(n,(function(t){c(t)})))}))}},function(t,e,n){var i=n(3),r=n(11),o=i.each,a=i.isObject,s=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=s.length;n<r;n++){var o=s[n],a=e.normal,l=e.emphasis;a&&a[o]&&(t[o]=t[o]||{},t[o].normal?i.merge(t[o].normal,a[o]):t[o].normal=a[o],a[o]=null),l&&l[o]&&(t[o]=t[o]||{},t[o].emphasis?i.merge(t[o].emphasis,l[o]):t[o].emphasis=l[o],l[o]=null)}}function c(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,o=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,i.defaults(t[e],r)):t[e]=r),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function h(t){c(t,"itemStyle"),c(t,"lineStyle"),c(t,"areaStyle"),c(t,"label"),c(t,"labelLine"),c(t,"upperLabel"),c(t,"edgeLabel")}function u(t,e){var n=a(t)&&t[e],i=a(n)&&n.textStyle;if(i)for(var o=0,s=r.TEXT_STYLE_OPTIONS.length;o<s;o++){e=r.TEXT_STYLE_OPTIONS[o];i.hasOwnProperty(e)&&(n[e]=i[e])}}function d(t){t&&(h(t),u(t,"label"),t.emphasis&&u(t.emphasis,"label"))}function p(t){return i.isArray(t)?t:t?[t]:[]}function f(t){return(i.isArray(t)?t[0]:t)||{}}t.exports=function(t,e){o(p(t.series),(function(t){a(t)&&function(t){if(a(t)){l(t),h(t),u(t,"label"),u(t,"upperLabel"),u(t,"edgeLabel"),t.emphasis&&(u(t.emphasis,"label"),u(t.emphasis,"upperLabel"),u(t.emphasis,"edgeLabel")),(n=t.markPoint)&&(l(n),d(n)),(r=t.markLine)&&(l(r),d(r));var e=t.markArea;e&&d(e);var n,r,o=t.data;if("graph"===t.type){o=o||t.nodes;var s=t.links||t.edges;if(s&&!i.isTypedArray(s))for(var p=0;p<s.length;p++)d(s[p]);i.each(t.categories,(function(t){h(t)}))}if(o&&!i.isTypedArray(o))for(p=0;p<o.length;p++)d(o[p]);if((n=t.markPoint)&&n.data){var f=n.data;for(p=0;p<f.length;p++)d(f[p])}if((r=t.markLine)&&r.data){var g=r.data;for(p=0;p<g.length;p++)i.isArray(g[p])?(d(g[p][0]),d(g[p][1])):d(g[p])}"gauge"===t.type?(u(t,"axisLabel"),u(t,"title"),u(t,"detail")):"treemap"===t.type?(c(t.breadcrumb,"itemStyle"),i.each(t.levels,(function(t){h(t)}))):"tree"===t.type&&h(t.leaves)}}(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),o(n,(function(e){o(p(t[e]),(function(t){t&&(u(t,"axisLabel"),u(t.axisPointer,"label"))}))})),o(p(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;u(e,"axisLabel"),u(e&&e.axisPointer,"label")})),o(p(t.calendar),(function(t){c(t,"itemStyle"),u(t,"dayLabel"),u(t,"monthLabel"),u(t,"yearLabel")})),o(p(t.radar),(function(t){u(t,"name")})),o(p(t.geo),(function(t){a(t)&&(d(t),o(p(t.regions),(function(t){d(t)})))})),o(p(t.timeline),(function(t){d(t),c(t,"label"),c(t,"itemStyle"),c(t,"controlStyle",!0);var e=t.data;i.isArray(e)&&i.each(e,(function(t){i.isObject(t)&&(c(t,"label"),c(t,"itemStyle"))}))})),o(p(t.toolbox),(function(t){c(t,"iconStyle"),o(t.feature,(function(t){c(t,"iconStyle")}))})),u(f(t.axisPointer),"label"),u(f(t.tooltip).axisPointer,"label")}},function(t,e,n){var i=n(3),r=i.createHashMap,o=i.each;function a(t){o(t,(function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=a.map(o,(function(o,l,c){var h,u,d=a.get(e.stackedDimension,c);if(isNaN(d))return r;s?u=a.getRawIndex(c):h=a.get(e.stackedByDimension,c);for(var p=NaN,f=n-1;f>=0;f--){var g=t[f];if(s||(u=g.data.rawIndexOf(g.stackedByDimension,h)),u>=0){var m=g.data.getByRawIndex(g.stackResultDimension,u);if(d>=0&&m>0||d<=0&&m<0){d+=m,p=m;break}}}return i[0]=d,i[1]=p,i}));a.hostModel.setData(l),e.data=l}))}t.exports=function(t){var e=r();t.eachSeries((function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),e.each(a)}},function(t,e,n){var i=n(126),r=n(3).isFunction,o={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),o=(t.visualColorAccessPath||"itemStyle.color").split("."),a=t.get(o),s=!r(a)||a instanceof i?null:a;a&&!s||(a=t.getColorFromPalette(t.name,null,e.getSeriesCount())),n.setVisual("color",a);var l=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=t.get(l);if(n.setVisual("borderColor",c),!e.isSeriesFiltered(t)){s&&n.each((function(e){n.setItemVisual(e,"color",s(t.getDataParams(e)))}));return{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e),i=n.get(o,!0),r=n.get(l,!0);null!=i&&t.setItemVisual(e,"color",i),null!=r&&t.setItemVisual(e,"borderColor",r)}:null}}}};t.exports=o},function(t,e,n){var i=n(3),r=n(62),o=n(71).retrieveRawValue;t.exports=function(t,e){var n=e.getModel("aria");if(n.get("show"))if(n.get("description"))t.setAttribute("aria-label",n.get("description"));else{var a=0;e.eachSeries((function(t,e){++a}),this);var s,l=n.get("data.maxCount")||10,c=n.get("series.maxCount")||10,h=Math.min(a,c);if(!(a<1)){var u=function(){var t=e.getModel("title").option;t&&t.length&&(t=t[0]);return t&&t.text}();s=u?p(f("general.withTitle"),{title:u}):f("general.withoutTitle");var d=[];s+=p(f(a>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:a}),e.eachSeries((function(t,e){if(e<h){var n,i=t.get("name"),s="series."+(a>1?"multiple":"single")+".";n=p(n=f(i?s+"withName":s+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(y=t.subType,r.series.typeNames[y]||"")});var c=t.getData();window.data=c,c.count()>l?n+=p(f("data.partialData"),{displayCnt:l}):n+=f("data.allData");for(var u=[],g=0;g<c.count();g++)if(g<l){var m=c.getName(g),v=o(c,g);u.push(p(f(m?"data.withName":"data.withoutName"),{name:m,value:v}))}n+=u.join(f("data.separator.middle"))+f("data.separator.end"),d.push(n)}var y})),s+=d.join(f("series.multiple.separator.middle"))+f("series.multiple.separator.end"),t.setAttribute("aria-label",s)}}function p(t,e){if("string"!=typeof t)return t;var n=t;return i.each(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}function f(t){var e=n.get(t);if(null==e){for(var i=t.split("."),o=r.aria,a=0;a<i.length;++a)o=o[i[a]];return o}return e}}},function(t,e,n){var i=n(3),r=n(6),o=n(39),a=Math.PI;t.exports=function(t,e){e=e||{},i.defaults(e,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new r.Group,s=new r.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(s);var l=e.fontSize+" sans-serif",c=new r.Rect({style:{fill:"none",text:e.text,font:l,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});if(n.add(c),e.showSpinner){var h=new r.Arc({shape:{startAngle:-a/2,endAngle:-a/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});h.animateShape(!0).when(1e3,{endAngle:3*a/2}).start("circularInOut"),h.animateShape(!0).when(1e3,{startAngle:3*a/2}).delay(300).start("circularInOut"),n.add(h)}return n.resize=function(){var n=o.getWidth(e.text,l),i=e.showSpinner?e.spinnerRadius:0,r=(t.getWidth()-2*i-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner?0:n/2),a=t.getHeight()/2;e.showSpinner&&h.setShape({cx:r,cy:a}),c.setShape({x:r-i,y:a-i,width:2*i,height:2*i}),s.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}},function(t,e,n){var i=n(3),r=i.each,o=i.map,a=i.isFunction,s=i.createHashMap,l=i.noop,c=n(188).createTask,h=n(103).getUID,u=n(251),d=n(264),p=n(11).normalizeToArray;function f(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=s()}var g=f.prototype;function m(t,e,n,i,o){var a;function s(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}o=o||{},r(e,(function(e,r){if(!o.visualType||o.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),c=l.seriesTaskMap,h=l.overallTask;if(h){var u,d=h.agentStubMap;d.each((function(t){s(o,t)&&(t.dirty(),u=!0)})),u&&h.dirty(),v(h,i);var p=t.getPerformArgs(h,o.block);d.each((function(t){t.perform(p)})),a|=h.perform(p)}else c&&c.each((function(r,l){s(o,r)&&r.dirty();var c=t.getPerformArgs(r,o.block);c.skip=!e.performRawSeries&&n.isSeriesFiltered(r.context.model),v(r,i),a|=r.perform(c)}))}})),t.unfinished|=a}g.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},g.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},g.getPipeline=function(t){return this._pipelineMap.get(t)},g.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},g.restorePipelines=function(t){var e=this,n=e._pipelineMap=s();t.eachSeries((function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),k(e,t,t.dataTask)}))},g.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;r(this._allHandlers,(function(i){var o=t.get(i.uid)||t.set(i.uid,[]);i.reset&&function(t,e,n,i,r){var o=n.seriesTaskMap||(n.seriesTaskMap=s()),a=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(h):a?i.eachRawSeriesByType(a,h):l&&l(i,r).each(h);function h(n){var a=n.uid,s=o.get(a)||o.set(a,c({plan:C,reset:_,count:M}));s.context={model:n,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},k(t,n,s)}var u=t._pipelineMap;o.each((function(t,e){u.get(e)||(t.dispose(),o.removeKey(e))}))}(this,i,o,e,n),i.overallReset&&function(t,e,n,i,o){var a=n.overallTask=n.overallTask||c({reset:y});a.context={ecModel:i,api:o,overallReset:e.overallReset,scheduler:t};var l=a.agentStubMap=a.agentStubMap||s(),h=e.seriesType,u=e.getTargetSeries,d=!0,p=e.modifyOutputEnd;h?i.eachRawSeriesByType(h,f):u?u(i,o).each(f):(d=!1,r(i.getSeries(),f));function f(e){var n=e.uid,i=l.get(n);i||(i=l.set(n,c({reset:x,onDirty:w})),a.dirty()),i.context={model:e,overallProgress:d,modifyOutputEnd:p},i.agent=a,i.__block=d,k(t,e,i)}var g=t._pipelineMap;l.each((function(t,e){g.get(e)||(t.dispose(),a.dirty(),l.removeKey(e))}))}(this,i,o,e,n)}),this)},g.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,k(this,e,r)},g.performDataProcessorTasks=function(t,e){m(this,this._dataProcessorHandlers,t,e,{block:!0})},g.performVisualTasks=function(t,e,n){m(this,this._visualHandlers,t,e,n)},g.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e|=t.dataTask.perform()})),this.unfinished|=e},g.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};var v=g.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function y(t){t.overallReset(t.ecModel,t.api,t.payload)}function x(t,e){return t.overallProgress&&b}function b(){this.agent.dirty(),this.getDownstream().dirty()}function w(){this.agent&&this.agent.dirty()}function C(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function _(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=p(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?o(e,(function(t,e){return O(e)})):S}var S=O(0);function O(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function M(t){return t.data.count()}function k(t,e,n){var i=e.uid,r=t._pipelineMap.get(i);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r}function A(t){T=null;try{t(D,P)}catch(t){}return T}f.wrapStageHandler=function(t,e){return a(t)&&(t={overallReset:t,seriesType:A(t)}),t.uid=h("stageHandler"),e&&(t.visualType=e),t};var T,D={},P={};function I(t,e){for(var n in e.prototype)t[n]=l}I(D,u),I(P,d),D.eachSeriesByType=D.eachRawSeriesByType=function(t){T=t},D.eachComponent=function(t){"series"===t.mainType&&t.subType&&(T=t.subType)};var E=f;t.exports=E},function(t,e){var n=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],i={color:n,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n]};t.exports=i},function(t,e){var n=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],i={color:n,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"},label:{color:"#000"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:n[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:n},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};i.categoryAxis.splitLine.show=!1;var r=i;t.exports=r},function(t,e,n){var i=n(24).extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),t.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),t.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),t.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),t.closePath()}});t.exports=i},function(t,e,n){var i=n(3),r=n(58),o=n(45),a=n(86),s=n(26),l=n(14);l.getLayoutRect;e.getLayoutRect=l.getLayoutRect;var c=n(52),h=c.enableDataStack,u=c.isDimensionStacked,d=c.getStackedDimension,p=n(190);e.completeDimensions=p;var f=n(85);e.createDimensions=f;var g=n(40);e.createSymbol=g.createSymbol;var m={isDimensionStacked:u,enableDataStack:h,getStackedDimension:d};e.createList=function(t){return r(t.getSource(),t)},e.dataStack=m,e.createScale=function(t,e){var n=e;s.isInstance(e)||(n=new s(e),i.mixin(n,a));var r=o.createScaleByModel(n);return r.setExtent(t[0],t[1]),o.niceScaleExtent(r,n),r},e.mixinAxisModelCommonMethods=function(t){i.mixin(t,a)}},function(t,e,n){n(12).__DEV__;var i=n(3),r=i.createHashMap,o=(i.retrieve,i.each);function a(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=r(),this.categoryAxisMap=r(),this.firstCategoryDimIndex=null}var s={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis")[0],o=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),l(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),l(o)&&(i.set("y",o),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",r),l(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar")[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),l(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),l(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,a=r.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();o(a.parallelAxisIndex,(function(t,o){var a=r.getComponent("parallelAxis",t),c=s[o];n.set(c,a),l(a)&&null==e.firstCategoryDimIndex&&(i.set(c,a),e.firstCategoryDimIndex=o)}))}};function l(t){return"category"===t.get("type")}e.getCoordSysInfoBySeries=function(t){var e=t.get("coordinateSystem"),n=new a(e),i=s[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}},function(t,e,n){var i=n(3),r=n(128),o=n(269),a=r.prototype,s=r.extend({type:"ordinal",init:function(t,e){t&&!i.isArray(t)||(t=new o({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),a.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return a.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(a.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:i.noop,niceExtent:i.noop});s.create=function(){return new s};var l=s;t.exports=l},function(t,e,n){var i=n(3),r=n(8),o=n(15),a=n(270),s=n(129),l=s.prototype,c=Math.ceil,h=Math.floor,u=864e5,d=s.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return o.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=u,e[1]+=u),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-u}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=r.round(h(e[0]/i)*i)),t.fixMax||(e[1]=r.round(c(e[1]/i)*i))},niceTicks:function(t,e,n){t=t||10;var i=this._extent,o=i[1]-i[0],s=o/t;null!=e&&s<e&&(s=e),null!=n&&s>n&&(s=n);var l=p.length,u=function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n}(p,s,0,l),d=p[Math.min(u,l-1)],f=d[1];if("year"===d[0]){var g=o/f;f*=r.nice(g/t,!0)}var m=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,v=[Math.round(c((i[0]-m)/f)*f+m),Math.round(h((i[1]-m)/f)*f+m)];a.fixExtent(v,i),this._stepLvl=d,this._interval=f,this._niceExtent=v},parse:function(t){return+r.parseDate(t)}});i.each(["contain","normalize"],(function(t){d.prototype[t]=function(e){return l[t].call(this,this.parse(e))}}));var p=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",u],["MM-dd\nyyyy",2*u],["MM-dd\nyyyy",3*u],["MM-dd\nyyyy",4*u],["MM-dd\nyyyy",5*u],["MM-dd\nyyyy",6*u],["week",7*u],["MM-dd\nyyyy",10*u],["week",14*u],["week",21*u],["month",31*u],["week",42*u],["month",62*u],["week",70*u],["quarter",95*u],["month",31*u*4],["month",31*u*5],["half-year",380*u/2],["month",31*u*8],["month",31*u*10],["year",380*u]];d.create=function(t){return new d({useUTC:t.ecModel.get("useUTC")})};var f=d;t.exports=f},function(t,e,n){var i=n(3),r=n(39),o=n(11).makeInner,a=n(45),s=a.makeLabelFormatter,l=a.getOptionCategoryInterval,c=a.shouldShowAllLabels,h=o();function u(t,e){var n,r,o=d(t,"labels"),a=l(e),s=p(o,a);return s||(i.isFunction(a)?n=m(t,a):(r="auto"===a?function(t){var e=h(t).autoInterval;return null!=e?e:h(t).autoInterval=t.calculateCategoryInterval()}(t):a,n=g(t,r)),f(o,a,{labels:n,labelCategoryInterval:r}))}function d(t,e){return h(t)[e]||(h(t)[e]=[])}function p(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function f(t,e,n){return t.push({key:e,value:n}),n}function g(t,e,n){var i=s(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),l=[],h=Math.max((e||0)+1,1),u=o[0],d=r.count();0!==u&&h>1&&d/h>2&&(u=Math.round(Math.ceil(u/h)*h));var p=c(t),f=a.get("showMinLabel")||p,g=a.get("showMaxLabel")||p;f&&u!==o[0]&&v(o[0]);for(var m=u;m<=o[1];m+=h)v(m);function v(t){l.push(n?t:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:t})}return g&&m-h!==o[1]&&v(o[1]),l}function m(t,e,n){var r=t.scale,o=s(t),a=[];return i.each(r.getTicks(),(function(t){var i=r.getLabel(t);e(t,i)&&a.push(n?t:{formattedLabel:o(t),rawLabel:i,tickValue:t})})),a}e.createAxisLabels=function(t){return"category"===t.type?function(t){var e=t.getLabelModel(),n=u(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=s(t);return{labels:i.map(e,(function(e,i){return{formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e}}))}}(t)},e.createAxisTicks=function(t,e){return"category"===t.type?function(t,e){var n,r,o=d(t,"ticks"),a=l(e),s=p(o,a);if(s)return s;e.get("show")&&!t.scale.isBlank()||(n=[]);if(i.isFunction(a))n=m(t,a,!0);else if("auto"===a){var c=u(t,t.getLabelModel());r=c.labelCategoryInterval,n=i.map(c.labels,(function(t){return t.tickValue}))}else n=g(t,r=a,!0);return f(o,a,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:t.scale.getTicks()}},e.calculateCategoryInterval=function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=s(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),l=o.count();if(a[1]-a[0]<1)return 0;var c=1;l>40&&(c=Math.max(1,Math.floor(l/40)));for(var u=a[0],d=t.dataToCoord(u+1)-t.dataToCoord(u),p=Math.abs(d*Math.cos(i)),f=Math.abs(d*Math.sin(i)),g=0,m=0;u<=a[1];u+=c){var v,y,x=r.getBoundingRect(n(u),e.font,"center","top");v=1.3*x.width,y=1.3*x.height,g=Math.max(g,v,7),m=Math.max(m,y,7)}var b=g/p,w=m/f;isNaN(b)&&(b=1/0),isNaN(w)&&(w=1/0);var C=Math.max(0,Math.floor(Math.min(b,w))),_=h(t.model),S=t.getExtent(),O=_.lastAutoInterval,M=_.lastTickCount;return null!=O&&null!=M&&Math.abs(O-C)<=1&&Math.abs(M-l)<=1&&O>C&&_.axisExtend0===S[0]&&_.axisExtend1===S[1]?C=O:(_.lastTickCount=l,_.lastAutoInterval=C,_.axisExtend0=S[0],_.axisExtend1=S[1]),C}},function(t,e,n){var i=n(5);n(441),n(442);var r=n(73),o=n(109),a=n(444);n(110),i.registerVisual(r("line","circle","line")),i.registerLayout(o("line")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,a("line"))},function(t,e,n){n(12).__DEV__;var i=n(58),r=n(31).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=r},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(102).fromPoints,o=n(107),a=n(131),s=n(443),l=n(6),c=n(11),h=n(276),u=h.Polyline,d=h.Polygon,p=n(51),f=n(275),g=f.prepareDataCoordInfo,m=f.getStackedOnPoint,v=n(108),y=v.createGridClipPath,x=v.createPolarClipPath;function b(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function w(t,e){var n=[],i=[],o=[],a=[];return r(t,n,i),r(e,o,a),Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function C(t){return"number"==typeof t?t:t?.5:0}function _(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],l=t[a];o.push(l);var c=[];switch(n){case"end":c[r]=s[r],c[1-r]=l[1-r],o.push(c);break;case"middle":var h=(l[r]+s[r])/2,u=[];c[r]=u[r]=h,c[1-r]=l[1-r],u[1-r]=s[1-r],o.push(c),o.push(u);break;default:c[r]=l[r],c[1-r]=s[1-r],o.push(c)}}return t[a]&&o.push(t[a]),o}function S(t,e,n){var r=t.get("showAllSymbol"),o="auto"===r;if(!r||o){var s=n.getAxesByScale("ordinal")[0];if(s&&(!o||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),s=0;s<r;s+=o)if(1.5*a.getSymbolSize(e,s)[t.isHorizontal()?1:0]>i)return!1;return!0}(s,e))){var l=e.mapDimension(s.dim),c={};return i.each(s.getViewLabels(),(function(t){c[t.tickValue]=1})),function(t){return!c.hasOwnProperty(e.get(l,t))}}}}function O(t,e,n){if("cartesian2d"===t.type){var i=t.getBaseAxis().isHorizontal(),r=y(t,e,n);if(!n.get("clip",!0)){var o=r.shape,a=Math.max(o.width,o.height);i?(o.y-=a,o.height+=2*a):(o.x-=a,o.width+=2*a)}return r}return x(t,e,n)}var M=p.extend({type:"line",init:function(){var t=new l.Group,e=new o;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var r=t.coordinateSystem,o=this.group,a=t.getData(),s=t.getModel("lineStyle"),c=t.getModel("areaStyle"),h=a.mapArray(a.getItemLayout),u="polar"===r.type,d=this._coordSys,p=this._symbolDraw,f=this._polyline,v=this._polygon,y=this._lineGroup,x=t.get("animation"),w=!c.isEmpty(),M=c.get("origin"),k=function(t,e,n){if(!n.valueDim)return[];for(var i=[],r=0,o=e.count();r<o;r++)i.push(m(n,t,e,r));return i}(r,a,g(r,a,M)),A=t.get("showSymbol"),T=A&&!u&&S(t,a,r),D=this._data;D&&D.eachItemGraphicEl((function(t,e){t.__temp&&(o.remove(t),D.setItemGraphicEl(e,null))})),A||p.remove(),o.add(y);var P,I=!u&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(P=r.getArea()).width?(P.x-=.1,P.y-=.1,P.width+=.2,P.height+=.2):P.r0&&(P.r0-=.5,P.r1+=.5)),this._clipShapeForSymbol=P,f&&d.type===r.type&&I===this._step?(w&&!v?v=this._newPolygon(h,k,r,x):v&&!w&&(y.remove(v),v=this._polygon=null),y.setClipPath(O(r,!1,t)),A&&p.updateData(a,{isIgnore:T,clipShape:P}),a.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),b(this._stackedOnPoints,k)&&b(this._points,h)||(x?this._updateAnimation(a,k,r,n,I,M):(I&&(h=_(h,r,I),k=_(k,r,I)),f.setShape({points:h}),v&&v.setShape({points:h,stackedOnPoints:k})))):(A&&p.updateData(a,{isIgnore:T,clipShape:P}),I&&(h=_(h,r,I),k=_(k,r,I)),f=this._newPolyline(h,r,x),w&&(v=this._newPolygon(h,k,r,x)),y.setClipPath(O(r,!0,t)));var E=function(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var r,o,a=n.length-1;a>=0;a--){var s=n[a].dimension,c=t.dimensions[s],h=t.getDimensionInfo(c);if("x"===(r=h&&h.coordDim)||"y"===r){o=n[a];break}}if(o){var u=e.getAxis(r),d=i.map(o.stops,(function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}})),p=d.length,f=o.outerColors.slice();p&&d[0].coord>d[p-1].coord&&(d.reverse(),f.reverse());var g=d[0].coord-10,m=d[p-1].coord+10,v=m-g;if(v<.001)return"transparent";i.each(d,(function(t){t.offset=(t.coord-g)/v})),d.push({offset:p?d[p-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:p?d[0].offset:.5,color:f[0]||"transparent"});var y=new l.LinearGradient(0,0,0,0,d,!0);return y[r]=g,y[r+"2"]=m,y}}}(a,r)||a.getVisual("color");f.useStyle(i.defaults(s.getLineStyle(),{fill:"none",stroke:E,lineJoin:"bevel"}));var j=t.get("smooth");if(j=C(t.get("smooth")),f.setShape({smooth:j,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),v){var L=a.getCalculationInfo("stackedOnSeries"),B=0;v.useStyle(i.defaults(c.getAreaStyle(),{fill:E,opacity:.7,lineJoin:"bevel"})),L&&(B=C(L.get("smooth"))),v.setShape({smooth:j,stackedOnSmooth:B,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=a,this._coordSys=r,this._stackedOnPoints=k,this._points=h,this._step=I,this._valueOrigin=M},dispose:function(){},highlight:function(t,e,n,i){var r=t.getData(),o=c.queryDataIndex(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var s=r.getItemGraphicEl(o);if(!s){var l=r.getItemLayout(o);if(!l)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l[0],l[1]))return;(s=new a(r,o)).position=l,s.setZ(t.get("zlevel"),t.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,r.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else p.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r=t.getData(),o=c.queryDataIndex(r,i);if(null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else p.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new u({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new d({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,i,r,o){var a=this._polyline,c=this._polygon,h=t.hostModel,u=s(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,o),d=u.current,p=u.stackedOnCurrent,f=u.next,g=u.stackedOnNext;if(r&&(d=_(u.current,n,r),p=_(u.stackedOnCurrent,n,r),f=_(u.next,n,r),g=_(u.stackedOnNext,n,r)),w(d,f)>3e3||c&&w(p,g)>3e3)return a.setShape({points:f}),void(c&&c.setShape({points:f,stackedOnPoints:g}));a.shape.__points=u.current,a.shape.points=d,l.updateProps(a,{shape:{points:f}},h),c&&(c.setShape({points:d,stackedOnPoints:p}),l.updateProps(c,{shape:{points:f,stackedOnPoints:g}},h));for(var m=[],v=u.status,y=0;y<v.length;y++){if("="===v[y].cmd){var x=t.getItemGraphicEl(v[y].idx1);x&&m.push({el:x,ptIdx:y})}}a.animators&&a.animators.length&&a.animators[0].during((function(){for(var t=0;t<m.length;t++){m[t].el.attr("position",a.shape.__points[m[t].ptIdx])}}))},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=M},function(t,e,n){var i=n(275),r=i.prepareDataCoordInfo,o=i.getStackedOnPoint;t.exports=function(t,e,n,i,a,s,l,c){for(var h=function(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}(t,e),u=[],d=[],p=[],f=[],g=[],m=[],v=[],y=r(a,e,l),x=r(s,t,c),b=0;b<h.length;b++){var w=h[b],C=!0;switch(w.cmd){case"=":var _=t.getItemLayout(w.idx),S=e.getItemLayout(w.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=S.slice()),u.push(_),d.push(S),p.push(n[w.idx]),f.push(i[w.idx1]),v.push(e.getRawIndex(w.idx1));break;case"+":var O=w.idx;u.push(a.dataToPoint([e.get(y.dataDimsForPoint[0],O),e.get(y.dataDimsForPoint[1],O)])),d.push(e.getItemLayout(O).slice()),p.push(o(y,a,e,O)),f.push(i[O]),v.push(e.getRawIndex(O));break;case"-":O=w.idx;var M=t.getRawIndex(O);M!==O?(u.push(t.getItemLayout(O)),d.push(s.dataToPoint([t.get(x.dataDimsForPoint[0],O),t.get(x.dataDimsForPoint[1],O)])),p.push(n[O]),f.push(o(x,s,t,O)),v.push(M)):C=!1}C&&(g.push(w),m.push(m.length))}m.sort((function(t,e){return v[t]-v[e]}));var k=[],A=[],T=[],D=[],P=[];for(b=0;b<m.length;b++){O=m[b];k[b]=u[O],A[b]=d[O],T[b]=p[O],D[b]=f[O],P[b]=g[O]}return{current:k,next:A,stackedOnCurrent:T,stackedOnNext:D,status:P}}},function(t,e){var n={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},i=function(t,e){return Math.round(t.length/2)};t.exports=function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,r){var o=t.getData(),a=t.get("sampling"),s=t.coordinateSystem;if("cartesian2d"===s.type&&a){var l,c=s.getBaseAxis(),h=s.getOtherAxis(c),u=c.getExtent(),d=Math.abs(u[1]-u[0]),p=Math.round(o.count()/d);if(p>1)"string"==typeof a?l=n[a]:"function"==typeof a&&(l=a),l&&t.setData(o.downSample(o.mapDimension(h.dim),1/p,l,i))}}}}},function(t,e,n){var i=n(3),r=n(20),o=n(446);function a(t){o.call(this,t)}a.prototype={constructor:a,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var i=this.getAxis("x"),r=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=r.toGlobalCoord(r.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-n,a=Math.max(e[0],e[1])-i;return new r(n,i,o,a)}},i.inherits(a,o);var s=a;t.exports=s},function(t,e,n){var i=n(3);function r(t){return this._axes[t]}var o=function(t){this._axes={},this._dimList=[],this.name=t||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return i.map(this._dimList,r,this)},getAxesByScale:function(t){return t=t.toLowerCase(),i.filter(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],a=this._axes[o];i[o]=a[e](t[o])}return i}};var a=o;t.exports=a},function(t,e,n){var i=n(3),r=n(63),o=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom"};o.prototype={constructor:o,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){n(277);var i=n(30).extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=i},function(t,e,n){n(277),n(450)},function(t,e,n){var i=n(3),r=n(6),o=n(64),a=n(74),s=n(279),l=n(280),c=l.rectCoordAxisBuildSplitArea,h=l.rectCoordAxisHandleRemove,u=["axisLine","axisTickLabel","axisName"],d=["splitArea","splitLine","minorSplitLine"],p=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,a){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new r.Group,this.group.add(this._axisGroup),t.get("show")){var c=t.getCoordSysModel(),h=s.layout(c,t),f=new o(t,h);i.each(u,f.add,f),this._axisGroup.add(f.getGroup()),i.each(d,(function(e){t.get(e+".show")&&this["_"+e](t,c)}),this),r.groupTransition(l,this._axisGroup,t),p.superCall(this,"render",t,e,n,a)}},remove:function(){h(this)},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var o=t.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=i.isArray(s)?s:[s];for(var l=e.coordinateSystem.getRect(),c=n.isHorizontal(),h=0,u=n.getTicksCoords({tickModel:o}),d=[],p=[],f=a.getLineStyle(),g=0;g<u.length;g++){var m=n.toGlobalCoord(u[g].coord);c?(d[0]=m,d[1]=l.y,p[0]=m,p[1]=l.y+l.height):(d[0]=l.x,d[1]=m,p[0]=l.x+l.width,p[1]=m);var v=h++%s.length,y=u[g].tickValue;this._axisGroup.add(new r.Line({anid:null!=y?"line_"+u[g].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:i.defaults({stroke:s[v]},f),silent:!0}))}}},_minorSplitLine:function(t,e){var n=t.axis,i=t.getModel("minorSplitLine").getModel("lineStyle"),o=e.coordinateSystem.getRect(),a=n.isHorizontal(),s=n.getMinorTicksCoords();if(s.length)for(var l=[],c=[],h=i.getLineStyle(),u=0;u<s.length;u++)for(var d=0;d<s[u].length;d++){var p=n.toGlobalCoord(s[u][d].coord);a?(l[0]=p,l[1]=o.y,c[0]=p,c[1]=o.y+o.height):(l[0]=o.x,l[1]=p,c[0]=o.x+o.width,c[1]=p),this._axisGroup.add(new r.Line({anid:"minor_line_"+s[u][d].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:h,silent:!0}))}},_splitArea:function(t,e){c(this,this._axisGroup,t,e)}});p.extend({type:"xAxis"}),p.extend({type:"yAxis"})},function(t,e,n){var i=n(5),r=n(3),o=n(130),a=o.layout,s=o.largeLayout;n(192),n(452),n(453),n(110),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,r.curry(a,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,s),i.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}})},function(t,e,n){var i=n(281).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});t.exports=i},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(6),a=n(282).setLabel,s=n(26),l=n(454),c=n(24),h=n(69),u=n(61).throttle,d=n(108).createClipPath,p=n(455),f=["itemStyle","barBorderWidth"],g=[0,0];r.extend(s.prototype,l);var m=i.extendChartView({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var i=t.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,n){var i,r=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?i=c.isHorizontal():"polar"===l.type&&(i="angle"===c.dim);var u=t.isAnimationEnabled()?t:null,d=t.get("clip",!0),p=function(t,e){var n=t.getArea&&t.getArea();if("cartesian2d"===t.type){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);r.removeClipPath();var f=t.get("roundCap",!0),g=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),v=m.get("barBorderRadius")||0,y=[],S=this._backgroundEls||[],M=function(t){var e=_[l.type](a,t),n=function(t,e,n){return new("polar"===t.type?o.Sector:o.Rect)({shape:T(e,n,t),silent:!0,z2:0})}(l,i,e);return n.useStyle(m.getBarItemStyle()),"cartesian2d"===l.type&&n.setShape("r",v),y[t]=n,n};a.diff(s).add((function(e){var n=a.getItemModel(e),o=_[l.type](a,e,n);if(g&&M(e),a.hasValue(e)){if(d)if(x[l.type](p,o))return void r.remove(s);var s=b[l.type](e,o,i,u,!1,f);a.setItemGraphicEl(e,s),r.add(s),O(s,a,e,n,o,t,i,"polar"===l.type)}})).update((function(e,n){var c=a.getItemModel(e),h=_[l.type](a,e,c);if(g){var w;0===S.length?w=M(n):((w=S[n]).useStyle(m.getBarItemStyle()),"cartesian2d"===l.type&&w.setShape("r",v),y[e]=w);var C=_[l.type](a,e),k=T(i,C,l);o.updateProps(w,{shape:k},u,e)}var A=s.getItemGraphicEl(n);if(a.hasValue(e)){if(d)if(x[l.type](p,h))return void r.remove(A);A?o.updateProps(A,{shape:h},u,e):A=b[l.type](e,h,i,u,!0,f),a.setItemGraphicEl(e,A),r.add(A),O(A,a,e,c,h,t,i,"polar"===l.type)}else r.remove(A)})).remove((function(t){var e=s.getItemGraphicEl(t);"cartesian2d"===l.type?e&&w(t,u,e):e&&C(t,u,e)})).execute();var k=this._backgroundGroup||(this._backgroundGroup=new h);k.removeAll();for(var A=0;A<y.length;++A)k.add(y[A]);r.add(k),this._backgroundEls=y,this._data=a},_renderLarge:function(t,e,n){this._clear(),k(t,this.group);var i=t.get("clip",!0)?d(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),k(e,this.group,!0)},dispose:r.noop,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){"sector"===e.type?C(e.dataIndex,t,e):w(e.dataIndex,t,e)}))):e.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),v=Math.max,y=Math.min,x={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=v(e.x,t.x),o=y(e.x+e.width,t.x+t.width),a=v(e.y,t.y),s=y(e.y+e.height,t.y+t.height);e.x=r,e.y=a,e.width=o-r,e.height=s-a;var l=e.width<0||e.height<0;return n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),l},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}i=y(e.r,t.r);var r=v(e.r0,t.r0);e.r=i,e.r0=r;var o=i-r<0;if(n<0){i=e.r;e.r=e.r0,e.r0=i}return o}},b={cartesian2d:function(t,e,n,i,a){var s=new o.Rect({shape:r.extend({},e),z2:1});if(s.name="item",i){var l=n?"height":"width",c={};s.shape[l]=0,c[l]=e[l],o[a?"updateProps":"initProps"](s,{shape:c},i,t)}return s},polar:function(t,e,n,i,a,s){var l=e.startAngle<e.endAngle,c=new(!n&&s?p:o.Sector)({shape:r.defaults({clockwise:l},e),z2:1});if(c.name="item",i){var h=n?"r":"endAngle",u={};c.shape[h]=n?0:e.startAngle,u[h]=e[h],o[a?"updateProps":"initProps"](c,{shape:u},i,t)}return c}};function w(t,e,n){n.style.text=null,o.updateProps(n,{shape:{width:0}},e,t,(function(){n.parent&&n.parent.remove(n)}))}function C(t,e,n){n.style.text=null,o.updateProps(n,{shape:{r:n.shape.r0}},e,t,(function(){n.parent&&n.parent.remove(n)}))}var _={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get(f)||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),r=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,i,r)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function S(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function O(t,e,n,i,s,l,c,h){var u=e.getItemVisual(n,"color"),d=e.getItemVisual(n,"opacity"),p=e.getVisual("borderColor"),f=i.getModel("itemStyle"),g=i.getModel("emphasis.itemStyle").getBarItemStyle();h||t.setShape("r",f.get("barBorderRadius")||0),t.useStyle(r.defaults({stroke:S(s)?"none":p,fill:S(s)?"none":u,opacity:d},f.getBarItemStyle()));var m=i.getShallow("cursor");m&&t.attr("cursor",m);var v=c?s.height>0?"bottom":"top":s.width>0?"left":"right";h||a(t.style,g,i,u,l,n,v),S(s)&&(g.fill=g.stroke="none"),o.setHoverStyle(t,g)}var M=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,i=this.__startPoint,r=this.__baseDimIdx,o=0;o<n.length;o+=2)i[r]=n[o+r],t.moveTo(i[0],i[1]),t.lineTo(n[o],n[o+1])}});function k(t,e,n){var i=t.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");var a=i.getLayout("largeDataIndices"),s=i.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var c=i.getLayout("largeBackgroundPoints"),h=[];h[1-o]=i.getLayout("backgroundStart");var u=new M({shape:{points:c},incremental:!!n,__startPoint:h,__baseDimIdx:o,__largeDataIndices:a,__barWidth:s,silent:!0,z2:0});!function(t,e,n){var i=e.get("borderColor")||e.get("color"),r=e.getItemStyle(["color","borderColor"]);t.useStyle(r),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=n.getLayout("barWidth")}(u,l,i),e.add(u)}var d=new M({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:r,__baseDimIdx:o,__largeDataIndices:a,__barWidth:s});e.add(d),function(t,e,n){var i=n.getVisual("borderColor")||n.getVisual("color"),r=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(r),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=n.getLayout("barWidth")}(d,t,i),d.seriesIndex=t.seriesIndex,t.get("silent")||(d.on("mousedown",A),d.on("mousemove",A))}var A=u((function(t){var e=function(t,e,n){var i=t.__baseDimIdx,r=1-i,o=t.shape.points,a=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[r];g[0]=e,g[1]=n;for(var c=g[i],h=g[1-i],u=c-s,d=c+s,p=0,f=o.length/2;p<f;p++){var m=2*p,v=o[m+i],y=o[m+r];if(v>=u&&v<=d&&(l<=y?h>=l&&h<=y:h>=y&&h<=l))return a[p]}return-1}(this,t.offsetX,t.offsetY);this.dataIndex=e>=0?e:null}),30,!1);function T(t,e,n){var i,r="polar"===n.type;return i=r?n.getArea():n.grid.getRect(),r?{cx:i.cx,cy:i.cy,r0:t?i.r0:e.r0,r:t?i.r:e.r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:t?e.x:i.x,y:t?i.y:e.y,width:t?e.width:i.width,height:t?i.height:e.height}}t.exports=m},function(t,e,n){var i=n(82)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(t){var e=i(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}};t.exports=r},function(t,e,n){var i=(0,n(6).extendShape)({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-r),s=r+a,l=e.startAngle,c=e.endAngle,h=e.clockwise,u=Math.cos(l),d=Math.sin(l),p=Math.cos(c),f=Math.sin(c);(h?c-l<2*Math.PI:l-c<2*Math.PI)&&(t.moveTo(u*r+n,d*r+i),t.arc(u*s+n,d*s+i,a,-Math.PI+l,l,!h)),t.arc(n,i,o,l,c,!h),t.moveTo(p*o+n,f*o+i),t.arc(p*s+n,f*s+i,a,c-2*Math.PI,c-Math.PI,!h),0!==r&&(t.arc(n,i,r,c,l,h),t.moveTo(u*r+n,f*r+i)),t.closePath()}});t.exports=i},function(t,e,n){var i=n(5),r=n(3);n(457),n(458);var o=n(283),a=n(112),s=n(459),l=n(113);o("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(a("pie")),i.registerLayout(r.curry(s,"pie")),i.registerProcessor(l("pie"))},function(t,e,n){var i=n(5),r=n(87),o=n(3),a=n(11),s=n(8).getPercentWithPrecision,l=n(193),c=n(71).retrieveRawAttr,h=n(57).makeSeriesEncodeForNameBased,u=n(111),d=i.extendSeriesModel({type:"series.pie",init:function(t){d.superApply(this,"init",arguments),this.legendVisualProvider=new u(o.bind(this.getData,this),o.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){d.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return r(this,{coordDimensions:["value"],encodeDefaulter:o.curry(h,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],i=0,r=t.count();i<r;i++)n.push({name:t.getName(i),value:t.get(e,i),selected:c(t,i,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=d.superCall(this,"getDataParams",t),i=[];return e.each(e.mapDimension("value"),(function(t){i.push(t)})),n.percent=s(i,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){a.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});o.mixin(d,l);var p=d;t.exports=p},function(t,e,n){var i=n(3),r=n(6),o=n(51);function a(t,e,n,i){var r=e.getData(),o=this.dataIndex,a=r.getName(o),l=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),r.each((function(t){s(r.getItemGraphicEl(t),r.getItemLayout(t),e.isSelected(r.getName(t)),l,n)}))}function s(t,e,n,i,r){var o=(e.startAngle+e.endAngle)/2,a=n?i:0,s=[Math.cos(o)*a,Math.sin(o)*a];r?t.animate().when(200,{position:s}).start("bounceOut"):t.attr("position",s)}function l(t,e){r.Group.call(this);var n=new r.Sector({z2:2}),i=new r.Polyline,o=new r.Text;this.add(n),this.add(i),this.add(o),this.updateData(t,e,!0)}var c=l.prototype;c.updateData=function(t,e,n){var o=this.childAt(0),a=this.childAt(1),l=this.childAt(2),c=t.hostModel,h=t.getItemModel(e),u=t.getItemLayout(e),d=i.extend({},u);d.label=null;var p=c.getShallow("animationTypeUpdate");n?(o.setShape(d),"scale"===c.getShallow("animationType")?(o.shape.r=u.r0,r.initProps(o,{shape:{r:u.r}},c,e)):(o.shape.endAngle=u.startAngle,r.updateProps(o,{shape:{endAngle:u.endAngle}},c,e))):"expansion"===p?o.setShape(d):r.updateProps(o,{shape:d},c,e);var f=t.getItemVisual(e,"color");o.useStyle(i.defaults({lineJoin:"bevel",fill:f},h.getModel("itemStyle").getItemStyle())),o.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();var g=h.getShallow("cursor");g&&o.attr("cursor",g),s(this,t.getItemLayout(e),c.isSelected(t.getName(e)),c.get("selectedOffset"),c.get("animation"));var m=!n&&"transition"===p;this._updateLabel(t,e,m),this.highDownOnUpdate=c.get("silent")?null:function(t,e){var n=c.isAnimationEnabled()&&h.get("hoverAnimation");"emphasis"===e?(a.ignore=a.hoverIgnore,l.ignore=l.hoverIgnore,n&&(o.stopAnimation(!0),o.animateTo({shape:{r:u.r+c.get("hoverOffset")}},300,"elasticOut"))):(a.ignore=a.normalIgnore,l.ignore=l.normalIgnore,n&&(o.stopAnimation(!0),o.animateTo({shape:{r:u.r}},300,"elasticOut")))},r.setHoverStyle(this)},c._updateLabel=function(t,e,n){var i=this.childAt(1),o=this.childAt(2),a=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e).label,c=t.getItemVisual(e,"color");if(!l||isNaN(l.x)||isNaN(l.y))o.ignore=o.normalIgnore=o.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var h={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},u={x:l.x,y:l.y};n?(r.updateProps(i,{shape:h},a,e),r.updateProps(o,{style:u},a,e)):(i.attr({shape:h}),o.attr({style:u})),o.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var d=s.getModel("label"),p=s.getModel("emphasis.label"),f=s.getModel("labelLine"),g=s.getModel("emphasis.labelLine");c=t.getItemVisual(e,"color");r.setLabelStyle(o.style,o.hoverStyle={},d,p,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:l.text,autoColor:c,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),o.ignore=o.normalIgnore=!d.get("show"),o.hoverIgnore=!p.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!g.get("show"),i.setStyle({stroke:c,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(f.getModel("lineStyle").getLineStyle()),i.hoverStyle=g.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&!0===m&&(m=.4),i.setShape({smooth:m})}},i.inherits(l,r.Group);var h=o.extend({type:"pie",init:function(){var t=new r.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var o=t.getData(),s=this._data,c=this.group,h=e.get("animation"),u=!s,d=t.get("animationType"),p=t.get("animationTypeUpdate"),f=i.curry(a,this.uid,t,h,n),g=t.get("selectedMode");if(o.diff(s).add((function(t){var e=new l(o,t);u&&"scale"!==d&&e.eachChild((function(t){t.stopAnimation(!0)})),g&&e.on("click",f),o.setItemGraphicEl(t,e),c.add(e)})).update((function(t,e){var n=s.getItemGraphicEl(e);u||"transition"===p||n.eachChild((function(t){t.stopAnimation(!0)})),n.updateData(o,t),n.off("click"),g&&n.on("click",f),c.add(n),o.setItemGraphicEl(t,n)})).remove((function(t){var e=s.getItemGraphicEl(t);c.remove(e)})).execute(),h&&o.count()>0&&(u?"scale"!==d:"transition"!==p)){for(var m=o.getItemLayout(0),v=1;isNaN(m.startAngle)&&v<o.count();++v)m=o.getItemLayout(v);var y=Math.max(n.getWidth(),n.getHeight())/2,x=i.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(m.cx,m.cy,y,m.startAngle,m.clockwise,x,t,u))}else c.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(t,e,n,i,o,a,s,l){var c=new r.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return(l?r.initProps:r.updateProps)(c,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},s,a),c},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});t.exports=h},function(t,e,n){var i=n(8),r=i.parsePercent,o=i.linearMap,a=n(14),s=n(460),l=n(3),c=2*Math.PI,h=Math.PI/180;t.exports=function(t,e,n,i){e.eachSeriesByType(t,(function(t){var e=t.getData(),i=e.mapDimension("value"),u=function(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,n),d=t.get("center"),p=t.get("radius");l.isArray(p)||(p=[0,p]),l.isArray(d)||(d=[d,d]);var f=r(u.width,n.getWidth()),g=r(u.height,n.getHeight()),m=Math.min(f,g),v=r(d[0],f)+u.x,y=r(d[1],g)+u.y,x=r(p[0],m/2),b=r(p[1],m/2),w=-t.get("startAngle")*h,C=t.get("minAngle")*h,_=0;e.each(i,(function(t){!isNaN(t)&&_++}));var S=e.getSum(i),O=Math.PI/(S||_)*2,M=t.get("clockwise"),k=t.get("roseType"),A=t.get("stillShowZeroSum"),T=e.getDataExtent(i);T[0]=0;var D=c,P=0,I=w,E=M?1:-1;if(e.each(i,(function(t,n){var i;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:M,cx:v,cy:y,r0:x,r:k?NaN:b,viewRect:u});else{(i="area"!==k?0===S&&A?O:t*O:c/_)<C?(i=C,D-=C):P+=t;var r=I+E*i;e.setItemLayout(n,{angle:i,startAngle:I,endAngle:r,clockwise:M,cx:v,cy:y,r0:x,r:k?o(t,T,[x,b]):b,viewRect:u}),I=r}})),D<c&&_)if(D<=.001){var j=c/_;e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=j,i.startAngle=w+E*n*j,i.endAngle=w+E*(n+1)*j}}))}else O=D/P,I=w,e.each(i,(function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),r=i.angle===C?C:t*O;i.startAngle=I,i.endAngle=I+E*r,I+=E*r}}));s(t,b,u.width,u.height,u.x,u.y)}))}},function(t,e,n){var i=n(39),r=n(8).parsePercent,o=Math.PI/180;function a(t,e,n,i,r,o,a,s,l,c){function h(e,n,i,r){for(var o=e;o<n&&!(t[o].y+i>l+a);o++)if(t[o].y+=i,o>e&&o+1<n&&t[o+1].y>t[o].y+t[o].height)return void u(o,i/2);u(n-1,i/2)}function u(e,n){for(var i=e;i>=0&&!(t[i].y-n<l)&&(t[i].y-=n,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function d(t,e,n,i,r,o){for(var a=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("none"===t[s].labelAlignTo){var c=Math.abs(t[s].y-i),h=t[s].len,u=t[s].len2,d=c<r+h?Math.sqrt((r+h+u)*(r+h+u)-c*c):Math.abs(t[s].x-n);e&&d>=a&&(d=a-10),!e&&d<=a&&(d=a+10),t[s].x=n+d*o,a=d}}t.sort((function(t,e){return t.y-e.y}));for(var p,f=0,g=t.length,m=[],v=[],y=0;y<g;y++){if("outer"===t[y].position&&"labelLine"===t[y].labelAlignTo){var x=t[y].x-c;t[y].linePoints[1][0]+=x,t[y].x=c}(p=t[y].y-f)<0&&h(y,g,-p),f=t[y].y+t[y].height}a-f<0&&u(g-1,f-a);for(y=0;y<g;y++)t[y].y>=n?v.push(t[y]):m.push(t[y]);d(m,!1,e,n,i,r),d(v,!0,e,n,i,r)}function s(t){return"center"===t.position}t.exports=function(t,e,n,l,c,h){var u,d,p=t.getData(),f=[],g=!1,m=(t.get("minShowLabelAngle")||0)*o;p.each((function(o){var a=p.getItemLayout(o),s=p.getItemModel(o),l=s.getModel("label"),h=l.get("position")||s.get("emphasis.label.position"),v=l.get("distanceToLabelLine"),y=l.get("alignTo"),x=r(l.get("margin"),n),b=l.get("bleedMargin"),w=l.getFont(),C=s.getModel("labelLine"),_=C.get("length");_=r(_,n);var S=C.get("length2");if(S=r(S,n),!(a.angle<m)){var O,M,k,A,T=(a.startAngle+a.endAngle)/2,D=Math.cos(T),P=Math.sin(T);u=a.cx,d=a.cy;var I,E=t.getFormattedLabel(o,"normal")||p.getName(o),j=i.getBoundingRect(E,w,A,"top"),L="inside"===h||"inner"===h;if("center"===h)O=a.cx,M=a.cy,A="center";else{var B=(L?(a.r+a.r0)/2*D:a.r*D)+u,N=(L?(a.r+a.r0)/2*P:a.r*P)+d;if(O=B+3*D,M=N+3*P,!L){var R=B+D*(_+e-a.r),F=N+P*(_+e-a.r),z=R+(D<0?-1:1)*S;O="edge"===y?D<0?c+x:c+n-x:z+(D<0?-v:v),M=F,k=[[B,N],[R,F],[z,F]]}A=L?"center":"edge"===y?D>0?"right":"left":D>0?"left":"right"}var V=l.get("rotate");I="number"==typeof V?V*(Math.PI/180):V?D<0?-T+Math.PI:-T:0,g=!!I,a.label={x:O,y:M,position:h,height:j.height,len:_,len2:S,linePoints:k,textAlign:A,verticalAlign:"middle",rotation:I,inside:L,labelDistance:v,labelAlignTo:y,labelMargin:x,bleedMargin:b,textRect:j,text:E,font:w},L||f.push(a.label)}})),!g&&t.get("avoidLabelOverlap")&&function(t,e,n,r,o,l,c,h){for(var u=[],d=[],p=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=0;g<t.length;g++)s(t[g])||(t[g].x<e?(p=Math.min(p,t[g].x),u.push(t[g])):(f=Math.max(f,t[g].x),d.push(t[g])));for(a(d,e,n,r,1,0,l,0,h,f),a(u,e,n,r,-1,0,l,0,h,p),g=0;g<t.length;g++){var m=t[g];if(!s(m)){var v=m.linePoints;if(v){var y,x="edge"===m.labelAlignTo,b=m.textRect.width;(y=x?m.x<e?v[2][0]-m.labelDistance-c-m.labelMargin:c+o-m.labelMargin-v[2][0]-m.labelDistance:m.x<e?m.x-c-m.bleedMargin:c+o-m.x-m.bleedMargin)<m.textRect.width&&(m.text=i.truncateText(m.text,y,m.font),"edge"===m.labelAlignTo&&(b=i.getWidth(m.text,m.font)));var w=v[1][0]-v[2][0];x?m.x<e?v[2][0]=c+m.labelMargin+b+m.labelDistance:v[2][0]=c+o-m.labelMargin-b-m.labelDistance:(m.x<e?v[2][0]=m.x+m.labelDistance:v[2][0]=m.x-m.labelDistance,v[1][0]=v[2][0]+w),v[1][1]=v[2][1]=m.y}}}}(f,u,d,e,n,l,c,h)}},function(t,e,n){var i=n(5);n(462),n(463);var r=n(73),o=n(109);n(110),i.registerVisual(r("scatter","circle")),i.registerLayout(o("scatter"))},function(t,e,n){var i=n(58),r=n(31).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});t.exports=r},function(t,e,n){var i=n(5),r=n(107),o=n(464),a=n(109);i.extendChartView({type:"scatter",render:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var r=a().reset(t);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=i?new o:new r,this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},function(t,e,n){var i=n(6),r=n(40).createSymbol,o=n(186),a=i.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var n=e.points,i=e.size,r=this.symbolProxy,o=r.shape;if(!((t.getContext?t.getContext():t)&&i[0]<4))for(var a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||isNaN(l)||(this.softClipShape&&!this.softClipShape.contain(s,l)||(o.x=s-i[0]/2,o.y=l-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(t,o,!0)))}},afterBrush:function(t){var e=this.shape,n=e.points,i=e.size;if(i[0]<4){this.setTransform(t);for(var r=0;r<n.length;){var o=n[r++],a=n[r++];isNaN(o)||isNaN(a)||(this.softClipShape&&!this.softClipShape.contain(o,a)||t.fillRect(o-i[0]/2,a-i[1]/2,i[0],i[1]))}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,i=n.points,r=n.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,c=i[l]-o/2,h=i[l+1]-a/2;if(t>=c&&e>=h&&t<=c+o&&e<=h+a)return s}return-1}});function s(){this.group=new i.Group}var l=s.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(t,e){this.group.removeAll();var n=new a({rectHover:!0,cursor:"default"});n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},l.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e)}))}},l.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new o({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(t,e,n){var i;this._incremental?(i=new a,this._incremental.addDisplayable(i,!0)):((i=new a({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!!this._incremental,n)},l._setCommon=function(t,e,n,i){var o=e.hostModel;i=i||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=i.clipShape||null,t.symbolProxy=r(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(o.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("color");l&&t.setColor(l),n||(t.seriesIndex=o.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n+(t.startIndex||0))})))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var c=s;t.exports=c},function(t,e,n){var i=n(5);n(466),n(471),n(472);var r=n(112),o=n(73),a=n(473),s=n(113),l=n(474);i.registerVisual(r("radar")),i.registerVisual(o("radar","circle")),i.registerLayout(a),i.registerProcessor(s("radar")),i.registerPreprocessor(l)},function(t,e,n){n(467),n(469),n(470)},function(t,e,n){var i=n(3),r=n(468),o=n(129),a=n(8),s=n(45),l=s.getScaleExtent,c=s.niceScaleExtent,h=n(44),u=n(271);function d(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=i.map(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,i=new r(n,"log"===t.get("axisType")?new u:new o);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i}),this),this.resize(t,n),this.cx,this.cy,this.r,this.r0,this.startAngle}d.prototype.getIndicatorAxes=function(){return this._indicatorAxes},d.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},d.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},d.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],h=Math.abs(o-c.angle);h<a&&(r=c,s=l,a=h)}return[s,+(r&&r.coordToData(i))]},d.prototype.resize=function(t,e){var n=t.get("center"),r=e.getWidth(),o=e.getHeight(),s=Math.min(r,o)/2;this.cx=a.parsePercent(n[0],r),this.cy=a.parsePercent(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var l=t.get("radius");"string"!=typeof l&&"number"!=typeof l||(l=[0,l]),this.r0=a.parsePercent(l[0],s),this.r=a.parsePercent(l[1],s),i.each(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},d.prototype.update=function(t,e){var n=this._indicatorAxes,r=this._model;i.each(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,o){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var a=e.getData();i.each(n,(function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))}))}}),this);var o=r.get("splitNumber");function s(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}i.each(n,(function(t,e){var n=l(t.scale,t.model).extent;c(t.scale,t.model);var i=t.model,r=t.scale,h=i.getMin(),u=i.getMax(),d=r.getInterval();if(null!=h&&null!=u)r.setExtent(+h,+u),r.setInterval((u-h)/o);else if(null!=h){do{p=h+d*o,r.setExtent(+h,p),r.setInterval(d),d=s(d)}while(p<n[1]&&isFinite(p)&&isFinite(n[1]))}else if(null!=u){do{f=u-d*o,r.setExtent(f,+u),r.setInterval(d),d=s(d)}while(f>n[0]&&isFinite(f)&&isFinite(n[0]))}else{r.getTicks().length-1>o&&(d=s(d));var p=Math.ceil(n[1]/d)*d,f=a.round(p-d*o);r.setExtent(f,p),r.setInterval(d)}}))},d.dimensions=[],d.create=function(t,e){var n=[];return t.eachComponent("radar",(function(i){var r=new d(i,t,e);n.push(r),i.coordinateSystem=r})),t.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])})),n},h.register("radar",d);var p=d;t.exports=p},function(t,e,n){var i=n(3),r=n(63);function o(t,e,n){r.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(5),r=n(3),o=n(278),a=n(26),s=n(86),l=o.valueAxis;function c(t,e){return r.defaults({show:e},t)}var h=i.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),l=this.get("axisType"),c=this.get("axisLabel"),h=this.get("name"),u=this.get("name.show"),d=this.get("name.formatter"),p=this.get("nameGap"),f=this.get("triggerEvent"),g=r.map(this.get("indicator")||[],(function(g){null!=g.max&&g.max>0&&!g.min?g.min=0:null!=g.min&&g.min<0&&!g.max&&(g.max=0);var m=h;if(null!=g.color&&(m=r.defaults({color:g.color},h)),g=r.merge(r.clone(g),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:o,axisType:l,axisLabel:c,name:g.text,nameLocation:"end",nameGap:p,nameTextStyle:m,triggerEvent:f},!1),u||(g.name=""),"string"==typeof d){var v=g.name;g.name=d.replace("{value}",null!=v?v:"")}else"function"==typeof d&&(g.name=d(g.name,g));var y=r.extend(new a(g,null,this.ecModel),s);return y.mainType="radar",y.componentIndex=this.componentIndex,y}),this);this.getIndicatorModels=function(){return g}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},l.axisLine),axisLabel:c(l.axisLabel,!1),axisTick:c(l.axisTick,!1),axisType:"interval",splitLine:c(l.splitLine,!0),splitArea:c(l.splitArea,!0),indicator:[]}});t.exports=h},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(64),a=n(6),s=["axisLine","axisTickLabel","axisName"],l=i.extendComponentView({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),i=r.map(n,(function(t){return new o(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));r.each(i,(function(t){r.each(s,t.add,t),this.group.add(t.getGroup())}),this)},_buildSplitLineAndArea:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),o=t.getModel("splitLine"),s=t.getModel("splitArea"),l=o.getModel("lineStyle"),c=s.getModel("areaStyle"),h=o.get("show"),u=s.get("show"),d=l.get("color"),p=c.get("color");d=r.isArray(d)?d:[d],p=r.isArray(p)?p:[p];var f=[],g=[];if("circle"===i)for(var m=n[0].getTicksCoords(),v=e.cx,y=e.cy,x=0;x<m.length;x++){if(h)f[k(f,d,x)].push(new a.Circle({shape:{cx:v,cy:y,r:m[x].coord}}));if(u&&x<m.length-1)g[k(g,p,x)].push(new a.Ring({shape:{cx:v,cy:y,r0:m[x].coord,r:m[x+1].coord}}))}else{var b,w=r.map(n,(function(t,n){var i=t.getTicksCoords();return b=null==b?i.length-1:Math.min(i.length-1,b),r.map(i,(function(t){return e.coordToPoint(t.coord,n)}))})),C=[];for(x=0;x<=b;x++){for(var _=[],S=0;S<n.length;S++)_.push(w[S][x]);if(_[0]&&_.push(_[0].slice()),h)f[k(f,d,x)].push(new a.Polyline({shape:{points:_}}));if(u&&C)g[k(g,p,x-1)].push(new a.Polygon({shape:{points:_.concat(C)}}));C=_.slice().reverse()}}var O=l.getLineStyle(),M=c.getAreaStyle();r.each(g,(function(t,e){this.group.add(a.mergePath(t,{style:r.defaults({stroke:"none",fill:p[e%p.length]},M),silent:!0}))}),this),r.each(f,(function(t,e){this.group.add(a.mergePath(t,{style:r.defaults({fill:"none",stroke:d[e%d.length]},O),silent:!0}))}),this)}function k(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}}});t.exports=l},function(t,e,n){var i=n(31),r=n(87),o=n(3),a=n(15).encodeHTML,s=n(111),l=i.extend({type:"series.radar",dependencies:["radar"],init:function(t){l.superApply(this,"init",arguments),this.legendVisualProvider=new s(o.bind(this.getData,this),o.bind(this.getRawData,this))},getInitialData:function(t,e){return r(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t,e,n,i){var r=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),c="html"===i?"<br/>":"\n";return a(""===l?this.name:l)+c+o.map(s,(function(e,n){var i=r.get(r.mapDimension(e.dim),t);return a(e.name+" : "+i)})).join(c)},getTooltipPosition:function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(o.map(n.dimensions,(function(t){return e.mapDimension(t)})),t,!0),r=0,a=i.length;r<a;r++)if(!isNaN(i[r])){var s=n.getIndicatorAxes();return n.coordToPoint(s[r].dataToCoord(i[r]),r)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),c=l;t.exports=c},function(t,e,n){var i=n(5),r=n(6),o=n(3),a=n(40);var s=i.extendChartView({type:"radar",render:function(t,e,n){var i=t.coordinateSystem,s=this.group,l=t.getData(),c=this._data;function h(t,e){var n=t.getItemVisual(e,"symbol")||"circle",i=t.getItemVisual(e,"color");if("none"!==n){var r=function(t){return o.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),s=a.createSymbol(n,-1,-1,2,2,i),l=t.getItemVisual(e,"symbolRotate")||0;return s.attr({style:{strokeNoScale:!0},z2:100,scale:[r[0]/2,r[1]/2],rotation:l*Math.PI/180||0}),s}}function u(e,n,i,o,a,s){i.removeAll();for(var l=0;l<n.length-1;l++){var c=h(o,a);c&&(c.__dimIdx=l,e[l]?(c.attr("position",e[l]),r[s?"initProps":"updateProps"](c,{position:n[l]},t,a)):c.attr("position",n[l]),i.add(c))}}function d(t){return o.map(t,(function(t){return[i.cx,i.cy]}))}l.diff(c).add((function(e){var n=l.getItemLayout(e);if(n){var i=new r.Polygon,o=new r.Polyline,a={shape:{points:n}};i.shape.points=d(n),o.shape.points=d(n),r.initProps(i,a,t,e),r.initProps(o,a,t,e);var s=new r.Group,c=new r.Group;s.add(o),s.add(i),s.add(c),u(o.shape.points,n,c,l,e,!0),l.setItemGraphicEl(e,s)}})).update((function(e,n){var i=c.getItemGraphicEl(n),o=i.childAt(0),a=i.childAt(1),s=i.childAt(2),h={shape:{points:l.getItemLayout(e)}};h.shape.points&&(u(o.shape.points,h.shape.points,s,l,e,!1),r.updateProps(o,h,t),r.updateProps(a,h,t),l.setItemGraphicEl(e,i))})).remove((function(t){s.remove(c.getItemGraphicEl(t))})).execute(),l.eachItemGraphicEl((function(t,e){var n=l.getItemModel(e),i=t.childAt(0),a=t.childAt(1),c=t.childAt(2),h=l.getItemVisual(e,"color");s.add(t),i.useStyle(o.defaults(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:h})),i.hoverStyle=n.getModel("emphasis.lineStyle").getLineStyle();var u=n.getModel("areaStyle"),d=n.getModel("emphasis.areaStyle"),p=u.isEmpty()&&u.parentModel.isEmpty(),f=d.isEmpty()&&d.parentModel.isEmpty();f=f&&p,a.ignore=p,a.useStyle(o.defaults(u.getAreaStyle(),{fill:h,opacity:.7})),a.hoverStyle=d.getAreaStyle();var g=n.getModel("itemStyle").getItemStyle(["color"]),m=n.getModel("emphasis.itemStyle").getItemStyle(),v=n.getModel("label"),y=n.getModel("emphasis.label");c.eachChild((function(t){t.setStyle(g),t.hoverStyle=o.clone(m);var n=l.get(l.dimensions[t.__dimIdx],e);(null==n||isNaN(n))&&(n=""),r.setLabelStyle(t.style,t.hoverStyle,v,y,{labelFetcher:l.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:n,autoColor:h,isRectText:!0})})),t.highDownOnUpdate=function(t,e){a.attr("ignore","emphasis"===e?f:p)},r.setHoverStyle(t)})),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=s},function(t,e,n){var i=n(3);function r(t){return!isNaN(t[0])&&!isNaN(t[1])}function o(t){return[t.cx,t.cy]}t.exports=function(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],a=t.coordinateSystem;if(a){var s=a.getIndicatorAxes();i.each(s,(function(t,i){e.each(e.mapDimension(s[i].dim),(function(t,e){n[e]=n[e]||[];var s=a.dataToPoint(t,i);n[e][i]=r(s)?s:o(a)}))})),e.each((function(t){var s=i.find(n[t],(function(t){return r(t)}))||o(a);n[t].push(s.slice()),e.setItemLayout(t,n[t])}))}}))}},function(t,e,n){var i=n(3);t.exports=function(t){var e=t.polar;if(e){i.isArray(e)||(e=[e]);var n=[];i.each(e,(function(e,r){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],i.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}i.each(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}},function(t,e,n){var i=n(5);n(476),n(483),n(286),n(196);var r=n(485),o=n(486),a=n(487),s=n(488),l=n(283);i.registerLayout(r),i.registerVisual(o),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,a),i.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,n){var i=n(3),r=n(87),o=n(31),a=n(15),s=a.encodeHTML,l=a.addCommas,c=n(193),h=n(71).retrieveRawAttr,u=n(134),d=n(57).makeSeriesEncodeForNameBased,p=o.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(t){for(var e=r(this,{coordDimensions:["value"],encodeDefaulter:i.curry(d,this)}),n=e.mapDimension("value"),o=i.createHashMap(),a=[],s=[],l=0,c=e.count();l<c;l++){var p=e.getName(l);o.set(p,!0),a.push({name:p,value:e.get(n,l),selected:h(e,l,"selected")})}var f=u.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return i.each(f.regions,(function(t){var e=t.name;o.get(e)||(a.push({name:e}),s.push(e))})),this.updateSelectedMap(a),e.appendValues([],s),e},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t,e,n,i){for(var r=this.getData(),o=l(this.getRawValue(t)),a=r.getName(t),c=this.seriesGroup,h=[],u=0;u<c.length;u++){var d=c[u].originalData.indexOfName(a),p=r.mapDimension("value");isNaN(c[u].originalData.get(p,d))||h.push(s(c[u].name))}var f="html"===i?"<br/>":"\n";return h.join(", ")+f+s(a+" : "+o)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});i.mixin(p,c);var f=p;t.exports=f},function(t,e,n){var i=n(3).each,r=n(272),o=n(11).makeInner,a=n(478),s=n(479),l=n(480),c=n(481),h=o(),u={load:function(t,e,n){var o=h(e).parsed;if(o)return o;var u,p=e.specialAreas||{},f=e.geoJSON;try{u=f?r(f,n):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return a(t,u),i(u,(function(e){var n=e.name;s(t,e),l(t,e),c(t,e);var i=p[n];i&&e.transformTo(i.left,i.top,i.width,i.height)})),h(e).parsed={regions:u,boundingRect:d(u)}}};function d(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}t.exports=u},function(t,e,n){for(var i=n(3),r=n(273),o=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],s=0;s<a.length;s++)for(var l=0;l<a[s].length;l++)a[s][l][0]/=10.5,a[s][l][1]/=-14,a[s][l][0]+=o[0],a[s][l][1]+=o[1];t.exports=function(t,e){"china"===t&&e.push(new r("",i.map(a,(function(t){return{type:"polygon",exterior:t}})),o))}},function(t,e){var n={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=function(t,e){if("china"===t){var i=n[e.name];if(i){var r=e.center;r[0]+=i[0]/10.5,r[1]+=-i[1]/14}}}},function(t,e){var n={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=function(t,e){if("world"===t){var i=n[e.name];if(i){var r=e.center;r[0]=i[0],r[1]=i[1]}}}},function(t,e){var n=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];t.exports=function(t,e){"china"===t&&""===e.name&&e.geometries.push({type:"polygon",exterior:n[0]})}},function(t,e,n){var i=n(266),r=i.parseSVG,o=i.makeViewBoxTransform,a=n(69),s=n(183),l=n(3),c=l.assert,h=l.createHashMap,u=n(20),d=(0,n(11).makeInner)(),p={load:function(t,e){var n=d(e).originRoot;if(n)return{root:n,boundingRect:d(e).boundingRect};var i=f(e);return d(e).originRoot=i.root,d(e).boundingRect=i.boundingRect,i},makeGraphic:function(t,e,n){var i=d(e),r=i.rootMap||(i.rootMap=h()),o=r.get(n);if(o)return o;var a=i.originRoot,s=i.boundingRect;return i.originRootHostKey?o=f(e,s).root:(i.originRootHostKey=n,o=a),r.set(n,o)},removeGraphic:function(t,e,n){var i=d(e),r=i.rootMap;r&&r.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}};function f(t,e){var n,i,l=t.svgXML;try{i=(n=l&&r(l,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,c(null!=i)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var h=n.width,d=n.height,p=n.viewBoxRect;if(e||(e=null==h||null==d?i.getBoundingRect():new u(0,0,0,0),null!=h&&(e.width=h),null!=d&&(e.height=d)),p){var f=o(p,e.width,e.height),g=i;(i=new a).add(g),g.scale=f.scale,g.position=f.position}return i.setClipPath(new s({shape:e.plain()})),{root:i,boundingRect:e}}t.exports=p},function(t,e,n){var i=n(5),r=n(3),o=n(6),a=n(284),s=i.extendChartView({type:"map",render:function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id)(o=this._mapDraw)&&r.add(o.group);else if(t.needsDrawMap){var o=this._mapDraw||new a(n,!0);r.add(o.group),o.draw(t,e,n,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,n){var i=t.originalData,a=this.group;i.each(i.mapDimension("value"),(function(e,n){if(!isNaN(e)){var s=i.getItemLayout(n);if(s&&s.point){var h=s.point,u=s.offset,d=new o.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:h[0]+9*u,cy:h[1],r:3},silent:!0,z2:8+(u?0:o.Z2_EMPHASIS_LIFT+1)});if(!u){var p=t.mainSeries.getData(),f=i.getName(n),g=p.indexOfName(f),m=i.getItemModel(n),v=m.getModel("label"),y=m.getModel("emphasis.label"),x=p.getItemGraphicEl(g),b=r.retrieve2(t.getFormattedLabel(g,"normal"),f),w=r.retrieve2(t.getFormattedLabel(g,"emphasis"),b),C=x.__seriesMapHighDown,_=Math.random();if(!C){C=x.__seriesMapHighDown={};var S=r.curry(l,!0),O=r.curry(l,!1);x.on("mouseover",S).on("mouseout",O).on("emphasis",S).on("normal",O)}x.__seriesMapCallKey=_,r.extend(C,{recordVersion:_,circle:d,labelModel:v,hoverLabelModel:y,emphasisText:w,normalText:b}),c(C,!1)}a.add(d)}}}))}});function l(t){var e=this.__seriesMapHighDown;e&&e.recordVersion===this.__seriesMapCallKey&&c(e,t)}function c(t,e){var n=t.circle,i=t.labelModel,r=t.hoverLabelModel,a=t.emphasisText,s=t.normalText;e?(n.style.extendFrom(o.setTextStyle({},r,{text:r.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=o.Z2_EMPHASIS_LIFT):(o.setTextStyle(n.style,i,{text:i.get("show")?s:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}t.exports=s},function(t,e,n){var i=n(3),r=n(20),o=n(197),a=n(134);function s(t,e,n,i){o.call(this,t),this.map=e;var r=a.load(e,n);this._nameCoordMap=r.nameCoordMap,this._regionsMap=r.regionsMap,this._invertLongitute=null==i||i,this.regions=r.regions,this._rect=r.boundingRect}function l(t,e,n,i){var r=n.geoModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[t](i):null}s.prototype={constructor:s,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},transformTo:function(t,e,n,i){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var s=this._rawTransformable;if(s.transform=o.calculateTransform(new r(t,e,n,i)),s.decomposeTransform(),a){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return o.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:i.curry(l,"dataToPoint"),convertFromPixel:i.curry(l,"pointToData")},i.mixin(s,o);var c=s;t.exports=c},function(t,e,n){var i=n(3);t.exports=function(t){var e={};t.eachSeriesByType("map",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!e[r]){var o={};i.each(n.seriesGroup,(function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),(function(t,e){var r=i.getName(e),a=n.getRegion(r);if(a&&!isNaN(t)){var s=o[r]||0,l=n.dataToPoint(a.center);o[r]=s+1,i.setItemLayout(e,{point:l,offset:s})}}))}));var a=n.getData();a.each((function(t){var e=a.getName(t),n=a.getItemLayout(t)||{};n.showLabel=!o[e],a.setItemLayout(t,n)})),e[r]=!0}}))}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",(function(t){var e=t.get("color"),n=t.getModel("itemStyle"),i=n.get("areaColor"),r=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:i,color:r})}))}},function(t,e,n){var i=n(3);t.exports=function(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)})),i.each(e,(function(t,e){for(var n,r,o,a=(n=i.map(t,(function(t){return t.getData()})),r=t[0].get("mapValueCalculation"),o={},i.each(n,(function(t){t.each(t.mapDimension("value"),(function(e,n){var i="ec-"+t.getName(n);o[i]=o[i]||[],isNaN(e)||o[i].push(e)}))})),n[0].map(n[0].mapDimension("value"),(function(t,e){for(var i,a="ec-"+n[0].getName(e),s=0,l=1/0,c=-1/0,h=o[a].length,u=0;u<h;u++)l=Math.min(l,o[a][u]),c=Math.max(c,o[a][u]),s+=o[a][u];return i="min"===r?l:"max"===r?c:"average"===r?s/h:s,0===h?NaN:i}))),s=0;s<t.length;s++)t[s].originalData=t[s].getData();for(s=0;s<t.length;s++)t[s].seriesGroup=t,t[s].needsDrawMap=0===s&&!t[s].getHostGeoModel(),t[s].setData(a.cloneShallow()),t[s].mainSeries=t[0]}))}},function(t,e,n){var i=n(3);t.exports=function(t){var e=[];i.each(t.series,(function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,i.defaults(t,t.mapLocation))}))}},function(t,e,n){var i=n(5);n(490),n(491),n(492);var r=n(73),o=n(493);i.registerVisual(r("tree","circle")),i.registerLayout(o)},function(t,e,n){var i=n(31),r=n(198),o=n(15).encodeHTML,a=n(26),s=i.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new a(n,this,this.ecModel),o=r.createTree(e,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=o.getNodeByDataIndex(e);return n.children.length&&n.isExpand||(t.parentModel=i),t}))}));var s=0;o.eachNode("preorder",(function(t){t.depth>s&&(s=t.depth)}));var l=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:s;return o.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=l})),o.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],i=e.getNodeByDataIndex(t),r=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return o(a+(isNaN(r)||null==r?"":" : "+r))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});t.exports=s},function(t,e,n){var i=n(3),r=n(6),o=n(131),a=n(288).radialCoordinate,s=n(5),l=n(102),c=n(197),h=n(194),u=n(114),d=n(135).onIrrelevantElement,p=(n(12).__DEV__,n(8).parsePercent),f=r.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,o=n[0],a=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(o[0],o[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,c=1-l,h=p(e.forkPosition,1),u=[];u[l]=r[l],u[c]=r[c]+(a[c]-r[c])*h,t.moveTo(r[0],r[1]),t.lineTo(u[0],u[1]),t.moveTo(o[0],o[1]),u[l]=o[l],t.lineTo(u[0],u[1]),u[l]=a[l],t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1]);for(var d=1;d<i-1;d++){var f=n[d];t.moveTo(f[0],f[1]),u[l]=f[l],t.lineTo(u[0],u[1])}}}),g=s.extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new r.Group,this._controller=new u(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(t,e,n,i){var r=t.getData(),o=t.layoutInfo,a=this._mainGroup,s=t.get("layout");"radial"===s?a.attr("position",[o.x+o.width/2,o.y+o.height/2]):a.attr("position",[o.x,o.y]),this._updateViewCoordSys(t,o,s),this._updateController(t,e,n);var l=this._data,c={expandAndCollapse:t.get("expandAndCollapse"),layout:s,edgeShape:t.get("edgeShape"),edgeForkPosition:t.get("edgeForkPosition"),orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};r.diff(l).add((function(e){m(r,e)&&y(r,e,null,a,t,c)})).update((function(e,n){var i=l.getItemGraphicEl(n);m(r,e)?y(r,e,i,a,t,c):i&&x(l,n,i,a,t,c)})).remove((function(e){var n=l.getItemGraphicEl(e);n&&x(l,e,n,a,t,c)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===c.expandAndCollapse&&r.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=r},_updateViewCoordSys:function(t){var e=t.getData(),n=[];e.each((function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])}));var i=[],r=[];l.fromPoints(n,i,r);var o=this._min,a=this._max;r[0]-i[0]==0&&(i[0]=o?o[0]:i[0]-1,r[0]=a?a[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=o?o[1]:i[1]-1,r[1]=a?a[1]:r[1]+1);var s=t.coordinateSystem=new c;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=i,this._max=r},_updateController:function(t,e,n){var i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker((function(e,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!d(e,n,t)})),i.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(e){h.updateViewOnPan(r,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})}),this).on("zoom",(function(e){h.updateViewOnZoom(r,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(t)}),this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl((function(t,e){t.attr("scale",i)}))},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,r=i&&i[0]||1;return((e.getZoom()-1)*n+1)/r},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function m(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function v(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function y(t,e,n,a,s,l){var c=!n,h=t.tree.getNodeByDataIndex(e),u=h.getModel(),d=(l=v(h,u,l),t.tree.root),p=h.parentNode===d?h:h.parentNode||h,g=t.getItemGraphicEl(p.dataIndex),m=p.getLayout(),y=g?{x:g.position[0],y:g.position[1],rawX:g.__radialOldRawX,rawY:g.__radialOldRawY}:m,x=h.getLayout();c?(n=new o(t,e,l)).attr("position",[y.x,y.y]):n.updateData(t,e,l),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=x.rawX,n.__radialRawY=x.rawY,a.add(n),t.setItemGraphicEl(e,n),r.updateProps(n,{position:[x.x,x.y]},s);var w=n.getSymbolPath();if("radial"===l.layout){var C,_,S=d.children[0],O=S.getLayout(),M=S.children.length;if(x.x===O.x&&!0===h.isExpand){var k={};k.x=(S.children[0].getLayout().x+S.children[M-1].getLayout().x)/2,k.y=(S.children[0].getLayout().y+S.children[M-1].getLayout().y)/2,(C=Math.atan2(k.y-O.y,k.x-O.x))<0&&(C=2*Math.PI+C),(_=k.x<O.x)&&(C-=Math.PI)}else(C=Math.atan2(x.y-O.y,x.x-O.x))<0&&(C=2*Math.PI+C),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(_=x.x<O.x)&&(C-=Math.PI):(_=x.x>O.x)||(C-=Math.PI);var A=_?"left":"right",T=l.labelModel.get("rotate"),D=T*(Math.PI/180);w.setStyle({textPosition:l.labelModel.get("position")||A,textRotation:null==T?-C:D,textOrigin:"center",verticalAlign:"middle"})}!function(t,e,n,o,a,s,l,c,h){var u=h.edgeShape,d=o.__edge;if("curve"===u)e.parentNode&&e.parentNode!==n&&(d||(d=o.__edge=new r.BezierCurve({shape:b(h,a,a),style:i.defaults({opacity:0,strokeNoScale:!0},h.lineStyle)})),r.updateProps(d,{shape:b(h,s,l),style:i.defaults({opacity:1},h.lineStyle)},t));else if("polyline"===u&&"orthogonal"===h.layout&&e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var p=e.children,g=[],m=0;m<p.length;m++){var v=p[m].getLayout();g.push([v.x,v.y])}d||(d=o.__edge=new f({shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]],orient:h.orient,forkPosition:h.edgeForkPosition},style:i.defaults({opacity:0,strokeNoScale:!0},h.lineStyle)})),r.updateProps(d,{shape:{parentPoint:[l.x,l.y],childPoints:g},style:i.defaults({opacity:1},h.lineStyle)},t)}c.add(d)}(s,h,d,n,y,m,x,a,l)}function x(t,e,n,i,o,a){for(var s,l=t.tree.getNodeByDataIndex(e),c=t.tree.root,h=l.getModel(),u=(a=v(l,h,a),l.parentNode===c?l:l.parentNode||l),d=a.edgeShape;null==(s=u.getLayout());)u=u.parentNode===c?u:u.parentNode||u;r.updateProps(n,{position:[s.x+1,s.y+1]},o,(function(){i.remove(n),t.setItemGraphicEl(e,null)})),n.fadeOut(null,{keepLabel:!0});var p=t.getItemGraphicEl(u.dataIndex).__edge,f=n.__edge||(!1===u.isExpand||1===u.children.length?p:void 0);d=a.edgeShape;f&&("curve"===d?r.updateProps(f,{shape:b(a,s,s),style:{opacity:0}},o,(function(){i.remove(f)})):"polyline"===d&&"orthogonal"===a.layout&&r.updateProps(f,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},o,(function(){i.remove(f)})))}function b(t,e,n){var i,r,o,s,l,c,h,u,d=t.orient;if("radial"===t.layout){l=e.rawX,h=e.rawY,c=n.rawX,u=n.rawY;var p=a(l,h),f=a(l,h+(u-h)*t.curvature),g=a(c,u+(h-u)*t.curvature),m=a(c,u);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y,cpx1:f.x,cpy1:f.y,cpx2:g.x,cpy2:g.y}}return l=e.x,h=e.y,c=n.x,u=n.y,"LR"!==d&&"RL"!==d||(i=l+(c-l)*t.curvature,r=h,o=c+(l-c)*t.curvature,s=u),"TB"!==d&&"BT"!==d||(i=l,r=h+(u-h)*t.curvature,o=c,s=u+(h-u)*t.curvature),{x1:l,y1:h,x2:c,y2:u,cpx1:i,cpy1:r,cpx2:o,cpy2:s}}t.exports=g},function(t,e,n){var i=n(5),r=n(195).updateCenterAndZoom;i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,i=e.getData().tree.getNodeByDataIndex(n);i.isExpand=!i.isExpand}))})),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=e.coordinateSystem,i=r(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))},function(t,e,n){var i=n(494),r=i.eachAfter,o=i.eachBefore,a=n(288),s=a.init,l=a.firstWalk,c=a.secondWalk,h=a.separation,u=a.radialCoordinate,d=a.getViewRect;t.exports=function(t,e){t.eachSeriesByType("tree",(function(t){!function(t,e){var n=d(t,e);t.layoutInfo=n;var i=t.get("layout"),a=0,p=0,f=null;"radial"===i?(a=2*Math.PI,p=Math.min(n.height,n.width)/2,f=h((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(a=n.width,p=n.height,f=h());var g=t.getData().tree.root,m=g.children[0];if(m){s(g),r(m,l,f),g.hierNode.modifier=-m.hierNode.prelim,o(m,c);var v=m,y=m,x=m;o(m,(function(t){var e=t.getLayout().x;e<v.getLayout().x&&(v=t),e>y.getLayout().x&&(y=t),t.depth>x.depth&&(x=t)}));var b=v===y?1:f(v,y)/2,w=b-v.getLayout().x,C=0,_=0,S=0,O=0;if("radial"===i)C=a/(y.getLayout().x+b+w),_=p/(x.depth-1||1),o(m,(function(t){S=(t.getLayout().x+w)*C,O=(t.depth-1)*_;var e=u(S,O);t.setLayout({x:e.x,y:e.y,rawX:S,rawY:O},!0)}));else{var M=t.getOrient();"RL"===M||"LR"===M?(_=p/(y.getLayout().x+b+w),C=a/(x.depth-1||1),o(m,(function(t){O=(t.getLayout().x+w)*_,S="LR"===M?(t.depth-1)*C:a-(t.depth-1)*C,t.setLayout({x:S,y:O},!0)}))):"TB"!==M&&"BT"!==M||(C=a/(y.getLayout().x+b+w),_=p/(x.depth-1||1),o(m,(function(t){S=(t.getLayout().x+w)*C,O="TB"===M?(t.depth-1)*_:p-(t.depth-1)*_,t.setLayout({x:S,y:O},!0)})))}}}(t,e)}))}},function(t,e){e.eachAfter=function(t,e,n){for(var i,r=[t],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,n)},e.eachBefore=function(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}},function(t,e,n){var i=n(5);n(496),n(497),n(500);var r=n(501),o=n(502);i.registerVisual(r),i.registerLayout(o)},function(t,e,n){var i=n(3),r=n(31),o=n(198),a=n(26),s=n(15),l=s.encodeHTML,c=s.addCommas,h=n(75).wrapTreePathInfo,u=r.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;i.each(e.children,(function(e){t(e);var r=e.value;i.isArray(r)&&(r=r[0]),n+=r}));var r=e.value;i.isArray(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);i.isArray(e.value)?e.value[0]=r:e.value=r}(n);var r=t.levels||[],s=this.designatedVisualItemStyle={},l=new a({itemStyle:s},this,e);r=t.levels=function(t,e){var n,r=e.get("color");if(!r)return;if(t=t||[],i.each(t,(function(t){var e=new a(t),i=e.get("color");(e.get("itemStyle.color")||i&&"none"!==i)&&(n=!0)})),!n){(t[0]||(t[0]={})).color=r.slice()}return t}(r,e);var c=i.map(r||[],(function(t){return new a(t,l,e)}),this),h=o.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=h.getNodeByDataIndex(e),i=c[n.depth];return t.parentModel=i||l,t}))}));return h.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),r=i.isArray(n)?c(n[0]):c(n),o=e.getName(t);return l(o+": "+r)},getDataParams:function(t){var e=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=h(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},i.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=i.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=u},function(t,e,n){var i=n(5),r=n(3),o=n(6),a=n(72),s=n(75),l=n(498),c=n(114),h=n(20),u=n(37),d=n(499),p=n(82),f=n(15).windowOpen,g=r.bind,m=o.Group,v=o.Rect,y=r.each,x=["label"],b=["emphasis","label"],w=["upperLabel"],C=["emphasis","upperLabel"],_=p([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),S=function(t){var e=_(t);return e.stroke=e.fill=e.lineWidth=null,e},O=i.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,n,i){var o=e.findComponents({mainType:"series",subType:"treemap",query:i});if(!(r.indexOf(o,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var a=s.retrieveTargetInfo(i,["treemapZoomToNode","treemapRootToNode"],t),l=i&&i.type,c=t.layoutInfo,h=!this._oldTree,u=this._storage,d="treemapRootToNode"===l&&a&&u?{rootNodeGroup:u.nodeGroup[a.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(c),f=this._doRender(p,t,d);h||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?f.renderFinally():this._doAnimation(p,f,t,d),this._resetController(n),this._renderBreadcrumb(t,n,a)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new m,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){var i=e.getData().tree,o=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},c=this._storage,h=[],u=r.curry(M,e,l,c,n,s,h);!function t(e,n,i,o,s){o?(n=e,y(e,(function(t,e){!t.isRemoved()&&c(e,e)}))):new a(n,e,l,l).add(c).update(c).remove(r.curry(c,null)).execute();function l(t){return t.getId()}function c(r,a){var l=null!=r?e[r]:null,c=null!=a?n[a]:null,h=u(l,c,i,s);h&&t(l&&l.viewChildren||[],c&&c.viewChildren||[],h,o,s+1)}}(i.root?[i.root]:[],o&&o.root?[o.root]:[],t,i===o||!o,0);var d=function(t){var e={nodeGroup:[],background:[],content:[]};return t&&y(t,(function(t,n){var i=e[n];y(t,(function(t){t&&(i.push(t),t.__tmWillDelete=1)}))})),e}(c);return this._oldTree=i,this._storage=l,{lastsForAnimation:s,willDeleteEls:d,renderFinally:function(){y(d,(function(t){y(t,(function(t){t.parent&&t.parent.remove(t)}))})),y(h,(function(t){t.invisible=!0,t.dirty()}))}}},_doAnimation:function(t,e,n,i){if(n.get("animation")){var o=n.get("animationDurationUpdate"),a=n.get("animationEasing"),s=d.createWrap();y(e.willDeleteEls,(function(t,e){y(t,(function(t,n){if(!t.invisible){var r,l=t.parent;if(i&&"drillDown"===i.direction)r=l===i.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,h=0;l.__tmWillDelete||(c=l.__tmNodeWidth/2,h=l.__tmNodeHeight/2),r="nodeGroup"===e?{position:[c,h],style:{opacity:0}}:{shape:{x:c,y:h,width:0,height:0},style:{opacity:0}}}r&&s.add(t,r,o,a)}}))})),y(this._storage,(function(t,n){y(t,(function(t,i){var l=e.lastsForAnimation[n][i],c={};l&&("nodeGroup"===n?l.old&&(c.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(c.shape=r.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),c.style={opacity:1}):1!==t.style.opacity&&(c.style={opacity:1})),s.add(t,c,o,a))}))}),this),this._state="animating",s.done(g((function(){this._state="ready",e.renderFinally()}),this)).start()}},_resetController:function(t){var e=this._controller;e||((e=this._controller=new c(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",g(this._onPan,this)),e.on("zoom",g(this._onZoom,this)));var n=new h(0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},_onZoom:function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new h(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var s=u.create();u.translate(s,s,[-e,-n]),u.scale(s,s,[t.scale,t.scale]),u.translate(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){t.on("click",(function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var r=i.hostTree.data.getItemModel(i.dataIndex),o=r.get("link",!0),a=r.get("target",!0)||"blank";o&&f(o,a)}}}}}),this)},_renderBreadcrumb:function(t,e,n){n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new l(this.group))).render(t,e,n.node,g((function(e){"animating"!==this._state&&(s.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}),this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}}),this),n}});function M(t,e,n,i,a,s,l,c,h,u){if(l){var d=l.getLayout(),p=t.getData();if(p.setItemGraphicEl(l.dataIndex,null),d&&d.isInView){var f=d.width,g=d.height,y=d.borderWidth,O=d.invisible,M=l.getRawIndex(),A=c&&c.getRawIndex(),T=l.viewChildren,D=d.upperHeight,P=T&&T.length,I=l.getModel("itemStyle"),E=l.getModel("emphasis.itemStyle"),j=V("nodeGroup",m);if(j){if(h.add(j),j.attr("position",[d.x||0,d.y||0]),j.__tmNodeWidth=f,j.__tmNodeHeight=g,d.isAboveViewRoot)return j;var L=l.getModel(),B=V("background",v,u,1);if(B&&function(e,n,i){if(n.dataIndex=l.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:f,height:g}),O)R(n);else{n.invisible=!1;var r=l.getVisual("borderColor",!0),a=E.get("borderColor"),s=S(I);s.fill=r;var c=_(E);if(c.fill=a,i){var h=f-2*y;F(s,c,r,h,D,{x:y,y:0,width:h,height:D})}else s.text=c.text=null;n.setStyle(s),o.setElementHoverStyle(n,c)}e.add(n)}(j,B,P&&d.upperLabelHeight),P)o.isHighDownDispatcher(j)&&o.setAsHighDownDispatcher(j,!1),B&&(o.setAsHighDownDispatcher(B,!0),p.setItemGraphicEl(l.dataIndex,B));else{var N=V("content",v,u,2);N&&function(e,n){n.dataIndex=l.dataIndex,n.seriesIndex=t.seriesIndex;var i=Math.max(f-2*y,0),r=Math.max(g-2*y,0);if(n.culling=!0,n.setShape({x:y,y:y,width:i,height:r}),O)R(n);else{n.invisible=!1;var a=l.getVisual("color",!0),s=S(I);s.fill=a;var c=_(E);F(s,c,a,i,r),n.setStyle(s),o.setElementHoverStyle(n,c)}e.add(n)}(j,N),B&&o.isHighDownDispatcher(B)&&o.setAsHighDownDispatcher(B,!1),o.setAsHighDownDispatcher(j,!0),p.setItemGraphicEl(l.dataIndex,j)}return j}}}function R(t){!t.invisible&&s.push(t)}function F(e,n,i,a,s,c){var h=L.get("name"),u=L.getModel(c?w:x),p=L.getModel(c?C:b),f=u.getShallow("show");o.setLabelStyle(e,n,u,p,{defaultText:f?h:null,autoColor:i,isRectText:!0,labelFetcher:t,labelDataIndex:l.dataIndex,labelProp:c?"upperLabel":"label"}),z(e,c,d),z(n,c,d),c&&(e.textRect=r.clone(c)),e.truncate=f&&u.get("ellipsis")?{outerWidth:a,outerHeight:s,minChar:2}:null}function z(e,n,i){var r=e.text;if(!n&&i.isLeafRoot&&null!=r){var o=t.get("drillDownIcon",!0);e.text=o?o+" "+r:r}}function V(t,o,s,c){var h=null!=A&&n[t][A],u=a[t];return h?(n[t][A]=null,function(t,e,n){(t[M]={}).old="nodeGroup"===n?e.position.slice():r.extend({},e.shape)}(u,h,t)):O||((h=new o({z:k(s,c)})).__tmDepth=s,h.__tmStorageName=t,function(t,e,n){var r=t[M]={},o=l.parentNode;if(o&&(!i||"drillDown"===i.direction)){var s=0,c=0,h=a.background[o.getRawIndex()];!i&&h&&h.old&&(s=h.old.width,c=h.old.height),r.old="nodeGroup"===n?[0,c]:{x:s,y:c,width:0,height:0}}r.fadein="nodeGroup"!==n}(u,0,t)),e[t][M]=h}}function k(t,e){var n=10*t+e;return(n-1)/n}t.exports=O},function(t,e,n){var i=n(6),r=n(14),o=n(3),a=n(75).wrapTreePathInfo;function s(t){this.group=new i.Group,t.add(this.group)}function l(t,e,n,i,r,o){var a=[[r?t:t-5,e],[t+n,e],[t+n,e+i],[r?t:t-5,e+i]];return!o&&a.splice(2,0,[t+n+5,e+i/2]),!r&&a.push([t,e+i/2]),a}function c(t,e,n){t.eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&a(n,e)}}s.prototype={constructor:s,render:function(t,e,n,i){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&n){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),c={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,l),this._renderContent(t,c,s,l,i),r.positionElement(a,c.pos,c.box)}},_prepare:function(t,e,n){for(var i=t;i;i=i.parentNode){var r=i.getModel().get("name"),o=n.getTextRect(r),a=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:i,text:r,width:a})}},_renderContent:function(t,e,n,a,s){for(var h=0,u=e.emptyItemWidth,d=t.get("breadcrumb.height"),p=r.getAvailableSize(e.pos,e.box),f=e.totalWidth,g=e.renderList,m=g.length-1;m>=0;m--){var v=g[m],y=v.node,x=v.width,b=v.text;f>p.width&&(f-=x-u,x=u,b=null);var w=new i.Polygon({shape:{points:l(h,0,x,d,m===g.length-1,0===m)},style:o.defaults(n.getItemStyle(),{lineJoin:"bevel",text:b,textFill:a.getTextColor(),textFont:a.getFont()}),z:10,onclick:o.curry(s,y)});this.group.add(w),c(w,t,y),h+=x+8}},remove:function(){this.group.removeAll()}};var h=s;t.exports=h},function(t,e,n){var i=n(3);e.createWrap=function(){var t,e=[],n={};return{add:function(t,r,o,a,s){return i.isString(a)&&(s=a,a=0),!n[t.id]&&(n[t.id]=1,e.push({el:t,target:r,time:o,delay:a,easing:s}),!0)},done:function(e){return t=e,this},start:function(){for(var i=e.length,r=0,o=e.length;r<o;r++){var a=e[r];a.el.animateTo(a.target,a.time,a.delay,a.easing,s)}return this;function s(){--i||(e.length=0,n={},t&&t())}}}}},function(t,e,n){for(var i=n(5),r=n(75),o=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<a.length;s++)i.registerAction({type:a[s],update:"updateView"},o);i.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},(function(e,n){var i=r.retrieveTargetInfo(t,["treemapZoomToNode","treemapRootToNode"],e);if(i){var o=e.getViewRoot();o&&(t.direction=r.aboveViewRoot(o,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}))}))},function(t,e,n){var i=n(76),r=n(50),o=n(3),a=o.isArray,s={seriesType:"treemap",reset:function(t,e,n,a){var s=t.getData().tree.root;s.isRemoved()||function t(e,n,a,s){var c=e.getModel(),u=e.getLayout();if(!u||u.invisible||!u.isInView)return;var d,p=e.getModel("itemStyle"),f=function(t,e,n){var i=o.extend({},e),r=n.designatedVisualItemStyle;return o.each(["color","colorAlpha","colorSaturation"],(function(n){r[n]=e[n];var o=t.get(n);r[n]=null,null!=o&&(i[n]=o)})),i}(p,n,s),g=p.get("borderColor"),m=p.get("borderColorSaturation");null!=m&&(d=l(f),g=function(t,e){return null!=e?r.modifyHSL(e,null,null,t):null}(m,d));e.setVisual("borderColor",g);var v=e.viewChildren;if(v&&v.length){var y=function(t,e,n,r,o,a){if(!a||!a.length)return;var s=h(e,"color")||null!=o.color&&"none"!==o.color&&(h(e,"colorAlpha")||h(e,"colorSaturation"));if(!s)return;var l=e.get("visualMin"),c=e.get("visualMax"),u=n.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=c&&c>u[1]&&(u[1]=c);var d=e.get("colorMappingBy"),p={type:s.name,dataExtent:u,visual:s.range};"color"!==p.type||"index"!==d&&"id"!==d?p.mappingMethod="linear":(p.mappingMethod="category",p.loop=!0);var f=new i(p);return f.__drColorMappingBy=d,f}(0,c,u,0,f,v);o.each(v,(function(e,n){if(e.depth>=a.length||e===a[e.depth]){var i=function(t,e,n,i,r,a){var s=o.extend({},e);if(r){var l=r.type,c="color"===l&&r.__drColorMappingBy,h="index"===c?i:"id"===c?a.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));s[l]=r.mapValueToVisual(h)}return s}(c,f,e,n,y,s);t(e,i,a,s)}}))}else d=l(f),e.setVisual("color",d)}(s,{},t.getViewRoot().getAncestors(),t)}};function l(t){var e=c(t,"color");if(e){var n=c(t,"colorAlpha"),i=c(t,"colorSaturation");return i&&(e=r.modifyHSL(e,null,null,i)),n&&(e=r.modifyAlpha(e,n)),e}}function c(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function h(t,e){var n=t.get(e);return a(n)&&n.length?{name:e,range:n}:null}t.exports=s},function(t,e,n){var i=n(3),r=n(20),o=n(8),a=o.parsePercent,s=o.MAX_SAFE_INTEGER,l=n(14),c=n(75),h=Math.max,u=Math.min,d=i.retrieve,p=i.each,f=["itemStyle","borderWidth"],g=["itemStyle","gapWidth"],m=["upperLabel","show"],v=["upperLabel","height"],y={seriesType:"treemap",reset:function(t,e,n,o){var m=n.getWidth(),v=n.getHeight(),y=t.option,_=l.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),S=y.size||[],O=a(d(_.width,S[0]),m),M=a(d(_.height,S[1]),v),k=o&&o.type,A=c.retrieveTargetInfo(o,["treemapZoomToNode","treemapRootToNode"],t),T="treemapRender"===k||"treemapMove"===k?o.rootRect:null,D=t.getViewRoot(),P=c.getPathToRoot(D);if("treemapMove"!==k){var I="treemapZoomToNode"===k?function(t,e,n,i,r){var o,a=(e||{}).node,l=[i,r];if(!a||a===n)return l;var c=i*r,h=c*t.option.zoomToNodeRatio;for(;o=a.parentNode;){for(var u=0,d=o.children,p=0,g=d.length;p<g;p++)u+=d[p].getValue();var m=a.getValue();if(0===m)return l;h*=u/m;var v=o.getModel(),y=v.get(f),x=Math.max(y,C(v));(h+=4*y*y+(3*y+x)*Math.pow(h,.5))>s&&(h=s),a=o}h<c&&(h=c);var b=Math.pow(h/c,.5);return[i*b,r*b]}(t,A,D,O,M):T?[T.width,T.height]:[O,M],E=y.sort;E&&"asc"!==E&&"desc"!==E&&(E="desc");var j={squareRatio:y.squareRatio,sort:E,leafDepth:y.leafDepth};D.hostTree.clearLayouts();var L={x:0,y:0,width:I[0],height:I[1],area:I[0]*I[1]};D.setLayout(L),function t(e,n,i,r){var o,a;if(e.isRemoved())return;var s=e.getLayout();o=s.width,a=s.height;var l=(y=e.getModel()).get(f),c=y.get(g)/2,d=C(y),p=Math.max(l,d),m=l-c,v=p-c,y=e.getModel();e.setLayout({borderWidth:l,upperHeight:p,upperLabelHeight:d},!0),o=h(o-2*m,0),a=h(a-m-v,0);var _=o*a,S=x(e,y,_,n,i,r);if(!S.length)return;var O={x:m,y:v,width:o,height:a},M=u(o,a),k=1/0,A=[];A.area=0;for(var T=0,D=S.length;T<D;){var P=S[T];A.push(P),A.area+=P.getLayout().area;var I=b(A,M,n.squareRatio);I<=k?(T++,k=I):(A.area-=A.pop().getLayout().area,w(A,M,O,c,!1),M=u(O.width,O.height),A.length=A.area=0,k=1/0)}A.length&&w(A,M,O,c,!0);if(!i){var E=y.get("childrenVisibleMin");null!=E&&_<E&&(i=!0)}for(T=0,D=S.length;T<D;T++)t(S[T],n,i,r+1)}(D,j,!1,0);L=D.getLayout();p(P,(function(t,e){var n=(P[e+1]||D).getValue();t.setLayout(i.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},L))}))}var B=t.getData().tree.root;B.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;var a=[o.width/2,o.height/2],s=r;for(;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}(_,T,A),!0),t.setLayoutInfo(_),function t(e,n,i,o,a){var s=e.getLayout(),l=i[a],c=l&&l===e;if(l&&!c||a===i.length&&e!==o)return;e.setLayout({isInView:!0,invisible:!c&&!n.intersect(s),isAboveViewRoot:c},!0);var h=new r(n.x-s.x,n.y-s.y,n.width,n.height);p(e.viewChildren||[],(function(e){t(e,h,i,o,a+1)}))}(B,new r(-_.x,-_.y,m,v),P,D,0)}};function x(t,e,n,r,o,a){var s=t.children||[],l=r.sort;"asc"!==l&&"desc"!==l&&(l=null);var c=null!=r.leafDepth&&r.leafDepth<=a;if(o&&!c)return t.viewChildren=[];!function(t,e){e&&t.sort((function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}))}(s=i.filter(s,(function(t){return!t.isRemoved()})),l);var h=function(t,e,n){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var a=t.get("visualDimension");if(e&&e.length)if("value"===a&&n)s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&s.reverse();else{var s=[1/0,-1/0];p(e,(function(t){var e=t.getValue(a);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)}))}else s=[NaN,NaN];return{sum:i,dataExtent:s}}(e,s,l);if(0===h.sum)return t.viewChildren=[];if(h.sum=function(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,l=a-1;l>=0;l--){var c=r["asc"===i?a-l-1:l].getValue();c/n*e<o&&(s=l,n-=c)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(e,n,h.sum,l,s),0===h.sum)return t.viewChildren=[];for(var u=0,d=s.length;u<d;u++){var f=s[u].getValue()/h.sum*n;s[u].setLayout({area:f})}return c&&(s.length&&t.setLayout({isLeafRoot:!0},!0),s.length=0),t.viewChildren=s,t.setLayout({dataExtent:h.dataExtent},!0),s}function b(t,e,n){for(var i,r=0,o=1/0,a=0,s=t.length;a<s;a++)(i=t[a].getLayout().area)&&(i<o&&(o=i),i>r&&(r=i));var l=t.area*t.area,c=e*e*n;return l?h(c*r/l,l/(c*o)):1/0}function w(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],c=n[s[o]],d=e?t.area/e:0;(r||d>n[l[a]])&&(d=n[l[a]]);for(var p=0,f=t.length;p<f;p++){var g=t[p],m={},v=d?g.getLayout().area/d:0,y=m[l[a]]=h(d-2*i,0),x=n[s[o]]+n[l[o]]-c,b=p===f-1||x<v?x:v,w=m[l[o]]=h(b-2*i,0);m[s[a]]=n[s[a]]+u(i,y/2),m[s[o]]=c+u(i,w/2),c+=b,g.setLayout(m,!0)}n[s[a]]+=d,n[l[a]]-=d}function C(t){return t.get(m)?t.get(v):0}t.exports=y},function(t,e,n){var i=n(5);n(504),n(506),n(509);var r=n(510),o=n(73),a=n(511),s=n(512),l=n(513),c=n(514),h=n(515),u=n(517);i.registerProcessor(r),i.registerVisual(o("graph","circle",null)),i.registerVisual(a),i.registerVisual(s),i.registerLayout(l),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,c),i.registerLayout(h),i.registerCoordinateSystem("graphView",{create:u})},function(t,e,n){var i=n(5),r=n(42),o=n(3),a=n(11).defaultEmphasis,s=n(26),l=n(15).encodeHTML,c=n(289),h=n(111),u=n(136),d=u.initCurvenessList,p=u.createEdgeMapForCurveness,f=i.extendSeriesModel({type:"series.graph",init:function(t){f.superApply(this,"init",arguments);var e=this;function n(){return e._categoriesData}this.legendVisualProvider=new h(n,n),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){f.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){f.superApply(this,"mergeDefaultAndTheme",arguments),a(t,["edgeLabel"],["show"])},getInitialData:function(t,e){var n=t.edges||t.links||[],i=t.data||t.nodes||[],r=this;if(i&&n){d(this);var a=c(i,n,this,!0,(function(t,n){t.wrapMethod("getItemModel",(function(t){var e=r._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t}));var i=r.getModel("edgeLabel"),o=new s({label:i.option},i.parentModel,e),a=r.getModel("emphasis.edgeLabel"),l=new s({emphasis:{label:a.option}},a.parentModel,e);function c(t){return(t=this.parsePath(t))&&"label"===t[0]?o:t&&"emphasis"===t[0]&&"label"===t[1]?l:this.parentModel}n.wrapMethod("getItemModel",(function(t){return t.customizeGetParent(c),t}))}));return o.each(a.edges,(function(t){p(t.node1,t.node2,this,t.dataIndex)}),this),a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),c=[];return null!=a&&c.push(a),null!=s&&c.push(s),c=l(c.join(" > ")),r.value&&(c+=" : "+l(r.value)),c}return f.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=o.map(this.option.categories||[],(function(t){return null!=t.value?t:o.extend({value:0},t)})),e=new r(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t,!0)}))},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return f.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),g=f;t.exports=g},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(56).enableClassCheck;function o(t){return"_EC_"+t}var a=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=a.prototype;function l(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function c(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[o(t)]){var i=new l(t,e);return i.hostGraph=this,this.nodes.push(i),n[o(t)]=i,i}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[o(t)]},s.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),l.isInstance(t)||(t=i[o(t)]),l.isInstance(e)||(e=i[o(e)]),t&&e){var a=t.id+"-"+e.id,s=new c(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),r[a]=s,s}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){l.isInstance(t)&&(t=t.id),l.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},s.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},s.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},s.breadthFirstTraverse=function(t,e,n,i){if(l.isInstance(e)||(e=this._nodesMap[o(e)]),e){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null))for(var s=[e];s.length;){var c=s.shift(),h=c[r];for(a=0;a<h.length;a++){var u=h[a],d=u.node1===c?u.node2:u.node1;if(!d.__visited){if(t.call(i,d,c))return;s.push(d),d.__visited=!0}}}}},s.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)i[e.getRawIndex(r)].dataIndex=r},s.clone=function(){for(var t=new a(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},c.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};var h=function(t,e){return{getValue:function(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[t][e].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};i.mixin(l,h("hostGraph","data")),i.mixin(c,h("hostGraph","edgeData")),a.Node=l,a.Edge=c,r(l),r(c);var u=a;t.exports=u},function(t,e,n){var i=n(5),r=n(3),o=n(107),a=n(199),s=n(114),l=n(194),c=n(135).onIrrelevantElement,h=n(6),u=n(508),d=n(201).getNodeGlobalScale,p="__focusNodeAdjacency",f=["itemStyle","opacity"],g=["lineStyle","opacity"];function m(t,e){var n=t.getVisual("opacity");return null!=n?n:t.getModel().get(e)}function v(t,e,n){var i=t.getGraphicEl(),r=m(t,e);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse((function(t){if(!t.isGroup){var e=t.lineLabelOriginalOpacity;null!=e&&null==n||(e=r),t.setStyle("opacity",e)}}))}function y(t,e){var n=m(t,e),i=t.getGraphicEl();i.traverse((function(t){!t.isGroup&&t.setStyle("opacity",n)})),i.highlight&&i.highlight()}var x=i.extendChartView({type:"graph",init:function(t,e){var n=new o,i=new a,r=this.group;this._controller=new s(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if("view"===r.type){var l={position:r.position,scale:r.scale};this._firstRender?s.attr(l):h.updateProps(s,l,t)}u(t.getGraph(),d(t));var c=t.getData();o.updateData(c);var f=t.getEdgeData();a.updateData(f),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var g=t.forceLayout,m=t.get("force.layoutAnimation");g&&this._startForceLayoutIteration(g,m),c.eachItemGraphicEl((function(e,r){var o=c.getItemModel(r);e.off("drag").off("dragend");var a=o.get("draggable");a&&e.on("drag",(function(){g&&(g.warmUp(),!this._layouting&&this._startForceLayoutIteration(g,m),g.setFixed(r),c.setItemLayout(r,e.position))}),this).on("dragend",(function(){g&&g.setUnfixed(r)}),this),e.setDraggable(a&&g),e[p]&&e.off("mouseover",e[p]),e.__unfocusNodeAdjacency&&e.off("mouseout",e.__unfocusNodeAdjacency),o.get("focusNodeAdjacency")&&(e.on("mouseover",e[p]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){i._dispatchUnfocus(n)}))}),this),c.graph.eachEdge((function(e){var r=e.getGraphicEl();r[p]&&r.off("mouseover",r[p]),r.__unfocusNodeAdjacency&&r.off("mouseout",r.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r[p]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){i._dispatchUnfocus(n)}))}));var v="circular"===t.get("layout")&&t.get("circular.rotateLabel"),y=c.getLayout("cx"),x=c.getLayout("cy");c.eachItemGraphicEl((function(t,e){var n=c.getItemModel(e).get("label.rotate")||0,i=t.getSymbolPath();if(v){var r=c.getItemLayout(e),o=Math.atan2(r[1]-x,r[0]-y);o<0&&(o=2*Math.PI+o);var a=r[0]<y;a&&(o-=Math.PI);var s=a?"left":"right";h.modifyLabelStyle(i,{textRotation:-o,textPosition:s,textOrigin:"center"},{textPosition:s})}else h.modifyLabelStyle(i,{textRotation:n*=Math.PI/180})})),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(t,e){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout((function(){n._unfocusDelayTimer=null,t.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n._model.id})}),500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,n,i){var o=t.getData().graph,a=i.dataIndex,s=i.edgeDataIndex,l=o.getNodeByIndex(a),c=o.getEdgeByIndex(s);(l||c)&&(o.eachNode((function(t){v(t,f,.1)})),o.eachEdge((function(t){v(t,g,.1)})),l&&(y(l,f),r.each(l.edges,(function(t){t.dataIndex<0||(y(t,g),y(t.node1,f),y(t.node2,f))}))),c&&(y(c,g),y(c.node1,f),y(c.node2,f)))},unfocusNodeAdjacency:function(t,e,n,i){var r=t.getData().graph;r.eachNode((function(t){v(t,f)})),r.eachEdge((function(t){v(t,g)}))},_startForceLayoutIteration:function(t,e){var n=this;!function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))}()},_updateController:function(t,e,n){var i=this._controller,r=this._controllerHost,o=this.group;i.setPointerChecker((function(e,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!c(e,n,t)})),"view"===t.coordinateSystem.type?(i.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(e){l.updateViewOnPan(r,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){l.updateViewOnZoom(r,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(),u(t.getGraph(),d(t)),this._lineDraw.updateLayout()}),this)):i.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=d(t),i=[n,n];e.eachItemGraphicEl((function(t,e){t.attr("scale",i)}))},updateLayout:function(t){u(t.getGraph(),d(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});t.exports=x},function(t,e,n){var i=n(6),r=n(18),o=i.Line.prototype,a=i.BezierCurve.prototype;function s(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var l=i.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[s(e)?"_buildPathLine":"_buildPathCurve"](t,e)},_buildPathLine:o.buildPath,_buildPathCurve:a.buildPath,pointAt:function(t){return this[s(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:o.pointAt,_pointAtCurve:a.pointAt,tangentAt:function(t){var e=this.shape,n=s(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return r.normalize(n,n)},_tangentAtCurve:a.tangentAt});t.exports=l},function(t,e,n){var i=n(60),r=n(18),o=n(201).getSymbolSize,a=[],s=[],l=[],c=i.quadraticAt,h=r.distSquare,u=Math.abs;function d(t,e,n){for(var i,r=t[0],o=t[1],d=t[2],p=1/0,f=n*n,g=.1,m=.1;m<=.9;m+=.1){a[0]=c(r[0],o[0],d[0],m),a[1]=c(r[1],o[1],d[1],m),(x=u(h(a,e)-f))<p&&(p=x,i=m)}for(var v=0;v<32;v++){var y=i+g;s[0]=c(r[0],o[0],d[0],i),s[1]=c(r[1],o[1],d[1],i),l[0]=c(r[0],o[0],d[0],y),l[1]=c(r[1],o[1],d[1],y);var x=h(s,e)-f;if(u(x)<.01)break;var b=h(l,e)-f;g/=2,x<0?b>=0?i+=g:i-=g:b>=0?i-=g:i+=g}return i}t.exports=function(t,e){var n=[],a=i.quadraticSubdivide,s=[[],[],[]],l=[[],[]],c=[];e/=2,t.eachEdge((function(t,i){var h=t.getLayout(),u=t.getVisual("fromSymbol"),p=t.getVisual("toSymbol");h.__original||(h.__original=[r.clone(h[0]),r.clone(h[1])],h[2]&&h.__original.push(r.clone(h[2])));var f=h.__original;if(null!=h[2]){if(r.copy(s[0],f[0]),r.copy(s[1],f[2]),r.copy(s[2],f[1]),u&&"none"!==u){var g=o(t.node1),m=d(s,f[0],g*e);a(s[0][0],s[1][0],s[2][0],m,n),s[0][0]=n[3],s[1][0]=n[4],a(s[0][1],s[1][1],s[2][1],m,n),s[0][1]=n[3],s[1][1]=n[4]}if(p&&"none"!==p){g=o(t.node2),m=d(s,f[1],g*e);a(s[0][0],s[1][0],s[2][0],m,n),s[1][0]=n[1],s[2][0]=n[2],a(s[0][1],s[1][1],s[2][1],m,n),s[1][1]=n[1],s[2][1]=n[2]}r.copy(h[0],s[0]),r.copy(h[1],s[2]),r.copy(h[2],s[1])}else{if(r.copy(l[0],f[0]),r.copy(l[1],f[1]),r.sub(c,l[1],l[0]),r.normalize(c,c),u&&"none"!==u){g=o(t.node1);r.scaleAndAdd(l[0],l[0],c,g*e)}if(p&&"none"!==p){g=o(t.node2);r.scaleAndAdd(l[1],l[1],c,-g*e)}r.copy(h[0],l[0]),r.copy(h[1],l[1])}}))}},function(t,e,n){var i=n(5),r=n(195).updateCenterAndZoom;n(290);i.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var n=e.coordinateSystem,i=r(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph().data,r=n.mapArray(n.getName);i.filterSelf((function(t){var n=i.getItemModel(t).getShallow("category");if(null!=n){"number"==typeof n&&(n=r[n]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(n))return!1}return!0}))}),this)}},function(t,e){t.exports=function(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each((function(i){var o=n.getName(i);r["ec-"+o]=i;var a=n.getItemModel(i),s=a.get("itemStyle.color")||t.getColorFromPalette(o,e);n.setItemVisual(i,"color",s);for(var l=["opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var h=a.getShallow(l[c],!0);null!=h&&n.setItemVisual(i,l[c],h)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t).getShallow("category");if(null!=e){"string"==typeof e&&(e=r["ec-"+e]);for(var o=["color","opacity","symbol","symbolSize","symbolKeepAspect"],a=0;a<o.length;a++)null==i.getItemVisual(t,o[a],!0)&&i.setItemVisual(t,o[a],n.getItemVisual(e,o[a]))}}))}))}},function(t,e){function n(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),i=t.getEdgeData(),r=n(t.get("edgeSymbol")),o=n(t.get("edgeSymbolSize")),a="lineStyle.color".split("."),s="lineStyle.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("color",t.get(a)),i.setVisual("opacity",t.get(s)),i.each((function(t){var r=i.getItemModel(t),o=e.getEdgeByIndex(t),l=n(r.getShallow("symbol",!0)),c=n(r.getShallow("symbolSize",!0)),h=r.get(a),u=r.get(s);switch(h){case"source":h=o.node1.getVisual("color");break;case"target":h=o.node2.getVisual("color")}l[0]&&o.setVisual("fromSymbol",l[0]),l[1]&&o.setVisual("toSymbol",l[1]),c[0]&&o.setVisual("fromSymbolSize",c[0]),c[1]&&o.setVisual("toSymbolSize",c[1]),o.setVisual("color",h),o.setVisual("opacity",u)}))}))}},function(t,e,n){var i=n(3).each,r=n(291),o=r.simpleLayout,a=r.simpleLayoutEdge;t.exports=function(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var r=t.getData(),s=[];i(n.dimensions,(function(t){s=s.concat(r.mapDimension(t,!0))}));for(var l=0;l<r.count();l++){for(var c=[],h=!1,u=0;u<s.length;u++){var d=r.get(s[u],l);isNaN(d)||(h=!0),c.push(d)}h?r.setItemLayout(l,n.dataToPoint(c)):r.setItemLayout(l,[NaN,NaN])}a(r.graph,t)}else e&&"none"!==e||o(t)}))}},function(t,e,n){var i=n(292).circularLayout;t.exports=function(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&i(t,"symbolSize")}))}},function(t,e,n){var i=n(516).forceLayout,r=n(291).simpleLayout,o=n(292).circularLayout,a=n(8).linearMap,s=n(18),l=n(3),c=n(136).getCurvenessForEdge;t.exports=function(t){t.eachSeriesByType("graph",(function(t){if(!(y=t.coordinateSystem)||"view"===y.type)if("force"===t.get("layout")){var e=t.preservedPoints||{},n=t.getGraph(),h=n.data,u=n.edgeData,d=t.getModel("force"),p=d.get("initLayout");t.preservedPoints?h.each((function(t){var n=h.getId(t);h.setItemLayout(t,e[n]||[NaN,NaN])})):p&&"none"!==p?"circular"===p&&o(t,"value"):r(t);var f=h.getDataExtent("value"),g=u.getDataExtent("value"),m=d.get("repulsion"),v=d.get("edgeLength");l.isArray(m)||(m=[m,m]),l.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var y,x=h.mapArray("value",(function(t,e){var n=h.getItemLayout(e),i=a(t,f,m);return isNaN(i)&&(i=(m[0]+m[1])/2),{w:i,rep:i,fixed:h.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),b=u.mapArray("value",(function(e,i){var r=n.getEdgeByIndex(i),o=a(e,g,v);isNaN(o)&&(o=(v[0]+v[1])/2);var s=r.getModel(),h=l.retrieve3(s.get("lineStyle.curveness"),-c(r,t,i,!0),0);return{n1:x[r.node1.dataIndex],n2:x[r.node2.dataIndex],d:o,curveness:h,ignoreForceLayout:s.get("ignoreForceLayout")}})),w=(y=t.coordinateSystem).getBoundingRect(),C=i(x,b,{rect:w,gravity:d.get("gravity"),friction:d.get("friction")}),_=C.step;C.step=function(t){for(var i=0,r=x.length;i<r;i++)x[i].fixed&&s.copy(x[i].p,n.getNodeByIndex(i).getLayout());_((function(i,r,o){for(var a=0,l=i.length;a<l;a++)i[a].fixed||n.getNodeByIndex(a).setLayout(i[a].p),e[h.getId(a)]=i[a].p;for(a=0,l=r.length;a<l;a++){var c=r[a],u=n.getEdgeByIndex(a),d=c.n1.p,p=c.n2.p,f=u.getLayout();(f=f?f.slice():[])[0]=f[0]||[],f[1]=f[1]||[],s.copy(f[0],d),s.copy(f[1],p),+c.curveness&&(f[2]=[(d[0]+p[0])/2-(d[1]-p[1])*c.curveness,(d[1]+p[1])/2-(p[0]-d[0])*c.curveness]),u.setLayout(f)}t&&t(o)}))},t.forceLayout=C,t.preservedPoints=e,C.step()}else t.forceLayout=null}))}},function(t,e,n){var i=n(18),r=i.scaleAndAdd;e.forceLayout=function(t,e,n){for(var o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],c=null==n.gravity?.1:n.gravity,h=0;h<t.length;h++){var u=t[h];u.p||(u.p=i.create(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),u.pp=i.clone(u.p),u.edges=null}var d=null==n.friction?.6:n.friction,p=d;return{warmUp:function(){p=.8*d},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var o=[],a=t.length,s=0;s<e.length;s++){var h=e[s];if(!h.ignoreForceLayout){var u=h.n1,d=h.n2;i.sub(o,d.p,u.p);var f=i.len(o)-h.d,g=d.w/(u.w+d.w);isNaN(g)&&(g=0),i.normalize(o,o),!u.fixed&&r(u.p,u.p,o,g*f*p),!d.fixed&&r(d.p,d.p,o,-(1-g)*f*p)}}for(s=0;s<a;s++){(x=t[s]).fixed||(i.sub(o,l,x.p),r(x.p,x.p,o,c*p))}for(s=0;s<a;s++){u=t[s];for(var m=s+1;m<a;m++){d=t[m];i.sub(o,d.p,u.p),0===(f=i.len(o))&&(i.set(o,Math.random()-.5,Math.random()-.5),f=1);var v=(u.rep+d.rep)/f/f;!u.fixed&&r(u.pp,u.pp,o,v),!d.fixed&&r(d.pp,d.pp,o,-v)}}var y=[];for(s=0;s<a;s++){var x;(x=t[s]).fixed||(i.sub(y,x.p,x.pp),r(x.p,x.p,y,p),i.copy(x.pp,x.p))}p*=.992,n&&n(t,e,p<.01)}}}},function(t,e,n){var i=n(197),r=n(14).getLayoutRect,o=n(102);t.exports=function(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var a=t.get("coordinateSystem");if(!a||"view"===a){var s=t.getData(),l=s.mapArray((function(t){var e=s.getItemModel(t);return[+e.get("x"),+e.get("y")]})),c=[],h=[];o.fromPoints(l,c,h),h[0]-c[0]==0&&(h[0]+=1,c[0]-=1),h[1]-c[1]==0&&(h[1]+=1,c[1]-=1);var u=(h[0]-c[0])/(h[1]-c[1]),d=function(t,e,n){var i=t.getBoxLayoutParams();return i.aspect=n,r(i,{width:e.getWidth(),height:e.getHeight()})}(t,e,u);isNaN(u)&&(c=[d.x,d.y],h=[d.x+d.width,d.y+d.height]);var p=h[0]-c[0],f=h[1]-c[1],g=d.width,m=d.height,v=t.coordinateSystem=new i;v.zoomLimit=t.get("scaleLimit"),v.setBoundingRect(c[0],c[1],p,f),v.setViewRect(d.x,d.y,g,m),v.setCenter(t.get("center")),v.setZoom(t.get("zoom")),n.push(v)}})),n}},function(t,e,n){n(519),n(520)},function(t,e,n){var i=n(87),r=n(31).extend({type:"series.gauge",getInitialData:function(t,e){return i(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});t.exports=r},function(t,e,n){var i=n(521),r=n(6),o=n(51),a=n(8),s=a.parsePercent,l=a.round,c=a.linearMap;function h(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var u=2*Math.PI,d=o.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var i=t.get("axisLine.lineStyle.color"),r=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r);return{cx:s(n[0],e.getWidth()),cy:s(n[1],e.getHeight()),r:s(t.get("radius"),o/2)}}(t,n);this._renderMain(t,e,n,i,r)},dispose:function(){},_renderMain:function(t,e,n,i,o){for(var a=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),c=t.get("clockwise"),h=-t.get("startAngle")/180*Math.PI,d=((v=-t.get("endAngle")/180*Math.PI)-h)%u,p=h,f=l.get("width"),g=s.get("show"),m=0;g&&m<i.length;m++){var v=h+d*Math.min(Math.max(i[m][0],0),1),y=new r.Sector({shape:{startAngle:p,endAngle:v,cx:o.cx,cy:o.cy,clockwise:c,r0:o.r-f,r:o.r},silent:!0});y.setStyle({fill:i[m][1]}),y.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add(y),p=v}var x=function(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!c){var b=h;h=v,v=b}this._renderTicks(t,e,n,x,o,h,v,c),this._renderPointer(t,e,n,x,o,h,v,c),this._renderTitle(t,e,n,x,o),this._renderDetail(t,e,n,x,o)},_renderTicks:function(t,e,n,i,o,a,c,u){for(var d=this.group,p=o.cx,f=o.cy,g=o.r,m=+t.get("min"),v=+t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),b=t.getModel("axisLabel"),w=t.get("splitNumber"),C=x.get("splitNumber"),_=s(y.get("length"),g),S=s(x.get("length"),g),O=a,M=(c-a)/w,k=M/C,A=y.getModel("lineStyle").getLineStyle(),T=x.getModel("lineStyle").getLineStyle(),D=0;D<=w;D++){var P=Math.cos(O),I=Math.sin(O);if(y.get("show")){var E=new r.Line({shape:{x1:P*g+p,y1:I*g+f,x2:P*(g-_)+p,y2:I*(g-_)+f},style:A,silent:!0});"auto"===A.stroke&&E.setStyle({stroke:i(D/w)}),d.add(E)}if(b.get("show")){var j=h(l(D/w*(v-m)+m),b.get("formatter")),L=b.get("distance"),B=i(D/w);d.add(new r.Text({style:r.setTextStyle({},b,{text:j,x:P*(g-_-L)+p,y:I*(g-_-L)+f,textVerticalAlign:I<-.4?"top":I>.4?"bottom":"middle",textAlign:P<-.4?"left":P>.4?"right":"center"},{autoColor:B}),silent:!0}))}if(x.get("show")&&D!==w){for(var N=0;N<=C;N++){P=Math.cos(O),I=Math.sin(O);var R=new r.Line({shape:{x1:P*g+p,y1:I*g+f,x2:P*(g-S)+p,y2:I*(g-S)+f},silent:!0,style:T});"auto"===T.stroke&&R.setStyle({stroke:i((D+N/C)/w)}),d.add(R),O+=k}O-=k}else O+=M}},_renderPointer:function(t,e,n,o,a,l,h,u){var d=this.group,p=this._data;if(t.get("pointer.show")){var f=[+t.get("min"),+t.get("max")],g=[l,h],m=t.getData(),v=m.mapDimension("value");m.diff(p).add((function(e){var n=new i({shape:{angle:l}});r.initProps(n,{shape:{angle:c(m.get(v,e),f,g,!0)}},t),d.add(n),m.setItemGraphicEl(e,n)})).update((function(e,n){var i=p.getItemGraphicEl(n);r.updateProps(i,{shape:{angle:c(m.get(v,e),f,g,!0)}},t),d.add(i),m.setItemGraphicEl(e,i)})).remove((function(t){var e=p.getItemGraphicEl(t);d.remove(e)})).execute(),m.eachItemGraphicEl((function(t,e){var n=m.getItemModel(e),i=n.getModel("pointer");t.setShape({x:a.cx,y:a.cy,width:s(i.get("width"),a.r),r:s(i.get("length"),a.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",o(c(m.get(v,e),f,[0,1],!0))),r.setHoverStyle(t,n.getModel("emphasis.itemStyle").getItemStyle())})),this._data=m}else p&&p.eachItemGraphicEl((function(t){d.remove(t)}))},_renderTitle:function(t,e,n,i,o){var a=t.getData(),l=a.mapDimension("value"),h=t.getModel("title");if(h.get("show")){var u=h.get("offsetCenter"),d=o.cx+s(u[0],o.r),p=o.cy+s(u[1],o.r),f=+t.get("min"),g=+t.get("max"),m=t.getData().get(l,0),v=i(c(m,[f,g],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},h,{x:d,y:p,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:v,forceRich:!0})}))}},_renderDetail:function(t,e,n,i,o){var a=t.getModel("detail"),l=+t.get("min"),u=+t.get("max");if(a.get("show")){var d=a.get("offsetCenter"),p=o.cx+s(d[0],o.r),f=o.cy+s(d[1],o.r),g=s(a.get("width"),o.r),m=s(a.get("height"),o.r),v=t.getData(),y=v.get(v.mapDimension("value"),0),x=i(c(y,[l,u],[0,1],!0));this.group.add(new r.Text({silent:!0,style:r.setTextStyle({},a,{x:p,y:f,text:h(y,a.get("formatter")),textWidth:isNaN(g)?null:g,textHeight:isNaN(m)?null:m,textAlign:"center",textVerticalAlign:"middle"},{autoColor:x,forceRich:!0})}))}}});t.exports=d},function(t,e,n){var i=n(24).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),l=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,l)}});t.exports=i},function(t,e,n){var i=n(5);n(523),n(524);var r=n(112),o=n(525),a=n(113);i.registerVisual(r("funnel")),i.registerLayout(o),i.registerProcessor(a("funnel"))},function(t,e,n){var i=n(5),r=n(3),o=n(87),a=n(11).defaultEmphasis,s=n(57).makeSeriesEncodeForNameBased,l=n(111),c=i.extendSeriesModel({type:"series.funnel",init:function(t){c.superApply(this,"init",arguments),this.legendVisualProvider=new l(r.bind(this.getData,this),r.bind(this.getRawData,this)),this._defaultLabelLine(t)},getInitialData:function(t,e){return o(this,{coordDimensions:["value"],encodeDefaulter:r.curry(s,this)})},_defaultLabelLine:function(t){a(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=c.superCall(this,"getDataParams",t),i=e.mapDimension("value"),r=e.getSum(i);return n.percent=r?+(e.get(i,t)/r*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),h=c;t.exports=h},function(t,e,n){var i=n(6),r=n(3),o=n(51);function a(t,e){i.Group.call(this);var n=new i.Polygon,r=new i.Polyline,o=new i.Text;this.add(n),this.add(r),this.add(o),this.highDownOnUpdate=function(t,e){"emphasis"===e?(r.ignore=r.hoverIgnore,o.ignore=o.hoverIgnore):(r.ignore=r.normalIgnore,o.ignore=o.normalIgnore)},this.updateData(t,e,!0)}var s=a.prototype,l=["itemStyle","opacity"];s.updateData=function(t,e,n){var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),c=t.getItemLayout(e),h=t.getItemModel(e).get(l);h=null==h?1:h,o.useStyle({}),n?(o.setShape({points:c.points}),o.setStyle({opacity:0}),i.initProps(o,{style:{opacity:h}},a,e)):i.updateProps(o,{style:{opacity:h},shape:{points:c.points}},a,e);var u=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");o.setStyle(r.defaults({lineJoin:"round",fill:d},u.getItemStyle(["opacity"]))),o.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),i.setHoverStyle(this)},s._updateLabel=function(t,e){var n=this.childAt(1),r=this.childAt(2),o=t.hostModel,a=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");i.updateProps(n,{shape:{points:s.linePoints||s.linePoints}},o,e),i.updateProps(r,{style:{x:s.x,y:s.y}},o,e),r.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var c=a.getModel("label"),h=a.getModel("emphasis.label"),u=a.getModel("labelLine"),d=a.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color");i.setLabelStyle(r.style,r.hoverStyle={},c,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),r.ignore=r.normalIgnore=!c.get("show"),r.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!u.get("show"),n.hoverIgnore=!d.get("show"),n.setStyle({stroke:l}),n.setStyle(u.getModel("lineStyle").getLineStyle()),n.hoverStyle=d.getModel("lineStyle").getLineStyle()},r.inherits(a,i.Group);var c=o.extend({type:"funnel",render:function(t,e,n){var i=t.getData(),r=this._data,o=this.group;i.diff(r).add((function(t){var e=new a(i,t);i.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),o.add(n),i.setItemGraphicEl(t,n)})).remove((function(t){var e=r.getItemGraphicEl(t);o.remove(e)})).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=c},function(t,e,n){n(12).__DEV__;var i=n(14),r=n(8),o=r.parsePercent,a=r.linearMap;t.exports=function(t,e,n){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),r=n.mapDimension("value"),s=t.get("sort"),l=function(t,e){return i.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e),c=function(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,(function(t){return t})),r=[],o="ascending"===e,a=0,s=t.count();a<s;a++)r[a]=a;return"function"==typeof e?r.sort(e):"none"!==e&&r.sort((function(t,e){return o?i[t]-i[e]:i[e]-i[t]})),r}(n,s),h=t.get("orient"),u=l.width,d=l.height,p=l.x,f=l.y,g="horizontal"===h?[o(t.get("minSize"),d),o(t.get("maxSize"),d)]:[o(t.get("minSize"),u),o(t.get("maxSize"),u)],m=n.getDataExtent(r),v=t.get("min"),y=t.get("max");null==v&&(v=Math.min(m[0],0)),null==y&&(y=m[1]);var x=t.get("funnelAlign"),b=t.get("gap"),w=(("horizontal"===h?u:d)-b*(n.count()-1))/n.count(),C=function(t,e){if("horizontal"===h){var i,o=n.get(r,t)||0,s=a(o,[v,y],g,!0);switch(x){case"top":i=f;break;case"center":i=f+(d-s)/2;break;case"bottom":i=f+(d-s)}return[[e,i],[e,i+s]]}o=n.get(r,t)||0;var l,c=a(o,[v,y],g,!0);switch(x){case"left":l=p;break;case"center":l=p+(u-c)/2;break;case"right":l=p+u-c}return[[l,e],[l+c,e]]};"ascending"===s&&(w=-w,b=-b,"horizontal"===h?p+=u:f+=d,c=c.reverse());for(var _=0;_<c.length;_++){var S=c[_],O=c[_+1],M=n.getItemModel(S);if("horizontal"===h){var k=M.get("itemStyle.width");null==k?k=w:(k=o(k,u),"ascending"===s&&(k=-k));var A=C(S,p),T=C(O,p+k);p+=k+b,n.setItemLayout(S,{points:A.concat(T.slice().reverse())})}else{var D=M.get("itemStyle.height");null==D?D=w:(D=o(D,d),"ascending"===s&&(D=-D));A=C(S,"horizontal"===h?p:f),T=C(O,"horizontal"===h?p+k:f+D);f+=D+b,n.setItemLayout(S,{points:A.concat(T.slice().reverse())})}}!function(t){t.each((function(e){var n,i,r,o,a=t.getItemModel(e),s=a.getModel("label").get("position"),l=a.get("orient"),c=a.getModel("labelLine"),h=t.getItemLayout(e),u=h.points,d="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(d)"insideLeft"===s?(i=(u[0][0]+u[3][0])/2+5,r=(u[0][1]+u[3][1])/2,n="left"):"insideRight"===s?(i=(u[1][0]+u[2][0])/2-5,r=(u[1][1]+u[2][1])/2,n="right"):(i=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,r=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,n="center"),o=[[i,r],[i,r]];else{var p,f,g,m,v=c.get("length");"left"===s?(p=(u[3][0]+u[0][0])/2,f=(u[3][1]+u[0][1])/2,i=(g=p-v)-5,n="right"):"right"===s?(p=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,i=(g=p+v)+5,n="left"):"top"===s?(p=(u[3][0]+u[0][0])/2,r=(m=(f=(u[3][1]+u[0][1])/2)-v)-5,n="center"):"bottom"===s?(p=(u[1][0]+u[2][0])/2,r=(m=(f=(u[1][1]+u[2][1])/2)+v)+5,n="center"):"rightTop"===s?(p="horizontal"===l?u[3][0]:u[1][0],f="horizontal"===l?u[3][1]:u[1][1],"horizontal"===l?(r=(m=f-v)-5,n="center"):(i=(g=p+v)+5,n="top")):"rightBottom"===s?(p=u[2][0],f=u[2][1],"horizontal"===l?(r=(m=f+v)+5,n="center"):(i=(g=p+v)+5,n="bottom")):"leftTop"===s?(p=u[0][0],f="horizontal"===l?u[0][1]:u[1][1],"horizontal"===l?(r=(m=f-v)-5,n="center"):(i=(g=p-v)-5,n="right")):"leftBottom"===s?(p="horizontal"===l?u[1][0]:u[3][0],f="horizontal"===l?u[1][1]:u[2][1],"horizontal"===l?(r=(m=f+v)+5,n="center"):(i=(g=p-v)-5,n="right")):(p=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,"horizontal"===l?(r=(m=f+v)+5,n="center"):(i=(g=p+v)+5,n="left")),"horizontal"===l?i=g=p:r=m=f,o=[[p,f],[g,m]]}h.label={linePoints:o,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:d}}))}(n)}))}},function(t,e,n){var i=n(5);n(293),n(535),n(536);var r=n(537);i.registerVisual(r)},function(t,e,n){var i=n(3),r=n(11);t.exports=function(t){!function(t){if(t.parallel)return;var e=!1;i.each(t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}(t),function(t){var e=r.normalizeToArray(t.parallelAxis);i.each(e,(function(e){if(i.isObject(e)){var n=e.parallelIndex||0,o=r.normalizeToArray(t.parallel)[n];o&&o.parallelAxisDefault&&i.merge(e,o.parallelAxisDefault,!1)}}))}(t)}},function(t,e,n){var i=n(3),r=n(37),o=n(14),a=n(45),s=n(529),l=n(6),c=n(8),h=n(88),u=i.each,d=Math.min,p=Math.max,f=Math.floor,g=Math.ceil,m=c.round,v=Math.PI;function y(t,e,n){this._axesMap=i.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function x(t,e){return d(p(t,e[0]),e[1])}function b(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function w(t,e){var n,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,c=s,h=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],c=o,h=!0):(n=r-(a-1-t)*s,i=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:h,nameTruncateMaxWidth:i}}y.prototype={type:"parallel",constructor:y,_init:function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;u(i,(function(t,n){var i=r[n],o=e.getComponent("parallelAxis",i),l=this._axesMap.set(t,new s(t,a.createScaleByModel(o),[0,0],o.get("type"),i)),c="category"===l.type;l.onBand=c&&o.get("boundaryGap"),l.inverse=o.get("inverse"),o.axis=l,l.model=o,l.coordinateSystem=o.coordinateSystem=this}),this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,o=t[1-r],a=t[r];return o>=n&&o<=n+e.axisLength&&a>=i&&a<=i+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var i=n.getData();u(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),a.niceScaleExtent(e.scale,e.model)}),this)}}),this)},resize:function(t,e){this._rect=o.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,n=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),a="horizontal"===o?0:1,s=n[r[a]],l=[0,s],c=this.dimensions.length,h=x(e.get("axisExpandWidth"),l),u=x(e.get("axisExpandCount")||0,[0,c]),d=e.get("axisExpandable")&&c>3&&c>u&&u>1&&h>0&&s>0,p=e.get("axisExpandWindow");p?(t=x(p[1]-p[0],l),p[1]=p[0]+t):(t=x(h*(u-1),l),(p=[h*(e.get("axisExpandCenter")||f(c/2))-t/2])[1]=p[0]+t);var v=(s-t)/(c-u);v<3&&(v=0);var y=[f(m(p[0]/h,1))+1,g(m(p[1]/h,1))-1],b=v/h*p[0];return{layout:o,pixelDimIndex:a,layoutBase:n[i[a]],layoutLength:s,axisBase:n[i[1-a]],axisLength:n[r[1-a]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:v,axisExpandWindow:p,axisCount:c,winInnerIndices:y,axisExpandWindow0Pos:b}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),u(n,(function(e,n){var a=(i.axisExpandable?w:b)(n,i),s={horizontal:{x:a.position,y:i.axisLength},vertical:{x:0,y:a.position}},l={horizontal:v/2,vertical:0},c=[s[o].x+t.x,s[o].y+t.y],h=l[o],u=r.create();r.rotate(u,u,h),r.translate(u,u,c),this._axesLayout[e]={position:c,rotation:h,transform:u,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];i.each(a,(function(e){s.push(t.mapDimension(e)),l.push(o.get(e).model)}));for(var c=this.hasAxisBrushed(),h=n;h<r;h++){var u;if(c){u="active";for(var d=t.getValues(s,h),p=0,f=a.length;p<f;p++){if("inactive"===l[p].getActiveState(d[p])){u="inactive";break}}}else u="normal";e(u,h)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return l.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return i.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",c=e.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),f=null!=u[0];if(c)f&&c&&s<r*u[0]?(l="jump",a=s-r*u[2]):f&&c&&s>r*(1-u[0])?(l="jump",a=s-r*(1-u[2])):(a=s-r*u[1])>=0&&(a=s-r*(1-u[1]))<=0&&(a=0),(a*=e.axisExpandWidth/c)?h(a,i,o,"all"):l="none";else{r=i[1]-i[0];(i=[p(0,o[1]*s/r-r/2)])[1]=d(o[1],i[0]+r),i[0]=i[1]-r}return{axisExpandWindow:i,behavior:l}}};var C=y;t.exports=C},function(t,e,n){var i=n(3),r=n(63),o=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.axisIndex=o};o.prototype={constructor:o,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(3),r=n(30);n(531);var o=r.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&i.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){i.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=i.filter(this.dependentModels.parallelAxis,(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);i.each(n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))}});t.exports=o},function(t,e,n){var i=n(3),r=n(30),o=n(82),a=n(132),s=n(8),l=n(86),c=r.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return o([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=i.clone(t);if(e)for(var n=e.length-1;n>=0;n--)s.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}});i.merge(c.prototype,l),a("parallel",c,(function(t,e){return e.type||(e.data?"category":"value")}),{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});var h=c;t.exports=h},function(t,e,n){n(294),n(533),n(534)},function(t,e,n){var i=n(5);i.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),i.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))},function(t,e,n){var i=n(5),r=n(3),o=n(64),a=n(202),s=n(295),l=n(6),c=["axisLine","axisTickLabel","axisName"],h=i.extendComponentView({type:"parallelAxis",init:function(t,e){h.superApply(this,"init",arguments),(this._brushController=new a(e.getZr())).on("brush",r.bind(this._onBrush,this))},render:function(t,e,n,i){if(!function(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new l.Group,this.group.add(this._axisGroup),t.get("show")){var s=function(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}(t,e),h=s.coordinateSystem,u=t.getAreaSelectStyle(),d=u.width,p=t.axis.dim,f=h.getAxisLayout(p),g=r.extend({strokeContainThreshold:d},f),m=new o(t,g);r.each(c,m.add,m),this._axisGroup.add(m.getGroup()),this._refreshBrushController(g,u,t,s,d,n);var v=i&&!1===i.animation?null:t;l.groupTransition(a,this._axisGroup,v)}}},_refreshBrushController:function(t,e,n,i,o,a){var c=n.axis.getExtent(),h=c[1]-c[0],u=Math.min(30,.1*Math.abs(h)),d=l.BoundingRect.create({x:c[0],y:-o/2,width:h,height:o});d.x-=u,d.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:s.makeRectPanelClipPath(d),isTargetByCursor:s.makeRectIsTargetByCursor(d,a,i),getLinearBrushOtherExtent:s.makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(function(t){var e=t.axis;return r.map(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}(n))},_onBrush:function(t,e){var n=this.axisModel,i=n.axis,o=r.map(t,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});var u=h;t.exports=u},function(t,e,n){var i=n(3),r=i.each,o=i.createHashMap,a=n(31),s=n(58),l=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=this.getSource();return function(t,e){if(t.encodeDefine)return;var n=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!n)return;var i=t.encodeDefine=o();r(n.dimensions,(function(t){var e=+t.replace("dim","");i.set(t,e)}))}(n,this),s(n,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,r){t===e&&i.push(n.getRawIndex(r))})),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});t.exports=l},function(t,e,n){var i=n(6),r=n(51);function o(t,e,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function a(t,e,n,r,a){var s=o(t,n,r,a),l=new i.Polyline({shape:{points:s},silent:!0,z2:10});return e.add(l),t.setItemGraphicEl(n,l),l}function s(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:.3}}function l(t,e,n,i){var r=i.lineStyle;e.hasItemOption&&(r=e.getItemModel(n).getModel("lineStyle").getLineStyle());t.useStyle(r);var o=t.style;o.fill=null,o.stroke=e.getItemVisual(n,"color"),o.opacity=e.getItemVisual(n,"opacity"),i.smooth&&(t.shape.smooth=i.smooth)}var c=r.extend({type:"parallel",init:function(){this._dataGroup=new i.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,n,r){var c=this._dataGroup,h=t.getData(),u=this._data,d=t.coordinateSystem,p=d.dimensions,f=s(t);if(h.diff(u).add((function(t){l(a(h,c,t,p,d),h,t,f)})).update((function(e,n){var a=u.getItemGraphicEl(n),s=o(h,e,p,d);h.setItemGraphicEl(e,a);var c=r&&!1===r.animation?null:t;i.updateProps(a,{shape:{points:s}},c,e),l(a,h,e,f)})).remove((function(t){var e=u.getItemGraphicEl(t);c.remove(e)})).execute(),!this._initialized){this._initialized=!0;var g=function(t,e,n){var r=t.model,o=t.getRect(),a=new i.Rect({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),s="horizontal"===r.get("layout")?"width":"height";return a.setShape(s,0),i.initProps(a,{shape:{width:o.width,height:o.height}},e,n),a}(d,t,(function(){setTimeout((function(){c.removeClipPath()}))}));c.setClipPath(g)}this._data=h},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,o=r.dimensions,c=s(e),h=t.start;h<t.end;h++){var u=a(i,this._dataGroup,h,o,r);u.incremental=!0,l(u,i,h,c)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=c},function(t,e){var n=["lineStyle","normal","opacity"],i={seriesType:"parallel",reset:function(t,e,i){var r=t.getModel("itemStyle"),o=t.getModel("lineStyle"),a=e.get("color"),s=o.get("color")||r.get("color")||a[t.seriesIndex%a.length],l=t.get("inactiveOpacity"),c=t.get("activeOpacity"),h=t.getModel("lineStyle").getLineStyle(),u=t.coordinateSystem,d=t.getData(),p={normal:h.opacity,active:c,inactive:l};return d.setVisual("color",s),{progress:function(t,e){u.eachActiveState(e,(function(t,i){var r=p[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(i).get(n,!0);null!=o&&(r=o)}e.setItemVisual(i,"opacity",r)}),t.start,t.end)}}}};t.exports=i},function(t,e,n){var i=n(5);n(539),n(540),n(541);var r=n(542),o=n(543);i.registerLayout(r),i.registerVisual(o)},function(t,e,n){var i=n(31),r=n(289),o=n(15).encodeHTML,a=n(26),s=(n(12).__DEV__,i.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(t,e){for(var n=t.edges||t.links,i=t.data||t.nodes,o=t.levels,s=this.levelModels={},l=0;l<o.length;l++)null!=o[l].depth&&o[l].depth>=0&&(s[o[l].depth]=new a(o[l],this,e));if(i&&n)return r(i,n,this,!0,(function(t,e){t.wrapMethod("getItemModel",(function(t,e){return t.customizeGetParent((function(t){var n=this.parentModel,i=n.getData().getItemLayout(e).depth;return n.levelModels[i]||this.parentModel})),t})),e.wrapMethod("getItemModel",(function(t,e){return t.customizeGetParent((function(t){var n=this.parentModel,i=n.getGraph().getEdgeByIndex(e).node1.getLayout().depth;return n.levelModels[i]||this.parentModel})),t}))})).data},setNodePosition:function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getDataParams(t,n),r=i.data,a=r.source+" -- "+r.target;return i.value&&(a+=" : "+i.value),o(a)}if("node"===n){var l=this.getGraph().getNodeByIndex(t).getLayout().value,c=this.getDataParams(t,n).data.name;if(l)a=c+" : "+l;return o(a)}return s.superCall(this,"formatTooltip",t,e)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},getDataParams:function(t,e){var n=s.superCall(this,"getDataParams",t,e);if(null==n.value&&"node"===e){var i=this.getGraph().getNodeByIndex(t).getLayout().value;n.value=i}return n},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}})),l=s;t.exports=l},function(t,e,n){var i=n(6),r=n(5),o=n(3),a=["itemStyle","opacity"],s=["emphasis","itemStyle","opacity"],l=["lineStyle","opacity"],c=["emphasis","lineStyle","opacity"];function h(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function u(t,e,n){var i=t.getGraphicEl(),r=h(t,e);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse((function(t){"group"!==t.type&&t.setStyle("opacity",r)}))}function d(t,e){var n=h(t,e),i=t.getGraphicEl();i.traverse((function(t){"group"!==t.type&&t.setStyle("opacity",n)})),i.highlight&&i.highlight()}var p=i.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),f=r.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(t,e,n){var r=this,o=t.getGraph(),a=this.group,s=t.layoutInfo,l=s.width,c=s.height,h=t.getData(),u=t.getData("edge"),d=t.get("orient");this._model=t,a.removeAll(),a.attr("position",[s.x,s.y]),o.eachEdge((function(e){var n=new p;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var r,o,s,h,f,g,m,v,y=e.getModel("lineStyle"),x=y.get("curveness"),b=e.node1.getLayout(),w=e.node1.getModel(),C=w.get("localX"),_=w.get("localY"),S=e.node2.getLayout(),O=e.node2.getModel(),M=O.get("localX"),k=O.get("localY"),A=e.getLayout();switch(n.shape.extent=Math.max(1,A.dy),n.shape.orient=d,"vertical"===d?(r=(null!=C?C*l:b.x)+A.sy,o=(null!=_?_*c:b.y)+b.dy,s=(null!=M?M*l:S.x)+A.ty,f=r,g=o*(1-x)+(h=null!=k?k*c:S.y)*x,m=s,v=o*x+h*(1-x)):(r=(null!=C?C*l:b.x)+b.dx,o=(null!=_?_*c:b.y)+A.sy,f=r*(1-x)+(s=null!=M?M*l:S.x)*x,g=o,m=r*x+s*(1-x),v=h=(null!=k?k*c:S.y)+A.ty),n.setShape({x1:r,y1:o,x2:s,y2:h,cpx1:f,cpy1:g,cpx2:m,cpy2:v}),n.setStyle(y.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}i.setHoverStyle(n,e.getModel("emphasis.lineStyle").getItemStyle()),a.add(n),u.setItemGraphicEl(e.dataIndex,n)})),o.eachNode((function(e){var n=e.getLayout(),r=e.getModel(),o=r.get("localX"),s=r.get("localY"),u=r.getModel("label"),d=r.getModel("emphasis.label"),p=new i.Rect({shape:{x:null!=o?o*l:n.x,y:null!=s?s*c:n.y,width:n.dx,height:n.dy},style:r.getModel("itemStyle").getItemStyle()}),f=e.getModel("emphasis.itemStyle").getItemStyle();i.setLabelStyle(p.style,f,u,d,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),p.setStyle("fill",e.getVisual("color")),i.setHoverStyle(p,f),a.add(p),h.setItemGraphicEl(e.dataIndex,p),p.dataType="node"})),h.eachItemGraphicEl((function(e,i){var o=h.getItemModel(i);o.get("draggable")&&(e.drift=function(e,o){r._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=o,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:h.getRawIndex(i),localX:this.shape.x/l,localY:this.shape.y/c})},e.ondragend=function(){r._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move"),e.highlight=function(){this.trigger("emphasis")},e.downplay=function(){this.trigger("normal")},e.focusNodeAdjHandler&&e.off("mouseover",e.focusNodeAdjHandler),e.unfocusNodeAdjHandler&&e.off("mouseout",e.unfocusNodeAdjHandler),o.get("focusNodeAdjacency")&&(e.on("mouseover",e.focusNodeAdjHandler=function(){r._focusAdjacencyDisabled||(r._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex}))}),e.on("mouseout",e.unfocusNodeAdjHandler=function(){r._focusAdjacencyDisabled||r._dispatchUnfocus(n)}))})),u.eachItemGraphicEl((function(e,i){var o=u.getItemModel(i);e.focusNodeAdjHandler&&e.off("mouseover",e.focusNodeAdjHandler),e.unfocusNodeAdjHandler&&e.off("mouseout",e.unfocusNodeAdjHandler),o.get("focusNodeAdjacency")&&(e.on("mouseover",e.focusNodeAdjHandler=function(){r._focusAdjacencyDisabled||(r._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex}))}),e.on("mouseout",e.unfocusNodeAdjHandler=function(){r._focusAdjacencyDisabled||r._dispatchUnfocus(n)}))})),!this._data&&t.get("animation")&&a.setClipPath(function(t,e,n){var r=new i.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return i.initProps(r,{shape:{width:t.width+20}},e,n),r}(a.getBoundingRect(),t,(function(){a.removeClipPath()}))),this._data=t.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(t){var e=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout((function(){e._unfocusDelayTimer=null,t.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e._model.id})}),500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,n,i){var r=t.getData(),h=r.graph,p=i.dataIndex,f=r.getItemModel(p),g=i.edgeDataIndex;if(null!=p||null!=g){var m=h.getNodeByIndex(p),v=h.getEdgeByIndex(g);if(h.eachNode((function(t){u(t,a,.1)})),h.eachEdge((function(t){u(t,l,.1)})),m){d(m,s);var y=f.get("focusNodeAdjacency");"outEdges"===y?o.each(m.outEdges,(function(t){t.dataIndex<0||(d(t,c),d(t.node2,s))})):"inEdges"===y?o.each(m.inEdges,(function(t){t.dataIndex<0||(d(t,c),d(t.node1,s))})):"allEdges"===y&&o.each(m.edges,(function(t){t.dataIndex<0||(d(t,c),t.node1!==m&&d(t.node1,s),t.node2!==m&&d(t.node2,s))}))}v&&(d(v,c),d(v.node1,s),d(v.node2,s))}},unfocusNodeAdjacency:function(t,e,n,i){var r=t.getGraph();r.eachNode((function(t){u(t,a)})),r.eachEdge((function(t){u(t,l)}))}});t.exports=f},function(t,e,n){var i=n(5);n(290),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t,e,n){var i=n(14),r=n(3),o=n(11).groupData;function a(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function s(t,e,n,i,o){var a="vertical"===o?"x":"y";r.each(t,(function(t){var r,s,l;t.sort((function(t,e){return t.getLayout()[a]-e.getLayout()[a]}));for(var c=0,h=t.length,u="vertical"===o?"dx":"dy",d=0;d<h;d++)(l=c-(s=t[d]).getLayout()[a])>0&&(r=s.getLayout()[a]+l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0)),c=s.getLayout()[a]+s.getLayout()[u]+e;if((l=c-e-("vertical"===o?i:n))>0)for(r=s.getLayout()[a]-l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0),c=r,d=h-2;d>=0;--d)(l=(s=t[d]).getLayout()[a]+s.getLayout()[u]+e-c)>0&&(r=s.getLayout()[a]-l,"vertical"===o?s.setLayout({x:r},!0):s.setLayout({y:r},!0)),c=s.getLayout()[a]}))}function l(t,e,n){r.each(t.slice().reverse(),(function(t){r.each(t,(function(t){if(t.outEdges.length){var i=g(t.outEdges,c,n)/g(t.outEdges,f,n);if(isNaN(i)){var r=t.outEdges.length;i=r?g(t.outEdges,h,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-p(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-p(t,n))*e;t.setLayout({y:a},!0)}}}))}))}function c(t,e){return p(t.node2,e)*t.getValue()}function h(t,e){return p(t.node2,e)}function u(t,e){return p(t.node1,e)*t.getValue()}function d(t,e){return p(t.node1,e)}function p(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function f(t){return t.getValue()}function g(t,e,n){for(var i=0,r=t.length,o=-1;++o<r;){var a=+e.call(t,t[o],n);isNaN(a)||(i+=a)}return i}function m(t,e,n){r.each(t,(function(t){r.each(t,(function(t){if(t.inEdges.length){var i=g(t.inEdges,u,n)/g(t.inEdges,f,n);if(isNaN(i)){var r=t.inEdges.length;i=r?g(t.inEdges,d,n)/r:0}if("vertical"===n){var o=t.getLayout().x+(i-p(t,n))*e;t.setLayout({x:o},!0)}else{var a=t.getLayout().y+(i-p(t,n))*e;t.setLayout({y:a},!0)}}}))}))}t.exports=function(t,e,n){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),c=t.get("nodeGap"),h=function(t,e){return i.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}(t,e);t.layoutInfo=h;var u=h.width,d=h.height,p=t.getGraph(),v=p.nodes,y=p.edges;!function(t){r.each(t,(function(t){var e=g(t.outEdges,f),n=g(t.inEdges,f),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)}))}(v),function(t,e,n,i,c,h,u,d,p){(function(t,e,n,i,o,s,l){for(var c=[],h=[],u=[],d=[],p=0,f=0;f<e.length;f++)c[f]=1;for(f=0;f<t.length;f++)h[f]=t[f].inEdges.length,0===h[f]&&u.push(t[f]);var g=-1;for(;u.length;){for(var m=0;m<u.length;m++){var v=u[m],y=v.hostGraph.data.getRawDataItem(v.dataIndex),x=null!=y.depth&&y.depth>=0;x&&y.depth>g&&(g=y.depth),v.setLayout({depth:x?y.depth:p},!0),"vertical"===s?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var b=0;b<v.outEdges.length;b++){var w=v.outEdges[b],C=e.indexOf(w);c[C]=0;var _=w.node2,S=t.indexOf(_);0==--h[S]&&d.indexOf(_)<0&&d.push(_)}}++p,u=d,d=[]}for(f=0;f<c.length;f++)if(1===c[f])throw new Error("Sankey is a DAG, the original data has cycle!");var O=g>p-1?g:p-1;l&&"left"!==l&&function(t,e,n,i){if("right"===e){for(var o=[],s=t,l=0;s.length;){for(var c=0;c<s.length;c++){var h=s[c];h.setLayout({skNodeHeight:l},!0);for(var u=0;u<h.inEdges.length;u++){var d=h.inEdges[u];o.indexOf(d.node1)<0&&o.push(d.node1)}}s=o,o=[],++l}r.each(t,(function(t){a(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&function(t,e){r.each(t,(function(t){a(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}(t,i)}(t,l,0,O);!function(t,e,n){r.each(t,(function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)}))}(t,"vertical"===s?(o-n)/O:(i-n)/O,s)})(t,e,n,c,h,d,p),function(t,e,n,i,a,c,h){var u=function(t,e){var n=[],i="vertical"===e?"y":"x",a=o(t,(function(t){return t.getLayout()[i]}));return a.keys.sort((function(t,e){return t-e})),r.each(a.keys,(function(t){n.push(a.buckets.get(t))})),n}(t,h);(function(t,e,n,i,o,a){var s=1/0;r.each(t,(function(t){var e=t.length,l=0;r.each(t,(function(t){l+=t.getLayout().value}));var c="vertical"===a?(i-(e-1)*o)/l:(n-(e-1)*o)/l;c<s&&(s=c)})),r.each(t,(function(t){r.each(t,(function(t,e){var n=t.getLayout().value*s;"vertical"===a?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),r.each(e,(function(t){var e=+t.getValue()*s;t.setLayout({dy:e},!0)}))})(u,e,n,i,a,h),s(u,a,n,i,h);for(var d=1;c>0;c--)l(u,d*=.99,h),s(u,a,n,i,h),m(u,d,h),s(u,a,n,i,h)}(t,e,h,c,i,u,d),function(t,e){var n="vertical"===e?"x":"y";r.each(t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),r.each(t,(function(t){var e=0,n=0;r.each(t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),r.each(t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}(t,d)}(v,y,n,c,u,d,0!==r.filter(v,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))}))}},function(t,e,n){var i=n(76),r=n(3);t.exports=function(t,e){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph().nodes;if(e.length){var n=1/0,o=-1/0;r.each(e,(function(t){var e=t.getLayout().value;e<n&&(n=e),e>o&&(o=e)})),r.each(e,(function(e){var r=new i({type:"color",mappingMethod:"linear",dataExtent:[n,o],visual:t.get("color")}).mapValueToVisual(e.getLayout().value),a=e.getModel().get("itemStyle.color");null!=a?e.setVisual("color",a):e.setVisual("color",r)}))}}))}},function(t,e,n){var i=n(5);n(545),n(546);var r=n(547),o=n(548);i.registerVisual(r),i.registerLayout(o)},function(t,e,n){var i=n(3),r=n(31),o=n(296).seriesModelMixin,a=r.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});i.mixin(a,o,!0);var s=a;t.exports=s},function(t,e,n){var i=n(3),r=n(51),o=n(6),a=n(24),s=["itemStyle"],l=["emphasis","itemStyle"],c=r.extend({type:"boxplot",render:function(t,e,n){var i=t.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===t.get("layout")?1:0;i.diff(o).add((function(t){if(i.hasValue(t)){var e=u(i.getItemLayout(t),i,t,a,!0);i.setItemGraphicEl(t,e),r.add(e)}})).update((function(t,e){var n=o.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?d(s,n,i,t):n=u(s,i,t,a),r.add(n),i.setItemGraphicEl(t,n)}else r.remove(n)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=i},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},dispose:i.noop}),h=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])}});function u(t,e,n,i,r){var o=t.ends,a=new h({shape:{points:r?p(o,i,t):o}});return d(t,a,e,n,r),a}function d(t,e,n,i,r){var a=n.hostModel;(0,o[r?"initProps":"updateProps"])(e,{shape:{points:t.ends}},a,i);var c=n.getItemModel(i),h=c.getModel(s),u=n.getItemVisual(i,"color"),d=h.getItemStyle(["borderColor"]);d.stroke=u,d.strokeNoScale=!0,e.useStyle(d),e.z2=100;var p=c.getModel(l).getItemStyle();o.setHoverStyle(e,p)}function p(t,e,n){return i.map(t,(function(t){return(t=t.slice())[e]=n.initBaseline,t}))}var f=c;t.exports=f},function(t,e){var n=["itemStyle","borderColor"];t.exports=function(t,e){var i=t.get("color");t.eachRawSeriesByType("boxplot",(function(e){var r=i[e.seriesIndex%i.length],o=e.getData();o.setVisual({legendSymbol:"roundRect",color:e.get(n)||r}),t.isSeriesFiltered(e)||o.each((function(t){var e=o.getItemModel(t);o.setItemVisual(t,{color:e.get(n,!0)})}))}))}},function(t,e,n){var i=n(3),r=n(8).parsePercent,o=i.each;t.exports=function(t){var e=function(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var r=t.getBaseAxis(),o=i.indexOf(n,r);o<0&&(o=n.length,n[o]=r,e[o]={axis:r,seriesModels:[]}),e[o].seriesModels.push(t)})),e}(t);o(e,(function(t){var e=t.seriesModels;e.length&&(!function(t){var e,n,a=t.axis,s=t.seriesModels,l=s.length,c=t.boxWidthList=[],h=t.boxOffsetList=[],u=[];if("category"===a.type)n=a.getBandWidth();else{var d=0;o(s,(function(t){d=Math.max(d,t.getData().count())})),e=a.getExtent(),Math.abs(e[1]-e[0])}o(s,(function(t){var e=t.get("boxWidth");i.isArray(e)||(e=[e,e]),u.push([r(e[0],n)||0,r(e[1],n)||0])}));var p=.8*n-2,f=p/l*.3,g=(p-f*(l-1))/l,m=g/2-p/2;o(s,(function(t,e){h.push(m),m+=f+g,c.push(Math.min(Math.max(g,u[e][0]),u[e][1]))}))}(t),o(e,(function(e,n){!function(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=n/2,a="horizontal"===t.get("layout")?0:1,s=1-a,l=["x","y"],c=r.mapDimension(l[a]),h=r.mapDimension(l[s],!0);if(null==c||h.length<5)return;for(var u=0;u<r.count();u++){var d=r.get(c,u),p=x(d,h[2],u),f=x(d,h[0],u),g=x(d,h[1],u),m=x(d,h[3],u),v=x(d,h[4],u),y=[];b(y,g,0),b(y,m,1),y.push(f,g,v,m),w(y,f),w(y,v),w(y,p),r.setItemLayout(u,{initBaseline:p[s],ends:y})}function x(t,n,o){var l,c=r.get(n,o),h=[];return h[a]=t,h[s]=c,isNaN(t)||isNaN(c)?l=[NaN,NaN]:(l=i.dataToPoint(h))[a]+=e,l}function b(t,e,n){var i=e.slice(),r=e.slice();i[a]+=o,r[a]-=o,n?t.push(i,r):t.push(r,i)}function w(t,e){var n=e.slice(),i=e.slice();n[a]-=o,i[a]+=o,t.push(n,i)}}(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}},function(t,e,n){var i=n(5);n(550),n(551);var r=n(552),o=n(553),a=n(554);i.registerPreprocessor(r),i.registerVisual(o),i.registerLayout(a)},function(t,e,n){var i=n(3),r=n(31),o=n(296).seriesModelMixin,a=r.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)}});i.mixin(a,o,!0);var s=a;t.exports=s},function(t,e,n){var i=n(3),r=n(51),o=n(6),a=n(24),s=n(108).createClipPath,l=["itemStyle"],c=["emphasis","itemStyle"],h=["color","color0","borderColor","borderColor0"],u=r.extend({type:"candlestick",render:function(t,e,n){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),n=this._data,i=this.group,r=e.getLayout("isSimpleBox"),a=t.get("clip",!0),s=t.coordinateSystem,l=s.getArea&&s.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var s,c=e.getItemLayout(n);if(a&&f(l,c))return;s=p(c,n,!0),o.initProps(s,{shape:{points:c.ends}},t,n),g(s,e,n,r),i.add(s),e.setItemGraphicEl(n,s)}})).update((function(s,c){var h=n.getItemGraphicEl(c);if(e.hasValue(s)){var u=e.getItemLayout(s);a&&f(l,u)?i.remove(h):(h?o.updateProps(h,{shape:{points:u.ends}},t,s):h=p(u,s),g(h,e,s,r),i.add(h),e.setItemGraphicEl(s,h))}else i.remove(h)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=e},_renderLarge:function(t){this._clear(),y(t,this.group);var e=t.get("clip",!0)?s(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderNormal:function(t,e){for(var n,i=e.getData(),r=i.getLayout("isSimpleBox");null!=(n=t.next());){var o;g(o=p(i.getItemLayout(n),n),i,n,r),o.incremental=!0,this.group.add(o)}},_incrementalRenderLarge:function(t,e){y(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:i.noop}),d=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}});function p(t,e,n){var i=t.ends;return new d({shape:{points:n?m(i,t):i},z2:100})}function f(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function g(t,e,n,i){var r=e.getItemModel(n),a=r.getModel(l),s=e.getItemVisual(n,"color"),u=e.getItemVisual(n,"borderColor")||s,d=a.getItemStyle(h);t.useStyle(d),t.style.strokeNoScale=!0,t.style.fill=s,t.style.stroke=u,t.__simpleBox=i;var p=r.getModel(c).getItemStyle();o.setHoverStyle(t,p)}function m(t,e){return i.map(t,(function(t){return(t=t.slice())[1]=e.initBaseline,t}))}var v=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3}});function y(t,e,n){var i=t.getData(),r=i.getLayout("largePoints"),o=new v({shape:{points:r},__sign:1});e.add(o);var a=new v({shape:{points:r},__sign:-1});e.add(a),x(1,o,t,i),x(-1,a,t,i),n&&(o.incremental=!0,a.incremental=!0)}function x(t,e,n,i){var r=t>0?"P":"N",o=i.getVisual("borderColor"+r)||i.getVisual("color"+r),a=n.getModel(l).getItemStyle(h);e.useStyle(a),e.style.fill=null,e.style.stroke=o}var b=u;t.exports=b},function(t,e,n){var i=n(3);t.exports=function(t){t&&i.isArray(t.series)&&i.each(t.series,(function(t){i.isObject(t)&&"k"===t.type&&(t.type="candlestick")}))}},function(t,e,n){var i=n(84),r=["itemStyle","borderColor"],o=["itemStyle","borderColor0"],a=["itemStyle","color"],s=["itemStyle","color0"],l={seriesType:"candlestick",plan:i(),performRawSeries:!0,reset:function(t,e){if(t.getData().setVisual({legendSymbol:"roundRect",colorP:n(1,t),colorN:n(-1,t),borderColorP:i(1,t),borderColorN:i(-1,t)}),!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){var r;for(;null!=(r=t.next());){var o=e.getItemModel(r),a=e.getItemLayout(r).sign;e.setItemVisual(r,{color:n(a,o),borderColor:i(a,o)})}}};function n(t,e){return e.get(t>0?a:s)}function i(t,e){return e.get(t>0?r:o)}}};t.exports=l},function(t,e,n){var i=n(6).subPixelOptimize,r=n(84),o=n(8).parsePercent,a=n(3).retrieve2,s="undefined"!=typeof Float32Array?Float32Array:Array,l={seriesType:"candlestick",plan:r(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=function(t,e){var n,i=t.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),s=o(a(t.get("barMaxWidth"),r),r),l=o(a(t.get("barMinWidth"),1),r),c=t.get("barWidth");return null!=c?o(c,r):Math.max(Math.min(r/2,s),l)}(t,n),l=["x","y"],h=n.mapDimension(l[0]),u=n.mapDimension(l[1],!0),d=u[0],p=u[1],f=u[2],g=u[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==h||u.length<4))return{progress:t.pipelineContext.large?function(t,n){var i,r,o=new s(4*t.count),a=0,l=[],u=[];for(;null!=(r=t.next());){var m=n.get(h,r),v=n.get(d,r),y=n.get(p,r),x=n.get(f,r),b=n.get(g,r);isNaN(m)||isNaN(x)||isNaN(b)?(o[a++]=NaN,a+=3):(o[a++]=c(n,r,v,y,p),l[0]=m,l[1]=x,i=e.dataToPoint(l,null,u),o[a++]=i?i[0]:NaN,o[a++]=i?i[1]:NaN,l[1]=b,i=e.dataToPoint(l,null,u),o[a++]=i?i[1]:NaN)}n.setLayout("largePoints",o)}:function(t,n){var o;for(;null!=(o=t.next());){var a=n.get(h,o),s=n.get(d,o),l=n.get(p,o),u=n.get(f,o),m=n.get(g,o),v=Math.min(s,l),y=Math.max(s,l),x=S(v,a),b=S(y,a),w=S(u,a),C=S(m,a),_=[];O(_,b,0),O(_,x,1),_.push(k(C),k(b),k(w),k(x)),n.setItemLayout(o,{sign:c(n,o,s,l,p),initBaseline:s>l?b[1]:x[1],ends:_,brushRect:M(u,m,a)})}function S(t,n){var i=[];return i[0]=n,i[1]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function O(t,e,n){var o=e.slice(),a=e.slice();o[0]=i(o[0]+r/2,1,!1),a[0]=i(a[0]-r/2,1,!0),n?t.push(o,a):t.push(a,o)}function M(t,e,n){var i=S(t,n),o=S(e,n);return i[0]-=r/2,o[0]-=r/2,{x:i[0],y:i[1],width:r,height:o[1]-i[1]}}function k(t){return t[0]=i(t[0],1),t}}}}};function c(t,e,n,i,r){return n>i?-1:n<i?1:e>0?t.get(r,e-1)<=i?1:-1:1}t.exports=l},function(t,e,n){var i=n(5);n(556),n(557);var r=n(73),o=n(109);i.registerVisual(r("effectScatter","circle")),i.registerLayout(o("effectScatter"))},function(t,e,n){var i=n(58),r=n(31).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});t.exports=r},function(t,e,n){var i=n(5),r=n(107),o=n(558),a=n(37),s=n(109),l=i.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(o)},render:function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},updateTransform:function(t,e,n){var i=t.getData();this.group.dirty();var r=s().reset(t);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=a.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});t.exports=l},function(t,e,n){var i=n(3),r=n(40).createSymbol,o=n(6).Group,a=n(8).parsePercent,s=n(131);function l(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}function c(t,e){o.call(this);var n=new s(t,e),i=new o;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}var h=c.prototype;h.stopEffectAnimation=function(){this.childAt(1).removeAll()},h.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),o=0;o<3;o++){var a=r(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-o/3*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(s).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),i.add(a)}l(i,t)},h.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}l(n,t)},h.highlight=function(){this.trigger("emphasis")},h.downplay=function(){this.trigger("normal")},h.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),s=t.getItemVisual(e,"symbol"),l=function(t){return i.isArray(t)||(t=[+t,+t]),t}(t.getItemVisual(e,"symbolSize")),c=t.getItemVisual(e,"color");r.attr("scale",l),r.traverse((function(t){t.attr({fill:c})}));var h=o.getShallow("symbolOffset");if(h){var u=r.position;u[0]=a(h[0],l[0]),u[1]=a(h[1],l[1])}var d=t.getItemVisual(e,"symbolRotate");r.rotation=(d||0)*Math.PI/180||0;var p={};if(p.showEffectOn=n.get("showEffectOn"),p.rippleScale=o.get("rippleEffect.scale"),p.brushType=o.get("rippleEffect.brushType"),p.period=1e3*o.get("rippleEffect.period"),p.effectOffset=e/t.count(),p.z=o.getShallow("z")||0,p.zlevel=o.getShallow("zlevel")||0,p.symbolType=s,p.color=c,p.rippleEffectColor=o.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn)this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p;else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),g=function(){f.highlight(),"render"!==p.showEffectOn&&this.startEffectAnimation(p)},m=function(){f.downplay(),"render"!==p.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",g,this).on("mouseout",m,this).on("emphasis",g,this).on("normal",m,this)}this._effectCfg=p},h.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},i.inherits(c,o);var u=c;t.exports=u},function(t,e,n){var i=n(5);n(560),n(561);var r=n(299),o=n(564);i.registerLayout(r),i.registerVisual(o)},function(t,e,n){n(12).__DEV__;var i=n(31),r=n(42),o=n(3),a=o.concatArray,s=o.mergeAll,l=o.map,c=n(15).encodeHTML,h=(n(44),"undefined"==typeof Uint32Array?Array:Uint32Array),u="undefined"==typeof Float64Array?Array:Float64Array;function d(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=l(e,(function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),s([e,t[0],t[1]])})))}var p=i.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],d(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),p.superApply(this,"init",arguments)},mergeOption:function(t){if(d(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}p.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,e.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}var o=this._getCoordsFromItemModel(t);for(r=0;r<o.length;r++)e[r]=e[r]||[],e[r][0]=o[r][0],e[r][1]=o[r][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,i=new h(n),r=new u(n),o=0,a=0,s=0,l=0;l<n;){s++;var c=t[l++];i[a++]=o+e,i[a++]=c;for(var d=0;d<c;d++){var p=t[l++],f=t[l++];r[o++]=p,r[o++]=f}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new r(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[r]:o:void 0})),n},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;var i=e.get("fromName"),r=e.get("toName"),o=[];return null!=i&&o.push(i),null!=r&&o.push(r),c(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),f=p;t.exports=f},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(199),o=n(297),a=n(200),s=n(298),l=n(562),c=n(563),h=n(299),u=n(108).createClipPath,d=i.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),o=t.get("zlevel"),a=t.get("effect.trailLength"),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i);var c=t.get("clip",!0)&&u(t.coordinateSystem,!1,t);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var o=h.reset(t);o.progress&&o.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,i=this._showEffect(e),h=!!e.get("polyline"),u=e.pipelineContext.large;return n&&i===this._hasEffet&&h===this._isPolyline&&u===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=u?new c:new r(h?i?l:s:i?o:a),this._hasEffet=i,this._isPolyline=h,this._isLargeDraw=u,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=d},function(t,e,n){var i=n(298),r=n(3),o=n(297),a=n(18);function s(t,e,n){o.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var l=s.prototype;l.createLine=function(t,e,n){return new i(t,e,n)},l.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],s=e[r];i+=a.dist(o,s),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},l.getLineLength=function(t){return this._length},l.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o=this._lastFrame;if(e<this._lastFramePercent){for(s=Math.min(o+1,r-1);s>=0&&!(i[s]<=e);s--);s=Math.min(s,r-2)}else{for(var s=o;s<r&&!(i[s]>e);s++);s=Math.min(s-1,r-2)}a.lerp(t.position,n[s],n[s+1],(e-i[s])/(i[s+1]-i[s]));var l=n[s+1][0]-n[s][0],c=n[s+1][1]-n[s][1];t.rotation=-Math.atan2(c,l)-Math.PI/2,this._lastFrame=s,this._lastFramePercent=e,t.ignore=!1}},r.inherits(s,o);var c=s;t.exports=c},function(t,e,n){var i=n(6),r=n(186),o=n(253),a=n(254),s=i.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,i=e.curveness;if(e.polyline)for(var r=0;r<n.length;){var o=n[r++];if(o>0){t.moveTo(n[r++],n[r++]);for(var a=1;a<o;a++)t.lineTo(n[r++],n[r++])}}else for(r=0;r<n.length;){var s=n[r++],l=n[r++],c=n[r++],h=n[r++];if(t.moveTo(s,l),i>0){var u=(s+c)/2-(l-h)*i,d=(l+h)/2-(c-s)*i;t.quadraticCurveTo(u,d,c,h)}else t.lineTo(c,h)}},findDataIndex:function(t,e){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var s=0,l=0;l<i.length;){var c=i[l++];if(c>0)for(var h=i[l++],u=i[l++],d=1;d<c;d++){var p=i[l++],f=i[l++];if(o.containStroke(h,u,p,f))return s}s++}else for(s=0,l=0;l<i.length;){h=i[l++],u=i[l++],p=i[l++],f=i[l++];if(r>0){var g=(h+p)/2-(u-f)*r,m=(u+f)/2-(p-h)*r;if(a.containStroke(h,u,g,m,p,f))return s}else if(o.containStroke(h,u,p,f))return s;s++}return-1}});function l(){this.group=new i.Group}var c=l.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(t){this.group.removeAll();var e=new s({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},c.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(t,e){var n=new s;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual("color");r&&t.setStyle("stroke",r),t.setStyle("fill"),n||(t.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)})))},c._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var h=l;t.exports=h},function(t,e){function n(t){return t instanceof Array||(t=[t,t]),t}var i="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(t,e,r){var o=n(t.get("symbol")),a=n(t.get("symbolSize")),s=t.getData();return s.setVisual("fromSymbol",o&&o[0]),s.setVisual("toSymbol",o&&o[1]),s.setVisual("fromSymbolSize",a&&a[0]),s.setVisual("toSymbolSize",a&&a[1]),s.setVisual("opacity",t.get(i)),{dataEach:s.hasItemOption?function(t,e){var r=t.getItemModel(e),o=n(r.getShallow("symbol",!0)),a=n(r.getShallow("symbolSize",!0)),s=r.get(i);o[0]&&t.setItemVisual(e,"fromSymbol",o[0]),o[1]&&t.setItemVisual(e,"toSymbol",o[1]),a[0]&&t.setItemVisual(e,"fromSymbolSize",a[0]),a[1]&&t.setItemVisual(e,"toSymbolSize",a[1]),t.setItemVisual(e,"opacity",s)}:null}}};t.exports=r},function(t,e,n){n(566),n(567)},function(t,e,n){var i=n(31),r=n(58),o=n(44),a=i.extend({type:"series.heatmap",getInitialData:function(t,e){return r(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=o.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=a},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(6),o=n(568),a=n(3);var s=i.extendChartView({type:"heatmap",render:function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this.group.removeAll(),this._incrementalDisplayable=null;var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):function(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}(r)&&this._renderOnGeo(r,t,i,n)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,i){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,i,o){var s,l,c=t.coordinateSystem;if("cartesian2d"===c.type){var h=c.getAxis("x"),u=c.getAxis("y");s=h.getBandWidth(),l=u.getBandWidth()}for(var d=this.group,p=t.getData(),f=t.getModel("itemStyle").getItemStyle(["color"]),g=t.getModel("emphasis.itemStyle").getItemStyle(),m=t.getModel("label"),v=t.getModel("emphasis.label"),y=c.type,x="cartesian2d"===y?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],b=n;b<i;b++){var w;if("cartesian2d"===y){if(isNaN(p.get(x[2],b)))continue;var C=c.dataToPoint([p.get(x[0],b),p.get(x[1],b)]);w=new r.Rect({shape:{x:Math.floor(Math.round(C[0])-s/2),y:Math.floor(Math.round(C[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:{fill:p.getItemVisual(b,"color"),opacity:p.getItemVisual(b,"opacity")}})}else{if(isNaN(p.get(x[1],b)))continue;w=new r.Rect({z2:1,shape:c.dataToRect([p.get(x[0],b)]).contentShape,style:{fill:p.getItemVisual(b,"color"),opacity:p.getItemVisual(b,"opacity")}})}var _=p.getItemModel(b);p.hasItemOption&&(f=_.getModel("itemStyle").getItemStyle(["color"]),g=_.getModel("emphasis.itemStyle").getItemStyle(),m=_.getModel("label"),v=_.getModel("emphasis.label"));var S=t.getRawValue(b),O="-";S&&null!=S[2]&&(O=S[2]),r.setLabelStyle(f,g,m,v,{labelFetcher:t,labelDataIndex:b,defaultText:O,isRectText:!0}),w.setStyle(f),r.setHoverStyle(w,p.hasItemOption?g:a.extend({},g)),w.incremental=o,o&&(w.useHoverLayer=!0),d.add(w),p.setItemGraphicEl(b,w)}},_renderOnGeo:function(t,e,n,i){var s=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,c=e.getData(),h=this._hmLayer||this._hmLayer||new o;h.blurSize=e.get("blurSize"),h.pointSize=e.get("pointSize"),h.minOpacity=e.get("minOpacity"),h.maxOpacity=e.get("maxOpacity");var u=t.getViewRect().clone(),d=t.getRoamTransform();u.applyTransform(d);var p=Math.max(u.x,0),f=Math.max(u.y,0),g=Math.min(u.width+u.x,i.getWidth()),m=Math.min(u.height+u.y,i.getHeight()),v=g-p,y=m-f,x=[c.mapDimension("lng"),c.mapDimension("lat"),c.mapDimension("value")],b=c.mapArray(x,(function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=p,r[1]-=f,r.push(i),r})),w=n.getExtent(),C="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(w,n.option.range):function(t,e,n){var i=t[1]-t[0],r=(e=a.map(e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}))).length,o=0;return function(t){for(var i=o;i<r;i++){if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(w,n.getPieceList(),n.option.selected);h.update(b,v,y,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},C);var _=new r.Image({style:{width:v,height:y,x:p,y:f,image:h.canvas},silent:!0});this.group.add(_)},dispose:function(){}});t.exports=s},function(t,e,n){var i=n(3);function r(){var t=i.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(t,r,"inRange"),l=this._getGradient(t,r,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,u=h.getContext("2d"),d=t.length;h.width=e,h.height=n;for(var p=0;p<d;++p){var f=t[p],g=f[0],m=f[1],v=i(f[2]);u.globalAlpha=v,u.drawImage(a,g-c,m-c)}if(!h.width||!h.height)return h;for(var y=u.getImageData(0,0,h.width,h.height),x=y.data,b=0,w=x.length,C=this.minOpacity,_=this.maxOpacity-C;b<w;){v=x[b+3]/256;var S=4*Math.floor(255*v);if(v>0){var O=o(v)?s:l;v>0&&(v=v*_+C),x[b++]=O[S],x[b++]=O[S+1],x[b++]=O[S+2],x[b++]=O[S+3]*v*256}else b+=4}return u.putImageData(y,0,0),h},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=i.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var r=t.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},_getGradient:function(t,e,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}};var o=r;t.exports=o},function(t,e,n){var i=n(5),r=n(3);n(192),n(570),n(571);var o=n(130).layout,a=n(73);n(110),i.registerLayout(r.curry(o,"pictorialBar")),i.registerVisual(a("pictorialBar","roundRect"))},function(t,e,n){var i=n(281).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,i.superApply(this,"getInitialData",arguments)}}),r=i;t.exports=r},function(t,e,n){var i=n(5),r=n(3),o=n(6),a=n(40).createSymbol,s=n(8),l=s.parsePercent,c=s.isNumeric,h=n(282).setLabel,u=["itemStyle","borderWidth"],d=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],p=new o.Circle;function f(t,e,n,i){var o=t.getItemLayout(e),a=n.get("symbolRepeat"),s=n.get("symbolClip"),h=n.get("symbolPosition")||"start",d=(n.get("symbolRotate")||0)*Math.PI/180||0,f=n.get("symbolPatternSize")||2,m=n.isAnimationEnabled(),v={dataIndex:e,layout:o,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:d,animationModel:m?n:null,hoverAnimation:m&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};!function(t,e,n,i,o){var a,s=i.valueDim,l=t.get("symbolBoundingData"),c=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),h=c.toGlobalCoord(c.dataToCoord(0)),u=1-+(n[s.wh]<=0);if(r.isArray(l)){var d=[g(c,l[0])-h,g(c,l[1])-h];d[1]<d[0]&&d.reverse(),a=d[u]}else a=null!=l?g(c,l)-h:e?i.coordSysExtent[s.index][u]-h:n[s.wh];o.boundingLength=a,e&&(o.repeatCutLength=n[s.wh]);o.pxSign=a>0?1:a<0?-1:0}(n,a,o,i,v),function(t,e,n,i,o,a,s,c,h,u){var d=h.valueDim,p=h.categoryDim,f=Math.abs(n[p.wh]),g=t.getItemVisual(e,"symbolSize");r.isArray(g)?g=g.slice():(null==g&&(g="100%"),g=[g,g]);g[p.index]=l(g[p.index],f),g[d.index]=l(g[d.index],i?f:Math.abs(a)),u.symbolSize=g,(u.symbolScale=[g[0]/c,g[1]/c])[d.index]*=(h.isHorizontal?-1:1)*s}(t,e,o,a,0,v.boundingLength,v.pxSign,f,i,v),function(t,e,n,i,r){var o=t.get(u)||0;o&&(p.attr({scale:e.slice(),rotation:n}),p.updateTransform(),o/=p.getLineScale(),o*=e[i.valueDim.index]);r.valueLineWidth=o}(n,v.symbolScale,d,i,v);var y=v.symbolSize,x=n.get("symbolOffset");return r.isArray(x)&&(x=[l(x[0],y[0]),l(x[1],y[1])]),function(t,e,n,i,o,a,s,h,u,d,p,f){var g=p.categoryDim,m=p.valueDim,v=f.pxSign,y=Math.max(e[m.index]+h,0),x=y;if(i){var b=Math.abs(u),w=r.retrieve(t.get("symbolMargin"),"15%")+"",C=!1;w.lastIndexOf("!")===w.length-1&&(C=!0,w=w.slice(0,w.length-1)),w=l(w,e[m.index]);var _=Math.max(y+2*w,0),S=C?0:2*w,O=c(i),M=O?i:P((b+S)/_);_=y+2*(w=(b-M*y)/2/(C?M:M-1)),S=C?0:2*w,O||"fixed"===i||(M=d?P((Math.abs(d)+S)/_):0),x=M*_-S,f.repeatTimes=M,f.symbolMargin=w}var k=v*(x/2),A=f.pathPosition=[];A[g.index]=n[g.wh]/2,A[m.index]="start"===s?k:"end"===s?u-k:u/2,a&&(A[0]+=a[0],A[1]+=a[1]);var T=f.bundlePosition=[];T[g.index]=n[g.xy],T[m.index]=n[m.xy];var D=f.barRectShape=r.extend({},n);D[m.wh]=v*Math.max(Math.abs(n[m.wh]),Math.abs(A[m.index]+k)),D[g.wh]=n[g.wh];var I=f.clipShape={};I[g.xy]=-n[g.xy],I[g.wh]=p.ecSize[g.wh],I[m.xy]=0,I[m.wh]=n[m.wh]}(n,y,o,a,0,x,h,v.valueLineWidth,v.boundingLength,v.repeatCutLength,i,v),v}function g(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function m(t){var e=t.symbolPatternSize,n=a(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function v(t,e,n,i){var r=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,c=n.repeatTimes||0,h=0,u=o[e.valueDim.index]+a+2*n.symbolMargin;for(A(t,(function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=c,h<c?T(t,null,f(h),n,i):T(t,null,{scale:[0,0]},n,i,(function(){r.remove(t)})),S(t,n),h++}));h<c;h++){var d=m(n);d.__pictorialAnimationIndex=h,d.__pictorialRepeatTimes=c,r.add(d);var p=f(h);T(d,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},n,i),d.on("mouseover",g).on("mouseout",v),S(d,n)}function f(t){var e=s.slice(),i=n.pxSign,r=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=c-1-t),e[l.index]=u*(r-c/2+.5)+s[l.index],{position:e,scale:n.symbolScale.slice(),rotation:n.rotation}}function g(){A(t,(function(t){t.trigger("emphasis")}))}function v(){A(t,(function(t){t.trigger("normal")}))}}function y(t,e,n,i){var r=t.__pictorialBundle,o=t.__pictorialMainPath;o?T(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(o=t.__pictorialMainPath=m(n),r.add(o),T(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),o.on("mouseover",(function(){this.trigger("emphasis")})).on("mouseout",(function(){this.trigger("normal")}))),S(o,n)}function x(t,e,n){var i=r.extend({},e.barRectShape),a=t.__pictorialBarRect;a?T(a,null,{shape:i},e,n):(a=t.__pictorialBarRect=new o.Rect({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(a))}function b(t,e,n,i){if(n.symbolClip){var a=t.__pictorialClipPath,s=r.extend({},n.clipShape),l=e.valueDim,c=n.animationModel,h=n.dataIndex;if(a)o.updateProps(a,{shape:s},c,h);else{s[l.wh]=0,a=new o.Rect({shape:s}),t.__pictorialBundle.setClipPath(a),t.__pictorialClipPath=a;var u={};u[l.wh]=n.clipShape[l.wh],o[i?"updateProps":"initProps"](a,{shape:u},c,h)}}}function w(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=C,n.isAnimationEnabled=_,n}function C(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function _(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function S(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",(function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")})).on("normal",(function(){this.animateTo({scale:n.slice()},400,"elasticOut")}))}function O(t,e,n,i){var r=new o.Group,a=new o.Group;return r.add(a),r.__pictorialBundle=a,a.attr("position",n.bundlePosition.slice()),n.symbolRepeat?v(r,e,n):y(r,0,n),x(r,n,i),b(r,e,n,i),r.__pictorialShapeStr=k(t,n),r.__pictorialSymbolMeta=n,r}function M(t,e,n,i){var a=i.__pictorialBarRect;a&&(a.style.text=null);var s=[];A(i,(function(t){s.push(t)})),i.__pictorialMainPath&&s.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),r.each(s,(function(t){o.updateProps(t,{scale:[0,0]},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function k(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function A(t,e,n){r.each(t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function T(t,e,n,i,r,a){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&o[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,a)}function D(t,e,n){var i=n.color,a=n.dataIndex,s=n.itemModel,l=s.getModel("itemStyle").getItemStyle(["color"]),c=s.getModel("emphasis.itemStyle").getItemStyle(),u=s.getShallow("cursor");A(t,(function(t){t.setColor(i),t.setStyle(r.defaults({fill:i,opacity:n.opacity},l)),o.setHoverStyle(t,c),u&&(t.cursor=u),t.z2=n.z2}));var d={},p=e.valueDim.posDesc[+(n.boundingLength>0)],f=t.__pictorialBarRect;h(f.style,d,s,i,e.seriesModel,a,p),o.setHoverStyle(f,d)}function P(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var I=i.extendChartView({type:"pictorialBar",render:function(t,e,n){var i=this.group,r=t.getData(),a=this._data,s=t.coordinateSystem,l=!!s.getBaseAxis().isHorizontal(),c=s.grid.getRect(),h={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:s,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:l,valueDim:d[+l],categoryDim:d[1-l]};return r.diff(a).add((function(t){if(r.hasValue(t)){var e=w(r,t),n=f(r,t,e,h),o=O(r,h,n);r.setItemGraphicEl(t,o),i.add(o),D(o,h,n)}})).update((function(t,e){var n=a.getItemGraphicEl(e);if(r.hasValue(t)){var s=w(r,t),l=f(r,t,s,h),c=k(r,l);n&&c!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(t,null),n=null),n?function(t,e,n){var i=n.animationModel,r=n.dataIndex,a=t.__pictorialBundle;o.updateProps(a,{position:n.bundlePosition.slice()},i,r),n.symbolRepeat?v(t,e,n,!0):y(t,e,n,!0);x(t,n,!0),b(t,e,n,!0)}(n,h,l):n=O(r,h,l,!0),r.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=l,i.add(n),D(n,h,l)}else i.remove(n)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&M(a,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=r,this.group},dispose:r.noop,remove:function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl((function(e){M(i,e.dataIndex,t,e)})):n.removeAll()}});t.exports=I},function(t,e,n){var i=n(5);n(300),n(582),n(583);var r=n(584),o=n(585),a=n(113);i.registerLayout(r),i.registerVisual(o),i.registerProcessor(a("themeRiver"))},function(t,e,n){var i=n(574);n(44).register("single",{create:function(t,e){var n=[];return t.eachComponent("singleAxis",(function(r,o){var a=new i(r,t,e);a.name="single_"+o,a.resize(r,e),r.coordinateSystem=a,n.push(a)})),t.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}})),n},dimensions:i.prototype.dimensions})},function(t,e,n){var i=n(575),r=n(45),o=n(14).getLayoutRect,a=n(3).each;function s(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}s.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:s,_init:function(t,e,n){var o=this.dimension,a=new i(o,r.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),s="category"===a.type;a.onBand=s&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},update:function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();a(e.mapDimension(this.dimension,!0),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),r.niceScaleExtent(this._axis.scale,this._axis.model)}}),this)},resize:function(t,e){this._rect=o({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}};var l=s;t.exports=l},function(t,e,n){var i=n(3),r=n(63),o=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom",this.orient=null};o.prototype={constructor:o,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(3),r=n(64),o=n(6),a=n(301),s=n(74),l=n(280),c=l.rectCoordAxisBuildSplitArea,h=l.rectCoordAxisHandleRemove,u=["axisLine","axisTickLabel","axisName"],d=["splitArea","splitLine"],p=s.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,s){var l=this.group;l.removeAll();var c=this._axisGroup;this._axisGroup=new o.Group;var h=a.layout(t),f=new r(t,h);i.each(u,f.add,f),l.add(this._axisGroup),l.add(f.getGroup()),i.each(d,(function(e){t.get(e+".show")&&this["_"+e](t)}),this),o.groupTransition(c,this._axisGroup,t),p.superCall(this,"render",t,e,n,s)},remove:function(){h(this)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var n=t.getModel("splitLine"),i=n.getModel("lineStyle"),r=i.get("width"),a=i.get("color");a=a instanceof Array?a:[a];for(var s=t.coordinateSystem.getRect(),l=e.isHorizontal(),c=[],h=0,u=e.getTicksCoords({tickModel:n}),d=[],p=[],f=0;f<u.length;++f){var g=e.toGlobalCoord(u[f].coord);l?(d[0]=g,d[1]=s.y,p[0]=g,p[1]=s.y+s.height):(d[0]=s.x,d[1]=g,p[0]=s.x+s.width,p[1]=g);var m=h++%a.length;c[m]=c[m]||[],c[m].push(new o.Line({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:{lineWidth:r},silent:!0}))}for(f=0;f<c.length;++f)this.group.add(o.mergePath(c[f],{style:{stroke:a[f%a.length],lineDash:i.getLineDash(r),lineWidth:r},silent:!0}))}},_splitArea:function(t){c(this,this._axisGroup,t,t)}}),f=p;t.exports=f},function(t,e,n){var i=n(3),r=n(30),o=n(132),a=n(86),s=r.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});i.merge(s.prototype,a),o("single",s,(function(t,e){return e.type||(e.data?"category":"value")}),{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var l=s;t.exports=l},function(t,e,n){var i=n(3),r=n(11).makeInner,o=n(133),a=n(302),s=i.each,l=i.curry,c=r();function h(t,e,n,r,o){var a=t.axis;if(!a.scale.isBlank()&&a.containData(e))if(t.involveSeries){var l=function(t,e){var n=e.axis,i=n.dim,r=t,o=[],a=Number.MAX_VALUE,l=-1;return s(e.seriesModels,(function(e,c){var h,u,d=e.getData().mapDimension(i,!0);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(d,t,n);u=p.dataIndices,h=p.nestestValue}else{if(!(u=e.getData().indicesOfNearest(d[0],t,"category"===n.type?.5:null)).length)return;h=e.getData().get(d[0],u[0])}if(null!=h&&isFinite(h)){var f=t-h,g=Math.abs(f);g<=a&&((g<a||f>=0&&l<0)&&(a=g,l=f,r=h,o.length=0),s(u,(function(t){o.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:o,snapToValue:r}}(e,t),c=l.payloadBatch,h=l.snapToValue;c[0]&&null==o.seriesIndex&&i.extend(o,c[0]),!r&&t.snap&&a.containData(h)&&null!=h&&(e=h),n.showPointer(t,e,c,o),n.showTooltip(t,l,h)}else n.showPointer(t,e)}function u(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function d(t,e,n,i){var r=n.payloadBatch,a=e.axis,s=a.model,l=e.axisPointerModel;if(e.triggerTooltip&&r.length){var c=e.coordSys.model,h=o.makeKey(c),u=t.map[h];u||(u=t.map[h]={coordSysId:c.id,coordSysIndex:c.componentIndex,coordSysType:c.type,coordSysMainType:c.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:r.slice()})}}function p(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function f(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,n){var r=t.currTrigger,o=[t.x,t.y],g=t,m=t.dispatchAction||i.bind(n.dispatchAction,n),v=e.getComponent("axisPointer").coordSysAxesInfo;if(v){f(o)&&(o=a({seriesIndex:g.seriesIndex,dataIndex:g.dataIndex},e).point);var y=f(o),x=g.axesInfo,b=v.axesInfo,w="leave"===r||f(o),C={},_={},S={list:[],map:{}},O={showPointer:l(u,_),showTooltip:l(d,S)};s(v.coordSysMap,(function(t,e){var n=y||t.containPoint(o);s(v.coordSysAxesInfo[e],(function(t,e){var i=t.axis,r=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(x,t);if(!w&&n&&(!x||r)){var a=r&&r.value;null!=a||y||(a=i.pointToData(o)),null!=a&&h(t,a,O,!1,C)}}))}));var M={};return s(b,(function(t,e){var n=t.linkGroup;n&&!_[e]&&s(n.axesInfo,(function(e,i){var r=_[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,p(e),p(t)))),M[t.key]=o}}))})),s(M,(function(t,e){h(b[e],t,O,!0,C)})),function(t,e,n){var i=n.axesInfo=[];s(e,(function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}(_,b,C),function(t,e,n,i){if(f(e)||!t.list.length)return void i({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(S,o,t,m),function(t,e,n){var r=n.getZr(),o=c(r).axisPointerLastHighlights||{},a=c(r).axisPointerLastHighlights={};s(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&s(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t}))}));var l=[],h=[];i.each(o,(function(t,e){!a[e]&&h.push(t)})),i.each(a,(function(t,e){!o[e]&&l.push(t)})),h.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:h}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(b,0,n),C}}},function(t,e,n){var i=n(5).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=i},function(t,e,n){var i=n(5),r=n(303),o=i.extendComponentView({type:"axisPointer",render:function(t,e,n){var i=e.getComponent("tooltip"),o=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";r.register("axisPointer",n,(function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){r.unregister(e.getZr(),"axisPointer"),o.superApply(this._model,"remove",arguments)},dispose:function(t,e){r.unregister("axisPointer",e),o.superApply(this._model,"dispose",arguments)}}),a=o;t.exports=a},function(t,e,n){var i=n(203),r=n(137),o=n(301),a=n(74),s=["x","y"],l=["width","height"],c=i.extend({makeElOption:function(t,e,n,i,a){var s=n.axis,l=s.coordinateSystem,c=d(l,1-u(s)),p=l.dataToPoint(e)[0],f=i.get("type");if(f&&"none"!==f){var g=r.buildElStyle(i),m=h[f](s,p,c);m.style=g,t.graphicKey=m.type,t.pointer=m}var v=o.layout(n);r.buildCartesianSingleLabelElOption(e,t,v,n,i,a)},getHandleTransform:function(t,e,n){var i=o.layout(e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:r.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,o=r.coordinateSystem,a=u(r),s=d(o,a),l=t.position;l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var c=d(o,1-a),h=(c[1]+c[0])/2,p=[h,h];return p[a]=l[a],{position:l,rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}}}),h={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:r.makeLineShape([e,n[0]],[e,n[1]],u(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:r.makeRectShape([e-i/2,n[0]],[i,o],u(t))}}};function u(t){return t.isHorizontal()?0:1}function d(t,e){var n=t.getRect();return[n[s[e]],n[s[e]]+n[l[e]]]}a.registerAxisPointerClass("SingleAxisPointer",c);var p=c;t.exports=p},function(t,e,n){var i=n(31),r=n(85),o=n(106).getDimensionTypeByAxis,a=n(42),s=n(3),l=n(11).groupData,c=n(15).encodeHTML,h=n(111),u=i.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){u.superApply(this,"init",arguments),this.legendVisualProvider=new h(s.bind(this.getData,this),s.bind(this.getRawData,this))},fixData:function(t){var e=t.length,n={},i=l(t,(function(t){return n.hasOwnProperty(t[0])||(n[t[0]]=-1),t[2]})),r=[];i.buckets.each((function(t,e){r.push({name:e,dataList:t})}));for(var o=r.length,a=0;a<o;++a){for(var s=r[a].name,c=0;c<r[a].dataList.length;++c){var h=r[a].dataList[c][0];n[h]=a}for(var h in n)n.hasOwnProperty(h)&&n[h]!==a&&(n[h]=a,t[e]=[],t[e][0]=h,t[e][1]=0,t[e][2]=s,e++)}return t},getInitialData:function(t,e){for(var n=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),i=s.filter(t.data,(function(t){return void 0!==t[2]})),l=this.fixData(i||[]),c=[],h=this.nameMap=s.createHashMap(),u=0,d=0;d<l.length;++d)c.push(l[d][2]),h.get(l[d][2])||(h.set(l[d][2],u),u++);var p=r(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:o(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),f=new a(p,this);return f.initData(l),f},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var r=t.mapDimension("single"),o=l(n,(function(e){return t.get("name",e)})),a=[];return o.buckets.each((function(e,n){e.sort((function(e,n){return t.get(r,e)-t.get(r,n)})),a.push({name:n,indices:e})})),a},getAxisTooltipData:function(t,e,n){s.isArray(t)||(t=t?[t]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],l=o.length,c=0;c<l;++c){for(var h=Number.MAX_VALUE,u=-1,d=o[c].indices.length,p=0;p<d;++p){var f=r.get(t[0],o[c].indices[p]),g=Math.abs(f-e);g<=h&&(i=f,h=g,u=o[c].indices[p])}a.push(u)}return{dataIndices:a,nestestValue:i}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),i=e.get(e.mapDimension("value"),t);return(isNaN(i)||null==i)&&(i="-"),c(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),d=u;t.exports=d},function(t,e,n){var i=n(5),r=n(276).Polygon,o=n(6),a=n(3),s=a.bind,l=a.extend,c=n(72),h=i.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,n){var i=t.getData(),a=this.group,h=t.getLayerSeries(),u=i.getLayout("layoutInfo"),d=u.rect,p=u.boundaryGap;function f(t){return t.name}a.attr("position",[0,d.y+p[0]]);var g=new c(this._layersSeries||[],h,f,f),m={};function v(e,n,s){var c=this._layers;if("remove"!==e){for(var u,d,p,f=[],g=[],v=h[n].indices,y=0;y<v.length;y++){var x=i.getItemLayout(v[y]),b=x.x,w=x.y0,C=x.y;f.push([b,w]),g.push([b,w+C]),u=i.getItemVisual(v[y],"color")}var _=i.getItemLayout(v[0]),S=i.getItemModel(v[y-1]),O=S.getModel("label"),M=O.get("margin");if("add"===e){var k=m[n]=new o.Group;d=new r({shape:{points:f,stackedOnPoints:g,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),p=new o.Text({style:{x:_.x-M,y:_.y0+_.y/2}}),k.add(d),k.add(p),a.add(k),d.setClipPath(function(t,e,n){var i=new o.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return o.initProps(i,{shape:{width:t.width+20,height:t.height+20}},e,n),i}(d.getBoundingRect(),t,(function(){d.removeClipPath()})))}else{k=c[s];d=k.childAt(0),p=k.childAt(1),a.add(k),m[n]=k,o.updateProps(d,{shape:{points:f,stackedOnPoints:g}},t),o.updateProps(p,{style:{x:_.x-M,y:_.y0+_.y/2}},t)}var A=S.getModel("emphasis.itemStyle"),T=S.getModel("itemStyle");o.setTextStyle(p.style,O,{text:O.get("show")?t.getFormattedLabel(v[y-1],"normal")||i.getName(v[y-1]):null,textVerticalAlign:"middle"}),d.setStyle(l({fill:u},T.getItemStyle(["color"]))),o.setHoverStyle(d,A.getItemStyle())}else a.remove(c[n])}g.add(s(v,this,"add")).update(s(v,this,"update")).remove(s(v,this,"remove")).execute(),this._layersSeries=h,this._layers=m},dispose:function(){}});t.exports=h},function(t,e,n){var i=n(3),r=n(8);function o(t,e,n){if(t.count())for(var r,o=e.coordinateSystem,a=e.getLayerSeries(),s=t.mapDimension("single"),l=t.mapDimension("value"),c=i.map(a,(function(e){return i.map(e.indices,(function(e){var n=o.dataToPoint(t.get(s,e));return n[1]=t.get(l,e),n}))})),h=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],o=0,a={},s=0;s<n;++s){for(var l=0,c=0;l<e;++l)c+=t[l][s][1];c>o&&(o=c),i.push(c)}for(var h=0;h<n;++h)r[h]=(o-i[h])/2;o=0;for(var u=0;u<n;++u){var d=i[u]+r[u];d>o&&(o=d)}return a.y0=r,a.max=o,a}(c),u=h.y0,d=n/h.max,p=a.length,f=a[0].indices.length,g=0;g<f;++g){r=u[g]*d,t.setItemLayout(a[0].indices[g],{layerIndex:0,x:c[0][g][0],y0:r,y:c[0][g][1]*d});for(var m=1;m<p;++m)r+=c[m-1][g][1]*d,t.setItemLayout(a[m].indices[g],{layerIndex:m,x:c[m][g][0],y0:r,y:c[m][g][1]*d})}}t.exports=function(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,i={},a=n.getRect();i.rect=a;var s=t.get("boundaryGap"),l=n.getAxis();(i.boundaryGap=s,"horizontal"===l.orient)?(s[0]=r.parsePercent(s[0],a.height),s[1]=r.parsePercent(s[1],a.height),o(e,t,a.height-s[0]-s[1])):(s[0]=r.parsePercent(s[0],a.width),s[1]=r.parsePercent(s[1],a.width),o(e,t,a.width-s[0]-s[1]));e.setLayout("layoutInfo",i)}))}},function(t,e,n){var i=n(3).createHashMap;t.exports=function(t){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.getRawData(),r=t.get("color"),o=i();e.each((function(t){o.set(e.getRawIndex(t),t)})),n.each((function(i){var a=n.getName(i),s=r[(t.nameMap.get(a)-1)%r.length];n.setItemVisual(i,"color",s);var l=o.get(i);null!=l&&e.setItemVisual(l,"color",s)}))}))}},function(t,e,n){var i=n(5),r=n(3);n(587),n(588),n(590);var o=n(112),a=n(591),s=n(113);i.registerVisual(r.curry(o,"sunburst")),i.registerLayout(r.curry(a,"sunburst")),i.registerProcessor(r.curry(s,"sunburst"))},function(t,e,n){var i=n(3),r=n(31),o=n(198),a=n(26),s=n(75).wrapTreePathInfo,l=r.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};!function t(e){var n=0;i.each(e.children,(function(e){t(e);var r=e.value;i.isArray(r)&&(r=r[0]),n+=r}));var r=e.value;i.isArray(r)&&(r=r[0]);(null==r||isNaN(r))&&(r=n);r<0&&(r=0);i.isArray(e.value)?e.value[0]=r:e.value=r}(n);var r=i.map(t.levels||[],(function(t){return new a(t,this,e)}),this),s=o.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,e){var n=s.getNodeByDataIndex(e),i=r[n.depth];return i&&(t.parentModel=i),t}))}));return s.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=r.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=s(n,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=l},function(t,e,n){var i=n(3),r=n(51),o=n(589),a=n(72),s=n(15).windowOpen,l=r.extend({type:"sunburst",init:function(){},render:function(t,e,n,r){var s=this;this.seriesModel=t,this.api=n,this.ecModel=e;var l=t.getData(),c=l.tree.root,h=t.getViewRoot(),u=this.group,d=t.get("renderLabelForZeroData"),p=[];h.eachNode((function(t){p.push(t)}));var f=this._oldChildren||[];if(function(n,r){if(0===n.length&&0===r.length)return;function s(t){return t.getId()}function h(i,a){!function(n,i){d||!n||n.getValue()||(n=null);if(n!==c&&i!==c)if(i&&i.piece)n?(i.piece.updateData(!1,n,"normal",t,e),l.setItemGraphicEl(n.dataIndex,i.piece)):function(t){if(!t)return;t.piece&&(u.remove(t.piece),t.piece=null)}(i);else if(n){var r=new o(n,t,e);u.add(r),l.setItemGraphicEl(n.dataIndex,r)}}(null==i?null:n[i],null==a?null:r[a])}new a(r,n,s,s).add(h).update(h).remove(i.curry(h,null)).execute()}(p,f),function(n,i){if(i.depth>0){s.virtualPiece?s.virtualPiece.updateData(!1,n,"normal",t,e):(s.virtualPiece=new o(n,t,e),u.add(s.virtualPiece)),i.piece._onclickEvent&&i.piece.off("click",i.piece._onclickEvent);var r=function(t){s._rootToNode(i.parentNode)};i.piece._onclickEvent=r,s.virtualPiece.on("click",r)}else s.virtualPiece&&(u.remove(s.virtualPiece),s.virtualPiece=null)}(c,h),r&&r.highlight&&r.highlight.piece){var g=t.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(g)}else if(r&&r.unhighlight){var m=this.virtualPiece;!m&&c.children.length&&(m=c.children[0].piece),m&&m.onNormal()}this._initEvents(),this._oldChildren=p},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var n=!1;t.seriesModel.getViewRoot().eachNode((function(i){if(!n&&i.piece&&i.piece.childAt(0)===e.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)t._rootToNode(i);else if("link"===r){var o=i.getModel(),a=o.get("link");if(a){var l=o.get("target",!0)||"_blank";s(a,l)}}n=!0}}))};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}}});t.exports=l},function(t,e,n){var i=n(3),r=n(6),o="none",a="ancestor",s="self";function l(t,e,n){r.Group.call(this);var i=new r.Sector({z2:2});i.seriesIndex=e.seriesIndex;var o=new r.Text({z2:4,silent:t.getModel("label").get("silent")});function a(){o.ignore=o.hoverIgnore}function s(){o.ignore=o.normalIgnore}this.add(i),this.add(o),this.updateData(!0,t,"normal",e,n),this.on("emphasis",a).on("normal",s).on("mouseover",a).on("mouseout",s)}var c=l.prototype;c.updateData=function(t,e,n,o,a){this.node=e,e.piece=this,o=o||this._seriesModel,a=a||this._ecModel;var s=this.childAt(0);s.dataIndex=e.dataIndex;var l=e.getModel(),c=e.getLayout(),h=i.extend({},c);h.label=null;var u=function(t,e,n){var r=t.getVisual("color"),o=t.getVisual("visualMeta");o&&0!==o.length||(r=null);var a=t.getModel("itemStyle").get("color");if(a)return a;if(r)return r;if(0===t.depth)return n.option.color[0];var s=n.option.color.length;a=n.option.color[function(t){var e=t;for(;e.depth>1;)e=e.parentNode;var n=t.getAncestors()[0];return i.indexOf(n.children,e)}(t)%s];return a}(e,0,a);!function(t,e,n){e.getData().setItemVisual(t.dataIndex,"color",n)}(e,o,u);var d,p=l.getModel("itemStyle").getItemStyle();if("normal"===n)d=p;else{var f=l.getModel(n+".itemStyle").getItemStyle();d=i.merge(f,p)}d=i.defaults({lineJoin:"bevel",fill:d.fill||u},d),t?(s.setShape(h),s.shape.r=c.r0,r.updateProps(s,{shape:{r:c.r}},o,e.dataIndex),s.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof s.style.fill&&s.style.fill.type?(r.updateProps(s,{shape:h},o),s.useStyle(d)):r.updateProps(s,{shape:h,style:d},o),this._updateLabel(o,u,n);var g=l.getShallow("cursor");if(g&&s.attr("cursor",g),t){var m=o.getShallow("highlightPolicy");this._initEvents(s,e,o,m)}this._seriesModel=o||this._seriesModel,this._ecModel=a||this._ecModel,r.setHoverStyle(this)},c.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode((function(n){var i,r,l;n.piece&&(e.node===n?n.piece.updateData(!1,n,"emphasis"):(i=n,r=e.node,(l=t)!==o&&(l===s?i===r:l===a?i===r||i.isAncestorOf(r):i===r||i.isDescendantOf(r))?n.piece.childAt(0).trigger("highlight"):t!==o&&n.piece.childAt(0).trigger("downplay")))}))},c.onNormal=function(){this.node.hostTree.root.eachNode((function(t){t.piece&&t.piece.updateData(!1,t,"normal")}))},c.onHighlight=function(){this.updateData(!1,this.node,"highlight")},c.onDownplay=function(){this.updateData(!1,this.node,"downplay")},c._updateLabel=function(t,e,n){var o=this.node.getModel(),a=o.getModel("label"),s="normal"===n||"emphasis"===n?a:o.getModel(n+".label"),l=o.getModel("emphasis.label"),c=s.get("formatter")?n:"normal",h=i.retrieve(t.getFormattedLabel(this.node.dataIndex,c,null,null,"label"),this.node.name);!1===M("show")&&(h="");var u=this.node.getLayout(),d=s.get("minAngle");null==d&&(d=a.get("minAngle")),d=d/180*Math.PI;var p=u.endAngle-u.startAngle;null!=d&&Math.abs(p)<d&&(h="");var f=this.childAt(1);r.setLabelStyle(f.style,f.hoverStyle||{},a,l,{defaultText:s.getShallow("show")?h:null,autoColor:e,useInsideStyle:!0});var g,m=(u.startAngle+u.endAngle)/2,v=Math.cos(m),y=Math.sin(m),x=M("position"),b=M("distance")||0,w=M("align");"outside"===x?(g=u.r+b,w=m>Math.PI/2?"right":"left"):w&&"center"!==w?"left"===w?(g=u.r0+b,m>Math.PI/2&&(w="right")):"right"===w&&(g=u.r-b,m>Math.PI/2&&(w="left")):(g=(u.r+u.r0)/2,w="center"),f.attr("style",{text:h,textAlign:w,textVerticalAlign:M("verticalAlign")||"middle",opacity:M("opacity")});var C=g*v+u.cx,_=g*y+u.cy;f.attr("position",[C,_]);var S=M("rotate"),O=0;function M(t){var e=s.get(t);return null==e?a.get(t):e}"radial"===S?(O=-m)<-Math.PI/2&&(O+=Math.PI):"tangential"===S?(O=Math.PI/2-m)>Math.PI/2?O-=Math.PI:O<-Math.PI/2&&(O+=Math.PI):"number"==typeof S&&(O=S*Math.PI/180),f.attr("rotation",O)},c._initEvents=function(t,e,n,i){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var r=this,o=function(){r.onEmphasis(i)},a=function(){r.onNormal()};n.isAnimationEnabled()&&t.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a).on("downplay",(function(){r.onDownplay()})).on("highlight",(function(){r.onHighlight()}))},i.inherits(l,r.Group);var h=l;t.exports=h},function(t,e,n){var i=n(5),r=n(75);i.registerAction({type:"sunburstRootToNode",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){var i=r.retrieveTargetInfo(t,["sunburstRootToNode"],e);if(i){var o=e.getViewRoot();o&&(t.direction=r.aboveViewRoot(o,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}))}));i.registerAction({type:"sunburstHighlight",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){var i=r.retrieveTargetInfo(t,["sunburstHighlight"],e);i&&(t.highlight=i.node)}))}));i.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(e,n){t.unhighlight=!0}))}))},function(t,e,n){var i=n(8).parsePercent,r=n(3),o=Math.PI/180;function a(t,e){var n=t.children||[];t.children=function(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort((function(t,e){var i=(t.getValue()-e.getValue())*(n?1:-1);return 0===i?(t.dataIndex-e.dataIndex)*(n?-1:1):i}))}(n,e),n.length&&r.each(t.children,(function(t){a(t,e)}))}t.exports=function(t,e,n,s){e.eachSeriesByType(t,(function(t){var e=t.get("center"),s=t.get("radius");r.isArray(s)||(s=[0,s]),r.isArray(e)||(e=[e,e]);var l=n.getWidth(),c=n.getHeight(),h=Math.min(l,c),u=i(e[0],l),d=i(e[1],c),p=i(s[0],h/2),f=i(s[1],h/2),g=-t.get("startAngle")*o,m=t.get("minAngle")*o,v=t.getData().tree.root,y=t.getViewRoot(),x=y.depth,b=t.get("sort");null!=b&&a(y,b);var w=0;r.each(y.children,(function(t){!isNaN(t.getValue())&&w++}));var C=y.getValue(),_=Math.PI/(C||w)*2,S=y.depth>0,O=y.height-(S?-1:1),M=(f-p)/(O||1),k=t.get("clockwise"),A=t.get("stillShowZeroSum"),T=k?1:-1,D=function(t,e){if(t){var n=e;if(t!==v){var o=t.getValue(),a=0===C&&A?_:o*_;a<m&&(a=m),n=e+T*a;var s=t.depth-x-(S?-1:1),l=p+M*s,c=p+M*(s+1),f=t.getModel();null!=f.get("r0")&&(l=i(f.get("r0"),h/2)),null!=f.get("r")&&(c=i(f.get("r"),h/2)),t.setLayout({angle:a,startAngle:e,endAngle:n,clockwise:k,cx:u,cy:d,r0:l,r:c})}if(t.children&&t.children.length){var g=0;r.each(t.children,(function(t){g+=D(t,e+g)}))}return n-e}};if(S){var P=p,I=p+M,E=2*Math.PI;v.setLayout({angle:E,startAngle:g,endAngle:g+E,clockwise:k,cx:u,cy:d,r0:P,r:I})}D(y,g)}))}},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(6),o=n(191).getDefaultLabel,a=n(58),s=n(130).getLayoutOnAxis,l=n(72),c=n(31),h=n(26),u=n(51),d=n(108).createClipPath,p=n(593),f=n(594),g=n(595),m=n(596),v=n(597),y=r.CACHED_LABEL_STYLE_PROPERTIES,x=["itemStyle"],b=["emphasis","itemStyle"],w=["label"],C=["emphasis","label"],_={cartesian2d:p,geo:f,singleAxis:g,polar:m,calendar:v};function S(t,e,n,i,r){null==n[t]||r||(e[t]=n[t],n[t]=i[t])}function O(t,e,n,a){var l=t.get("renderItem"),c=t.coordinateSystem,h={};c&&(h=c.prepareCustoms?c.prepareCustoms():_[c.type](c));var u,d,p,f,g,m=i.defaults({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:function(t,n){return null==n&&(n=u),e.get(e.getDimension(t||0),n)},style:function(n,a){null==a&&(a=u),S(a);var s=d.getModel(x).getItemStyle();null!=g&&(s.fill=g);var l=e.getItemVisual(a,"opacity");null!=l&&(s.opacity=l);var c=n?P(n,p):p;return r.setTextStyle(s,c,null,{autoColor:g,isRectText:!0}),s.text=c.getShallow("show")?i.retrieve2(t.getFormattedLabel(a,"normal"),o(e,a)):null,n&&I(s,n),s},styleEmphasis:function(n,a){null==a&&(a=u),S(a);var s=d.getModel(b).getItemStyle(),l=n?P(n,f):f;return r.setTextStyle(s,l,null,{isRectText:!0},!0),s.text=l.getShallow("show")?i.retrieve3(t.getFormattedLabel(a,"emphasis"),t.getFormattedLabel(a,"normal"),o(e,a)):null,n&&I(s,n),s},visual:function(t,n){return null==n&&(n=u),e.getItemVisual(n,t)},barLayout:function(t){if(c.getBaseAxis){var e=c.getBaseAxis();return s(i.defaults({axis:e},t),a)}},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(t){return r.getFont(t,n)}},h.api||{}),v={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:h.coordSys,dataInsideLength:e.count(),encode:M(t.getData())},y=!0;return function(t,n){return u=t,y=!0,l&&l(i.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},v),m)};function S(t){null==t&&(t=u),y&&(d=e.getItemModel(t),p=d.getModel(w),f=d.getModel(C),g=e.getItemVisual(t,"color"),y=!1)}}function M(t){var e={};return i.each(t.dimensions,(function(n,i){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var o=r.coordDim;(e[o]=e[o]||[])[r.coordDimIndex]=i}})),e}function k(t,e,n,i,r,o){return(t=A(t,e,n,i,r,o,!0))&&o.setItemGraphicEl(e,t),t}function A(t,e,n,o,a,s,c){var h,u=!n,d=(n=n||{}).type,p=n.shape,f=n.style;if(t&&(u||null!=d&&d!==t.__customGraphicType||"path"===d&&((h=p)&&(h.hasOwnProperty("pathData")||h.hasOwnProperty("d")))&&j(p)!==t.__customPathData||"image"===d&&L(f,"image")&&f.image!==t.__customImagePath||"text"===d&&L(p,"text")&&f.text!==t.__customText)&&(a.remove(t),t=null),!u){var g=!t;return!t&&(t=function(t){var e,n=t.type;if("path"===n){var i=t.shape,o=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=j(i);(e=r.makePath(a,null,o,i.layout||"center")).__customPathData=a}else if("image"===n)(e=new r.Image({})).__customImagePath=t.style.image;else if("text"===n)(e=new r.Text({})).__customText=t.style.text;else if("group"===n)e=new r.Group;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');e=new(r.getShapeClass(n))}return e.__customGraphicType=n,e.name=t.name,e}(n)),function(t,e,n,o,a,s,l){var c={},h=n.style||{};if(n.shape&&(c.shape=i.clone(n.shape)),n.position&&(c.position=n.position.slice()),n.scale&&(c.scale=n.scale.slice()),n.origin&&(c.origin=n.origin.slice()),n.rotation&&(c.rotation=n.rotation),"image"===t.type&&n.style){var u=c.style={};i.each(["x","y","width","height"],(function(e){S(e,u,h,t.style,s)}))}if("text"===t.type&&n.style){u=c.style={};i.each(["x","y"],(function(e){S(e,u,h,t.style,s)})),!h.hasOwnProperty("textFill")&&h.fill&&(h.textFill=h.fill),!h.hasOwnProperty("textStroke")&&h.stroke&&(h.textStroke=h.stroke)}if("group"!==t.type&&(t.useStyle(h),s)){t.style.opacity=0;var d=h.opacity;null==d&&(d=1),r.initProps(t,{style:{opacity:d}},o,e)}s?t.attr(c):r.updateProps(t,c,o,e),n.hasOwnProperty("z2")&&t.attr("z2",n.z2||0),n.hasOwnProperty("silent")&&t.attr("silent",n.silent),n.hasOwnProperty("invisible")&&t.attr("invisible",n.invisible),n.hasOwnProperty("ignore")&&t.attr("ignore",n.ignore),n.hasOwnProperty("info")&&t.attr("info",n.info);var p=n.styleEmphasis;r.setElementHoverStyle(t,p),l&&r.setAsHighDownDispatcher(t,!1!==p)}(t,e,n,o,0,g,c),"group"===d&&function(t,e,n,i,r){var o=n.children,a=o?o.length:0,s=n.$mergeChildren,c="byName"===s||n.diffChildrenByName,h=!1===s;if(!a&&!c&&!h)return;if(c)return u={oldChildren:t.children()||[],newChildren:o||[],dataIndex:e,animatableModel:i,group:t,data:r},void new l(u.oldChildren,u.newChildren,T,T,u).add(D).update(D).remove(E).execute();var u;h&&t.removeAll();for(var d=0;d<a;d++)o[d]&&A(t.childAt(d),e,o[d],i,t,r)}(t,e,n,o,s),a.add(t),t}}function T(t,e){var n=t&&t.name;return null!=n?n:"e\0\0"+e}function D(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null;A(null!=e?n.oldChildren[e]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function P(t,e){var n=new h({},e);return i.each(y,(function(e,i){t.hasOwnProperty(e)&&(n.option[i]=t[e])})),n}function I(t,e){for(var n in e)!e.hasOwnProperty(n)&&y.hasOwnProperty(n)||(t[n]=e[n])}function E(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}function j(t){return t&&(t.pathData||t.d)}function L(t,e){return t&&t.hasOwnProperty(e)}c.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(t,e){return a(this.getSource(),this)},getDataParams:function(t,e,n){var i=c.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),u.extend({type:"custom",_data:null,render:function(t,e,n,i){var r=this._data,o=t.getData(),a=this.group,s=O(t,o,e,n);o.diff(r).add((function(e){k(null,e,s(e,i),t,a,o)})).update((function(e,n){k(r.getItemGraphicEl(n),e,s(e,i),t,a,o)})).remove((function(t){var e=r.getItemGraphicEl(t);e&&a.remove(e)})).execute();var l=t.get("clip",!0)?d(t.coordinateSystem,!1,t):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,i,r){var o=e.getData(),a=O(e,o,n,i);function s(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var l=t.start;l<t.end;l++){k(null,l,a(l,r),e,this.group,o).traverse(s)}},dispose:i.noop,filterForExposedEvent:function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1}})},function(t,e,n){var i=n(3);function r(t,e){return e=e||[0,0],i.map(["x","y"],(function(n,i){var r=this.getAxis(n),o=e[i],a=t[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))}),this)}t.exports=function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:i.bind(r,t)}}}},function(t,e,n){var i=n(3);function r(t,e){return e=e||[0,0],i.map([0,1],(function(n){var i=e[n],r=t[n]/2,o=[],a=[];return o[n]=i-r,a[n]=i+r,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}t.exports=function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:i.bind(r,t)}}}},function(t,e,n){var i=n(3);function r(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}t.exports=function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:i.bind(r,t)}}}},function(t,e,n){var i=n(3);function r(t,e){return i.map(["Radius","Angle"],(function(n,i){var r=this["get"+n+"Axis"](),o=e[i],a=t[i]/2,s="dataTo"+n,l="category"===r.type?r.getBandWidth():Math.abs(r[s](o-a)-r[s](o+a));return"Angle"===n&&(l=l*Math.PI/180),l}),this)}t.exports=function(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),o=e.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:o[1],r0:o[0]},api:{coord:i.bind((function(i){var r=e.dataToRadius(i[0]),o=n.dataToAngle(i[1]),a=t.coordToPoint([r,o]);return a.push(r,o*Math.PI/180),a})),size:i.bind(r,t)}}}},function(t,e){t.exports=function(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}},function(t,e,n){n(110),n(304),n(115)},function(t,e,n){var i=n(5),r=n(3),o=n(600);n(204),n(606),n(608),n(115),n(610),i.registerLayout(r.curry(o,"bar")),i.extendComponentView({type:"polar"})},function(t,e,n){var i=n(3),r=n(8).parsePercent,o=n(52).isDimensionStacked;function a(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function s(t,e){return e.dim+t.model.componentIndex}var l=function(t,e,n){var l={},c=function(t,e){var n={};i.each(t,(function(t,e){var i=t.getData(),o=t.coordinateSystem,l=o.getBaseAxis(),c=s(o,l),h=l.getExtent(),u="category"===l.type?l.getBandWidth():Math.abs(h[1]-h[0])/i.count(),d=n[c]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},p=d.stacks;n[c]=d;var f=a(t);p[f]||d.autoWidthCount++,p[f]=p[f]||{width:0,maxWidth:0};var g=r(t.get("barWidth"),u),m=r(t.get("barMaxWidth"),u),v=t.get("barGap"),y=t.get("barCategoryGap");g&&!p[f].width&&(g=Math.min(d.remainedWidth,g),p[f].width=g,d.remainedWidth-=g),m&&(p[f].maxWidth=m),null!=v&&(d.gap=v),null!=y&&(d.categoryGap=y)}));var o={};return i.each(n,(function(t,e){o[e]={};var n=t.stacks,a=t.bandWidth,s=r(t.categoryGap,a),l=r(t.gap,1),c=t.remainedWidth,h=t.autoWidthCount,u=(c-s)/(h+(h-1)*l);u=Math.max(u,0),i.each(n,(function(t,e){var n=t.maxWidth;n&&n<u&&(n=Math.min(n,c),t.width&&(n=Math.min(n,t.width)),c-=n,t.width=n,h--)})),u=(c-s)/(h+(h-1)*l),u=Math.max(u,0);var d,p=0;i.each(n,(function(t,e){t.width||(t.width=u),d=t,p+=t.width*(1+l)})),d&&(p-=d.width*l);var f=-p/2;i.each(n,(function(t,n){o[e][n]=o[e][n]||{offset:f,width:t.width},f+=t.width*(1+l)}))})),o}(i.filter(e.getSeriesByType(t),(function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));e.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=s(n,i),h=a(t),u=c[r][h],d=u.offset,p=u.width,f=n.getOtherAxis(i),g=t.coordinateSystem.cx,m=t.coordinateSystem.cy,v=t.get("barMinHeight")||0,y=t.get("barMinAngle")||0;l[h]=l[h]||[];for(var x=e.mapDimension(f.dim),b=e.mapDimension(i.dim),w=o(e,x),C="radius"!==i.dim||!t.get("roundCap",!0),_="radius"===f.dim?f.dataToRadius(0):f.dataToAngle(0),S=0,O=e.count();S<O;S++){var M,k,A,T,D=e.get(x,S),P=e.get(b,S),I=D>=0?"p":"n",E=_;if(w&&(l[h][P]||(l[h][P]={p:_,n:_}),E=l[h][P][I]),"radius"===f.dim){var j=f.dataToRadius(D)-_,L=i.dataToAngle(P);Math.abs(j)<v&&(j=(j<0?-1:1)*v),M=E,k=E+j,T=(A=L-d)-p,w&&(l[h][P][I]=k)}else{var B=f.dataToAngle(D,C)-_,N=i.dataToRadius(P);Math.abs(B)<y&&(B=(B<0?-1:1)*y),k=(M=N+d)+p,A=E,T=E+B,w&&(l[h][P][I]=T)}e.setItemLayout(S,{cx:g,cy:m,r0:M,r:k,startAngle:-A*Math.PI/180,endAngle:-T*Math.PI/180})}}}),this)};t.exports=l},function(t,e,n){var i=n(602),r=n(603),o=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new i,this._angleAxis=new r,this._radiusAxis.polar=this._angleAxis.polar=this};o.prototype={type:"polar",axisPointerEnabled:!0,constructor:o,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,c=l<o?1:-1;l<o||l>a;)l+=360*c;return[s,l]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},getArea:function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i,o=this.r,a=this.r0;return r<=o*o&&r>=a*a}}}};var a=o;t.exports=a},function(t,e,n){var i=n(3),r=n(63);function o(t,e){r.call(this,"radius",t,e),this.type="category"}o.prototype={constructor:o,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(3),r=n(39),o=n(63),a=(0,n(11).makeInner)();function s(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}s.prototype={constructor:s,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,n=e.getExtent(),i=e.count();if(n[1]-n[0]<1)return 0;var o=n[0],s=this.dataToCoord(o+1)-this.dataToCoord(o),l=Math.abs(s),c=r.getBoundingRect(o,t.getFont(),"center","top"),h=Math.max(c.height,7)/l;isNaN(h)&&(h=1/0);var u=Math.max(0,Math.floor(h)),d=a(this.model),p=d.lastAutoInterval,f=d.lastTickCount;return null!=p&&null!=f&&Math.abs(p-u)<=1&&Math.abs(f-i)<=1&&p>u?u=p:(d.lastTickCount=i,d.lastAutoInterval=u),u}},i.inherits(s,o);var l=s;t.exports=l},function(t,e,n){var i=n(5);n(605);var r=i.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(e=t)}),this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=r},function(t,e,n){var i=n(3),r=n(30),o=n(132),a=n(86),s=r.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});i.merge(s.prototype,a);var l={splitNumber:5};function c(t,e){return e.type||(e.data?"category":"value")}o("angle",s,c,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),o("radius",s,c,l)},function(t,e,n){n(204),n(607)},function(t,e,n){var i=n(3),r=n(6),o=n(26),a=n(74),s=n(64),l=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function c(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function h(t){return t.getRadiusAxis().inverse?0:1}function u(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var d=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,o=r.getRadiusAxis().getExtent(),a=n.getTicksCoords(),s=n.getMinorTicksCoords(),c=i.map(n.getViewLabels(),(function(t){return(t=i.clone(t)).coord=n.dataToCoord(t.tickValue),t}));u(c),u(a),i.each(l,(function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,r,a,s,o,c)}),this)}},_axisLine:function(t,e,n,i,o){var a,s=t.getModel("axisLine.lineStyle"),l=h(e),c=l?0:1;(a=0===o[c]?new r.Circle({shape:{cx:e.cx,cy:e.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new r.Ring({shape:{cx:e.cx,cy:e.cy,r:o[l],r0:o[c]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(a)},_axisTick:function(t,e,n,o,a){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),u=a[h(e)],d=i.map(n,(function(t){return new r.Line({shape:c(e,[u,u+l],t.coord)})}));this.group.add(r.mergePath(d,{style:i.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_minorTick:function(t,e,n,o,a){if(o.length){for(var s=t.getModel("axisTick"),l=t.getModel("minorTick"),u=(s.get("inside")?-1:1)*l.get("length"),d=a[h(e)],p=[],f=0;f<o.length;f++)for(var g=0;g<o[f].length;g++)p.push(new r.Line({shape:c(e,[d,d+u],o[f][g].coord)}));this.group.add(r.mergePath(p,{style:i.defaults(l.getModel("lineStyle").getLineStyle(),i.defaults(s.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(t,e,n,a,l,c){var u=t.getCategories(!0),d=t.getModel("axisLabel"),p=d.get("margin"),f=t.get("triggerEvent");i.each(c,(function(n,i){var a=d,c=n.tickValue,g=l[h(e)],m=e.coordToPoint([g+p,n.coord]),v=e.cx,y=e.cy,x=Math.abs(m[0]-v)/g<.3?"center":m[0]>v?"left":"right",b=Math.abs(m[1]-y)/g<.3?"middle":m[1]>y?"top":"bottom";u&&u[c]&&u[c].textStyle&&(a=new o(u[c].textStyle,d,d.ecModel));var w=new r.Text({silent:s.isLabelSilent(t)});this.group.add(w),r.setTextStyle(w.style,a,{x:m[0],y:m[1],textFill:a.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:x,textVerticalAlign:b}),f&&(w.eventData=s.makeAxisEventDataBase(t),w.eventData.targetType="axisLabel",w.eventData.value=n.rawLabel)}),this)},_splitLine:function(t,e,n,o,a){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var u=[],d=0;d<n.length;d++){var p=h++%l.length;u[p]=u[p]||[],u[p].push(new r.Line({shape:c(e,a,n[d].coord)}))}for(d=0;d<u.length;d++)this.group.add(r.mergePath(u[d],{style:i.defaults({stroke:l[d%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},_minorSplitLine:function(t,e,n,i,o){if(i.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<i.length;l++)for(var h=0;h<i[l].length;h++)s.push(new r.Line({shape:c(e,o,i[l][h].coord)}));this.group.add(r.mergePath(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},_splitArea:function(t,e,n,o,a){if(n.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=Math.PI/180,d=-n[0].coord*u,p=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),g=t.get("clockwise"),m=1;m<n.length;m++){var v=c++%l.length;h[v]=h[v]||[],h[v].push(new r.Sector({shape:{cx:e.cx,cy:e.cy,r0:p,r:f,startAngle:d,endAngle:-n[m].coord*u,clockwise:g},silent:!0})),d=-n[m].coord*u}for(m=0;m<h.length;m++)this.group.add(r.mergePath(h[m],{style:i.defaults({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}});t.exports=d},function(t,e,n){n(204),n(609)},function(t,e,n){var i=n(3),r=n(6),o=n(64),a=n(74),s=["axisLine","axisTickLabel","axisName"],l=["splitLine","splitArea","minorSplitLine"],c=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,r=n.polar,a=r.getAngleAxis(),c=n.getTicksCoords(),h=n.getMinorTicksCoords(),u=a.getExtent()[0],d=n.getExtent(),p=function(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}(r,t,u),f=new o(t,p);i.each(s,f.add,f),this.group.add(f.getGroup()),i.each(l,(function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,r,u,d,c,h)}),this)}},_splitLine:function(t,e,n,o,a){var s=t.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=0;u<a.length;u++){var d=c++%l.length;h[d]=h[d]||[],h[d].push(new r.Circle({shape:{cx:e.cx,cy:e.cy,r:a[u].coord}}))}for(u=0;u<h.length;u++)this.group.add(r.mergePath(h[u],{style:i.defaults({stroke:l[u%l.length],fill:null},s.getLineStyle()),silent:!0}))},_minorSplitLine:function(t,e,n,o,a,s){if(s.length){for(var l=t.getModel("minorSplitLine").getModel("lineStyle"),c=[],h=0;h<s.length;h++)for(var u=0;u<s[h].length;u++)c.push(new r.Circle({shape:{cx:e.cx,cy:e.cy,r:s[h][u].coord}}));this.group.add(r.mergePath(c,{style:i.defaults({fill:null},l.getLineStyle()),silent:!0}))}},_splitArea:function(t,e,n,o,a){if(a.length){var s=t.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=a[0].coord,d=1;d<a.length;d++){var p=c++%l.length;h[p]=h[p]||[],h[p].push(new r.Sector({shape:{cx:e.cx,cy:e.cy,r0:u,r:a[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=a[d].coord}for(d=0;d<h.length;d++)this.group.add(r.mergePath(h[d],{style:i.defaults({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}});t.exports=c},function(t,e,n){var i=n(15),r=n(203),o=n(6),a=n(137),s=n(37),l=n(64),c=n(74),h=r.extend({makeElOption:function(t,e,n,r,c){var h=n.axis;"angle"===h.dim&&(this.animationThreshold=Math.PI/18);var d,p=h.polar,f=p.getOtherAxis(h).getExtent();d=h["dataTo"+i.capitalFirst(h.dim)](e);var g=r.get("type");if(g&&"none"!==g){var m=a.buildElStyle(r),v=u[g](h,p,d,f,m);v.style=m,t.graphicKey=v.type,t.pointer=v}var y=function(t,e,n,i,r){var a=e.axis,c=a.dataToCoord(t),h=i.getAngleAxis().getExtent()[0];h=h/180*Math.PI;var u,d,p,f=i.getRadiusAxis().getExtent();if("radius"===a.dim){var g=s.create();s.rotate(g,g,h),s.translate(g,g,[i.cx,i.cy]),u=o.applyTransform([c,-r],g);var m=e.getModel("axisLabel").get("rotate")||0,v=l.innerTextLayout(h,m*Math.PI/180,-1);d=v.textAlign,p=v.textVerticalAlign}else{var y=f[1];u=i.coordToPoint([y+r,c]);var x=i.cx,b=i.cy;d=Math.abs(u[0]-x)/y<.3?"center":u[0]>x?"left":"right",p=Math.abs(u[1]-b)/y<.3?"middle":u[1]>b?"top":"bottom"}return{position:u,align:d,verticalAlign:p}}(e,n,0,p,r.get("label.margin"));a.buildLabelElOption(t,n,r,c,y)}});var u={line:function(t,e,n,i,r){return"angle"===t.dim?{type:"Line",shape:a.makeLineShape(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i,r){var o=Math.max(1,t.getBandWidth()),s=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:a.makeSectorShape(e.cx,e.cy,i[0],i[1],(-n-o/2)*s,(o/2-n)*s)}:{type:"Sector",shape:a.makeSectorShape(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}};c.registerAxisPointerClass("PolarAxisPointer",h);var d=h;t.exports=d},function(t,e,n){var i=n(5),r=n(3);function o(t,e){e.update="updateView",i.registerAction(e,(function(e,n){var i={};return n.eachComponent({mainType:"geo",query:e},(function(n){n[t](e.name);var o=n.coordinateSystem;r.each(o.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1}))})),{selected:i,name:e.name}}))}n(612),n(196),n(613),n(286),o("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),o("select",{type:"geoSelect",event:"geoselected"}),o("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,n){var i=n(3),r=n(11),o=n(30),a=n(26),s=n(193),l=n(196),c=o.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){o.prototype.init.apply(this,arguments),r.defaultEmphasis(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=i.reduce(t.regions||[],(function(t,n){return n.name&&t.set(n.name,new a(n,e)),t}),i.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new a(null,this,this.ecModel)},getFormattedLabel:function(t,e){e=e||"normal";var n=this.getRegionModel(t).get(("normal"===e?"":e+".")+"label.formatter"),i={name:t};return"function"==typeof n?(i.status=e,n(i)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});i.mixin(c,s);var h=c;t.exports=h},function(t,e,n){var i=n(284),r=n(5).extendComponentView({type:"geo",init:function(t,e){var n=new i(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var r=this._mapDraw;t.get("show")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});t.exports=r},function(t,e,n){n(615),n(616),n(617)},function(t,e,n){var i=n(3),r=n(14),o=n(8),a=n(44);function s(t,e,n){this._model=t}function l(t,e,n,i){var r=n.calendarModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem:null;return a===this?a[t](i):null}s.prototype={constructor:s,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=o.parseDate(t)).getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var i=t.getDate();i=i<10?"0"+i:i;var r=t.getDay();return{y:e,m:n,d:i,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+i,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},update:function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.get("cellSize").slice(),s=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[n,7]:[7,n];i.each([0,1],(function(t){u(a,t)&&(s[o[t]]=a[t]*l[t])}));var c={width:e.getWidth(),height:e.getHeight()},h=this._rect=r.getLayoutRect(s,c);function u(t,e){return null!=t[e]&&"auto"!==t[e]}i.each([0,1],(function(t){u(a,t)||(a[t]=h[o[t]]/l[t])})),this._sw=a[0],this._sh=a[1]},dataToPoint:function(t,e){i.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),r=this._rangeInfo,o=n.formatedDate;if(e&&!(n.time>=r.start.time&&n.time<r.end.time+864e5))return[NaN,NaN];var a=n.day,s=this._getRangeInfo([r.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},convertToPixel:i.curry(l,"dataToPoint"),convertFromPixel:i.curry(l,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(i.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),r=n.date;r.setMonth(r.getMonth()+1);var o=this.getNextNDay(r,-1);t=[n.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,i=new Date(t[0].time),r=i.getDate(),o=t[1].date.getDate();i.setDate(r+n-1);var a=i.getDate();if(a!==o)for(var s=i.getTime()-t[1].time>0?1:-1;(a=i.getDate())!==o&&(i.getTime()-t[1].time)*s>0;)n-=s,i.setDate(a-s);var l=Math.floor((n+t[0].day+6)/7),c=e?1-l:l-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:l,nthWeek:c,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return!1;var r=7*(t-1)-i.fweek+e,o=new Date(i.start.time);return o.setDate(i.start.d+r),this.getDateInfo(o)}},s.dimensions=s.prototype.dimensions,s.getDimensionsInfo=s.prototype.getDimensionsInfo,s.create=function(t,e){var n=[];return t.eachComponent("calendar",(function(i){var r=new s(i,t,e);n.push(r),i.coordinateSystem=r})),t.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])})),n},a.register("calendar",s);var c=s;t.exports=c},function(t,e,n){var i=n(3),r=n(30),o=n(14),a=o.getLayoutParams,s=o.sizeCalculable,l=o.mergeLayoutParam,c=r.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,n,i){var r=a(t);c.superApply(this,"init",arguments),h(t,r)},mergeOption:function(t,e){c.superApply(this,"mergeOption",arguments),h(this.option,t)}});function h(t,e){var n=t.cellSize;i.isArray(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var r=i.map([0,1],(function(t){return s(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));l(t,e,{type:"box",ignoreSize:r})}var u=c;t.exports=u},function(t,e,n){var i=n(5),r=n(3),o=n(6),a=n(15),s=n(8),l={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},c={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},h=i.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,o=r.getRangeInfo(),a=r.getOrient();this._renderDayRect(t,o,i),this._renderLines(t,o,a,i),this._renderYearText(t,o,a,i),this._renderMonthText(t,a,i),this._renderWeekText(t,o,a,i)},_renderDayRect:function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),s=i.getCellHeight(),l=e.start.time;l<=e.end.time;l=i.getNextNDay(l,1).time){var c=i.dataToRect([l],!1).tl,h=new o.Rect({shape:{x:c[0],y:c[1],width:a,height:s},cursor:"default",style:r});n.add(h)}},_renderLines:function(t,e,n,i){var r=this,o=t.coordinateSystem,a=t.getModel("splitLine.lineStyle").getLineStyle(),s=t.get("splitLine.show"),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,h=0;c.time<=e.end.time;h++){d(c.formatedDate),0===h&&(c=o.getDateInfo(e.start.y+"-"+e.start.m));var u=c.date;u.setMonth(u.getMonth()+1),c=o.getDateInfo(u)}function d(e){r._firstDayOfMonth.push(o.getDateInfo(e)),r._firstDayPoints.push(o.dataToRect([e],!1).tl);var l=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,a,i)}d(o.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),a,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),a,i)},_getEdgesPoints:function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},_drawSplitline:function(t,e,n){var i=new o.Polyline({z2:20,shape:{points:t},style:e});n.add(i)},_getLinePointsOfOneWeek:function(t,e,n){var i=t.coordinateSystem;e=i.getDateInfo(e);for(var r=[],o=0;o<7;o++){var a=i.getNextNDay(e.time,o),s=i.dataToRect([a.time],!1);r[2*a.day]=s.tl,r[2*a.day+1]=s["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(t,e){return"string"==typeof t&&t?a.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,i,r){e=e.slice();var o=["center","bottom"];"bottom"===i?(e[1]+=r,o=["center","top"]):"left"===i?e[0]-=r:"right"===i?(e[0]+=r,o=["center","top"]):e[1]-=r;var a=0;return"left"!==i&&"right"!==i||(a=Math.PI/2),{rotation:a,position:e,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(t,e,n,i){var r=t.getModel("yearLabel");if(r.get("show")){var a=r.get("margin"),s=r.get("position");s||(s="horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(l[0][0]+l[1][0])/2,h=(l[0][1]+l[1][1])/2,u="horizontal"===n?0:1,d={top:[c,l[u][1]],bottom:[c,l[1-u][1]],left:[l[1-u][0],h],right:[l[u][0],h]},p=e.start.y;+e.end.y>+e.start.y&&(p=p+"-"+e.end.y);var f=r.get("formatter"),g={start:e.start.y,end:e.end.y,nameMap:p},m=this._formatterLabel(f,g),v=new o.Text({z2:30});o.setTextStyle(v.style,r,{text:m}),v.attr(this._yearTextPositionControl(v,d[s],n,s,a)),i.add(v)}},_monthTextPositionControl:function(t,e,n,i,r){var o="left",a="top",s=t[0],l=t[1];return"horizontal"===n?(l+=r,e&&(o="center"),"start"===i&&(a="bottom")):(s+=r,e&&(a="middle"),"start"===i&&(o="right")),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(t,e,n){var i=t.getModel("monthLabel");if(i.get("show")){var a=i.get("nameMap"),s=i.get("margin"),c=i.get("position"),h=i.get("align"),u=[this._tlpoints,this._blpoints];r.isString(a)&&(a=l[a.toUpperCase()]||[]);var d="start"===c?0:1,p="horizontal"===e?0:1;s="start"===c?-s:s;for(var f="center"===h,g=0;g<u[d].length-1;g++){var m=u[d][g].slice(),v=this._firstDayOfMonth[g];if(f){var y=this._firstDayPoints[g];m[p]=(y[p]+u[0][g+1][p])/2}var x=i.get("formatter"),b=a[+v.m-1],w={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:b},C=this._formatterLabel(x,w),_=new o.Text({z2:30});r.extend(o.setTextStyle(_.style,i,{text:C}),this._monthTextPositionControl(m,f,e,c,s)),n.add(_)}}},_weekTextPositionControl:function(t,e,n,i,r){var o="center",a="middle",s=t[0],l=t[1],c="start"===n;return"horizontal"===e?(s=s+i+(c?1:-1)*r[0]/2,o=c?"right":"left"):(l=l+i+(c?1:-1)*r[1]/2,a=c?"bottom":"top"),{x:s,y:l,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(t,e,n,i){var a=t.getModel("dayLabel");if(a.get("show")){var l=t.coordinateSystem,h=a.get("position"),u=a.get("nameMap"),d=a.get("margin"),p=l.getFirstDayOfWeek();r.isString(u)&&(u=c[u.toUpperCase()]||[]);var f=l.getNextNDay(e.end.time,7-e.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];d=s.parsePercent(d,g["horizontal"===n?0:1]),"start"===h&&(f=l.getNextNDay(e.start.time,-(7+e.fweek)).time,d=-d);for(var m=0;m<7;m++){var v,y=l.getNextNDay(f,m),x=l.dataToRect([y.time],!1).center;v=Math.abs((m+p)%7);var b=new o.Text({z2:30});r.extend(o.setTextStyle(b.style,a,{text:u[v]}),this._weekTextPositionControl(x,n,h,d,g)),i.add(b)}}}});t.exports=h},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(11),a=n(6),s=n(14),l=n(8).parsePercent,c={path:null,compoundPath:null,group:a.Group,image:a.Image,text:a.Text};i.registerPreprocessor((function(t){var e=t.graphic;r.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}));var h=i.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,h.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,i=(e?n:t).elements,a=n.elements=e?[]:n.elements,l=[];this._flatten(i,l);var c=o.mappingToExists(a,l);o.makeIdAndName(c);var h=this._elOptionsToUpdate=[];r.each(c,(function(t,e){var n=t.option;n&&(h.push(n),function(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}(t,n),function(t,e,n){var i=r.extend({},n),o=t[e],a=n.$action||"merge";"merge"===a?o?(r.merge(o,i,!0),s.mergeLayoutParam(o,i,{ignoreSize:!0}),s.copyLayoutParams(n,o)):t[e]=i:"replace"===a?t[e]=i:"remove"===a&&o&&(t[e]=null)}(a,e,n),function(t,e){if(!t)return;t.hv=e.hv=[p(e,["left","right"]),p(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(a[e],n))}),this);for(var u=a.length-1;u>=0;u--)null==a[u]?a.splice(u,1):delete a[u].$action},_flatten:function(t,e,n){r.each(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}}),this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function u(t,e,n,i){var r=n.type,o=new(c.hasOwnProperty(r)?c[r]:a.getShapeClass(r))(n);e.add(o),i.set(t,o),o.__ecGraphicId=t}function d(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse((function(t){d(t,e)})),e.removeKey(t.__ecGraphicId),n.remove(t))}function p(t,e){var n;return r.each(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}i.extendComponentView({type:"graphic",init:function(t,e){this._elMap=r.createHashMap(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group;r.each(e,(function(e){var o=e.$action,a=e.id,l=n.get(a),c=e.parentId,h=null!=c?n.get(c):i,p=e.style;"text"===e.type&&p&&(e.hv&&e.hv[1]&&(p.textVerticalAlign=p.textBaseline=null),!p.hasOwnProperty("textFill")&&p.fill&&(p.textFill=p.fill),!p.hasOwnProperty("textStroke")&&p.stroke&&(p.textStroke=p.stroke));var f=function(t){return t=r.extend({},t),r.each(["id","parentId","$action","hv","bounding"].concat(s.LOCATION_PARAMS),(function(e){delete t[e]})),t}(e);o&&"merge"!==o?"replace"===o?(d(l,n),u(a,h,f,n)):"remove"===o&&d(l,n):l?l.attr(f):u(a,h,f,n);var g=n.get(a);g&&(g.__ecGraphicWidthOption=e.width,g.__ecGraphicHeightOption=e.height,function(t,e,n){var i=t.eventData;t.silent||t.ignore||i||(i=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name});i&&(i.info=t.info)}(g,t))}))}},_relocate:function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=e.getWidth(),a=e.getHeight(),c=0;c<n.length;c++){var h=n[c];if((d=r.get(h.id))&&d.isGroup){var u=(p=d.parent)===i;d.__ecGraphicWidth=l(d.__ecGraphicWidthOption,u?o:p.__ecGraphicWidth)||0,d.__ecGraphicHeight=l(d.__ecGraphicHeightOption,u?a:p.__ecGraphicHeight)||0}}for(c=n.length-1;c>=0;c--){var d;h=n[c];if(d=r.get(h.id)){var p,f=(p=d.parent)===i?{width:o,height:a}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight};s.positionElement(d,h,f,null,{hv:h.hv,boundingMode:h.bounding})}}},_clear:function(){var t=this._elMap;t.each((function(e){d(e,t)})),this._elMap=r.createHashMap()},dispose:function(){this._clear()}})},function(t,e,n){n(620),n(621),n(622),n(623),n(624),n(625),n(630)},function(t,e,n){var i=n(5),r=n(3),o=n(65),a=i.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),r.each(this.option.feature,(function(t,e){var n=o.get(e);n&&r.merge(t,n.defaultOption)}))},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),s=a;t.exports=s},function(t,e,n){var i=n(5),r=n(3),o=n(39),a=n(65),s=n(6),l=n(26),c=n(72),h=n(305),u=i.extendComponentView({type:"toolbox",render:function(t,e,n,i){var u=this.group;if(u.removeAll(),t.get("show")){var d=+t.get("itemSize"),p=t.get("feature")||{},f=this._features||(this._features={}),g=[];r.each(p,(function(t,e){g.push(e)})),new c(this._featureNames||[],g).add(m).update(m).remove(r.curry(m,null)).execute(),this._featureNames=g,h.layout(u,t,n),u.add(h.makeBackground(u.getBoundingRect(),t)),u.eachChild((function(t){var e=t.__title,i=t.hoverStyle;if(i&&e){var r=o.getBoundingRect(e,o.makeFont(i)),a=t.position[0]+u.position[0],s=!1;t.position[1]+u.position[1]+d+r.height>n.getHeight()&&(i.textPosition="top",s=!0);var l=s?-5-r.height:d+8;a+r.width/2>n.getWidth()?(i.textPosition=["100%",l],i.textAlign="right"):a-r.width/2<0&&(i.textPosition=[0,l],i.textAlign="left")}}))}function m(o,c){var h,m=g[o],v=g[c],y=p[m],x=new l(y,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===m&&(y.title=i.newTitle),m&&!v){if(function(t){return 0===t.indexOf("my")}(m))h={model:x,onclick:x.option.onclick,featureName:m};else{var b=a.get(m);if(!b)return;h=new b(x,e,n)}f[m]=h}else{if(!(h=f[v]))return;h.model=x,h.ecModel=e,h.api=n}m||!v?x.get("show")&&!h.unusable?(!function(i,o,a){var l=i.getModel("iconStyle"),c=i.getModel("emphasis.iconStyle"),h=o.getIcons?o.getIcons():i.get("icon"),p=i.get("title")||{};if("string"==typeof h){var f=h,g=p;p={},(h={})[a]=f,p[a]=g}var m=i.iconPaths={};r.each(h,(function(a,h){var f=s.createIcon(a,{},{x:-d/2,y:-d/2,width:d,height:d});f.setStyle(l.getItemStyle()),f.hoverStyle=c.getItemStyle(),f.setStyle({text:p[h],textAlign:c.get("textAlign"),textBorderRadius:c.get("textBorderRadius"),textPadding:c.get("textPadding"),textFill:null});var g=t.getModel("tooltip");g&&g.get("show")&&f.attr("tooltip",r.extend({content:p[h],formatter:g.get("formatter",!0)||function(){return p[h]},formatterParams:{componentType:"toolbox",name:h,title:p[h],$vars:["name","title"]},position:g.get("position",!0)||"bottom"},g.option)),s.setHoverStyle(f),t.get("showTitle")&&(f.__title=p[h],f.on("mouseover",(function(){var e=c.getItemStyle(),n="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";f.setStyle({textFill:c.get("textFill")||e.fill||e.stroke||"#000",textBackgroundColor:c.get("textBackgroundColor"),textPosition:c.get("textPosition")||n})})).on("mouseout",(function(){f.setStyle({textFill:null,textBackgroundColor:null})}))),f.trigger(i.get("iconStatus."+h)||"normal"),u.add(f),f.on("click",r.bind(o.onclick,o,e,n,h)),m[h]=f}))}(x,h,m),x.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},h.render&&h.render(x,e,n,i)):h.remove&&h.remove(e,n):h.dispose&&h.dispose(e,n)}},updateView:function(t,e,n,i){r.each(this._features,(function(t){t.updateView&&t.updateView(t.model,e,n,i)}))},remove:function(t,e){r.each(this._features,(function(n){n.remove&&n.remove(t,e)})),this.group.removeAll()},dispose:function(t,e){r.each(this._features,(function(n){n.dispose&&n.dispose(t,e)}))}});t.exports=u},function(t,e,n){var i=n(25),r=n(62),o=n(65),a=r.toolbox.saveAsImage;function s(t){this.model=t}s.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},s.prototype.unusable=!i.canvasSupported,s.prototype.onclick=function(t,e){var n=this.model,r=n.get("name")||t.get("title.0.text")||"echarts",o="svg"===e.getZr().painter.getType()?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||i.browser.ie||i.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),l=s.length,c=new Uint8Array(l);l--;)c[l]=s.charCodeAt(l);var h=new Blob([c]);window.navigator.msSaveOrOpenBlob(h,r+"."+o)}else{var u=n.get("lang"),d='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>';window.open().document.write(d)}else{var p=document.createElement("a");p.download=r+"."+o,p.target="_blank",p.href=a;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});p.dispatchEvent(f)}},o.register("saveAsImage",s);var l=s;t.exports=l},function(t,e,n){var i=n(5),r=n(3),o=n(62),a=n(65),s=o.toolbox.magicType;function l(t){this.model=t}l.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.clone(s.title),option:{},seriesIndex:{}};var c=l.prototype;c.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return r.each(t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n};var h={line:function(t,e,n,i){if("bar"===t)return r.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(t,e,n,i){if("line"===t)return r.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(t,e,n,i){var o="__ec_magicType_stack__"===n.get("stack");if("line"===t||"bar"===t)return i.setIconStatus("stack",o?"normal":"emphasis"),r.merge({id:e,stack:o?"":"__ec_magicType_stack__"},i.get("option.stack")||{},!0)}},u=[["line","bar"],["stack"]];c.onclick=function(t,e,n){var i=this.model,o=i.get("seriesIndex."+n);if(h[n]){var a,l={series:[]};if(r.each(u,(function(t){r.indexOf(t,n)>=0&&r.each(t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},(function(e){var o=e.subType,a=e.id,s=h[n](o,a,e,i);s&&(r.defaults(s,e.option),l.series.push(s));var c=e.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===n||"bar"===n)){var u=c.getAxesByScale("ordinal")[0];if(u){var d=u.dim+"Axis",p=t.queryComponents({mainType:d,index:e.get(name+"Index"),id:e.get(name+"Id")})[0].componentIndex;l[d]=l[d]||[];for(var f=0;f<=p;f++)l[d][p]=l[d][p]||{};l[d][p].boundaryGap="bar"===n}}})),"stack"===n)a=l.series&&l.series[0]&&"__ec_magicType_stack__"===l.series[0].stack?r.merge({stack:s.title.tiled},s.title):r.clone(s.title);e.dispatchAction({type:"changeMagicType",currentType:n,newOption:l,newTitle:a,featureName:"magicType"})}},i.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)})),a.register("magicType",l);var d=l;t.exports=d},function(t,e,n){var i=n(5),r=n(3),o=n(49),a=n(62),s=n(65),l=a.toolbox.dataView,c=new Array(60).join("-");function h(t){return r.map(t,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;a<t-1;a++)i[a]=arguments[a];n.push((o?o+"\t":"")+i.join("\t"))})),n.join("\n")})).join("\n\n"+c+"\n\n")}function u(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var d=new RegExp("[\t]+","g");function p(t,e){var n=t.split(new RegExp("\n*"+c+"\n*","g")),i={series:[]};return r.each(n,(function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf("\t")>=0)return!0}(t)){var o=function(t){for(var e=t.split(/\n+/g),n=u(e.shift()).split(d),i=[],o=r.map(n,(function(t){return{name:t,data:[]}})),a=0;a<e.length;a++){var s=u(e[a]).split(d);i.push(s.shift());for(var l=0;l<s.length;l++)o[l]&&(o[l].data[a]=s[l])}return{series:o,categories:i}}(t),a=e[n],s=a.axisDim+"Axis";a&&(i[s]=i[s]||[],i[s][a.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else{o=function(t){for(var e=t.split(/\n+/g),n=u(e.shift()),i=[],r=0;r<e.length;r++){var o=u(e[r]);if(o){var a,s=o.split(d),l="",c=!1;isNaN(s[0])?(c=!0,l=s[0],s=s.slice(1),i[r]={name:l,value:[]},a=i[r].value):a=i[r]=[];for(var h=0;h<s.length;h++)a.push(+s[h]);1===a.length&&(c?i[r].value=a[0]:i[r]=a[0])}}return{name:n,data:i}}(t);i.series.push(o)}})),i}function f(t){this._dom=null,this.model=t}function g(t,e){return r.map(t,(function(t,n){var i=e&&e[n];if(r.isObject(i)&&!r.isArray(i)){r.isObject(t)&&!r.isArray(t)||(t={value:t});var o=null!=i.name&&null==t.name;return t=r.defaults(t,i),o&&delete t.name,t}return t}))}f.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.clone(l.title),lang:r.clone(l.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},f.prototype.onclick=function(t,e){var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=i.get("textColor");var u=document.createElement("div"),d=document.createElement("textarea");u.style.cssText="display:block;width:100%;overflow:auto;";var f=i.get("optionToContent"),g=i.get("contentToOption"),m=function(t){var e,n,i=function(t){var e={},n=[],i=[];return t.eachRawSeries((function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:i}}(t);return{value:r.filter([(e=i.seriesGroupByCategoryAxis,n=[],r.each(e,(function(t,e){var i=t.categoryAxis,o=t.valueAxis.dim,a=[" "].concat(r.map(t.series,(function(t){return t.name}))),s=[i.model.getCategories()];r.each(t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(o),(function(t){return t})))}));for(var l=[a.join("\t")],c=0;c<s[0].length;c++){for(var h=[],u=0;u<s.length;u++)h.push(s[u][c]);l.push(h.join("\t"))}n.push(l.join("\n"))})),n.join("\n\n"+c+"\n\n")),h(i.other)],(function(t){return t.replace(/[\n\t\s]/g,"")})).join("\n\n"+c+"\n\n"),meta:i.meta}}(t);if("function"==typeof f){var v=f(e.getOption());"string"==typeof v?u.innerHTML=v:r.isDom(v)&&u.appendChild(v)}else u.appendChild(d),d.readOnly=i.get("readOnly"),d.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",d.style.color=i.get("textColor"),d.style.borderColor=i.get("textareaBorderColor"),d.style.backgroundColor=i.get("textareaColor"),d.value=m.value;var y=m.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:0;left:0;right:0;";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),C=document.createElement("div");b+=";background-color:"+i.get("buttonColor"),b+=";color:"+i.get("buttonTextColor");var _=this;function S(){n.removeChild(a),_._dom=null}o.addEventListener(w,"click",S),o.addEventListener(C,"click",(function(){var t;try{t="function"==typeof g?g(u,e.getOption()):p(d.value,y)}catch(t){throw S(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),S()})),w.innerHTML=l[1],C.innerHTML=l[2],C.style.cssText=b,w.style.cssText=b,!i.get("readOnly")&&x.appendChild(C),x.appendChild(w),a.appendChild(s),a.appendChild(u),a.appendChild(x),u.style.height=n.clientHeight-80+"px",n.appendChild(a),this._dom=a},f.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},f.prototype.dispose=function(t,e){this.remove(t,e)},s.register("dataView",f),i.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];r.each(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var o=i.get("data");n.push({name:t.name,data:g(t.data,o)})}else n.push(r.extend({type:"scatter"},t))})),e.mergeOption(r.defaults({series:n},t.newOption))}));var m=f;t.exports=m},function(t,e,n){var i=n(5),r=n(3),o=n(202),a=n(306),s=n(307),l=n(88),c=n(62),h=n(65);n(626);var u=c.toolbox.dataZoom,d=r.each;function p(t,e,n){(this._brushController=new o(n.getZr())).on("brush",r.bind(this._onBrush,this)).mount(),this._isZoomActive}p.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.clone(u.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var f=p.prototype;f.render=function(t,e,n,i){this.model=t,this.ecModel=e,this.api=n,function(t,e,n,i,r){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive);n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var s=new a(m(t.option),e,{include:["grid"]});n._brushController.setPanels(s.makePanelOpts(r,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}))).enableBrush(!!o&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,i,n),function(t,e){t.setIconStatus("back",s.count(e)>1?"emphasis":"normal")}(t,e)},f.onclick=function(t,e,n){g[n].call(this)},f.remove=function(t,e){this._brushController.unmount()},f.dispose=function(t,e){this._brushController.dispose()};var g={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(s.pop(this.ecModel))}};function m(t){var e={};return r.each(["xAxisIndex","yAxisIndex"],(function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(!1===e[n]||"none"===e[n])&&(e[n]=[])})),e}f._onBrush=function(t,e){if(e.isEnd&&t.length){var n={},i=this.ecModel;this._brushController.updateCovers([]),new a(m(this.model.option),i,{include:["grid"]}).matchOutputRanges(t,i,(function(t,e,n){if("cartesian2d"===n.type){var i=t.brushType;"rect"===i?(r("x",n,e[0]),r("y",n,e[1])):r({lineX:"x",lineY:"y"}[i],n,e)}})),s.push(i,n),this._dispatchZoomAction(n)}function r(t,e,r){var o=e.getAxis(t),a=o.model,s=function(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){n.getAxisModel(t,e.componentIndex)&&(i=n)})),i}(t,a,i),c=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(r=l(0,r.slice(),o.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:r[0],endValue:r[1]})}},f._dispatchZoomAction=function(t){var e=[];d(t,(function(t,n){e.push(r.clone(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},h.register("dataZoom",p),i.registerPreprocessor((function(t){if(t){var e=t.dataZoom||(t.dataZoom=[]);r.isArray(e)||(t.dataZoom=e=[e]);var n=t.toolbox;if(n&&(r.isArray(n)&&(n=n[0]),n&&n.feature)){var i=n.feature.dataZoom;o("xAxis",i),o("yAxis",i)}}function o(n,i){if(i){var o=n+"Index",a=i[o];null==a||"all"===a||r.isArray(a)||(a=!1===a||"none"===a?[]:[a]),function(e,n){var i=t[e];r.isArray(i)||(i=i?[i]:[]);d(i,n)}(n,(function(t,s){if(null==a||"all"===a||-1!==r.indexOf(a,s)){var l={type:"select",$fromToolbox:!0,filterMode:i.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+n+s};l[o]=s,e.push(l)}}))}}}));var v=p;t.exports=v},function(t,e,n){n(205),n(89),n(90),n(628),n(629),n(207),n(208)},function(t,e,n){var i=n(3),r=n(8),o=n(206),a=n(88),s=i.each,l=r.asc,c=function(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n};function h(t,e){var n=t.getAxisModel(),i=t._percentWindow,o=t._valueWindow;if(i){var a=r.getPixelPrecision(o,[0,500]);a=Math.min(a,20);var s=e||0===i[0]&&100===i[1];n.setRange(s?null:+o[0].toFixed(a),s?null:+o[1].toFixed(a))}}c.prototype={constructor:c,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries((function(n){if(o.isCoordSupported(n.get("coordinateSystem"))){var i=this._dimName,r=e.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&t.push(n)}}),this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n,i=this._dimName,r=this.ecModel,o=this.getAxisModel();return"x"===i||"y"===i?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle"),r.eachComponent(t+"Axis",(function(t){(t.get(e)||0)===(o.get(e)||0)&&(n=t)})),n},getMinMaxSpan:function(){return i.clone(this._minMaxSpan)},calculateDataWindow:function(t){var e,n=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),c=[0,100],h=[],u=[];s(["start","end"],(function(a,s){var l=t[a],d=t[a+"Value"];"percent"===o[s]?(null==l&&(l=c[s]),d=i.parse(r.linearMap(l,c,n))):(e=!0,d=null==d?n[s]:i.parse(d),l=r.linearMap(d,n,c)),u[s]=d,h[s]=l})),l(u),l(h);var d=this._minMaxSpan;function p(t,e,n,o,s){var l=s?"Span":"ValueSpan";a(0,t,n,"all",d["min"+l],d["max"+l]);for(var c=0;c<2;c++)e[c]=r.linearMap(t[c],n,o,!0),s&&(e[c]=i.parse(e[c]))}return e?p(u,h,n,c,!1):p(h,u,c,n,!0),{valueWindow:u,percentWindow:h}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var i=[1/0,-1/0];s(n,(function(t){var n=t.getData();n&&s(n.mapDimension(e,!0),(function(t){var e=n.getApproximateExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])}))})),i[1]<i[0]&&(i=[NaN,NaN]);return function(t,e){var n=t.getAxisModel(),i=n.getMin(!0),r="category"===n.get("type"),o=r&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?e[0]=i:r&&(e[0]=o>0?0:NaN);var a=n.getMax(!0);null!=a&&"dataMax"!==a&&"function"!=typeof a?e[1]=a:r&&(e[1]=o>0?o-1:NaN);n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,i),i}(this,this._dimName,e),function(t){var e=t._minMaxSpan={},n=t._dataZoomModel,i=t._dataExtent;s(["min","max"],(function(o){var a=n.get(o+"Span"),s=n.get(o+"ValueSpan");null!=s&&(s=t.getAxisModel().axis.scale.parse(s)),null!=s?a=r.linearMap(i[0]+s,i,[0,100],!0):null!=a&&(s=r.linearMap(a,[0,100],i,!0)-i[0]),e[o+"Span"]=a,e[o+"ValueSpan"]=s}))}(this);var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,h(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow;"none"!==r&&s(i,(function(t){var e=t.getData(),i=e.mapDimension(n,!0);i.length&&("weakFilter"===r?e.filterSelf((function(t){for(var n,r,a,s=0;s<i.length;s++){var l=e.get(i[s],t),c=!isNaN(l),h=l<o[0],u=l>o[1];if(c&&!h&&!u)return!0;c&&(a=!0),h&&(n=!0),u&&(r=!0)}return a&&n&&r})):s(i,(function(n){if("empty"===r)t.setData(e=e.map(n,(function(t){return function(t){return t>=o[0]&&t<=o[1]}(t)?t:NaN})));else{var i={};i[n]=o,e.selectRange(i)}})),s(i,(function(t){e.setApproximateExtent(o,t)})))}))}}};var u=c;t.exports=u},function(t,e,n){var i=n(89).extend({type:"dataZoom.select"});t.exports=i},function(t,e,n){var i=n(90).extend({type:"dataZoom.select"});t.exports=i},function(t,e,n){var i=n(5),r=n(307),o=n(62),a=n(65),s=o.toolbox.restore;function l(t){this.model=t}l.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:s.title},l.prototype.onclick=function(t,e,n){r.clear(t),e.dispatchAction({type:"restore",from:this.uid})},a.register("restore",l),i.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var c=l;t.exports=c},function(t,e,n){var i=n(5);n(115),n(632),n(633),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},function(t,e,n){var i=n(5).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=i},function(t,e,n){var i=n(5),r=n(3),o=n(25),a=n(634),s=n(635),l=n(15),c=n(8),h=n(6),u=n(302),d=n(14),p=n(26),f=n(303),g=n(45),m=n(137),v=n(11).getTooltipRenderMode,y=r.bind,x=r.each,b=c.parsePercent,w=new h.Rect({shape:{x:-1,y:-1,width:2,height:2}}),C=i.extendComponentView({type:"tooltip",init:function(t,e){if(!o.node){var n,i=t.getComponent("tooltip"),r=i.get("renderMode");this._renderMode=v(r),"html"===this._renderMode?(n=new a(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new s(e),this._newLine="\n"),this._tooltipContent=n}},render:function(t,e,n){if(!o.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");f.register("itemTooltip",this._api,y((function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY})}))}},manuallyShowTip:function(t,e,n,i){if(i.from!==this.uid&&!o.node){var r=S(i,n);this._ticket="";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=w;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},r)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var l=u(i,e),c=l.point[0],h=l.point[1];null!=c&&null!=h&&this._tryShow({offsetX:c,offsetY:h,position:i.position,target:l.el},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},manuallyHideTip:function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(S(i,n))},_manuallyAxisShowTip:function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s)if("axis"===(t=_([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=r.bind(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,i=this._tooltipModel,o=[e.offsetX,e.offsetY],a=[],s=[],c=_([e.tooltipOption,i]),h=this._renderMode,u=this._newLine,d={};x(t,(function(t){x(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value,o=[];if(e&&null!=i){var c=m.getValueLabel(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);r.each(t.seriesDataIndices,(function(a){var l=n.getSeriesByIndex(a.seriesIndex),u=a.dataIndexInside,p=l&&l.getDataParams(u);if(p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=g.getAxisRawValue(e.axis,i),p.axisValueLabel=c,p){s.push(p);var f,m=l.formatTooltip(u,!0,null,h);if(r.isObject(m)){f=m.html;var v=m.markers;r.merge(d,v)}else f=m;o.push(f)}}));var p=c;"html"!==h?a.push(o.join(u)):a.push((p?l.encodeHTML(p)+u:"")+o.join(u))}}))}),this),a.reverse(),a=a.join(this._newLine+this._newLine);var p=e.position;this._showOrMove(c,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(c,p,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(c,a,s,Math.random(),o[0],o[1],p,void 0,d)}))},_showSeriesItemTooltip:function(t,e,n){var i=this._ecModel,o=e.seriesIndex,a=i.getSeriesByIndex(o),s=e.dataModel||a,l=e.dataIndex,c=e.dataType,h=s.getData(c),u=_([h.getItemModel(l),s,a&&(a.coordinateSystem||{}).model,this._tooltipModel]),d=u.get("trigger");if(null==d||"item"===d){var p,f,g=s.getDataParams(l,c),m=s.formatTooltip(l,!1,c,this._renderMode);r.isObject(m)?(p=m.html,f=m.markers):(p=m,f=null);var v="item_"+s.name+"_"+l;this._showOrMove(u,(function(){this._showTooltipContent(u,p,g,v,t.offsetX,t.offsetY,t.position,t.target,f)})),n({type:"showTip",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var i=e.tooltip;if("string"==typeof i){i={content:i,formatter:i}}var r=new p(i,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random();this._showOrMove(r,(function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)})),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,i,r,o,a,s,c){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent,u=t.get("formatter");a=a||t.get("position");var d=e;if(u&&"string"==typeof u)d=l.formatTpl(u,n,!0);else if("function"==typeof u){var p=y((function(e,i){e===this._ticket&&(h.setContent(i,c,t),this._updatePosition(t,a,r,o,h,n,s))}),this);this._ticket=i,d=u(n,i,p)}h.setContent(d,c,t),h.show(t),this._updatePosition(t,a,r,o,h,n,s)}},_updatePosition:function(t,e,n,i,o,a,s){var l=this._api.getWidth(),c=this._api.getHeight();e=e||t.get("position");var h=o.getSize(),u=t.get("align"),p=t.get("verticalAlign"),f=s&&s.getBoundingRect().clone();if(s&&f.applyTransform(s.transform),"function"==typeof e&&(e=e([n,i],a,o.el,f,{viewSize:[l,c],contentSize:h.slice()})),r.isArray(e))n=b(e[0],l),i=b(e[1],c);else if(r.isObject(e)){e.width=h[0],e.height=h[1];var g=d.getLayoutRect(e,{width:l,height:c});n=g.x,i=g.y,u=null,p=null}else if("string"==typeof e&&s){var m=function(t,e,n){var i=n[0],r=n[1],o=0,a=0,s=e.width,l=e.height;switch(t){case"inside":o=e.x+s/2-i/2,a=e.y+l/2-r/2;break;case"top":o=e.x+s/2-i/2,a=e.y-r-5;break;case"bottom":o=e.x+s/2-i/2,a=e.y+l+5;break;case"left":o=e.x-i-5,a=e.y+l/2-r/2;break;case"right":o=e.x+s+5,a=e.y+l/2-r/2}return[o,a]}(e,f,h);n=m[0],i=m[1]}else{m=function(t,e,n,i,r,o,a){var s=n.getOuterSize(),l=s.width,c=s.height;null!=o&&(t+l+o>i?t-=l+o:t+=o);null!=a&&(e+c+a>r?e-=c+a:e+=a);return[t,e]}(n,i,o,l,c,u?null:20,p?null:20);n=m[0],i=m[1]}if(u&&(n-=O(u)?h[0]/2:"right"===u?h[0]:0),p&&(i-=O(p)?h[1]/2:"bottom"===p?h[1]:0),t.get("confine")){m=function(t,e,n,i,r){var o=n.getOuterSize(),a=o.width,s=o.height;return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(n,i,o,l,c);n=m[0],i=m[1]}o.moveTo(n,i)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&x(e,(function(e,i){var r=e.dataByAxis||{},o=(t[i]||{}).dataByAxis||[];(n&=r.length===o.length)&&x(r,(function(t,e){var i=o[e]||{},r=t.seriesDataIndices||[],a=i.seriesDataIndices||[];(n&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&r.length===a.length)&&x(r,(function(t,e){var i=a[e];n&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){o.node||(this._tooltipContent.dispose(),f.unregister("itemTooltip",e))}});function _(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(p.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new p(n,e,e.ecModel))}return e}function S(t,e){return t.dispatchAction||r.bind(e.dispatchAction,e)}function O(t){return"center"===t||"middle"===t}t.exports=C},function(t,e,n){var i=n(3),r=n(50),o=n(49),a=n(242),s=n(25),l=n(15),c=i.each,h=l.toCamelCase,u=["","-webkit-","-moz-","-o-"];function d(t){var e,n,o=[],a=t.get("transitionDuration"),d=t.get("backgroundColor"),p=t.getModel("textStyle"),f=t.get("padding");return a&&o.push((n="left "+(e=a)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)",i.map(u,(function(t){return t+"transition:"+n})).join(";"))),d&&(s.canvasSupported?o.push("background-Color:"+d):(o.push("background-Color:#"+r.toHex(d)),o.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],(function(e){var n="border-"+e,i=h(n),r=t.get(i);null!=r&&o.push(n+":"+r+("color"===e?"":"px"))})),o.push(function(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont());var r=t.get("lineHeight");null==r&&(r=Math.round(3*n/2)),n&&e.push("line-height:"+r+"px");var o=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return a&&e.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),c(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}(p)),null!=f&&o.push("padding:"+l.normalizeCssArray(f).join("px ")+"px"),o.join(";")+";"}function p(t,e,n,i,r){var o=e&&e.painter;if(n){var s=o&&o.getViewportRoot();s&&a.transformLocalCoord(t,s,document.body,i,r)}else{t[0]=i,t[1]=r;var l=o&&o.getViewportRootOffset();l&&(t[0]+=l.offsetLeft,t[1]+=l.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function f(t,e,n){if(s.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],p(this._styleCoord,r,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(i):t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var l=this;i.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!l._enterable){var e=r.handler,n=r.painter.getViewportRoot();o.normalizeEvent(n,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}f.prototype={constructor:f,_enterable:!0,update:function(t){var e=this._container,n=e.currentStyle||document.defaultView.getComputedStyle(e),i=e.style;"absolute"!==i.position&&"absolute"!==n.position&&(i.position="relative"),t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],n=t*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(n,i)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,n=this._styleCoord;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+d(t)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n=this._styleCoord;p(n,this._zr,this._appendToBody,t,e);var i=this.el.style;i.left=n[0]+"px",i.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(i.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}}};var g=f;t.exports=g},function(t,e,n){var i=n(3),r=n(70),o=n(6);function a(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function s(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],a(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1,this._hideTimeout}s.prototype={constructor:s,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],n=t*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(n,i)},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);for(var i={},a=t,s=a.indexOf("{marker");s>=0;){var l=a.indexOf("|}"),c=a.substr(s+"{marker".length,l-s-"{marker".length);c.indexOf("sub")>-1?i["marker"+c]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[c],textOffset:[3,0]}:i["marker"+c]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[c]},s=(a=a.substr(l+1)).indexOf("{marker")}var h=n.getModel("textStyle"),u=h.get("fontSize"),d=n.get("textLineHeight");null==d&&(d=Math.round(3*u/2)),this.el=new r({style:o.setTextStyle({},h,{rich:i,text:t,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:d}),z:n.get("z")}),this._zr.add(this.el);var p=this;this.el.on("mouseover",(function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0})),this.el.on("mouseout",(function(){p._enterable&&p._show&&p.hideLater(p._hideDelay),p._inContent=!1}))},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){if(this.el){var n=this._styleCoord;a(n,this._zr,t,e),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(i.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var l=s;t.exports=l},function(t,e,n){var i=n(5),r=n(637);n(308),n(639),n(640),n(641),n(642),i.registerPreprocessor(r)},function(t,e,n){var i=n(3),r=["rect","polygon","keep","clear"];t.exports=function(t,e){var n=t&&t.brush;if(i.isArray(n)||(n=n?[n]:[]),n.length){var o=[];i.each(n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(o=o.concat(e))}));var a=t&&t.toolbox;i.isArray(a)&&(a=a[0]),a||(a={feature:{}},t.toolbox=[a]);var s,l,c=a.feature||(a.feature={}),h=c.brush||(c.brush={}),u=h.type||(h.type=[]);u.push.apply(u,o),s=u,l={},i.each(s,(function(t){l[t]=1})),s.length=0,i.each(l,(function(t,e){s.push(e)})),e&&!u.length&&u.push.apply(u,r)}}},function(t,e,n){var i=n(274),r=n(20),o=n(6).linePolygonIntersect;function a(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var r=i.range;return s(e[t],r)}},rect:function(i,r,o){if(i){var a=o.range,l=[i[e[t]],i[e[t]]+i[n[t]]];return l[1]<l[0]&&l.reverse(),s(l[0],a)||s(l[1],a)||s(a[0],l)||s(a[1],l)}}}}function s(t,e){return e[0]<=t&&t<=e[1]}var l={lineX:a(0),lineY:a(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&i.contain(n.range,t[0],t[1])},rect:function(t,e,n){var a=n.range;if(!t||a.length<=1)return!1;var s=t.x,l=t.y,c=t.width,h=t.height,u=a[0];return!!(i.contain(a,s,l)||i.contain(a,s+c,l)||i.contain(a,s,l+h)||i.contain(a,s+c,l+h)||r.create(t).contain(u[0],u[1])||o(s,l,s+c,l,a)||o(s,l,s,l+h,a)||o(s+c,l,s+c,l+h,a)||o(s,l+h,s+c,l+h,a))||void 0}}};t.exports=l},function(t,e,n){n(12).__DEV__;var i=n(5),r=n(3),o=n(138),a=n(26),s=["#ddd"];function l(t,e){return r.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new a(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var c=i.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&o.replaceVisualOption(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:s},i.hasOwnProperty("liftZ")||(i.liftZ=5)},setAreas:function(t){t&&(this.areas=r.map(t,(function(t){return l(this.option,t)}),this))},setBrushOption:function(t){this.brushOption=l(this.option,t),this.brushType=this.brushOption.brushType}});t.exports=c},function(t,e,n){var i=n(5),r=n(3),o=n(202),a=n(308).layoutCovers,s=i.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new o(e.getZr())).on("brush",r.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,l.apply(this,arguments)},updateTransform:function(t,e){return a(e),l.apply(this,arguments)},updateView:l,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:r.clone(t),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:r.clone(t),$from:n})}});function l(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}t.exports=s},function(t,e,n){var i=n(5);i.registerAction({type:"brush",event:"brush"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},(function(){})),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},(function(){}))},function(t,e,n){var i=n(3),r=n(65),o=n(62).toolbox.brush;function a(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}a.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:i.clone(o.title)};var s=a.prototype;s.render=s.updateView=function(t,e,n){var r,o,a;e.eachComponent({mainType:"brush"},(function(t){r=t.brushType,o=t.brushOption.brushMode||"single",a|=t.areas.length})),this._brushType=r,this._brushMode=o,i.each(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?a:e===r)?"emphasis":"normal")}))},s.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return i.each(t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},s.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},r.register("brush",a);var l=a;t.exports=l},function(t,e,n){var i=n(3),r=n(5),o=n(6),a=n(14).getLayoutRect,s=n(15).windowOpen;r.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),r.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,l=t.getModel("textStyle"),c=t.getModel("subtextStyle"),h=t.get("textAlign"),u=i.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),d=new o.Text({style:o.setTextStyle({},l,{text:t.get("text"),textFill:l.getTextColor()},{disableBox:!0}),z2:10}),p=d.getBoundingRect(),f=t.get("subtext"),g=new o.Text({style:o.setTextStyle({},c,{text:f,textFill:c.getTextColor(),y:p.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=t.get("link"),v=t.get("sublink"),y=t.get("triggerEvent",!0);d.silent=!m&&!y,g.silent=!v&&!y,m&&d.on("click",(function(){s(m,"_"+t.get("target"))})),v&&g.on("click",(function(){s(v,"_"+t.get("subtarget"))})),d.eventData=g.eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(d),f&&r.add(g);var x=r.getBoundingRect(),b=t.getBoxLayoutParams();b.width=x.width,b.height=x.height;var w=a(b,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));h||("middle"===(h=t.get("left")||t.get("right"))&&(h="center"),"right"===h?w.x+=w.width:"center"===h&&(w.x+=w.width/2)),u||("center"===(u=t.get("top")||t.get("bottom"))&&(u="middle"),"bottom"===u?w.y+=w.height:"middle"===u&&(w.y+=w.height/2),u=u||"top"),r.attr("position",[w.x,w.y]);var C={textAlign:h,textVerticalAlign:u};d.setStyle(C),g.setStyle(C),x=r.getBoundingRect();var _=w.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var O=new o.Rect({shape:{x:x.x-_[3],y:x.y-_[0],width:x.width+_[1]+_[3],height:x.height+_[0]+_[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});r.add(O)}}})},function(t,e,n){var i=n(5),r=n(645);n(646),n(647),n(648),n(650),i.registerPreprocessor(r)},function(t,e,n){var i=n(3);function r(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},a=r.normal||(r.normal={}),s={normal:1,emphasis:1};i.each(r,(function(t,e){s[e]||o(a,e)||(a[e]=t)})),n.label&&!o(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function o(t,e){return t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.timeline;i.isArray(e)||(e=e?[e]:[]),i.each(e,(function(t){t&&function(t){var e=t.type,n={number:"value",time:"time"};n[e]&&(t.axisType=n[e],delete t.type);if(r(t),o(t,"controlPosition")){var a=t.controlStyle||(t.controlStyle={});o(a,"position")||(a.position=t.controlPosition),"none"!==a.position||o(a,"show")||(a.show=!1,delete a.position),delete t.controlPosition}i.each(t.data||[],(function(t){i.isObject(t)&&!i.isArray(t)&&(!o(t,"value")&&o(t,"name")&&(t.value=t.name),r(t))}))}(t)}))}},function(t,e,n){n(30).registerSubTypeDefaulter("timeline",(function(){return"slider"}))},function(t,e,n){var i=n(5),r=n(3);i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),r.defaults({currentIndex:n.option.currentIndex},t)})),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))},function(t,e,n){var i=n(3),r=n(649),o=n(187),a=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});i.mixin(a,o);var s=a;t.exports=s},function(t,e,n){var i=n(3),r=n(30),o=n(42),a=n(11),s=r.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,r=this._names=[];if("category"===n){var s=[];i.each(e,(function(t,e){var n,o=a.getDataItemValue(t);i.isObject(t)?(n=i.clone(t)).value=e:n=e,s.push(n),i.isString(o)||null!=o&&!isNaN(o)||(o=""),r.push(o+"")})),e=s}var l={category:"ordinal",time:"time"}[n]||"number";(this._data=new o([{name:"value",type:l}],this)).initData(e,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),l=s;t.exports=l},function(t,e,n){var i=n(3),r=n(20),o=n(37),a=n(6),s=n(14),l=n(651),c=n(652),h=n(40).createSymbol,u=n(45),d=n(8),p=n(15).encodeHTML,f=i.bind,g=i.each,m=Math.PI,v=l.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n,i){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var r=this._layout(t,n),o=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(r,t);t.formatTooltip=function(t){return p(s.scale.getLabel(t))},g(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](r,o,s,t)}),this),this._renderAxisLabel(r,a,s,t),this._position(r,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.position"),i=t.get("orient"),r=function(t,e){return s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}(t,e);null==n||"auto"===n?n="horizontal"===i?r.y+r.height/2<e.getHeight()/2?"-":"+":r.x+r.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var o,a,l,c,h={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},u={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},d={horizontal:0,vertical:m/2},p="vertical"===i?r.height:r.width,f=t.getModel("controlStyle"),g=f.get("show",!0),v=g?f.get("itemSize"):0,y=g?f.get("itemGap"):0,x=v+y,b=t.get("label.rotate")||0;b=b*m/180;var w=f.get("position",!0),C=g&&f.get("showPlayBtn",!0),_=g&&f.get("showPrevBtn",!0),S=g&&f.get("showNextBtn",!0),O=0,M=p;return"left"===w||"bottom"===w?(C&&(o=[0,0],O+=x),_&&(a=[O,0],O+=x),S&&(l=[M-v,0],M-=x)):(C&&(o=[M-v,0],M-=x),_&&(a=[0,0],O+=x),S&&(l=[M-v,0],M-=x)),c=[O,M],t.get("inverse")&&c.reverse(),{viewRect:r,mainLength:p,orient:i,rotation:d[i],labelRotation:b,labelPosOpt:n,labelAlign:t.get("label.align")||h[i],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||u[i],playPosition:o,prevBtnPosition:a,nextBtnPosition:l,axisExtent:c,controlSize:v,controlGap:y}},_position:function(t,e){var n=this._mainGroup,i=this._labelGroup,r=t.viewRect;if("vertical"===t.orient){var a=o.create(),s=r.x,l=r.y+r.height;o.translate(a,a,[-s,-l]),o.rotate(a,a,-m/2),o.translate(a,a,[s,l]),(r=r.clone()).applyTransform(a)}var c=y(r),h=y(n.getBoundingRect()),u=y(i.getBoundingRect()),d=n.position,p=i.position;p[0]=d[0]=c[0][0];var f,g=t.labelPosOpt;isNaN(g)?(x(d,h,c,1,f="+"===g?0:1),x(p,u,c,1,1-f)):(x(d,h,c,1,f=g>=0?0:1),p[1]=d[1]+g);function v(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function y(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function x(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}n.attr("position",d),i.attr("position",p),n.rotation=i.rotation=t.rotation,v(n),v(i)},_createAxis:function(t,e){var n=e.getData(),i=e.get("axisType"),r=u.createScaleByModel(e,i);r.getTicks=function(){return n.mapArray(["value"],(function(t){return t}))};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.niceTicks();var a=new c("value",r,t.axisExtent,i);return a.model=e,a},_createGroup:function(t){var e=this["_"+t]=new a.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,r){var o=n.getExtent();r.get("lineStyle.show")&&e.add(new a.Line({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:i.extend({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,i){var r=i.getData(),o=n.scale.getTicks();g(o,(function(t){var o=n.dataToCoord(t),s=r.getItemModel(t),l=s.getModel("itemStyle"),c=s.getModel("emphasis.itemStyle"),h={position:[o,0],onclick:f(this._changeTimeline,this,t)},u=y(s,l,e,h);a.setHoverStyle(u,c.getItemStyle()),s.get("tooltip")?(u.dataIndex=t,u.dataModel=i):u.dataIndex=u.dataModel=null}),this)},_renderAxisLabel:function(t,e,n,i){if(n.getLabelModel().get("show")){var r=i.getData(),o=n.getViewLabels();g(o,(function(i){var o=i.tickValue,s=r.getItemModel(o),l=s.getModel("label"),c=s.getModel("emphasis.label"),h=n.dataToCoord(i.tickValue),u=new a.Text({position:[h,0],rotation:t.labelRotation-t.rotation,onclick:f(this._changeTimeline,this,o),silent:!1});a.setTextStyle(u.style,l,{text:i.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(u),a.setHoverStyle(u,a.setTextStyle({},c))}),this)}},_renderControl:function(t,e,n,i){var o=t.controlSize,s=t.rotation,l=i.getModel("controlStyle").getItemStyle(),c=i.getModel("emphasis.controlStyle").getItemStyle(),h=[0,-o/2,o,o],u=i.getPlayState(),d=i.get("inverse",!0);function p(t,n,u,d){if(t){var p=function(t,e,n,i){var o=i.style,s=a.createIcon(t.get(e),i||{},new r(n[0],n[1],n[2],n[3]));o&&s.setStyle(o);return s}(i,n,h,{position:t,origin:[o/2,0],rotation:d?-s:0,rectHover:!0,style:l,onclick:u});e.add(p),a.setHoverStyle(p,c)}}p(t.nextBtnPosition,"controlStyle.nextIcon",f(this._changeTimeline,this,d?"-":"+")),p(t.prevBtnPosition,"controlStyle.prevIcon",f(this._changeTimeline,this,d?"+":"-")),p(t.playPosition,"controlStyle."+(u?"stopIcon":"playIcon"),f(this._handlePlayClick,this,!u),!0)},_renderCurrentPointer:function(t,e,n,i){var r=i.getData(),o=i.getCurrentIndex(),a=r.getItemModel(o).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=f(s._handlePointerDrag,s),t.ondragend=f(s._handlePointerDragend,s),x(t,o,n,i,!0)},onUpdate:function(t){x(t,o,n,i)}};this._currentPointer=y(a,a,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,r=d.asc(i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(f((function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return a.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);s<i&&(i=s,e=o)})),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}});function y(t,e,n,r,o,a){var s=e.get("color");if(o)o.setColor(s),n.add(o),a&&a.onUpdate(o);else{var l=t.get("symbol");(o=h(l,-1,-1,2,2,s)).setStyle("strokeNoScale",!0),n.add(o),a&&a.onCreate(o)}var c=e.getItemStyle(["color","symbol","symbolSize"]);o.setStyle(c),r=i.merge({rectHover:!0,z2:100},r,!0);var u=t.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,r.scale=u;var p=t.get("symbolOffset");if(p){var f=r.position=r.position||[0,0];f[0]+=d.parsePercent(p[0],u[0]),f[1]+=d.parsePercent(p[1],u[1])}var g=t.get("symbolRotate");return r.rotation=(g||0)*Math.PI/180||0,o.attr(r),o.updateTransform(),o}function x(t,e,n,i,r){if(!t.dragging){var o=i.getModel("checkpointStyle"),a=n.dataToCoord(i.getData().get(["value"],e));r||!o.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}t.exports=v},function(t,e,n){var i=n(127).extend({type:"timeline"});t.exports=i},function(t,e,n){var i=n(3),r=n(63),o=function(t,e,n,i){r.call(this,t,e,n),this.type=i||"value",this.model=null};o.prototype={constructor:o,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},i.inherits(o,r);var a=o;t.exports=a},function(t,e,n){var i=n(5);n(654),n(655),i.registerPreprocessor((function(t){t.markPoint=t.markPoint||{}}))},function(t,e,n){var i=n(209).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});t.exports=i},function(t,e,n){var i=n(3),r=n(107),o=n(8),a=n(42),s=n(210);function l(t,e,n){var i=e.coordinateSystem;t.each((function(r){var a,s=t.getItemModel(r),l=o.parsePercent(s.get("x"),n.getWidth()),c=o.parsePercent(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(c)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var h=t.get(i.dimensions[0],r),u=t.get(i.dimensions[1],r);a=i.dataToPoint([h,u])}}else a=[l,c];isNaN(l)||(a[0]=l),isNaN(c)||(a[1]=c),t.setItemLayout(r,a)}))}var c=n(211).extend({type:"markPoint",updateTransform:function(t,e,n){e.eachSeries((function(t){var e=t.markPointModel;e&&(l(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))}),this)},renderSeries:function(t,e,n,o){var c=t.coordinateSystem,h=t.id,u=t.getData(),d=this.markerGroupMap,p=d.get(h)||d.set(h,new r),f=function(t,e,n){var r;r=t?i.map(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return i.defaults({name:t},n)})):[{name:"value",type:"float"}];var o=new a(r,n),l=i.map(n.get("data"),i.curry(s.dataTransform,e));t&&(l=i.filter(l,i.curry(s.dataFilter,t)));return o.initData(l,null,t?s.dimValueGetter:function(t){return t.value}),o}(c,t,e);e.setData(f),l(e.getData(),t,o),f.each((function(t){var n=f.getItemModel(t),r=n.getShallow("symbol"),o=n.getShallow("symbolSize"),a=n.getShallow("symbolRotate"),s=i.isFunction(r),l=i.isFunction(o),c=i.isFunction(a);if(s||l||c){var h=e.getRawValue(t),d=e.getDataParams(t);s&&(r=r(h,d)),l&&(o=o(h,d)),c&&(a=a(h,d))}f.setItemVisual(t,{symbol:r,symbolSize:o,symbolRotate:a,color:n.get("itemStyle.color")||u.getVisual("color")})})),p.updateData(f),this.group.add(p.group),f.eachItemGraphicEl((function(t){t.traverse((function(t){t.dataModel=e}))})),p.__keep=!0,p.group.silent=e.get("silent")||t.get("silent")}});t.exports=c},function(t,e,n){var i=n(5);n(657),n(658),i.registerPreprocessor((function(t){t.markLine=t.markLine||{}}))},function(t,e,n){var i=n(209).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});t.exports=i},function(t,e,n){var i=n(3),r=n(42),o=n(8),a=n(210),s=n(199),l=n(211),c=n(52).getStackedDimension,h=function(t,e,n,r){var o=t.getData(),s=r.type;if(!i.isArray(r)&&("min"===s||"max"===s||"average"===s||"median"===s||null!=r.xAxis||null!=r.yAxis)){var l,h;if(null!=r.yAxis||null!=r.xAxis)l=e.getAxis(null!=r.yAxis?"y":"x"),h=i.retrieve(r.yAxis,r.xAxis);else{var u=a.getAxisInfo(r,o,e,t);l=u.valueAxis;var d=c(o,u.valueDataDim);h=a.numCalculate(o,d,s)}var p="x"===l.dim?0:1,f=1-p,g=i.clone(r),m={};g.type=null,g.coord=[],m.coord=[],g.coord[f]=-1/0,m.coord[f]=1/0;var v=n.get("precision");v>=0&&"number"==typeof h&&(h=+h.toFixed(Math.min(v,20))),g.coord[p]=m.coord[p]=h,r=[g,m,{type:s,valueIndex:r.valueIndex,value:h}]}return(r=[a.dataTransform(t,r[0]),a.dataTransform(t,r[1]),i.extend({},r[2])])[2].type=r[2].type||"",i.merge(r[2],r[0]),i.merge(r[2],r[1]),r};function u(t){return!isNaN(t)&&!isFinite(t)}function d(t,e,n,i){var r=1-t,o=i.dimensions[t];return u(e[r])&&u(n[r])&&e[t]===n[t]&&i.getAxis(o).containData(e[t])}function p(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(d(1,n,i,t)||d(0,n,i,t)))return!0}return a.dataFilter(t,e[0])&&a.dataFilter(t,e[1])}function f(t,e,n,i,r){var a,s=i.coordinateSystem,l=t.getItemModel(e),c=o.parsePercent(l.get("x"),r.getWidth()),h=o.parsePercent(l.get("y"),r.getHeight());if(isNaN(c)||isNaN(h)){if(i.getMarkerPosition)a=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var d=s.dimensions,p=t.get(d[0],e),f=t.get(d[1],e);a=s.dataToPoint([p,f])}if("cartesian2d"===s.type){var g=s.getAxis("x"),m=s.getAxis("y");d=s.dimensions;u(t.get(d[0],e))?a[0]=g.toGlobalCoord(g.getExtent()[n?0:1]):u(t.get(d[1],e))&&(a[1]=m.toGlobalCoord(m.getExtent()[n?0:1]))}isNaN(c)||(a[0]=c),isNaN(h)||(a[1]=h)}else a=[c,h];t.setItemLayout(e,a)}var g=l.extend({type:"markLine",updateTransform:function(t,e,n){e.eachSeries((function(t){var e=t.markLineModel;if(e){var i=e.getData(),r=e.__from,o=e.__to;r.each((function(e){f(r,e,!0,t,n),f(o,e,!1,t,n)})),i.each((function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},renderSeries:function(t,e,n,o){var l=t.coordinateSystem,c=t.id,u=t.getData(),d=this.markerGroupMap,g=d.get(c)||d.set(c,new s);this.group.add(g.group);var m=function(t,e,n){var o;o=t?i.map(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return i.defaults({name:t},n)})):[{name:"value",type:"float"}];var s=new r(o,n),l=new r(o,n),c=new r([],n),u=i.map(n.get("data"),i.curry(h,e,t,n));t&&(u=i.filter(u,i.curry(p,t)));var d=t?a.dimValueGetter:function(t){return t.value};return s.initData(i.map(u,(function(t){return t[0]})),null,d),l.initData(i.map(u,(function(t){return t[1]})),null,d),c.initData(i.map(u,(function(t){return t[2]}))),c.hasItemOption=!0,{from:s,to:l,line:c}}(l,t,e),v=m.from,y=m.to,x=m.line;e.__from=v,e.__to=y,e.setData(x);var b=e.get("symbol"),w=e.get("symbolSize");function C(e,n,i){var r=e.getItemModel(n);f(e,n,i,t,o),e.setItemVisual(n,{symbolRotate:r.get("symbolRotate"),symbolSize:r.get("symbolSize")||w[i?0:1],symbol:r.get("symbol",!0)||b[i?0:1],color:r.get("itemStyle.color")||u.getVisual("color")})}i.isArray(b)||(b=[b,b]),"number"==typeof w&&(w=[w,w]),m.from.each((function(t){C(v,t,!0),C(y,t,!1)})),x.each((function(t){var e=x.getItemModel(t).get("lineStyle.color");x.setItemVisual(t,{color:e||v.getItemVisual(t,"color")}),x.setItemLayout(t,[v.getItemLayout(t),y.getItemLayout(t)]),x.setItemVisual(t,{fromSymbolRotate:v.getItemVisual(t,"symbolRotate"),fromSymbolSize:v.getItemVisual(t,"symbolSize"),fromSymbol:v.getItemVisual(t,"symbol"),toSymbolRotate:y.getItemVisual(t,"symbolRotate"),toSymbolSize:y.getItemVisual(t,"symbolSize"),toSymbol:y.getItemVisual(t,"symbol")})})),g.updateData(x),m.line.eachItemGraphicEl((function(t,n){t.traverse((function(t){t.dataModel=e}))})),g.__keep=!0,g.group.silent=e.get("silent")||t.get("silent")}});t.exports=g},function(t,e,n){var i=n(5);n(660),n(661),i.registerPreprocessor((function(t){t.markArea=t.markArea||{}}))},function(t,e,n){var i=n(209).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});t.exports=i},function(t,e,n){var i=n(3),r=n(50),o=n(42),a=n(8),s=n(6),l=n(210),c=n(211),h=function(t,e,n,r){var o=l.dataTransform(t,r[0]),a=l.dataTransform(t,r[1]),s=i.retrieve,c=o.coord,h=a.coord;c[0]=s(c[0],-1/0),c[1]=s(c[1],-1/0),h[0]=s(h[0],1/0),h[1]=s(h[1],1/0);var u=i.mergeAll([{},o,a]);return u.coord=[o.coord,a.coord],u.x0=o.x,u.y0=o.y,u.x1=a.x,u.y1=a.y,u};function u(t){return!isNaN(t)&&!isFinite(t)}function d(t,e,n,i){var r=1-t;return u(e[r])&&u(n[r])}function p(t,e){var n=e.coord[0],i=e.coord[1];return!("cartesian2d"!==t.type||!n||!i||!d(1,n,i)&&!d(0,n,i))||(l.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||l.dataFilter(t,{coord:i,x:e.x1,y:e.y1}))}function f(t,e,n,i,r){var o,s=i.coordinateSystem,l=t.getItemModel(e),c=a.parsePercent(l.get(n[0]),r.getWidth()),h=a.parsePercent(l.get(n[1]),r.getHeight());if(isNaN(c)||isNaN(h)){if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(n,e));else{var d=[g=t.get(n[0],e),m=t.get(n[1],e)];s.clampData&&s.clampData(d,d),o=s.dataToPoint(d,!0)}if("cartesian2d"===s.type){var p=s.getAxis("x"),f=s.getAxis("y"),g=t.get(n[0],e),m=t.get(n[1],e);u(g)?o[0]=p.toGlobalCoord(p.getExtent()["x0"===n[0]?0:1]):u(m)&&(o[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(c)||(o[0]=c),isNaN(h)||(o[1]=h)}else o=[c,h];return o}var g=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];c.extend({type:"markArea",updateTransform:function(t,e,n){e.eachSeries((function(t){var e=t.markAreaModel;if(e){var r=e.getData();r.each((function(e){var o=i.map(g,(function(i){return f(r,e,i,t,n)}));r.setItemLayout(e,o),r.getItemGraphicEl(e).setShape("points",o)}))}}),this)},renderSeries:function(t,e,n,a){var l=t.coordinateSystem,c=t.id,d=t.getData(),m=this.markerGroupMap,v=m.get(c)||m.set(c,{group:new s.Group});this.group.add(v.group),v.__keep=!0;var y=function(t,e,n){var r,a;t?(r=i.map(t&&t.dimensions,(function(t){var n=e.getData(),r=n.getDimensionInfo(n.mapDimension(t))||{};return i.defaults({name:t},r)})),a=new o(i.map(["x0","y0","x1","y1"],(function(t,e){return{name:t,type:r[e%2].type}})),n)):a=new o(r=[{name:"value",type:"float"}],n);var s=i.map(n.get("data"),i.curry(h,e,t,n));t&&(s=i.filter(s,i.curry(p,t)));var l=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return a.initData(s,null,l),a.hasItemOption=!0,a}(l,t,e);e.setData(y),y.each((function(e){var n=i.map(g,(function(n){return f(y,e,n,t,a)})),r=!0;i.each(g,(function(t){if(r){var n=y.get(t[0],e),i=y.get(t[1],e);(u(n)||l.getAxis("x").containData(n))&&(u(i)||l.getAxis("y").containData(i))&&(r=!1)}})),y.setItemLayout(e,{points:n,allClipped:r}),y.setItemVisual(e,{color:d.getVisual("color")})})),y.diff(v.__data).add((function(t){var e=y.getItemLayout(t);if(!e.allClipped){var n=new s.Polygon({shape:{points:e.points}});y.setItemGraphicEl(t,n),v.group.add(n)}})).update((function(t,n){var i=v.__data.getItemGraphicEl(n),r=y.getItemLayout(t);r.allClipped?i&&v.group.remove(i):(i?s.updateProps(i,{shape:{points:r.points}},e,t):i=new s.Polygon({shape:{points:r.points}}),y.setItemGraphicEl(t,i),v.group.add(i))})).remove((function(t){var e=v.__data.getItemGraphicEl(t);v.group.remove(e)})).execute(),y.eachItemGraphicEl((function(t,n){var o=y.getItemModel(n),a=o.getModel("label"),l=o.getModel("emphasis.label"),c=y.getItemVisual(n,"color");t.useStyle(i.defaults(o.getModel("itemStyle").getItemStyle(),{fill:r.modifyAlpha(c,.4),stroke:c})),t.hoverStyle=o.getModel("emphasis.itemStyle").getItemStyle(),s.setLabelStyle(t.style,t.hoverStyle,a,l,{labelFetcher:e,labelDataIndex:n,defaultText:y.getName(n)||"",isRectText:!0,autoColor:c}),s.setHoverStyle(t,{}),t.dataModel=e})),v.__data=y,v.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){n(309),n(665),n(666),n(667)},function(t,e,n){var i=n(5),r=n(3);function o(t,e,n){var i,o={},a="toggleSelected"===t;return n.eachComponent("legend",(function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var s=n.getData();r.each(s,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&i:o[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}i.registerAction("legendToggleSelect","legendselectchanged",r.curry(o,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",r.curry(o,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",r.curry(o,"inverseSelect")),i.registerAction("legendSelect","legendselected",r.curry(o,"select")),i.registerAction("legendUnSelect","legendunselected",r.curry(o,"unSelect"))},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}},function(t,e,n){var i=n(310),r=n(14),o=r.mergeLayoutParam,a=r.getLayoutParams,s=i.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,i){var r=a(t);s.superCall(this,"init",t,e,n,i),l(this,t,r)},mergeOption:function(t,e){s.superCall(this,"mergeOption",t,e),l(this,this.option,t)}});function l(t,e,n){var i=[1,1];i[t.getOrient().index]=0,o(e,n,{type:"box",ignoreSize:i})}var c=s;t.exports=c},function(t,e,n){var i=n(3),r=n(6),o=n(14),a=n(311),s=r.Group,l=["width","height"],c=["x","y"],h=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){h.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new s),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new s),this._showController},resetInner:function(){h.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,o,a,s,l){var c=this;h.superCall(this,"renderInner",t,e,n,o,a,s,l);var u=this._controllerGroup,d=e.get("pageIconSize",!0);i.isArray(d)||(d=[d,d]),f("pagePrev",0);var p=e.getModel("pageTextStyle");function f(t,n){var a=t+"DataIndex",s=r.createIcon(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:i.bind(c._pageGo,c,a,e,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});s.name=t,u.add(s)}u.add(new r.Text({name:"pageText",style:{textFill:p.getTextColor(),font:p.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),f("pageNext",1)},layoutInner:function(t,e,n,r,a,s){var h=this.getSelectorGroup(),u=t.getOrient().index,d=l[u],p=c[u],f=l[1-u],g=c[1-u];a&&o.box("horizontal",h,t.get("selectorItemGap",!0));var m=t.get("selectorButtonGap",!0),v=h.getBoundingRect(),y=[-v.x,-v.y],x=i.clone(n);a&&(x[d]=n[d]-v[d]-m);var b=this._layoutContentAndController(t,r,x,u,d,f,g);if(a){if("end"===s)y[u]+=b[d]+m;else{var w=v[d]+m;y[u]-=w,b[p]-=w}b[d]+=v[d]+m,y[1-u]+=b[g]+b[f]/2-v[f]/2,b[f]=Math.max(b[f],v[f]),b[g]=Math.min(b[g],v[g]+y[1-u]),h.attr("position",y)}return b},_layoutContentAndController:function(t,e,n,a,s,l,c){var h=this.getContentGroup(),u=this._containerGroup,d=this._controllerGroup;o.box(t.get("orient"),h,t.get("itemGap"),a?n.width:null,a?null:n.height),o.box("horizontal",d,t.get("pageButtonItemGap",!0));var p=h.getBoundingRect(),f=d.getBoundingRect(),g=this._showController=p[s]>n[s],m=[-p.x,-p.y];e||(m[a]=h.position[a]);var v=[0,0],y=[-f.x,-f.y],x=i.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?y[a]+=n[s]-f[s]:v[a]+=f[s]+x);y[1-a]+=p[l]/2-f[l]/2,h.attr("position",m),u.attr("position",v),d.attr("position",y);var b={x:0,y:0};if(b[s]=g?n[s]:p[s],b[l]=Math.max(p[l],f[l]),b[c]=Math.min(0,f[c]+y[1-a]),u.__rectSize=n[s],g){var w={x:0,y:0};w[s]=Math.max(n[s]-f[s]-x,0),w[l]=b[l],u.setClipPath(new r.Rect({shape:w})),u.__rectSize=w[s]}else d.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var C=this._getPageInfo(t);return null!=C.pageIndex&&r.updateProps(h,{position:C.contentPosition},!!g&&t),this._updatePageInfoView(t,C),b},_pageGo:function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;i.each(["pagePrev","pageNext"],(function(i){var r=null!=e[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var r=n.childOfName("pageText"),o=t.get("pageFormatter"),a=e.pageIndex,s=null!=a?a+1:0,l=e.pageCount;r&&o&&r.setStyle("text",i.isString(o)?o.replace("{current}",s).replace("{total}",l):o({current:s,total:l}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,o=l[r],a=c[r],s=this._findTargetItemIndex(e),h=n.children(),u=h[s],d=h.length,p=d?1:0,f={contentPosition:n.position.slice(),pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return f;var g=b(u);f.contentPosition[r]=-g.s;for(var m=s+1,v=g,y=g,x=null;m<=d;++m)(!(x=b(h[m]))&&y.e>v.s+i||x&&!w(x,v.s))&&(v=y.i>v.i?y:x)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=v.i),++f.pageCount),y=x;for(m=s-1,v=g,y=g,x=null;m>=-1;--m)(x=b(h[m]))&&w(y,x.s)||!(v.i<y.i)||(y=v,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=v.i),++f.pageCount,++f.pageIndex),v=x;return f;function b(t){if(t){var e=t.getBoundingRect(),n=e[a]+t.position[r];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function w(t,e){return t.e>=e&&t.s<=e+i}},_findTargetItemIndex:function(t){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===t&&(e=r)})),null!=e?e:n):0;var e,n}}),u=h;t.exports=u},function(t,e,n){n(5).registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))},function(t,e,n){n(312),n(313)},function(t,e,n){var i=n(89).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=i},function(t,e,n){var i=n(3),r=n(49),o=n(6),a=n(61),s=n(90),l=n(8),c=n(14),h=n(88),u=o.Rect,d=l.linearMap,p=l.asc,f=i.bind,g=i.each,m=["line","bar","candlestick","scatter"],v=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,i){v.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){v.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){v.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new o.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),r={width:e.getWidth(),height:e.getHeight()},o="horizontal"===this._orient?{right:r.width-n.x-n.width,top:r.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=c.getLayoutParams(t.option);i.each(["right","top","width","height"],(function(t){"ph"===a[t]&&(a[t]=o[t])}));var s=c.getLayoutRect(a,r,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr("horizontal"!==n||r?"horizontal"===n&&r?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new u({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new u({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:i.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,r=n.getRawData(),a=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=a){var s=r.getDataExtent(a),l=.3*(s[1]-s[0]);s=[s[0]-l,s[1]+l];var c,h=[0,e[1]],u=[0,e[0]],p=[[e[0],0],[0,0]],f=[],g=u[1]/(r.count()-1),m=0,v=Math.round(r.count()/e[0]);r.each([a],(function(t,e){if(v>0&&e%v)m+=g;else{var n=null==t||isNaN(t)||""===t,i=n?0:d(t,s,h,!0);n&&!c&&e?(p.push([p[p.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&c&&(p.push([m,0]),f.push([m,0])),p.push([m,i]),f.push([m,i]),m+=g,c=n}}));var y=this.dataZoomModel;this._displayables.barGroup.add(new o.Polygon({shape:{points:p},style:i.defaults({fill:y.get("dataBackgroundColor")},y.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new o.Polyline({shape:{points:f},style:y.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis((function(o,a){var s=t.getAxisProxy(o.name,a).getTargetSeriesModels();i.each(s,(function(t){if(!(n||!0!==e&&i.indexOf(m,t.get("type"))<0)){var s,l=r.getComponent(o.axis,a).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[o.name],h=t.coordinateSystem;null!=c&&h.getOtherAxis&&(s=h.getOtherAxis(l).inverse),c=t.getData().mapDimension(c),n={thisAxis:l,series:t,thisDim:o.name,otherDim:c,otherAxisInverse:s}}}),this)}),this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],i=this._displayables.barGroup,r=this._size,a=this.dataZoomModel;i.add(t.filler=new u({draggable:!0,cursor:y(this._orient),drift:f(this._onDragMove,this,"all"),ondragstart:f(this._showDataInfo,this,!0),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new u({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),g([0,1],(function(t){var r=o.createIcon(a.get("handleIcon"),{cursor:y(this._orient),draggable:!0,drift:f(this._onDragMove,this,t),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),s=r.getBoundingRect();this._handleHeight=l.parsePercent(a.get("handleSize"),this._size[1]),this._handleWidth=s.width/s.height*this._handleHeight,r.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(r.style.fill=c),i.add(e[t]=r);var h=a.textStyleModel;this.group.add(n[t]=new o.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))}),this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[d(t[0],[0,100],e,!0),d(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];h(e,i,r,n.get("zoomLock")?"all":t,null!=o.minSpan?d(o.minSpan,a,r,!0):null,null!=o.maxSpan?d(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=p([d(i[0],r,a,!0),d(i[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,n=this._handleEnds,i=p(n.slice()),r=this._size;g([0,1],(function(t){var i=e.handles[t],o=this._handleHeight;i.attr({scale:[o/2,o/2],position:[n[t],r[1]/2-o/2]})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,a=["",""];if(e.get("showDetail")){var s=e.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,c=this._range,h=t?s.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var u=p(this._handleEnds.slice());function d(t){var e=o.getTransform(n.handles[t].parent,this.group),s=o.transformDirection(0===t?"right":"left",e),l=this._handleWidth/2+5,c=o.applyTransform([u[t]+(0===t?-l:l),this._size[1]/2],e);i[t].setStyle({x:c[0],y:c[1],textVerticalAlign:"horizontal"===r?"middle":s,textAlign:"horizontal"===r?s:"center",text:a[t]})}d.call(this,0),d.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,r=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return i.isFunction(r)?r(t,a):i.isString(r)?r.replace("{value}",a):a},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n,i){this._dragging=!0,r.stop(i.event);var a=this._displayables.barGroup.getLocalTransform(),s=o.applyTransform([e,n],a,!0),l=this._updateInterval(t,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,o=this._updateInterval("all",n[0]-r);this._updateView(),o&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(g(this.getTargetCoordInfo(),(function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}})),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={x:.2*e,y:.2*n,width:.6*e,height:.6*n}}return t}});function y(t){return"vertical"===t?"ns-resize":"ew-resize"}var x=v;t.exports=x},function(t,e,n){var i=n(89).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});t.exports=i},function(t,e,n){var i=n(3),r=n(90),o=n(88),a=n(673),s=i.bind,l=r.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,n,r){l.superApply(this,"render",arguments),this._range=t.getPercentRange(),i.each(this.getTargetCoordInfo(),(function(e,r){var o=i.map(e,(function(t){return a.generateCoordId(t.model)}));i.each(e,(function(e){var l=e.model,h={};i.each(["pan","zoom","scrollMove"],(function(t){h[t]=s(c[t],this,e,r)}),this),a.register(n,{coordId:a.generateCoordId(l),allCoordIds:o,containsPoint:function(t,e,n){return l.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,dataZoomModel:t,getRange:h})}),this)}),this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null}}),c={zoom:function(t,e,n,i){var r=this._range,a=r.slice(),s=t.axisModels[0];if(s){var l=u[e](null,[i.originX,i.originY],s,n,t),c=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],h=Math.max(1/i.scale,0);a[0]=(a[0]-c)*h+c,a[1]=(a[1]-c)*h+c;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return o(0,a,[0,100],0,d.minSpan,d.maxSpan),this._range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}},pan:h((function(t,e,n,i,r,o){var a=u[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength})),scrollMove:h((function(t,e,n,i,r,o){return u[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,n).signal*(t[1]-t[0])*o.scrollDelta}))};function h(t){return function(e,n,i,r){var a=this._range,s=a.slice(),l=e.axisModels[0];if(l){var c=t(s,l,e,n,i,r);return o(c,s,[0,100],"all"),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}}var u={grid:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=c[1]-c[0],a.pixelStart=c[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,i,r){var o=n.axis,a=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}},d=l;t.exports=d},function(t,e,n){var i=n(3),r=n(114),o=n(61),a="\0_ec_dataZoom_roams";function s(t){var e=t.getZr();return e[a]||(e[a]={})}function l(t){i.each(t,(function(e,n){e.count||(e.controller.dispose(),delete t[n])}))}function c(t,e){t.dispatchAction({type:"dataZoom",batch:e})}e.register=function(t,e){var n=s(t),a=e.dataZoomId,h=e.coordId;i.each(n,(function(t,n){var r=t.dataZoomInfos;r[a]&&i.indexOf(e.allCoordIds,h)<0&&(delete r[a],t.count--)})),l(n);var u=n[h];u||((u=n[h]={coordId:h,dataZoomInfos:{},count:0}).controller=function(t,e){var n=new r(t.getZr());return i.each(["pan","zoom","scrollMove"],(function(t){n.on(t,(function(n){var r=[];i.each(e.dataZoomInfos,(function(i){if(n.isAvailableBehavior(i.dataZoomModel.option)){var o=(i.getRange||{})[t],a=o&&o(e.controller,n);!i.dataZoomModel.get("disabled",!0)&&a&&r.push({dataZoomId:i.dataZoomId,start:a[0],end:a[1]})}})),r.length&&e.dispatchAction(r)}))})),n}(t,u),u.dispatchAction=i.curry(c,t)),!u.dataZoomInfos[a]&&u.count++,u.dataZoomInfos[a]=e;var d,p,f,g,m=(d=u.dataZoomInfos,f={type_true:2,type_move:1,type_false:0,type_undefined:-1},g=!0,i.each(d,(function(t){var e=t.dataZoomModel,n=!e.get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");f["type_"+n]>f["type_"+p]&&(p=n),g&=e.get("preventDefaultMouseMove",!0)})),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!g}});u.controller.enable(m.controlType,m.opt),u.controller.setPointerChecker(e.containsPoint),o.createOrUpdate(u,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")},e.unregister=function(t,e){var n=s(t);i.each(n,(function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)})),l(n)},e.generateCoordId=function(t){return t.type+"\0_"+t.id}},function(t,e,n){n(314),n(323)},function(t,e,n){var i=n(3),r=n(318),o=n(8),a=[20,140],s=r.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){s.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},resetItemSize:function(){s.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=a[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=a[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):i.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments),i.each(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)}),this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=o.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},getVisualMeta:function(t){var e=l(this,"outOfRange",this.getExtent()),n=l(this,"inRange",this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,c=e.length;a<c&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&r(e[a],"outOfRange");for(var h=1;o<s;o++,h=0)h&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(h=1;a<c;a++)(!n.length||n[n.length-1]<e[a])&&(h&&(i.length&&r(i[i.length-1].value,"outOfRange"),h=0),r(e[a],"outOfRange"));var u=i.length;return{stops:i,outerColors:[u?i[0].color:"transparent",u?i[u-1].color:"transparent"]}}});function l(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}var c=s;t.exports=c},function(t,e,n){var i=n(3),r=n(185),o=n(49),a=n(320),s=n(6),l=n(8),c=n(88),h=n(321),u=n(11),d=l.linearMap,p=i.each,f=Math.min,g=Math.max,m=a.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,l=this._shapes.barGroup,c=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],l),h=this._applyTransform(0===n?"bottom":"top",l),u=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new s.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===u?"middle":h,textAlign:"horizontal"===u?h:"center",text:i,textFont:d.getFont(),textFill:d.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,o=this._orient,a=this._useHandle,s=h.getItemAlign(e,this.api,r),l=n.barGroup=this._createBarGroup(s);l.add(n.outOfRange=v()),l.add(n.inRange=v(null,a?x(this._orient):null,i.bind(this._dragHandle,this,"all",!1),i.bind(this._dragHandle,this,"all",!0)));var c=e.textStyleModel.getTextRect(""),u=g(c.width,c.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(l,0,r,u,o,s),this._createHandle(l,1,r,u,o,s)),this._createIndicator(l,r,u,o),t.add(l)},_createHandle:function(t,e,n,r,a){var l=i.bind(this._dragHandle,this,e,!1),c=i.bind(this._dragHandle,this,e,!0),h=v(function(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}(e,r),x(this._orient),l,c);h.position[0]=n[0],t.add(h);var u=this.visualMapModel.textStyleModel,d=new s.Text({draggable:!0,drift:l,onmousemove:function(t){o.stop(t.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(d);var p=["horizontal"===a?r/2:1.5*r,"horizontal"===a?0===e?-1.5*r:1.5*r:0===e?-r/2:r/2],f=this._shapes;f.handleThumbs[e]=h,f.handleLabelPoints[e]=p,f.handleLabels[e]=d},_createIndicator:function(t,e,n,i){var r=v([[0,0]],"move");r.position[0]=e[0],r.attr({invisible:!0,silent:!0}),t.add(r);var o=this.visualMapModel.textStyleModel,a=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(a);var l=["horizontal"===i?n/2:9,0],c=this._shapes;c.indicator=r,c.indicatorLabel=a,c.indicatorLabelPoint=l},_dragHandle:function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(t,r[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():y(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[d(e[0],n,i,!0),d(e[1],n,i,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];c(e,i,r,t,0);var o=n.getExtent();this._dataInterval=[d(i[0],r,o,!0),d(i[1],r,o,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(t,e,n,i){var o={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,o),s=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],l=this._createBarPoints(n,s);return{barColor:new r(0,0,0,1,a),barPoints:l,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new s.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels;p([0,1],(function(a){var l=r[a];l.setStyle("fill",e.handlesColor[a]),l.position[1]=t[a];var c=s.applyTransform(n.handleLabelPoints[a],s.getTransform(l,this.group));o[a].setStyle({x:c[0],y:c[1],text:i.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})}),this)}},_showIndicator:function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,l=[0,a[1]],c=d(t,o,l,!0),h=this._shapes,u=h.indicator;if(u){u.position[1]=c,u.attr("invisible",!1),u.setShape("points",function(t,e,n,i){return t?[[0,-f(e,g(n,0))],[6,0],[0,f(e,g(i-n,0))]]:[[0,0],[5,-5],[5,5]]}(!!n,i,c,a[1]));var p=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0});u.setStyle("fill",p);var m=s.applyTransform(h.indicatorLabelPoint,s.getTransform(u,this.group)),v=h.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",h.barGroup),x=this._orient;v.setStyle({text:(n||"")+r.formatValueText(e),textVerticalAlign:"horizontal"===x?y:"middle",textAlign:"horizontal"===x?"center":y,x:m[0],y:m[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);i[1]=f(g(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=f(g(r[0],t),r[1]);var a=function(t,e,n){var i=6,r=t.get("hoverLinkDataSize");r&&(i=d(r,e,n,!0)/2);return i}(n,o,r),s=[t-a,t+a],l=d(t,r,o,!0),c=[d(s[0],r,o,!0),d(s[1],r,o,!0)];s[0]<r[0]&&(c[0]=-1/0),s[1]>r[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",a):c[1]===1/0?this._showIndicator(l,c[0],"> ",a):this._showIndicator(l,l," ",a));var p=this._hoverLinkDataIndices,m=[];(e||y(n))&&(m=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var v=u.compressBatches(p,m);this._dispatchHighDown("downplay",h.makeHighDownBatch(v[0],n)),this._dispatchHighDown("highlight",h.makeHighDownBatch(v[1],n))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var i=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(i)){var r=i.getData(e.dataType),o=r.get(n.getDataDimension(r),e.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",h.makeHighDownBatch(t,this.visualMapModel)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,r){var o=s.getTransform(e,r?null:this.group);return s[i.isArray(t)?"applyTransform":"transformDirection"](t,o,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function v(t,e,n,i){return new s.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){o.stop(t.event)},ondragend:i})}function y(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function x(t){return"vertical"===t?"ns-resize":"ew-resize"}var b=m;t.exports=b},function(t,e,n){n(12).__DEV__;var i=n(3),r=n(318),o=n(76),a=n(319),s=n(8).reformIntervals,l=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(t,e);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=i.clone(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=i.map(this._pieceList,(function(t){t=i.clone(t);return"inRange"!==e&&(t.visual=null),t})))}))},completeVisualOption:function(){var t=this.option,e={},n=o.listVisualTypes(),s=this.isCategory();function l(t,e,n){return t&&t[e]&&(i.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}i.each(t.pieces,(function(t){i.each(n,(function(n){t.hasOwnProperty(n)&&(e[n]=1)}))})),i.each(e,(function(e,n){var r=0;i.each(this.stateList,(function(e){r|=l(t,e,n)||l(t.target,e,n)}),this),!r&&i.each(this.stateList,(function(e){(t[e]||(t[e]={}))[n]=a.get(n,"inRange"===e?"active":"inactive",s)}))}),this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,r=this._pieceList,o=(e?n:t).selected||{};if(n.selected=o,i.each(r,(function(t,e){var n=this.getSelectedMapKey(t);o.hasOwnProperty(n)||(o[n]=!0)}),this),"single"===n.selectedMode){var a=!1;i.each(r,(function(t,e){var n=this.getSelectedMapKey(t);o[n]&&(a?o[n]=!1:a=!0)}),this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=i.clone(t)},getValueState:function(t){var e=o.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),(function(e,n){o.findPieceIndex(e,this._pieceList)===t&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){if(!this.isCategory()){var e=[],n=[],r=this,o=this._pieceList.slice();if(o.length){var a=o[0].interval[0];a!==-1/0&&o.unshift({interval:[-1/0,a]}),(a=o[o.length-1].interval[1])!==1/0&&o.push({interval:[a,1/0]})}else o.push({interval:[-1/0,1/0]});var s=-1/0;return i.each(o,(function(t){var e=t.interval;e&&(e[0]>s&&l([s,e[0]],"outOfRange"),l(e.slice()),s=e[1])}),this),{stops:e,outerColors:n}}function l(i,o){var a=r.getRepresentValue({interval:i});o||(o=r.getValueState(a));var s=t(a,o);i[0]===-1/0?n[0]=s:i[1]===1/0?n[1]=s:e.push({value:i[0],color:s},{value:i[1],color:s})}}}),c={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),r=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var a=(r[1]-r[0])/o;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var l=0,c=r[0];l<o;c+=a,l++){var h=l===o-1?r[1]:c+a;e.push({interval:[c,h],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),s(e),i.each(e,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(){var t=this.option;i.each(t.categories,(function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})}),this),h(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;i.each(t.pieces,(function(t,n){i.isObject(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var a=r.value=t.value;r.interval=[a,a],r.close=[1,1]}else{for(var s=r.interval=[],l=r.close=[0,0],c=[1,0,1],h=[-1/0,1/0],u=[],d=0;d<2;d++){for(var p=[["gte","gt","min"],["lte","lt","max"]][d],f=0;f<3&&null==s[d];f++)s[d]=t[p[f]],l[d]=c[f],u[d]=2===f;null==s[d]&&(s[d]=h[d])}u[0]&&s[1]===1/0&&(l[0]=0),u[1]&&s[0]===-1/0&&(l[1]=0),s[0]===s[1]&&l[0]&&l[1]&&(r.value=s[0])}r.visual=o.retrieveVisuals(t),e.push(r)}),this),h(t,e),s(e),i.each(e,(function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function h(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var u=l;t.exports=u},function(t,e,n){var i=n(3),r=n(320),o=n(6),a=n(40).createSymbol,s=n(14),l=n(321),c=r.extend({type:"visualMap.piecewise",doRender:function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),r=e.textStyleModel,a=r.getFont(),l=r.getTextColor(),c=this._getItemAlign(),h=e.itemSize,u=this._getViewData(),d=u.endsText,p=i.retrieve(e.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],h,p,c),i.each(u.viewPieceList,(function(r){var s=r.piece,u=new o.Group;u.onclick=i.bind(this._onItemClick,this,s),this._enableHoverLink(u,r.indexInModelPieceList);var d=e.getRepresentValue(s);if(this._createItemSymbol(u,d,[0,0,h[0],h[1]]),p){var f=this.visualMapModel.getValueState(d);u.add(new o.Text({style:{x:"right"===c?-n:h[0]+n,y:h[1]/2,text:s.text,textVerticalAlign:"middle",textAlign:c,textFont:a,textFill:l,opacity:"outOfRange"===f?.5:1}}))}t.add(u)}),this),d&&this._renderEndsText(t,d[1],h,p,c),s.box(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:l.makeHighDownBatch(n.findTargetDataIndices(e),n)})}t.on("mouseover",i.bind(n,this,"highlight")).on("mouseout",i.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n,i,r){if(e){var a=new o.Group,s=this.visualMapModel.textStyleModel;a.add(new o.Text({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?r:"center",text:e,textFont:s.getFont(),textFill:s.getTextColor()}})),t.add(a)}},_getViewData:function(){var t=this.visualMapModel,e=i.map(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),r=t.get("orient"),o=t.get("inverse");return("horizontal"===r?o:!o)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(a(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,r=i.clone(n.selected),o=e.getSelectedMapKey(t);"single"===n.selectedMode?(r[o]=!0,i.each(r,(function(t,e){r[e]=e===o}))):r[o]=!r[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}});t.exports=c},function(t,e,n){n(680),(0,n(121).registerPainter)("vml",n(681))},function(t,e,n){var i=n(25),r=n(18).applyTransform,o=n(20),a=n(50),s=n(39),l=n(125),c=n(249),h=n(101),u=n(81),d=n(70),p=n(24),f=n(83),g=n(126),m=n(324),v=f.CMD,y=Math.round,x=Math.sqrt,b=Math.abs,w=Math.cos,C=Math.sin,_=Math.max;if(!i.canvasSupported){var S=21600,O=S/2,M=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=S+","+S,t.coordorigin="0,0"},k=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},A=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},T=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},D=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},P=l.parsePercent,I=function(t,e,n){var i=a.parse(e);n=+n,isNaN(n)&&(n=1),i&&(t.color=k(i[0],i[1],i[2]),t.opacity=n*i[3])},E=function(t,e,n,i){var o="fill"===e,s=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(o||!o&&n.lineWidth)?(t[o?"filled":"stroked"]="true",n[e]instanceof g&&T(t,s),s||(s=m.createNode(e)),o?function(t,e,n){var i,o,s=e.fill;if(null!=s)if(s instanceof g){var l,c=0,h=[0,0],u=0,d=1,p=n.getBoundingRect(),f=p.width,m=p.height;if("linear"===s.type){l="gradient";var v=n.transform,y=[s.x*f,s.y*m],x=[s.x2*f,s.y2*m];v&&(r(y,y,v),r(x,x,v));var b=x[0]-y[0],w=x[1]-y[1];(c=180*Math.atan2(b,w)/Math.PI)<0&&(c+=360),c<1e-6&&(c=0)}else{l="gradientradial";y=[s.x*f,s.y*m],v=n.transform;var C=n.scale,O=f,M=m;h=[(y[0]-p.x)/O,(y[1]-p.y)/M],v&&r(y,y,v),O/=C[0]*S,M/=C[1]*S;var A=_(O,M);u=0/A,d=2*s.r/A-u}var T=s.colorStops.slice();T.sort((function(t,e){return t.offset-e.offset}));for(var D=T.length,P=[],E=[],j=0;j<D;j++){var L=T[j],B=(i=L.color,o=void 0,o=a.parse(i),[k(o[0],o[1],o[2]),o[3]]);E.push(L.offset*d+u+" "+B[0]),0!==j&&j!==D-1||P.push(B)}if(D>=2){var N=P[0][0],R=P[1][0],F=P[0][1]*e.opacity,z=P[1][1]*e.opacity;t.type=l,t.method="none",t.focus="100%",t.angle=c,t.color=N,t.color2=R,t.colors=E.join(","),t.opacity=z,t.opacity2=F}"radial"===l&&(t.focusposition=h.join(","))}else I(t,s,e.opacity)}(s,n,i):function(t,e){e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof g||I(t,e.stroke,e.opacity)}(s,n),A(t,s)):(t[o?"filled":"stroked"]="false",T(t,s))},j=[[],[],[]];p.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=m.createNode("shape"),M(n),this._vmlEl=n),E(n,"fill",e,this),E(n,"stroke",e,this);var i=this.transform,o=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var s=e.lineWidth;if(o&&!e.strokeNoScale){var l=i[0]*i[3]-i[1]*i[2];s*=x(b(l))}a.weight=s+"px"}var c=this.path||(this.path=new f);this.__dirtyPath&&(c.beginPath(),c.subPixelOptimize=!1,this.buildPath(c,this.shape),c.toStatic(),this.__dirtyPath=!1),n.path=function(t,e){var n,i,o,a,s,l,c=v.M,h=v.C,u=v.L,d=v.A,p=v.Q,f=[],g=t.data,m=t.len();for(a=0;a<m;){switch(i="",n=0,o=g[a++]){case c:i=" m ",n=1,s=g[a++],l=g[a++],j[0][0]=s,j[0][1]=l;break;case u:i=" l ",n=1,s=g[a++],l=g[a++],j[0][0]=s,j[0][1]=l;break;case p:case h:i=" c ",n=3;var b,_,M=g[a++],k=g[a++],A=g[a++],T=g[a++];o===p?(b=A,_=T,A=(A+2*M)/3,T=(T+2*k)/3,M=(s+2*M)/3,k=(l+2*k)/3):(b=g[a++],_=g[a++]),j[0][0]=M,j[0][1]=k,j[1][0]=A,j[1][1]=T,j[2][0]=b,j[2][1]=_,s=b,l=_;break;case d:var D=0,P=0,I=1,E=1,L=0;e&&(D=e[4],P=e[5],I=x(e[0]*e[0]+e[1]*e[1]),E=x(e[2]*e[2]+e[3]*e[3]),L=Math.atan2(-e[1]/E,e[0]/I));var B=g[a++],N=g[a++],R=g[a++],F=g[a++],z=g[a++]+L,V=g[a++]+z+L;a++;var G=g[a++],H=B+w(z)*R,W=N+C(z)*F,$=(M=B+w(V)*R,k=N+C(V)*F,G?" wa ":" at ");Math.abs(H-M)<1e-4&&(Math.abs(V-z)>.01?G&&(H+=.0125):Math.abs(W-N)<1e-4?G&&H<B||!G&&H>B?k-=.0125:k+=.0125:G&&W<N||!G&&W>N?M+=.0125:M-=.0125),f.push($,y(((B-R)*I+D)*S-O),",",y(((N-F)*E+P)*S-O),",",y(((B+R)*I+D)*S-O),",",y(((N+F)*E+P)*S-O),",",y((H*I+D)*S-O),",",y((W*E+P)*S-O),",",y((M*I+D)*S-O),",",y((k*E+P)*S-O)),s=M,l=k;break;case v.R:var Y=j[0],X=j[1];Y[0]=g[a++],Y[1]=g[a++],X[0]=Y[0]+g[a++],X[1]=Y[1]+g[a++],e&&(r(Y,Y,e),r(X,X,e)),Y[0]=y(Y[0]*S-O),X[0]=y(X[0]*S-O),Y[1]=y(Y[1]*S-O),X[1]=y(X[1]*S-O),f.push(" m ",Y[0],",",Y[1]," l ",X[0],",",Y[1]," l ",X[0],",",X[1]," l ",Y[0],",",X[1]);break;case v.Z:f.push(" x ")}if(n>0){f.push(i);for(var q=0;q<n;q++){var U=j[q];e&&r(U,U,e),f.push(y(U[0]*S-O),",",y(U[1]*S-O),q<n-1?",":"")}}}return f.join("")}(c,this.transform),n.style.zIndex=D(this.zlevel,this.z,this.z2),A(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},p.prototype.onRemove=function(t){T(t,this._vmlEl),this.removeRectText(t)},p.prototype.onAdd=function(t){A(t,this._vmlEl),this.appendRectText(t)};u.prototype.brushVML=function(t){var e,n,i,o=this.style,a=o.image;if("object"==typeof(i=a)&&i.tagName&&"IMG"===i.tagName.toUpperCase()){var s=a.src;if(s===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var l=a.runtimeStyle,c=l.width,h=l.height;l.width="auto",l.height="auto",e=a.width,n=a.height,l.width=c,l.height=h,this._imageSrc=s,this._imageWidth=e,this._imageHeight=n}a=s}else a===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(a){var u=o.x||0,d=o.y||0,p=o.width,f=o.height,g=o.sWidth,v=o.sHeight,b=o.sx||0,w=o.sy||0,C=g&&v,S=this._vmlEl;S||(S=m.doc.createElement("div"),M(S),this._vmlEl=S);var O,k=S.style,T=!1,P=1,I=1;if(this.transform&&(O=this.transform,P=x(O[0]*O[0]+O[1]*O[1]),I=x(O[2]*O[2]+O[3]*O[3]),T=O[1]||O[2]),T){var E=[u,d],j=[u+p,d],L=[u,d+f],B=[u+p,d+f];r(E,E,O),r(j,j,O),r(L,L,O),r(B,B,O);var N=_(E[0],j[0],L[0],B[0]),R=_(E[1],j[1],L[1],B[1]),F=[];F.push("M11=",O[0]/P,",","M12=",O[2]/I,",","M21=",O[1]/P,",","M22=",O[3]/I,",","Dx=",y(u*P+O[4]),",","Dy=",y(d*I+O[5])),k.padding="0 "+y(N)+"px "+y(R)+"px 0",k.filter="progid:DXImageTransform.Microsoft.Matrix("+F.join("")+", SizingMethod=clip)"}else O&&(u=u*P+O[4],d=d*I+O[5]),k.filter="",k.left=y(u)+"px",k.top=y(d)+"px";var z=this._imageEl,V=this._cropEl;z||(z=m.doc.createElement("div"),this._imageEl=z);var G=z.style;if(C){if(e&&n)G.width=y(P*e*p/g)+"px",G.height=y(I*n*f/v)+"px";else{var H=new Image,W=this;H.onload=function(){H.onload=null,e=H.width,n=H.height,G.width=y(P*e*p/g)+"px",G.height=y(I*n*f/v)+"px",W._imageWidth=e,W._imageHeight=n,W._imageSrc=a},H.src=a}V||((V=m.doc.createElement("div")).style.overflow="hidden",this._cropEl=V);var $=V.style;$.width=y((p+b*p/g)*P),$.height=y((f+w*f/v)*I),$.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-b*p/g*P+",Dy="+-w*f/v*I+")",V.parentNode||S.appendChild(V),z.parentNode!==V&&V.appendChild(z)}else G.width=y(P*p)+"px",G.height=y(I*f)+"px",S.appendChild(z),V&&V.parentNode&&(S.removeChild(V),this._cropEl=null);var Y="",X=o.opacity;X<1&&(Y+=".Alpha(opacity="+y(100*X)+") "),Y+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+a+", SizingMethod=scale)",G.filter=Y,S.style.zIndex=D(this.zlevel,this.z,this.z2),A(t,S),null!=o.text&&this.drawRectText(t,this.getBoundingRect())}},u.prototype.onRemove=function(t){T(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},u.prototype.onAdd=function(t){A(t,this._vmlEl),this.appendRectText(t)};var L,B={},N=0,R=document.createElement("div");s.$override("measureText",(function(t,e){var n=m.doc;L||((L=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",m.doc.body.appendChild(L));try{L.style.font=e}catch(t){}return L.innerHTML="",L.appendChild(n.createTextNode(t)),{width:L.offsetWidth}}));for(var F=new o,z=function(t,e,n,i){var o=this.style;this.__dirty&&l.normalizeTextStyle(o,!0);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var c=s.parseRichText(a,o);a=[];for(var h=0;h<c.lines.length;h++){for(var u=c.lines[h].tokens,d=[],p=0;p<u.length;p++)d.push(u[p].text);a.push(d.join(""))}a=a.join("\n")}var f,g,v=o.textAlign,x=o.textVerticalAlign,b=function(t){var e=B[t];if(!e){N>100&&(N=0,B={});var n,i=R.style;try{i.font=t,n=i.fontFamily.split(",")[0]}catch(t){}e={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},B[t]=e,N++}return e}(o.font),w=b.style+" "+b.variant+" "+b.weight+" "+b.size+'px "'+b.family+'"';n=n||s.getBoundingRect(a,w,v,x,o.textPadding,o.textLineHeight);var C=this.transform;if(C&&!i&&(F.copy(e),F.applyTransform(C),e=F),i)f=e.x,g=e.y;else{var _=o.textPosition;if(_ instanceof Array)f=e.x+P(_[0],e.width),g=e.y+P(_[1],e.height),v=v||"left";else{var S=this.calculateTextPosition?this.calculateTextPosition({},o,e):s.calculateTextPosition({},o,e);f=S.x,g=S.y,v=v||S.textAlign,x=x||S.textVerticalAlign}}f=s.adjustTextX(f,n.width,v),g=s.adjustTextY(g,n.height,x),g+=n.height/2;var O,k,T,I=m.createNode,j=this._textVmlEl;j?k=(O=(T=j.firstChild).nextSibling).nextSibling:(j=I("line"),O=I("path"),k=I("textpath"),T=I("skew"),k.style["v-text-align"]="left",M(j),O.textpathok=!0,k.on=!0,j.from="0 0",j.to="1000 0.05",A(j,T),A(j,O),A(j,k),this._textVmlEl=j);var L=[f,g],z=j.style;C&&i?(r(L,L,C),T.on=!0,T.matrix=C[0].toFixed(3)+","+C[2].toFixed(3)+","+C[1].toFixed(3)+","+C[3].toFixed(3)+",0,0",T.offset=(y(L[0])||0)+","+(y(L[1])||0),T.origin="0 0",z.left="0px",z.top="0px"):(T.on=!1,z.left=y(f)+"px",z.top=y(g)+"px"),k.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{k.style.font=w}catch(t){}E(j,"fill",{fill:o.textFill,opacity:o.opacity},this),E(j,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash||null},this),j.style.zIndex=D(this.zlevel,this.z,this.z2),A(t,j)}},V=function(t){T(t,this._textVmlEl),this._textVmlEl=null},G=function(t){A(t,this._textVmlEl)},H=[c,h,u,p,d],W=0;W<H.length;W++){var $=H[W].prototype;$.drawRectText=z,$.removeRectText=V,$.appendRectText=G}d.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},d.prototype.onRemove=function(t){this.removeRectText(t)},d.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,n){var i=n(100),r=n(324),o=n(3).each;function a(t){return parseInt(t,10)}function s(t,e){r.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),a.call(e,t)},this._firstPaint=!0}s.prototype={constructor:s,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||a(e.width))-a(e.paddingLeft)-a(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||a(e.height))-a(e.paddingTop)-a(e.paddingBottom)|0}},o(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],(function(t){var e;s.prototype[t]=(e=t,function(){i('In IE8.0 VML mode painter not support method "'+e+'"')})}));var l=s;t.exports=l},function(t,e,n){n(212),(0,n(121).registerPainter)("svg",n(683))},function(t,e,n){var i=n(213).createElement,r=n(3),o=n(100),a=n(24),s=n(81),l=n(70),c=n(684),h=n(685),u=n(686),d=n(687),p=n(212),f=p.path,g=p.image,m=p.text;function v(t){return parseInt(t,10)}function y(t,e){return e&&t&&e.parentNode!==t}function x(t,e,n){if(y(t,e)&&n){var i=n.nextSibling;i?t.insertBefore(e,i):t.appendChild(e)}}function b(t,e){if(y(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function w(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function C(t){return t.__textSvgEl}function _(t){return t.__svgEl}var S=function(t,e,n,o){this.root=t,this.storage=e,this._opts=n=r.extend({},n||{});var a=i("svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1"),a.setAttribute("baseProfile","full"),a.style.cssText="user-select:none;position:absolute;left:0;top:0;";var s=i("g");a.appendChild(s);var l=i("g");a.appendChild(l),this.gradientManager=new h(o,l),this.clipPathManager=new u(o,l),this.shadowManager=new d(o,l);var c=document.createElement("div");c.style.cssText="overflow:hidden;position:relative",this._svgDom=a,this._svgRoot=l,this._backgroundRoot=s,this._viewport=c,t.appendChild(c),c.appendChild(a),this.resize(n.width,n.height),this._visibleList=[]};S.prototype={constructor:S,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=i("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0),e.style.fill=t,this._backgroundRoot.appendChild(e),this._backgroundNode=e},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,n,i=this._svgRoot,r=this._visibleList,o=t.length,h=[];for(e=0;e<o;e++){var u=t[e],d=(n=u)instanceof a?f:n instanceof s?g:n instanceof l?m:f,p=_(u)||C(u);u.invisible||(u.__dirty&&(d&&d.brush(u),this.clipPathManager.update(u),u.style&&(this.gradientManager.update(u.style.fill),this.gradientManager.update(u.style.stroke),this.shadowManager.update(p,u)),u.__dirty=!1),h.push(u))}var v,y=c(r,h);for(e=0;e<y.length;e++){if((M=y[e]).removed)for(var S=0;S<M.count;S++){p=_(u=r[M.indices[S]]);var O=C(u);w(i,p),w(i,O)}}for(e=0;e<y.length;e++){var M;if((M=y[e]).added)for(S=0;S<M.count;S++){p=_(u=h[M.indices[S]]),O=C(u);v?x(i,p,v):b(i,p),p?x(i,O,p):v?x(i,O,v):b(i,O),x(i,O,p),v=O||p||v,this.gradientManager.addWithoutUpdate(p||O,u),this.shadowManager.addWithoutUpdate(p||O,u),this.clipPathManager.markUsed(u)}else if(!M.removed)for(S=0;S<M.count;S++){p=_(u=h[M.indices[S]]),O=C(u),p=_(u),O=C(u);this.gradientManager.markUsed(u),this.gradientManager.addWithoutUpdate(p||O,u),this.shadowManager.markUsed(u),this.shadowManager.addWithoutUpdate(p||O,u),this.clipPathManager.markUsed(u),O&&x(i,O,p),v=p||O||v}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=h},_getDefs:function(t){var e,n=this._svgDom;return 0===(e=n.getElementsByTagName("defs")).length?t?((e=n.insertBefore(i("defs"),n.firstChild)).contains||(e.contains=function(t){var n=e.children;if(!n)return!1;for(var i=n.length-1;i>=0;--i)if(n[i]===t)return!0;return!1}),e):null:e[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var r=n.style;r.width=t+"px",r.height=e+"px";var o=this._svgDom;o.setAttribute("width",t),o.setAttribute("height",e)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[i]||v(s[n])||v(a.style[n]))-(v(s[r])||0)-(v(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},r.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],(function(t){var e;S.prototype[t]=(e=t,function(){o('In SVG mode painter not support method "'+e+'"')})}));var O=S;t.exports=O},function(t,e){function n(){}function i(t,e,n,i){for(var r=0,o=e.length,a=0,s=0;r<o;r++){var l=e[r];if(l.removed){for(c=[],h=s;h<s+l.count;h++)c.push(h);l.indices=c,s+=l.count}else{for(var c=[],h=a;h<a+l.count;h++)c.push(h);l.indices=c,a+=l.count,l.added||(s+=l.count)}}return e}n.prototype={diff:function(t,e,n){n||(n=function(t,e){return t===e}),this.equals=n;var r=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,s=1,l=o+a,c=[{newPos:-1,components:[]}],h=this.extractCommon(c[0],e,t,0);if(c[0].newPos+1>=o&&h+1>=a){for(var u=[],d=0;d<e.length;d++)u.push(d);return[{indices:u,count:e.length}]}function p(){for(var n=-1*s;n<=s;n+=2){var l,h=c[n-1],u=c[n+1],d=(u?u.newPos:0)-n;h&&(c[n-1]=void 0);var p=h&&h.newPos+1<o,f=u&&0<=d&&d<a;if(p||f){if(!p||f&&h.newPos<u.newPos?(l={newPos:(g=u).newPos,components:g.components.slice(0)},r.pushComponent(l.components,void 0,!0)):((l=h).newPos++,r.pushComponent(l.components,!0,void 0)),d=r.extractCommon(l,e,t,n),l.newPos+1>=o&&d+1>=a)return i(r,l.components,e,t);c[n]=l}else c[n]=void 0}var g;s++}for(;s<=l;){var f=p();if(f)return f}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,o=n.length,a=t.newPos,s=a-i,l=0;a+1<r&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var r=new n;t.exports=function(t,e,n){return r.diff(t,e,n)}},function(t,e,n){var i=n(214),r=n(3),o=n(100),a=n(50);function s(t,e){i.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}r.inherits(s,i),s.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;r.each(["fill","stroke"],(function(i){if(e.style[i]&&("linear"===e.style[i].type||"radial"===e.style[i].type)){var r,o=e.style[i],a=n.getDefs(!0);o._dom?(r=o._dom,a.contains(o._dom)||n.addDom(r)):r=n.add(o),n.markUsed(e);var s=r.getAttribute("id");t.setAttribute(i,"url(#"+s+")")}}))}},s.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return o("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},s.prototype.update=function(t){var e=this;i.prototype.update.call(this,t,(function(){var n=t.type,i=t._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))}))},s.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void o("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,r=n.length;i<r;++i){var s=this.createElement("stop");s.setAttribute("offset",100*n[i].offset+"%");var l=n[i].color;if(l.indexOf("rgba")>-1){var c=a.parse(l)[3],h=a.toHex(l);s.setAttribute("stop-color","#"+h),s.setAttribute("stop-opacity",c)}else s.setAttribute("stop-color",n[i].color);e.appendChild(s)}t._dom=e},s.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&i.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&i.prototype.markUsed.call(this,e._dom)}};var l=s;t.exports=l},function(t,e,n){var i=n(214),r=n(3),o=n(37);function a(t,e){i.call(this,t,e,"clipPath","__clippath_in_use__")}r.inherits(a,i),a.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},a.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var i,r,a=this.getDefs(!0),s=e[0],l=n?"_textDom":"_dom";s[l]?(r=s[l].getAttribute("id"),i=s[l],a.contains(i)||a.appendChild(i)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",r),a.appendChild(i),s[l]=i);var c=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!n){var h=Array.prototype.slice.call(s.transform);o.mul(s.transform,s.parent.invTransform,s.transform),c.brush(s),s.transform=h}else c.brush(s);var u=this.getSvgElement(s);i.innerHTML="",i.appendChild(u.cloneNode()),t.setAttribute("clip-path","url(#"+r+")"),e.length>1&&this.updateDom(i,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},a.prototype.markUsed=function(t){var e=this;t.__clipPaths&&r.each(t.__clipPaths,(function(t){t._dom&&i.prototype.markUsed.call(e,t._dom),t._textDom&&i.prototype.markUsed.call(e,t._textDom)}))};var s=a;t.exports=s},function(t,e,n){var i=n(214);function r(t,e){i.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function o(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}n(3).inherits(r,i),r.prototype.addWithoutUpdate=function(t,e){if(e&&o(e.style)){var n;if(e._shadowDom)n=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(n);else n=this.add(e);this.markUsed(e);var i=n.getAttribute("id");t.style.filter="url(#"+i+")"}},r.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},r.prototype.update=function(t,e){if(o(e.style)){var n=this;i.prototype.update.call(this,e,(function(){n.updateDom(e,e._shadowDom)}))}else this.remove(t,e)},r.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},r.prototype.updateDom=function(t,e){var n=e.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,r,o,a,s=t.style,l=t.scale&&t.scale[0]||1,c=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,r=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);i=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}n.setAttribute("dx",i/l),n.setAttribute("dy",r/c),n.setAttribute("flood-color",a);var h=o/2/l+" "+o/2/c;n.setAttribute("stdDeviation",h),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(n),t._shadowDom=e},r.prototype.markUsed=function(t){t._shadowDom&&i.prototype.markUsed.call(this,t._shadowDom)};var a=r;t.exports=a},function(t,e,n){"use strict";var i=n(143);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(144);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(145);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(146);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(147);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(148);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){var i=n(5);n(701),n(702),i.registerVisual(i.util.curry(n(112),"liquidFill"))},function(t,e,n){var i=n(190),r=n(5);r.extendSeriesModel({type:"series.liquidFill",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var n=i(["value"],t.data),o=new r.List(n,this);return o.initData(t.data),o},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}})},function(t,e,n){var i=n(5),r=i.number,o=n(40),a=r.parsePercent,s=n(703);i.extendChartView({type:"liquidFill",render:function(t,e,n){var r=this.group;r.removeAll();var l=t.getData(),c=l.getItemModel(0),h=c.get("center"),u=c.get("radius"),d=n.getWidth(),p=n.getHeight(),f=Math.min(d,p),g=0,m=0,v=t.get("outline.show");v&&(g=t.get("outline.borderDistance"),m=a(t.get("outline.itemStyle.borderWidth"),f));var y,x,b,w=a(h[0],d),C=a(h[1],p),_=!1,S=t.get("shape");("container"===S?(_=!0,x=[(y=[d/2,p/2])[0]-m/2,y[1]-m/2],b=[a(g,d),a(g,p)],u=[Math.max(x[0]-b[0],0),Math.max(x[1]-b[1],0)]):(x=(y=a(u,f)/2)-m/2,b=a(g,f),u=Math.max(x-b,0)),v)&&(P().style.lineWidth=m,r.add(P()));var O=_?0:w-u,M=_?0:C-u,k=null;r.add(function(){var e=D(u);e.setStyle(t.getModel("backgroundStyle").getItemStyle()),e.style.fill=null,e.z2=5;var n=D(u);n.setStyle(t.getModel("backgroundStyle").getItemStyle()),n.style.stroke=null;var r=new i.graphic.Group;return r.add(e),r.add(n),r}());var A=this._data,T=[];function D(t,e){if(S){if(0===S.indexOf("path://")){var n=i.graphic.makePath(S.slice(7),{}),r=n.getBoundingRect(),a=r.width,s=r.height;a>s?(s*=2*t/a,a=2*t):(a*=2*t/s,s=2*t);var l=e?0:w-a/2,c=e?0:C-s/2;return n=i.graphic.makePath(S.slice(7),{},new i.graphic.BoundingRect(l,c,a,s)),e&&(n.position=[-a/2,-s/2]),n}if(_){var h=e?-t[0]:w-t[0],u=e?-t[1]:C-t[1];return o.createSymbol("rect",h,u,2*t[0],2*t[1])}h=e?-t:w-t,u=e?-t:C-t;return"pin"===S?u+=t:"arrow"===S&&(u-=t),o.createSymbol(S,h,u,2*t,2*t)}return new i.graphic.Circle({shape:{cx:e?0:w,cy:e?0:C,r:t}})}function P(){var e=D(y);return e.style.fill=null,e.setStyle(t.getModel("outline.itemStyle").getItemStyle()),e}function I(e,n,r){var o=_?u[0]:u,c=_?p/2:u,h=l.getItemModel(e),d=h.getModel("itemStyle"),f=h.get("phase"),g=a(h.get("amplitude"),2*c),m=a(h.get("waveLength"),2*o),v=c-l.get("value",e)*c*2;f=r?r.shape.phase:"auto"===f?e*Math.PI/4:f;var y=d.getItemStyle();if(!y.fill){var x=t.get("color"),b=e%x.length;y.fill=x[b]}var S=new s({shape:{waveLength:m,radius:o,radiusY:c,cx:2*o,cy:0,waterLevel:v,amplitude:g,phase:f,inverse:n},style:y,position:[w,C]});S.shape._waterLevel=v;var O=h.getModel("emphasis.itemStyle").getItemStyle();O.lineWidth=0,i.graphic.setHoverStyle(S,O);var M=D(u,!0);return M.setStyle({fill:"white"}),S.setClipPath(M),S}function E(t,e,n){var i=l.getItemModel(t),r=i.get("period"),o=i.get("direction"),a=l.get("value",t),s=i.get("phase");s=n?n.shape.phase:"auto"===s?t*Math.PI/4:s;var c=0;c="auto"===r?function(e){var n=l.count();return 0===n?e:e*(.2+(n-t)/n*.8)}(5e3):"function"==typeof r?r(a,t):r;var h=0;"right"===o||null==o?h=Math.PI:"left"===o?h=-Math.PI:"none"===o?h=0:console.error("Illegal direction value for liquid fill."),"none"!==o&&i.get("waveAnimation")&&e.animate("shape",!0).when(0,{phase:s}).when(c/2,{phase:h+s}).when(c,{phase:2*h+s}).during((function(){k&&k.dirty(!0)})).start()}l.diff(A).add((function(e){var n=I(e,!1),o=n.shape.waterLevel;n.shape.waterLevel=_?p/2:u,i.graphic.initProps(n,{shape:{waterLevel:o}},t),n.z2=2,E(e,n,null),r.add(n),l.setItemGraphicEl(e,n),T.push(n)})).update((function(e,n){for(var o=A.getItemGraphicEl(n),a=I(e,!1,o),s={},c=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],h=0;h<c.length;++h){var u=c[h];a.shape.hasOwnProperty(u)&&(s[u]=a.shape[u])}var d={},f=["fill","opacity","shadowBlur","shadowColor"];for(h=0;h<f.length;++h){u=f[h];a.style.hasOwnProperty(u)&&(d[u]=a.style[u])}_&&(s.radiusY=p/2),i.graphic.updateProps(o,{shape:s},t),o.useStyle(d),o.position=a.position,o.setClipPath(a.clipPath),o.shape.inverse=a.inverse,E(e,o,o),r.add(o),l.setItemGraphicEl(e,o),T.push(o)})).remove((function(t){var e=A.getItemGraphicEl(t);r.remove(e)})).execute(),c.get("label.show")&&r.add(function(e){var n=c.getModel("label");var r={z2:10,shape:{x:O,y:M,width:2*(_?u[0]:u),height:2*(_?u[1]:u)},style:{fill:"transparent",text:(s=t.getFormattedLabel(0,"normal"),h=100*l.get("value",0),d=l.getName(0)||t.name,isNaN(h)||(d=h.toFixed(0)+"%"),null==s?d:s),textAlign:n.get("align"),textVerticalAlign:n.get("baseline")},silent:!0},o=new i.graphic.Rect(r),a=n.get("color");var s,h,d;i.graphic.setText(o.style,n,a);var p=new i.graphic.Rect(r),f=n.get("insideColor");i.graphic.setText(p.style,n,f),p.style.textFill=f;var g=new i.graphic.Group;g.add(o),g.add(p);var m=D(u,!0);return(k=new i.graphic.CompoundPath({shape:{paths:e},position:[w,C]})).setClipPath(m),p.setClipPath(k),g}(T)),this._data=l},dispose:function(){}})},function(t,e,n){var i=n(5);function r(t,e,n,i){return 0===e?[[t+.5*n/Math.PI/2,i/2],[t+.5*n/Math.PI,i],[t+n/4,i]]:1===e?[[t+.5*n/Math.PI/2*(Math.PI-2),i],[t+.5*n/Math.PI/2*(Math.PI-1),i/2],[t+n/4,0]]:2===e?[[t+.5*n/Math.PI/2,-i/2],[t+.5*n/Math.PI,-i],[t+n/4,-i]]:[[t+.5*n/Math.PI/2*(Math.PI-2),-i],[t+.5*n/Math.PI/2*(Math.PI-1),-i/2],[t+n/4,0]]}t.exports=i.graphic.extendShape({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(t,e){null==e.radiusY&&(e.radiusY=e.radius);for(var n=Math.max(2*Math.ceil(2*e.radius/e.waveLength*4),8);e.phase<2*-Math.PI;)e.phase+=2*Math.PI;for(;e.phase>0;)e.phase-=2*Math.PI;var i=e.phase/Math.PI/2*e.waveLength,o=e.cx-e.radius+i-2*e.radius;t.moveTo(o,e.waterLevel);for(var a=0,s=0;s<n;++s){var l=s%4,c=r(s*e.waveLength/4,l,e.waveLength,e.amplitude);t.bezierCurveTo(c[0][0]+o,-c[0][1]+e.waterLevel,c[1][0]+o,-c[1][1]+e.waterLevel,c[2][0]+o,-c[2][1]+e.waterLevel),s===n-1&&(a=c[2][0])}e.inverse?(t.lineTo(a+o,e.cy-e.radiusY),t.lineTo(o,e.cy-e.radiusY),t.lineTo(o,e.waterLevel)):(t.lineTo(a+o,e.cy+e.radiusY),t.lineTo(o,e.cy+e.radiusY),t.lineTo(o,e.waterLevel)),t.closePath()}})},function(t,e,n){"use strict";var i=n(149);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(150);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(151);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".num-display-h {\n  width: 100%;\n  /*height: 400px;*/\n}\n.num-display-wrap {\n  display: flex;\n  justify-content: space-around;\n  text-align: center;\n  /*padding-top: 100px;*/\n}\n.num-display-wrap-num {\n  font-size: 70px;\n  font-family: PingFangSC-Semibold, PingFang SC;\n  font-weight: 600;\n  line-height: 98px;\n  margin: 0;\n}\n.num-display-wrap-name {\n  font-size: 16px;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  line-height: 22px;\n  margin: 0;\n}",""])},function(t,e,n){"use strict";var i=n(152);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".num-display-v {\n  display: flex;\n  align-items: center;\n}\n.num-display-v-title {\n  font-size: 20px;\n  text-align: center;\n  color: #3E3E3E;\n  position: absolute;\n  top: 54px;\n  left: 0;\n  right: 0;\n}\n.num-display-v-stop {\n  margin: 0 auto;\n}\n.num-display-v-stop div {\n  margin-top: 20px;\n  text-align: right;\n}\n.num-display-v .total-stop {\n  font-size: 60px;\n  font-family: PingFangSC-Semibold, PingFang SC;\n  font-weight: 600;\n}\n.num-display-v .total-stop-unit {\n  padding-left: 6px;\n  font-size: 20px;\n  font-family: PingFangSC-Semibold, PingFang SC;\n  font-weight: 600;\n  color: #3E3E3E;\n}",""])},function(t,e,n){"use strict";var i=n(153);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,'@charset "UTF-8";\n.display-list {\n  height: 360px;\n  overflow: auto;\n  width: 100%;\n}\n.display-list::-webkit-scrollbar-thumb {\n  /**/\n  background: #DDDDDD;\n  border-radius: 10px;\n  width: 5px;\n}\n.display-list::-webkit-scrollbar {\n  /**/\n  width: 4px;\n}\n.display-list-status {\n  margin: 0 12px;\n  height: 36px;\n  line-height: 36px;\n  border-radius: 4px;\n  text-align: left;\n  border-left: 6px solid #31C1EB;\n  padding: 0 14px;\n  font-size: 14px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: #3E3E3E;\n  margin-bottom: 8px;\n}',""])},function(t,e,n){"use strict";var i=n(154);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(155);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".wrap {\n  height: 100%;\n  width: 100%;\n}",""])},function(t,e,n){"use strict";var i=n(156);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".property-list[data-v-c6969df4] {\n  width: 100%;\n}",""])},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";var i=n(157);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,".goods-sku-box[data-v-a0e2c256] {\n  border: 1px solid #ebeef5;\n}\n.goods-sku-box .goods-attrs + .goods-attrs[data-v-a0e2c256] {\n  border-top: 1px solid #ebeef5;\n}\n.goods-sku-box .goods-attr-values[data-v-a0e2c256] {\n  padding: 5px 10px;\n  border-top: 1px solid #ebeef5;\n}\n.goods-sku-box .attr-title[data-v-a0e2c256] {\n  padding: 5px 10px;\n  background: #f5f7fa;\n}",""])},function(t,e,n){var i=n(724);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(29)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"body.gstc-items-resizing-left * {\n  cursor: w-resize !important;\n}\nbody.gstc-items-resizing-right * {\n  cursor: e-resize !important;\n}\n.gstc__chart-timeline-items-row-item.gstc__selected {\n  z-index: 2 !important;\n}\nbody.gstc-items-moving * {\n  cursor: -webkit-grabbing !important;\n  cursor: grabbing !important;\n}\n.gstc__timeline-chart-items-row-item--moving {\n  z-index: 3 !important;\n}\nbody.gstc-scrolling * {\n  cursor: -webkit-grabbing !important;\n  cursor: grabbing !important;\n}\n.gstc-error {\n  background: #d73c2c;\n  color: #fff;\n  padding: 10px;\n  margin: 10px;\n  line-height: 2em;\n}\n.gstc-error a {\n  color: #fff;\n}\n.gstc-code {\n  background: #ddd;\n  color: #000;\n  font-family: monospace;\n  padding: 4px 7px;\n  border-radius: 4px;\n  box-shadow: inset 2px 2px 3px rgba(0,0,0,0.314);\n}\n.gstc {\n  display: flex;\n  overflow: hidden;\n  color: #606060;\n  font-size: 14px;\n  background-color: #fdfdfd;\n  line-height: 1.2;\n}\n.gstc * {\n  box-sizing: border-box;\n}\n.gstc__helper-center {\n  text-align: center;\n}\n.gstc__helper-dark {\n  background: #f9fafb;\n}\n.gstc__is-selecting .gstc__selected,\n.gstc-scrolling .gstc__selected {\n  -webkit-animation-name: none !important;\n          animation-name: none !important;\n}\n.gstc__list-column-header-resizer--active {\n  cursor: ew-resize;\n}\n.gstc__list-column-header-resizer--active * {\n  -webkit-user-select: none; /* Safari 3.1+ */\n  -moz-user-select: none; /* Firefox 2+ */\n  -ms-user-select: none; /* IE 10+ */\n  user-select: none; /* Standard syntax */\n}\n.gstc__scroll-bar {\n  overflow: hidden;\n  position: relative;\n  border-radius: 4px;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.gstc__scroll-bar--vertical {\n  flex-shrink: 0;\n  position: absolute;\n  right: 0px;\n}\n.gstc__scroll-bar-inner {\n  background: rgba(0,0,0,0.16);\n  border-radius: 4px;\n  position: absolute;\n}\n.gstc__scroll-bar-inner:hover,\n.gstc__scroll-bar-inner--active {\n  background: rgba(0,0,0,0.25);\n}\n.gstc__list {\n  border-collapse: collapse;\n  display: flex;\n  overflow: hidden;\n  flex-grow: 0;\n  flex-shrink: 0;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__list > * {\n  touch-action: none;\n}\n.gstc__list-toggle {\n  position: absolute;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  left: 0px;\n  top: 0px;\n  overflow: hidden;\n  cursor: pointer;\n  padding: 14px;\n  background: rgba(255,255,255,0.502);\n  transition: box-shadow 250ms;\n  box-shadow: 0px 0px 0px rgba(0,0,0,0);\n  border-bottom-right-radius: 9px;\n}\n.gstc__list-toggle:hover {\n  box-shadow: 0px 0px 6px rgba(0,0,0,0.15);\n  background: #fff;\n}\n.gstc__list-toggle img {\n  opacity: 0.5;\n}\n.gstc__list-column-row-expander {\n  display: flex;\n  height: var(--height);\n  width: calc(var(--expander-padding-width) + var(--expander-size));\n  flex-shrink: 0;\n}\n.gstc__list-column-row-expander-toggle {\n  padding-left: var(--expander-padding-width);\n  display: block;\n  flex-shrink: 0;\n  height: var(--height);\n  width: calc(var(--expander-size) + var(--expander-padding-width));\n  overflow: hidden;\n  text-align: center;\n  margin: 0 auto;\n}\n.gstc__list-column-row-expander-toggle img {\n  width: 16px;\n  height: 16px;\n}\n.gstc__list-column-row-expander-toggle-child {\n  cursor: default;\n}\n.gstc__list-column-row-expander-toggle-open {\n  cursor: pointer;\n}\n.gstc__list-column-row-expander-toggle-closed {\n  cursor: pointer;\n}\n.gstc__list-column {\n  width: var(--width);\n  position: relative;\n}\n.gstc__list-column-rows {\n  height: var(--height);\n  width: var(--width);\n  overflow: hidden;\n}\n.gstc__list-column-row,\n.gstc__list-column-header {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: var(--height);\n  line-height: var(--height);\n  vertical-align: middle;\n  font-size: 14px;\n  display: flex;\n}\n.gstc__list-column-row * {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  line-height: var(--height);\n}\n.gstc__list-column-row {\n  border-bottom: 1px solid rgba(237,241,242,0.75);\n  border-right: 1px solid rgba(237,241,242,0.75);\n  width: var(--width);\n}\n.gstc__list-column-row-content {\n  width: calc(var(--width) - var(--expander-padding-width) - var(--expander-size));\n  height: var(--height);\n  overflow: hidden;\n  padding-left: 6px;\n  flex-shrink: 0;\n  flex-grow: 1;\n}\n.gstc__list-column-header {\n  background: #f9fafb;\n  font-weight: 500;\n  color: #707070;\n  height: var(--height);\n  width: var(--width);\n  line-height: var(--height);\n  display: flex;\n}\n.gstc__list-column-header-content {\n  vertical-align: middle;\n  line-height: calc(var(--height) - 2px);\n  width: 100%;\n  display: flex;\n}\n.gstc__list-column-header-resizer {\n  display: flex;\n  flex-grow: 1;\n  flex-shrink: 0;\n  background: transparent;\n  vertical-align: middle;\n  height: var(--height);\n}\n.gstc__list-column-header-resizer-container,\n.gstc__list-column-header-resizer-dots {\n  display: block;\n}\n.gstc__list-column-header-resizer-container {\n  flex-grow: 1;\n  padding-left: 6px;\n}\n.gstc__list-column-header-resizer-line {\n  position: absolute;\n  top: 0;\n  width: 0px;\n  height: 100%;\n  border-right: 2px dashed #000;\n  display: var(--display);\n  left: var(--left);\n  z-index: 1000;\n}\n.gstc__list-column-header-resizer-dots {\n  cursor: ew-resize;\n  background: transparent;\n  padding-top: 12px;\n  padding-left: 6px;\n  padding-right: 2px;\n}\n.gstc__list-column-header-resizer-dots-dot {\n  background: #e0eff2;\n  width: 3px;\n  height: 3px;\n  border-radius: 100%;\n  margin-bottom: 6px;\n  box-shadow: inset 1px 1px 0px rgba(0,0,0,0.05);\n}\n.gstc__list-column-header-resizer-sort-icon {\n  margin-left: 4px;\n}\n.gstc__chart {\n  flex-grow: 1;\n  flex-shrink: 1;\n  overflow: hidden;\n  position: relative;\n}\n.gstc__chart-time-bookmarks {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  pointer-events: none;\n  overflow: hidden;\n}\n.gstc__chart-time-bookmark {\n  position: absolute;\n  height: 100%;\n  opacity: 0.6;\n}\n.gstc__chart-time-bookmark-handle {\n  color: #fff;\n  font-size: 10px;\n  padding: 2px 4px;\n  border-radius: 4px;\n  border-bottom-left-radius: 0px;\n}\n.gstc__chart-time-bookmark-line {\n  height: 100%;\n}\n.gstc__chart-selection {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: rgba(0,119,192,0.2);\n  border: 2px dashed rgba(0,119,192,0.75);\n}\n.gstc__chart-calendar {\n  background: #f9fafb;\n  margin-right: -17px;\n  display: flex;\n  flex-wrap: wrap;\n}\n.gstc__chart-calendar-dates {\n  overflow: hidden;\n  color: #747a81;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  display: flex;\n  width: 100%;\n}\n.gstc__chart-calendar-dates--level-main {\n  flex-grow: 1;\n}\n.gstc__chart-calendar-date {\n  flex-grow: 0;\n  flex-shrink: 0;\n  border: none;\n  white-space: nowrap;\n  border-right: 1px solid rgba(177,184,189,0.5);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.gstc__chart-calendar-date--month {\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.gstc__chart-calendar-date--day,\n.gstc__chart-calendar-date--week {\n  text-align: center;\n}\n.gstc__chart-calendar-date--main-date.gstc-current {\n  box-shadow: inset 0px 0px 4px rgba(177,184,189,0.45);\n}\n.gstc__chart-calendar-date--non-main-date .gstc__chart-calendar-date-content {\n  margin-left: 4px;\n}\n.gstc__chart-calendar-date-content {\n  white-space: nowrap;\n}\n.gstc__chart-calendar-date-content .gstc-dash {\n  line-height: 15px;\n}\n.gstc__chart-calendar-date-content.gstc-date-bold {\n  font-weight: 500;\n}\n.gstc__chart-calendar-date-content.gstc-date-thin {\n  font-weight: 300;\n}\n.gstc__chart-calendar-date-content.gstc-date-normal {\n  font-weight: 400 !important;\n}\n.gstc__chart-calendar-date-content.gstc-date-bottom {\n  margin-top: 4px;\n}\n.gstc__chart-calendar-date-content.gstc-date-left {\n  text-align: left;\n}\n.gstc__chart-calendar-date-content.gstc-date-center {\n  text-align: center;\n}\n.gstc__chart-calendar-date-content.gstc-date-vertical {\n  font-size: 14px;\n}\n.gstc__chart-calendar-date-content.gstc-date-vertical .gstc-date-top {\n  margin-top: 2px;\n}\n.gstc__chart-calendar-date-content.gstc-date-small {\n  font-size: 13px;\n  font-weight: 300;\n  line-height: 1em;\n}\n.gstc__chart-calendar-date-content.gstc-date-extra-small {\n  font-size: 9px;\n}\n.gstc__chart-calendar-date-content.gstc-date-medium {\n  font-size: 16px;\n}\n.gstc__chart-calendar-date-content.gstc-date-month-level-1 {\n  font-size: 16px;\n  line-height: 1.6em;\n  text-align: center;\n}\n.gstc__chart-calendar-date-content.gstc-date-big {\n  text-align: center;\n  font-size: 23px;\n  height: var(--calendar-height);\n  line-height: var(--calendar-height);\n}\n.gstc__chart-calendar-date-content--hour {\n  text-align: center;\n}\n.gstc__chart-calendar-date-content--day,\n.gstc__chart-calendar-date-content--week {\n  font-size: 18px;\n  line-height: 1.6em;\n  overflow: visible;\n}\n.gstc__chart-calendar-date-content--day.gstc-date-week-small,\n.gstc__chart-calendar-date-content--week.gstc-date-week-small {\n  line-height: 1.2em;\n  height: calc(var(--calendar-height) - 20px);\n  font-size: 14px;\n}\n.gstc__chart-calendar-date-content--day.current,\n.gstc__chart-calendar-date-content--week.current {\n  border-right: none;\n}\n.gstc__chart-calendar-date-content--day.previous,\n.gstc__chart-calendar-date-content--week.previous {\n  border-right: none;\n}\n.gstc__chart-timeline {\n  overflow: hidden;\n  position: relative;\n}\n.gstc__chart-timeline-inner {\n  overflow: hidden;\n}\n.gstc__chart-timeline-grid {\n  overflow: hidden;\n}\n.gstc__chart-timeline-grid * {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-grid-row {\n  display: flex;\n  text-align: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  pointer-events: all;\n  overflow: hidden;\n}\n.gstc__chart-timeline-grid-row-cell {\n  pointer-events: all;\n  flex-grow: 0;\n  flex-shrink: 0;\n  vertical-align: middle;\n  overflow: hidden;\n  border-right: 1px solid rgba(237,241,242,0.75);\n  border-bottom: 1px solid rgba(237,241,242,0.75);\n  touch-action: none;\n}\n.gstc__chart-timeline-grid-row-cell--selecting {\n  background: rgba(0,119,192,0.5) !important;\n}\n.gstc__chart-timeline-grid-row-cell--selecting:last-child {\n  border-right: 1px solid #f00;\n}\n.gstc__chart-timeline-grid-row-cell--selected {\n  background: rgba(0,119,192,0.75) !important;\n}\n.gstc__chart-timeline-grid-row-cell.current {\n  background: rgba(241,196,15,0.1);\n}\n.gstc__chart-timeline-grid-row-cell--weekend {\n  background: #f9fafb;\n}\n.gstc__chart-timeline-grid-row-cell.gstc__selecting {\n  background: rgba(52,152,219,0.627) !important;\n}\n.gstc__chart-timeline-grid-row-cell.gstc__selected {\n  background: #3498db !important;\n}\n.gstc__chart-timeline-dependency-lines {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-dependency-lines-lines {\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-dependency-lines-lines-line {\n  position: absolute;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-dependency-lines-lines-line path {\n  stroke: rgba(189,195,199,0.62);\n  stroke-width: 2px;\n  fill: transparent;\n}\n.gstc__chart-timeline-dependency-lines-points {\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-dependency-lines-points-point {\n  position: absolute;\n  pointer-events: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-dependency-lines-points-point--left {\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n  border-radius: 100%;\n  background: rgba(189,195,199,0.631);\n  border: 1px solid rgba(0,0,0,0.278);\n  pointer-events: all;\n}\n.gstc__chart-timeline-dependency-lines-points-point--right {\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n  pointer-events: all;\n  background: rgba(189,195,199,0.631);\n  border: 1px solid rgba(0,0,0,0.278);\n  transform: rotate(45deg);\n}\n.gstc__chart-timeline-dependency-lines * {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-items {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none !important;\n  overflow: hidden;\n  touch-action: none;\n}\n.gstc__chart-timeline-items * {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.gstc__chart-timeline-items-row {\n  overflow: hidden;\n  position: relative;\n  pointer-events: none !important;\n  touch-action: none;\n}\n.gstc__chart-timeline-items-row-item {\n  touch-action: none;\n  overflow: visible;\n  position: absolute;\n  pointer-events: all;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  background: #e74c3c;\n  border-radius: 14px;\n  color: #fff;\n  line-height: 22px;\n  display: flex;\n}\n.gstc__chart-timeline-items-row-item--left-cut {\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n}\n.gstc__chart-timeline-items-row-item--right-cut {\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n}\n.gstc__chart-timeline-items-row-item-cut {\n  height: 100%;\n}\n.gstc__chart-timeline-items-row-item-cut-image {\n  vertical-align: bottom;\n  width: 18px;\n  opacity: 0.7;\n}\n.gstc__chart-timeline-items-row-item-label {\n  touch-action: none;\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 4px 10px;\n  -webkit-mask-image: linear-gradient(to right, #000 0%, #000 75%, transparent 90%);\n  mask-image: linear-gradient(to right, #000 0%, #000 75%, transparent 90%);\n}\n.gstc__chart-timeline-items-row-item-resizing-handle {\n  overflow: hidden;\n  z-index: 100;\n  pointer-events: all;\n  display: flex;\n  background-blend-mode: overlay;\n  background: rgba(0,0,0,0.06);\n}\n.gstc__chart-timeline-items-row-item-resizing-handle-content-line {\n  width: 1px;\n  height: 40%;\n  background: rgba(255,255,255,0.4);\n  box-shadow: -1px -1px 0px rgba(0,0,0,0.05);\n  background-blend-mode: overlay;\n  border-radius: 1px;\n  margin: auto 1px;\n  margin-left: 1px;\n}\n.gstc__chart-timeline-items-row-item-resizing-handle--right {\n  border-top-right-radius: 14px;\n  border-bottom-right-radius: 14px;\n  cursor: e-resize;\n  padding-left: 5px;\n}\n.gstc__chart-timeline-items-row-item-resizing-handle--left {\n  border-top-left-radius: 14px;\n  border-bottom-left-radius: 14px;\n  cursor: w-resize;\n  padding-left: 7px;\n}\n.gstc__chart-timeline-items-row-item-resizing-handle--right-outside {\n  border-radius: 14px;\n  cursor: e-resize;\n  padding-left: 4px;\n  background: rgba(0,0,0,0.122);\n}\n.gstc__chart-timeline-items-row-item-resizing-handle--left-outside {\n  border-radius: 14px;\n  cursor: w-resize;\n  padding-left: 4px;\n  background: rgba(0,0,0,0.122);\n}\n.gstc__chart-timeline-items-row-item-progress-bar {\n  background-size: auto auto;\n  background-color: rgba(255,255,255,0);\n  background-image: repeating-linear-gradient(135deg, transparent, transparent 10px, rgba(255,255,255,0.15) 10px, rgba(255,255,255,0.15) 20px);\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n}\n.gstc__chart-timeline-items-row-item.gstc__selecting {\n  box-shadow: 0px 0px 1px 2px rgba(0,119,192,0.5);\n}\n.gstc__chart-timeline-items-row-item.gstc__selected {\n  box-shadow: 0px 0px 1px 2px #0077c0;\n  cursor: -webkit-grab;\n  cursor: grab;\n}\n.gstc__chart-timeline-items-row-item-dependency-line {\n  position: absolute;\n}\n.gstc__chart-timeline-items-row-item-dependency-handle {\n  position: absolute;\n  border-radius: 100%;\n  background: #e74c3c;\n  box-shadow: 0px 4px 4px rgba(199,44,28,0.678);\n}\n.gstc__item-type.gstc__chart-timeline-items-row-item {\n  background: transparent;\n  border-radius: 0;\n}\n.gstc__item-type.gstc__selected {\n  box-shadow: none !important;\n}\n.gstc__item-type.gstc__selected svg {\n  -webkit-filter: drop-shadow(0px 0px 1px #0077c0) drop-shadow(0px 0px 2px #0077c0);\n          filter: drop-shadow(0px 0px 1px #0077c0) drop-shadow(0px 0px 2px #0077c0);\n}\n.gstc__item-type .gstc__chart-timeline-items-row-item-resizing-handle--left-outside {\n  border-radius: 5px;\n  background: rgba(0,0,0,0.2);\n}\n.gstc__item-type .gstc__chart-timeline-items-row-item-resizing-handle--right-outside {\n  border-radius: 5px;\n  background: rgba(0,0,0,0.2);\n}\n.gstc__item-type .gstc__chart-timeline-items-row-item-resizing-handle--left {\n  border-radius: 0;\n}\n.gstc__item-type .gstc__chart-timeline-items-row-item-resizing-handle--right {\n  border-radius: 0;\n}\n.gstc__item-type.gstc__chart-timeline-items-row-item-label {\n  margin: 4px 16px;\n}\n.gstc__item-type-progress-line {\n  stroke: rgba(255,255,255,0.145);\n  stroke-width: 20;\n}\n.gstc__item-type-content {\n  display: flex;\n}\n@-webkit-keyframes selected-animation {\n  0% {\n    background: #3498db;\n  }\n  100% {\n    background: #3498db;\n  }\n}\n@keyframes selected-animation {\n  0% {\n    background: #3498db;\n  }\n  100% {\n    background: #3498db;\n  }\n}\n@-webkit-keyframes selected-item-animation {\n  0% {\n    box-shadow: 0px 0px 1px 2px #0077c0;\n  }\n  100% {\n    box-shadow: 0px 0px 1px 2px #0077c0;\n  }\n}\n@keyframes selected-item-animation {\n  0% {\n    box-shadow: 0px 0px 1px 2px #0077c0;\n  }\n  100% {\n    box-shadow: 0px 0px 1px 2px #0077c0;\n  }\n}\n",""])},function(t,e,n){"use strict";var i=n(158);n.n(i).a},function(t,e,n){(t.exports=n(28)(!1)).push([t.i,"\n.gstc-component[data-v-21c38892] {\n    margin: 0;\n    padding: 0;\n}\n.toolbox[data-v-21c38892]{\n    padding: 10px;\n}\n",""])},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"isArray",(function(){return T})),n.d(i,"isArrayLike",(function(){return $})),n.d(i,"uniq",(function(){return Jt})),n.d(i,"union",(function(){return be})),n.d(i,"sortedIndex",(function(){return Me})),n.d(i,"sortedIndexBy",(function(){return oi})),n.d(i,"sortBy",(function(){return fi})),n.d(i,"groupBy",(function(){return bi})),n.d(i,"difference",(function(){return Ci})),n.d(i,"diff",(function(){return _i}));var r={};n.r(r),n.d(r,"has",(function(){return ki})),n.d(r,"pick",(function(){return ji})),n.d(r,"forIn",(function(){return zi})),n.d(r,"merge",(function(){return lr})),n.d(r,"extend",(function(){return cr})),n.d(r,"isEqual",(function(){return hr})),n.d(r,"isEmpty",(function(){return dr})),n.d(r,"isObject",(function(){return V})),n.d(r,"isPlainObject",(function(){return er})),n.d(r,"clone",(function(){return Nr})),n.d(r,"cloneDeep",(function(){return Rr})),n.d(r,"defaults",(function(){return Vr})),n.d(r,"defaultsDeep",(function(){return Wr})),n.d(r,"applyMixins",(function(){return $r})),n.d(r,"inherit",(function(){return Xr})),n.d(r,"createClass",(function(){return Ur})),n.d(r,"ensure",(function(){return Zr})),n.d(r,"getValue",(function(){return Kr})),n.d(r,"getNumber",(function(){return Jr})),n.d(r,"getBoolean",(function(){return Qr})),n.d(r,"getByPath",(function(){return to})),n.d(r,"setByPath",(function(){return eo})),n.d(r,"unsetByPath",(function(){return no})),n.d(r,"flatten",(function(){return io}));var o={};n.r(o),n.d(o,"isString",(function(){return ro})),n.d(o,"toString",(function(){return Yn})),n.d(o,"escape",(function(){return co})),n.d(o,"unescape",(function(){return fo})),n.d(o,"startsWith",(function(){return ko})),n.d(o,"endsWith",(function(){return Ao})),n.d(o,"split",(function(){return Uo})),n.d(o,"repeat",(function(){return Jo})),n.d(o,"pad",(function(){return ga})),n.d(o,"padEnd",(function(){return ma})),n.d(o,"padStart",(function(){return va})),n.d(o,"truncate",(function(){return xa})),n.d(o,"template",(function(){return Fa})),n.d(o,"uniqueId",(function(){return Va})),n.d(o,"eval",(function(){return Ga})),n.d(o,"lowerFirst",(function(){return Ss})),n.d(o,"upperFirst",(function(){return ys})),n.d(o,"camelCase",(function(){return ws})),n.d(o,"kebabCase",(function(){return Ms})),n.d(o,"pascalCase",(function(){return ks})),n.d(o,"constantCase",(function(){return As})),n.d(o,"dotCase",(function(){return Ts})),n.d(o,"pathCase",(function(){return Ds})),n.d(o,"sentenceCase",(function(){return Ps})),n.d(o,"titleCase",(function(){return Is})),n.d(o,"hashcode",(function(){return Es})),n.d(o,"uuid",(function(){return js})),n.d(o,"sanitizeHTML",(function(){return Ls})),n.d(o,"getSpellingSuggestion",(function(){return Bs}));var a={};n.r(a),n.d(a,"isNaN",(function(){return Fs})),n.d(a,"isNumber",(function(){return Rs})),n.d(a,"isFinite",(function(){return Vs})),n.d(a,"isInteger",(function(){return Gs})),n.d(a,"isSafeInteger",(function(){return Hs})),n.d(a,"clamp",(function(){return Ws})),n.d(a,"inRange",(function(){return qs})),n.d(a,"toFinite",(function(){return Oo})),n.d(a,"toNumber",(function(){return So})),n.d(a,"toInteger",(function(){return Mo})),n.d(a,"toSafeInteger",(function(){return Us})),n.d(a,"parseInt",(function(){return Js})),n.d(a,"isNumeric",(function(){return A})),n.d(a,"mod",(function(){return Qs})),n.d(a,"random",(function(){return tl})),n.d(a,"isPercentage",(function(){return el})),n.d(a,"normalizePercentage",(function(){return nl})),n.d(a,"parseCssNumeric",(function(){return il})),n.d(a,"normalizeSides",(function(){return rl}));var s={};n.r(s),n.d(s,"isFunction",(function(){return G})),n.d(s,"once",(function(){return al})),n.d(s,"noop",(function(){return qt})),n.d(s,"debounce",(function(){return hl})),n.d(s,"defer",(function(){return dl})),n.d(s,"apply",(function(){return pl})),n.d(s,"call",(function(){return fl})),n.d(s,"cacher",(function(){return gl})),n.d(s,"isAsyncLike",(function(){return ml})),n.d(s,"isAsync",(function(){return vl})),n.d(s,"toAsyncBoolean",(function(){return yl})),n.d(s,"toDeferredBoolean",(function(){return xl}));var l={};n.r(l),n.d(l,"annotate",(function(){return sc})),n.d(l,"findAnnotationsAtIndex",(function(){return lc})),n.d(l,"findAnnotationsBetweenIndexes",(function(){return cc})),n.d(l,"shiftAnnotations",(function(){return hc})),n.d(l,"sanitize",(function(){return uc}));var c={};n.r(c),n.d(c,"requestAnimationFrame",(function(){return vc})),n.d(c,"cancelAnimationFrame",(function(){return yc})),n.d(c,"getAttribute",(function(){return Jl})),n.d(c,"removeAttribute",(function(){return Ql})),n.d(c,"setAttribute",(function(){return tc})),n.d(c,"setAttributes",(function(){return ec})),n.d(c,"attr",(function(){return nc})),n.d(c,"qualifyAttr",(function(){return ic})),n.d(c,"kebablizeAttrs",(function(){return rc})),n.d(c,"styleToObject",(function(){return oc})),n.d(c,"mergeAttrs",(function(){return ac})),n.d(c,"uniqueId",(function(){return Tl})),n.d(c,"ensureId",(function(){return Dl})),n.d(c,"isSVGGraphicsElement",(function(){return Pl})),n.d(c,"ns",(function(){return Il})),n.d(c,"svgVersion",(function(){return El})),n.d(c,"createElement",(function(){return jl})),n.d(c,"createElementNS",(function(){return Ll})),n.d(c,"createSvgElement",(function(){return Bl})),n.d(c,"createSvgDocument",(function(){return Nl})),n.d(c,"parseXML",(function(){return Rl})),n.d(c,"tagName",(function(){return Fl})),n.d(c,"index",(function(){return zl})),n.d(c,"find",(function(){return Vl})),n.d(c,"findOne",(function(){return Gl})),n.d(c,"findParentByClass",(function(){return Hl})),n.d(c,"contains",(function(){return Wl})),n.d(c,"remove",(function(){return $l})),n.d(c,"empty",(function(){return Yl})),n.d(c,"append",(function(){return Xl})),n.d(c,"prepend",(function(){return ql})),n.d(c,"before",(function(){return Ul})),n.d(c,"appendTo",(function(){return Zl})),n.d(c,"isHTMLElement",(function(){return Kl})),n.d(c,"getClass",(function(){return _l})),n.d(c,"hasClass",(function(){return Sl})),n.d(c,"addClass",(function(){return Ol})),n.d(c,"removeClass",(function(){return Ml})),n.d(c,"toggleClass",(function(){return kl})),n.d(c,"setPrefixedStyle",(function(){return Sc})),n.d(c,"getComputedStyle",(function(){return Oc})),n.d(c,"hasScrollbars",(function(){return Mc})),n.d(c,"getVendorPrefixedName",(function(){return _c})),n.d(c,"clearSelection",(function(){return kc})),n.d(c,"text",(function(){return wh})),n.d(c,"breakText",(function(){return Ch})),n.d(c,"KAPPA",(function(){return _h})),n.d(c,"sample",(function(){return Oh})),n.d(c,"lineToPathData",(function(){return Mh})),n.d(c,"polygonToPathData",(function(){return kh})),n.d(c,"polylineToPathData",(function(){return Ah})),n.d(c,"getPointsFromSvgElement",(function(){return Dh})),n.d(c,"circleToPathData",(function(){return Ph})),n.d(c,"ellipseToPathData",(function(){return Ih})),n.d(c,"rectangleToPathData",(function(){return Eh})),n.d(c,"rectToPathData",(function(){return jh})),n.d(c,"toPath",(function(){return Lh})),n.d(c,"toPathData",(function(){return Bh})),n.d(c,"createSlicePathData",(function(){return Nh})),n.d(c,"bbox",(function(){return ru})),n.d(c,"getBBox",(function(){return ou})),n.d(c,"getBBoxByElementAttr",(function(){return au})),n.d(c,"getMatrixByElementAttr",(function(){return su})),n.d(c,"getTransformToElement",(function(){return lu})),n.d(c,"toLocalPoint",(function(){return cu})),n.d(c,"toGeometryShape",(function(){return hu})),n.d(c,"getIntersection",(function(){return uu})),n.d(c,"animate",(function(){return du})),n.d(c,"animateTransform",(function(){return pu})),n.d(c,"animateAlongPath",(function(){return mu})),n.d(c,"getBoundingOffsetRect",(function(){return vu})),n.d(c,"createSVGPoint",(function(){return Gh})),n.d(c,"createSVGMatrix",(function(){return Hh})),n.d(c,"createSVGTransform",(function(){return Wh})),n.d(c,"transformStringToMatrix",(function(){return $h})),n.d(c,"matrixToTransformString",(function(){return Yh})),n.d(c,"parseTransformString",(function(){return Xh})),n.d(c,"decomposeMatrix",(function(){return Uh})),n.d(c,"matrixToScale",(function(){return Zh})),n.d(c,"matrixToRotation",(function(){return Kh})),n.d(c,"matrixToTranslation",(function(){return Jh})),n.d(c,"transformPoint",(function(){return Qh})),n.d(c,"transformLine",(function(){return tu})),n.d(c,"transformPolyline",(function(){return eu})),n.d(c,"transformRectangle",(function(){return nu})),n.d(c,"transform",(function(){return yu})),n.d(c,"translate",(function(){return xu})),n.d(c,"rotate",(function(){return bu})),n.d(c,"scale",(function(){return wu})),n.d(c,"translateAndAutoOrient",(function(){return Cu})),n.d(c,"MouseWheelHandle",(function(){return _u})),n.d(c,"isVector",(function(){return Su})),n.d(c,"createVector",(function(){return Ou})),n.d(c,"createVectors",(function(){return Mu}));var h={};n.r(h),n.d(h,"block",(function(){return Pd})),n.d(h,"classic",(function(){return Id})),n.d(h,"diamond",(function(){return Ld})),n.d(h,"path",(function(){return Nd})),n.d(h,"cross",(function(){return Fd})),n.d(h,"async",(function(){return Vd})),n.d(h,"circle",(function(){return Hd})),n.d(h,"circlePlus",(function(){return Wd})),n.d(h,"ellipse",(function(){return Yd}));var u={};n.r(u),n.d(u,"ref",(function(){return ju})),n.d(u,"refX",(function(){return Lu})),n.d(u,"refY",(function(){return Bu})),n.d(u,"refDx",(function(){return Nu})),n.d(u,"refDy",(function(){return Ru})),n.d(u,"refWidth",(function(){return Fu})),n.d(u,"refHeight",(function(){return zu})),n.d(u,"refRx",(function(){return Vu})),n.d(u,"refRy",(function(){return Gu})),n.d(u,"refRInscribed",(function(){return Hu})),n.d(u,"refRCircumscribed",(function(){return Wu})),n.d(u,"refCx",(function(){return $u})),n.d(u,"refCy",(function(){return Yu})),n.d(u,"refDResetOffset",(function(){return Xu})),n.d(u,"refDKeepOffset",(function(){return qu})),n.d(u,"refPointsResetOffset",(function(){return Uu})),n.d(u,"refPointsKeepOffset",(function(){return Zu})),n.d(u,"refR",(function(){return Ku})),n.d(u,"refD",(function(){return Ju})),n.d(u,"refPoints",(function(){return Qu})),n.d(u,"refX2",(function(){return td})),n.d(u,"refY2",(function(){return ed})),n.d(u,"refWidth2",(function(){return nd})),n.d(u,"refHeight2",(function(){return id})),n.d(u,"fill",(function(){return cd})),n.d(u,"stroke",(function(){return hd})),n.d(u,"text",(function(){return ud})),n.d(u,"textWrap",(function(){return dd})),n.d(u,"lineHeight",(function(){return fd})),n.d(u,"textVerticalAnchor",(function(){return gd})),n.d(u,"textPath",(function(){return md})),n.d(u,"annotations",(function(){return vd})),n.d(u,"eol",(function(){return yd})),n.d(u,"displayEmpty",(function(){return xd})),n.d(u,"title",(function(){return bd})),n.d(u,"xAlign",(function(){return wd})),n.d(u,"yAlign",(function(){return Cd})),n.d(u,"resetOffset",(function(){return _d})),n.d(u,"style",(function(){return Od})),n.d(u,"html",(function(){return Md})),n.d(u,"filter",(function(){return kd})),n.d(u,"port",(function(){return Ad})),n.d(u,"sourceMarker",(function(){return Kd})),n.d(u,"targetMarker",(function(){return Jd})),n.d(u,"vertexMarker",(function(){return Qd})),n.d(u,"connection",(function(){return np})),n.d(u,"atConnectionLengthKeepGradient",(function(){return ip})),n.d(u,"atConnectionLengthIgnoreGradient",(function(){return rp})),n.d(u,"atConnectionRatioKeepGradient",(function(){return op})),n.d(u,"atConnectionRatioIgnoreGradient",(function(){return ap})),n.d(u,"atConnectionLength",(function(){return sp})),n.d(u,"atConnectionRatio",(function(){return lp}));var d={};n.r(d),n.d(d,"dot",(function(){return up})),n.d(d,"fixedDot",(function(){return dp})),n.d(d,"mesh",(function(){return pp})),n.d(d,"doubleMesh",(function(){return fp}));var p={};n.r(p),n.d(p,"outline",(function(){return wp})),n.d(p,"highlight",(function(){return Cp})),n.d(p,"blur",(function(){return _p})),n.d(p,"dropShadow",(function(){return Sp})),n.d(p,"grayScale",(function(){return Op})),n.d(p,"sepia",(function(){return Mp})),n.d(p,"saturate",(function(){return kp})),n.d(p,"hueRotate",(function(){return Ap})),n.d(p,"invert",(function(){return Tp})),n.d(p,"brightness",(function(){return Dp})),n.d(p,"contrast",(function(){return Pp}));var f={};n.r(f),n.d(f,"flipX",(function(){return Ip})),n.d(f,"flipY",(function(){return Ep})),n.d(f,"flipXY",(function(){return jp})),n.d(f,"watermark",(function(){return Lp}));var g={};n.r(g),n.d(g,"className",(function(){return Gp})),n.d(g,"opacity",(function(){return Wp})),n.d(g,"stroke",(function(){return Yp}));var m={};n.r(m),n.d(m,"absolute",(function(){return Kp})),n.d(m,"ellipse",(function(){return Jp})),n.d(m,"ellipseSpread",(function(){return Qp})),n.d(m,"line",(function(){return nf})),n.d(m,"left",(function(){return rf})),n.d(m,"right",(function(){return of})),n.d(m,"top",(function(){return af})),n.d(m,"bottom",(function(){return sf}));var v={};n.r(v),n.d(v,"manual",(function(){return pf})),n.d(v,"left",(function(){return ff})),n.d(v,"right",(function(){return gf})),n.d(v,"top",(function(){return mf})),n.d(v,"bottom",(function(){return vf})),n.d(v,"outside",(function(){return yf})),n.d(v,"outsideOriented",(function(){return xf})),n.d(v,"inside",(function(){return bf})),n.d(v,"insideOriented",(function(){return wf})),n.d(v,"radial",(function(){return Of})),n.d(v,"radialOriented",(function(){return Mf}));var y={};n.r(y),n.d(y,"noop",(function(){return Yf})),n.d(y,"pinRelative",(function(){return Uf})),n.d(y,"pinAbsolute",(function(){return Zf}));var x={};n.r(x),n.d(x,"center",(function(){return Pg})),n.d(x,"top",(function(){return Ig})),n.d(x,"bottom",(function(){return Eg})),n.d(x,"left",(function(){return jg})),n.d(x,"right",(function(){return Lg})),n.d(x,"topLeft",(function(){return Bg})),n.d(x,"topRight",(function(){return Ng})),n.d(x,"bottomLeft",(function(){return Rg})),n.d(x,"bottomRight",(function(){return Fg})),n.d(x,"orth",(function(){return Hg})),n.d(x,"nodeCenter",(function(){return Wg})),n.d(x,"midSide",(function(){return $g}));var b={};n.r(b),n.d(b,"ratio",(function(){return qg})),n.d(b,"length",(function(){return Ug})),n.d(b,"orth",(function(){return Jg})),n.d(b,"closest",(function(){return Kg}));var w={};n.r(w),n.d(w,"bbox",(function(){return im})),n.d(w,"rect",(function(){return rm})),n.d(w,"boundary",(function(){return om})),n.d(w,"anchor",(function(){return am}));var C={};n.r(C),n.d(C,"normal",(function(){return cm})),n.d(C,"oneSide",(function(){return hm})),n.d(C,"orth",(function(){return gm})),n.d(C,"metro",(function(){return Rm})),n.d(C,"manhattan",(function(){return Bm})),n.d(C,"er",(function(){return Fm})),n.d(C,"loop",(function(){return Vm}));var _={};n.r(_),n.d(_,"normal",(function(){return Wm})),n.d(_,"loop",(function(){return $m})),n.d(_,"rounded",(function(){return Ym})),n.d(_,"smooth",(function(){return Xm})),n.d(_,"jumpover",(function(){return Qm}));var S=n(21),O=n.n(S);n(393);const M=navigator.userAgent;var k;if(function(t){t.IS_MAC=navigator.appVersion.indexOf("Mac")>0,t.IS_IOS=!!M.match(/(iPad|iPhone|iPod)/g),t.IS_WINDOWS=navigator.appVersion.indexOf("Win")>0,t.IS_IE=M.indexOf("MSIE")>=0,t.IS_IE11=!!M.match(/Trident\/7\./),t.IS_EDGE=!!M.match(/Edge\//),t.IS_NETSCAPE=M.indexOf("Mozilla/")>=0&&M.indexOf("MSIE")<0&&M.indexOf("Edge/")<0,t.IS_CHROME_APP=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,t.IS_CHROME=M.indexOf("Chrome/")>=0&&M.indexOf("Edge/")<0,t.IS_OPERA=M.indexOf("Opera/")>=0||M.indexOf("OPR/")>=0,t.IS_FIREFOX=M.indexOf("Firefox/")>=0,t.IS_SAFARI=M.indexOf("AppleWebKit/")>=0&&M.indexOf("Chrome/")<0&&M.indexOf("Edge/")<0,t.SUPPORT_TOUCH="ontouchstart"in document.documentElement,t.SUPPORT_POINTER=null!=window.PointerEvent&&!t.IS_MAC,t.SUPPORT_PASSIVE=!1;try{const e=Object.defineProperty({},"passive",{get(){t.SUPPORT_PASSIVE=!0}}),n=document.createElement("div");n.addEventListener&&n.addEventListener("click",()=>{},e)}catch(t){}t.NO_FOREIGNOBJECT=!document.createElementNS||""+document.createElementNS("http://www.w3.org/2000/svg","foreignObject")!="[object SVGForeignObjectElement]"||M.indexOf("Opera/")>=0,t.SUPPORT_FOREIGNOBJECT=!t.NO_FOREIGNOBJECT}(k||(k={})),function(t){function e(){const t=window.module;return null!=t&&null!=t.hot&&null!=t.hot.status?t.hot.status():"unkonwn"}t.getHMRStatus=e,t.isApplyingHMR=function(){return"apply"===e()};const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};t.isEventSupported=function(t){const e=document.createElement(n[t]||"div"),i="on"+t;let r=i in e;return r||(e.setAttribute(i,"return;"),r="function"==typeof e[i]),r}}(k||(k={})),k.SUPPORT_PASSIVE){O.a.event.special.touchstart={setup(t,e,n){if(!this.addEventListener)return!1;this.addEventListener("touchstart",n,{passive:!0})}};const t=O.a.event.special.mousewheel;if(t){const e=t.setup;t.setup=function(){const t=this.addEventListener;if(!t)return!1;this.addEventListener=(e,n)=>{t.call(this,e,n,{passive:!0})},e.call(this),this.addEventListener=t}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(t=>{Object.prototype.hasOwnProperty.call(t,"append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value(...t){const e=document.createDocumentFragment();t.forEach(t=>{const n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))}),this.appendChild(e)}})});const A=t=>!Array.isArray(t)&&t-parseFloat(t)+1>=0;var T=Array.isArray,D=n(19),P=D.a.Symbol,I=Object.prototype,E=I.hasOwnProperty,j=I.toString,L=P?P.toStringTag:void 0;var B=function(t){var e=E.call(t,L),n=t[L];try{t[L]=void 0;var i=!0}catch(t){}var r=j.call(t);return i&&(e?t[L]=n:delete t[L]),r},N=Object.prototype.toString;var R=function(t){return N.call(t)},F=P?P.toStringTag:void 0;var z=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?B(t):R(t)};var V=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var G=function(t){if(!V(t))return!1;var e=z(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var H=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var W,$=function(t){return null!=t&&H(t.length)&&!G(t)},Y=D.a["__core-js_shared__"],X=(W=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"";var q=function(t){return!!X&&X in t},U=Function.prototype.toString;var Z=function(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,J=Function.prototype,Q=Object.prototype,tt=J.toString,et=Q.hasOwnProperty,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var it=function(t){return!(!V(t)||q(t))&&(G(t)?nt:K).test(Z(t))};var rt=function(t,e){return null==t?void 0:t[e]};var ot=function(t,e){var n=rt(t,e);return it(n)?n:void 0},at=ot(Object,"create");var st=function(){this.__data__=at?at(null):{},this.size=0};var lt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ct=Object.prototype.hasOwnProperty;var ht=function(t){var e=this.__data__;if(at){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ct.call(e,t)?e[t]:void 0},ut=Object.prototype.hasOwnProperty;var dt=function(t){var e=this.__data__;return at?void 0!==e[t]:ut.call(e,t)};var pt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=at&&void 0===e?"__lodash_hash_undefined__":e,this};function ft(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ft.prototype.clear=st,ft.prototype.delete=lt,ft.prototype.get=ht,ft.prototype.has=dt,ft.prototype.set=pt;var gt=ft;var mt=function(){this.__data__=[],this.size=0};var vt=function(t,e){return t===e||t!=t&&e!=e};var yt=function(t,e){for(var n=t.length;n--;)if(vt(t[n][0],e))return n;return-1},xt=Array.prototype.splice;var bt=function(t){var e=this.__data__,n=yt(e,t);return!(n<0)&&(n==e.length-1?e.pop():xt.call(e,n,1),--this.size,!0)};var wt=function(t){var e=this.__data__,n=yt(e,t);return n<0?void 0:e[n][1]};var Ct=function(t){return yt(this.__data__,t)>-1};var _t=function(t,e){var n=this.__data__,i=yt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function St(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}St.prototype.clear=mt,St.prototype.delete=bt,St.prototype.get=wt,St.prototype.has=Ct,St.prototype.set=_t;var Ot=St,Mt=ot(D.a,"Map");var kt=function(){this.size=0,this.__data__={hash:new gt,map:new(Mt||Ot),string:new gt}};var At=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Tt=function(t,e){var n=t.__data__;return At(e)?n["string"==typeof e?"string":"hash"]:n.map};var Dt=function(t){var e=Tt(this,t).delete(t);return this.size-=e?1:0,e};var Pt=function(t){return Tt(this,t).get(t)};var It=function(t){return Tt(this,t).has(t)};var Et=function(t,e){var n=Tt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function jt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}jt.prototype.clear=kt,jt.prototype.delete=Dt,jt.prototype.get=Pt,jt.prototype.has=It,jt.prototype.set=Et;var Lt=jt;var Bt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Nt=function(t){return this.__data__.has(t)};function Rt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Lt;++e<n;)this.add(t[e])}Rt.prototype.add=Rt.prototype.push=Bt,Rt.prototype.has=Nt;var Ft=Rt;var zt=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1};var Vt=function(t){return t!=t};var Gt=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1};var Ht=function(t,e,n){return e==e?Gt(t,e,n):zt(t,Vt,n)};var Wt=function(t,e){return!!(null==t?0:t.length)&&Ht(t,e,0)>-1};var $t=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1};var Yt=function(t,e){return t.has(e)},Xt=ot(D.a,"Set");var qt=function(){};var Ut=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Zt=Xt&&1/Ut(new Xt([,-0]))[1]==1/0?function(t){return new Xt(t)}:qt;var Kt=function(t,e,n){var i=-1,r=Wt,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=$t;else if(o>=200){var c=e?null:Zt(t);if(c)return Ut(c);a=!1,r=Yt,l=new Ft}else l=e?[]:s;t:for(;++i<o;){var h=t[i],u=e?e(h):h;if(h=n||0!==h?h:0,a&&u==u){for(var d=l.length;d--;)if(l[d]===u)continue t;e&&l.push(u),s.push(h)}else r(l,u,n)||(l!==s&&l.push(u),s.push(h))}return s};var Jt=function(t){return t&&t.length?Kt(t):[]};var Qt=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t};var te=function(t){return null!=t&&"object"==typeof t};var ee=function(t){return te(t)&&"[object Arguments]"==z(t)},ne=Object.prototype,ie=ne.hasOwnProperty,re=ne.propertyIsEnumerable,oe=ee(function(){return arguments}())?ee:function(t){return te(t)&&ie.call(t,"callee")&&!re.call(t,"callee")},ae=P?P.isConcatSpreadable:void 0;var se=function(t){return T(t)||oe(t)||!!(ae&&t&&t[ae])};var le=function t(e,n,i,r,o){var a=-1,s=e.length;for(i||(i=se),o||(o=[]);++a<s;){var l=e[a];n>0&&i(l)?n>1?t(l,n-1,i,r,o):Qt(o,l):r||(o[o.length]=l)}return o};var ce=function(t){return t};var he=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ue=Math.max;var de=function(t,e,n){return e=ue(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=ue(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=n(a),he(t,this,s)}};var pe=function(t){return function(){return t}},fe=function(){try{var t=ot(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ge=fe?function(t,e){return fe(t,"toString",{configurable:!0,enumerable:!1,value:pe(e),writable:!0})}:ce,me=Date.now;var ve=function(t){var e=0,n=0;return function(){var i=me(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ge);var ye=function(t,e){return ve(de(t,e,ce),t+"")};var xe=function(t){return te(t)&&$(t)},be=ye((function(t){return Kt(le(t,1,xe,!0))}));var we=function(t){return"symbol"==typeof t||te(t)&&"[object Symbol]"==z(t)},Ce=Math.floor,_e=Math.min;var Se=function(t,e,n,i){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,l=we(e),c=void 0===e;r<o;){var h=Ce((r+o)/2),u=n(t[h]),d=void 0!==u,p=null===u,f=u==u,g=we(u);if(a)var m=i||f;else m=c?f&&(i||d):s?f&&d&&(i||!p):l?f&&d&&!p&&(i||!g):!p&&!g&&(i?u<=e:u<e);m?r=h+1:o=h}return _e(o,4294967294)};var Oe=function(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!we(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return Se(t,e,ce,n)};var Me=function(t,e){return Oe(t,e)};var ke=function(){this.__data__=new Ot,this.size=0};var Ae=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var Te=function(t){return this.__data__.get(t)};var De=function(t){return this.__data__.has(t)};var Pe=function(t,e){var n=this.__data__;if(n instanceof Ot){var i=n.__data__;if(!Mt||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Lt(i)}return n.set(t,e),this.size=n.size,this};function Ie(t){var e=this.__data__=new Ot(t);this.size=e.size}Ie.prototype.clear=ke,Ie.prototype.delete=Ae,Ie.prototype.get=Te,Ie.prototype.has=De,Ie.prototype.set=Pe;var Ee=Ie;var je=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1};var Le=function(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var u=-1,d=!0,p=2&n?new Ft:void 0;for(o.set(t,e),o.set(e,t);++u<s;){var f=t[u],g=e[u];if(i)var m=a?i(g,f,u,e,t,o):i(f,g,u,t,e,o);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!je(e,(function(t,e){if(!Yt(p,e)&&(f===t||r(f,t,n,i,o)))return p.push(e)}))){d=!1;break}}else if(f!==g&&!r(f,g,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d},Be=D.a.Uint8Array;var Ne=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n},Re=P?P.prototype:void 0,Fe=Re?Re.valueOf:void 0;var ze=function(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Be(t),new Be(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=Ne;case"[object Set]":var l=1&i;if(s||(s=Ut),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=2,a.set(t,e);var h=Le(s(t),s(e),i,r,o,a);return a.delete(t),h;case"[object Symbol]":if(Fe)return Fe.call(t)==Fe.call(e)}return!1};var Ve=function(t,e,n){var i=e(t);return T(t)?i:Qt(i,n(t))};var Ge=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o};var He=function(){return[]},We=Object.prototype.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Ye=$e?function(t){return null==t?[]:(t=Object(t),Ge($e(t),(function(e){return We.call(t,e)})))}:He;var Xe=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},qe=n(47),Ue=/^(?:0|[1-9]\d*)$/;var Ze=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ue.test(t))&&t>-1&&t%1==0&&t<e},Ke={};Ke["[object Float32Array]"]=Ke["[object Float64Array]"]=Ke["[object Int8Array]"]=Ke["[object Int16Array]"]=Ke["[object Int32Array]"]=Ke["[object Uint8Array]"]=Ke["[object Uint8ClampedArray]"]=Ke["[object Uint16Array]"]=Ke["[object Uint32Array]"]=!0,Ke["[object Arguments]"]=Ke["[object Array]"]=Ke["[object ArrayBuffer]"]=Ke["[object Boolean]"]=Ke["[object DataView]"]=Ke["[object Date]"]=Ke["[object Error]"]=Ke["[object Function]"]=Ke["[object Map]"]=Ke["[object Number]"]=Ke["[object Object]"]=Ke["[object RegExp]"]=Ke["[object Set]"]=Ke["[object String]"]=Ke["[object WeakMap]"]=!1;var Je=function(t){return te(t)&&H(t.length)&&!!Ke[z(t)]};var Qe=function(t){return function(e){return t(e)}},tn=n(43),en=tn.a&&tn.a.isTypedArray,nn=en?Qe(en):Je,rn=Object.prototype.hasOwnProperty;var on=function(t,e){var n=T(t),i=!n&&oe(t),r=!n&&!i&&Object(qe.a)(t),o=!n&&!i&&!r&&nn(t),a=n||i||r||o,s=a?Xe(t.length,String):[],l=s.length;for(var c in t)!e&&!rn.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ze(c,l))||s.push(c);return s},an=Object.prototype;var sn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||an)};var ln=function(t,e){return function(n){return t(e(n))}},cn=ln(Object.keys,Object),hn=Object.prototype.hasOwnProperty;var un=function(t){if(!sn(t))return cn(t);var e=[];for(var n in Object(t))hn.call(t,n)&&"constructor"!=n&&e.push(n);return e};var dn=function(t){return $(t)?on(t):un(t)};var pn=function(t){return Ve(t,dn,Ye)},fn=Object.prototype.hasOwnProperty;var gn=function(t,e,n,i,r,o){var a=1&n,s=pn(t),l=s.length;if(l!=pn(e).length&&!a)return!1;for(var c=l;c--;){var h=s[c];if(!(a?h in e:fn.call(e,h)))return!1}var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);for(var f=a;++c<l;){var g=t[h=s[c]],m=e[h];if(i)var v=a?i(m,g,h,e,t,o):i(g,m,h,t,e,o);if(!(void 0===v?g===m||r(g,m,n,i,o):v)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var y=t.constructor,x=e.constructor;y==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(p=!1)}return o.delete(t),o.delete(e),p},mn=ot(D.a,"DataView"),vn=ot(D.a,"Promise"),yn=ot(D.a,"WeakMap"),xn=Z(mn),bn=Z(Mt),wn=Z(vn),Cn=Z(Xt),_n=Z(yn),Sn=z;(mn&&"[object DataView]"!=Sn(new mn(new ArrayBuffer(1)))||Mt&&"[object Map]"!=Sn(new Mt)||vn&&"[object Promise]"!=Sn(vn.resolve())||Xt&&"[object Set]"!=Sn(new Xt)||yn&&"[object WeakMap]"!=Sn(new yn))&&(Sn=function(t){var e=z(t),n="[object Object]"==e?t.constructor:void 0,i=n?Z(n):"";if(i)switch(i){case xn:return"[object DataView]";case bn:return"[object Map]";case wn:return"[object Promise]";case Cn:return"[object Set]";case _n:return"[object WeakMap]"}return e});var On=Sn,Mn=Object.prototype.hasOwnProperty;var kn=function(t,e,n,i,r,o){var a=T(t),s=T(e),l=a?"[object Array]":On(t),c=s?"[object Array]":On(e),h="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=l==c;if(d&&Object(qe.a)(t)){if(!Object(qe.a)(e))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new Ee),a||nn(t)?Le(t,e,n,i,r,o):ze(t,e,l,n,i,r,o);if(!(1&n)){var p=h&&Mn.call(t,"__wrapped__"),f=u&&Mn.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new Ee),r(g,m,n,i,o)}}return!!d&&(o||(o=new Ee),gn(t,e,n,i,r,o))};var An=function t(e,n,i,r,o){return e===n||(null==e||null==n||!te(e)&&!te(n)?e!=e&&n!=n:kn(e,n,i,r,t,o))};var Tn=function(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var l=(s=n[r])[0],c=t[l],h=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var u=new Ee;if(i)var d=i(c,h,l,t,e,u);if(!(void 0===d?An(h,c,3,i,u):d))return!1}}return!0};var Dn=function(t){return t==t&&!V(t)};var Pn=function(t){for(var e=dn(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Dn(r)]}return e};var In=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var En=function(t){var e=Pn(t);return 1==e.length&&e[0][2]?In(e[0][0],e[0][1]):function(n){return n===t||Tn(n,t,e)}},jn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ln=/^\w*$/;var Bn=function(t,e){if(T(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!we(t))||(Ln.test(t)||!jn.test(t)||null!=e&&t in Object(e))};function Nn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Nn.Cache||Lt),n}Nn.Cache=Lt;var Rn=Nn;var Fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/\\(\\)?/g,Vn=function(t){var e=Rn(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Fn,(function(t,n,i,r){e.push(i?r.replace(zn,"$1"):n||t)})),e}));var Gn=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r},Hn=P?P.prototype:void 0,Wn=Hn?Hn.toString:void 0;var $n=function t(e){if("string"==typeof e)return e;if(T(e))return Gn(e,t)+"";if(we(e))return Wn?Wn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var Yn=function(t){return null==t?"":$n(t)};var Xn=function(t,e){return T(t)?t:Bn(t,e)?[t]:Vn(Yn(t))};var qn=function(t){if("string"==typeof t||we(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Un=function(t,e){for(var n=0,i=(e=Xn(e,t)).length;null!=t&&n<i;)t=t[qn(e[n++])];return n&&n==i?t:void 0};var Zn=function(t,e,n){var i=null==t?void 0:Un(t,e);return void 0===i?n:i};var Kn=function(t,e){return null!=t&&e in Object(t)};var Jn=function(t,e,n){for(var i=-1,r=(e=Xn(e,t)).length,o=!1;++i<r;){var a=qn(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&H(r)&&Ze(a,r)&&(T(t)||oe(t))};var Qn=function(t,e){return null!=t&&Jn(t,e,Kn)};var ti=function(t,e){return Bn(t)&&Dn(e)?In(qn(t),e):function(n){var i=Zn(n,t);return void 0===i&&i===e?Qn(n,t):An(e,i,3)}};var ei=function(t){return function(e){return null==e?void 0:e[t]}};var ni=function(t){return function(e){return Un(e,t)}};var ii=function(t){return Bn(t)?ei(qn(t)):ni(t)};var ri=function(t){return"function"==typeof t?t:null==t?ce:"object"==typeof t?T(t)?ti(t[0],t[1]):En(t):ii(t)};var oi=function(t,e,n){return Se(t,e,ri(n,2))};var ai=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}();var si=function(t,e){return function(n,i){if(null==n)return n;if(!$(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}((function(t,e){return t&&ai(t,e,dn)}));var li=function(t,e){var n=-1,i=$(t)?Array(t.length):[];return si(t,(function(t,r,o){i[++n]=e(t,r,o)})),i};var ci=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t};var hi=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=we(t),a=void 0!==e,s=null===e,l=e==e,c=we(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0};var ui=function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=hi(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index};var di=function(t,e,n){e=e.length?Gn(e,(function(t){return T(t)?function(e){return Un(e,1===t.length?t[0]:t)}:t})):[ce];var i=-1;e=Gn(e,Qe(ri));var r=li(t,(function(t,n,r){return{criteria:Gn(e,(function(e){return e(t)})),index:++i,value:t}}));return ci(r,(function(t,e){return ui(t,e,n)}))};var pi=function(t,e,n){if(!V(n))return!1;var i=typeof e;return!!("number"==i?$(n)&&Ze(e,n.length):"string"==i&&e in n)&&vt(n[e],t)},fi=ye((function(t,e){if(null==t)return[];var n=e.length;return n>1&&pi(t,e[0],e[1])?e=[]:n>2&&pi(e[0],e[1],e[2])&&(e=[e[0]]),di(t,le(e,1),[])}));var gi=function(t,e,n){"__proto__"==e&&fe?fe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var mi=function(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i};var vi=function(t,e,n,i){return si(t,(function(t,r,o){e(i,t,n(t),o)})),i};var yi=function(t,e){return function(n,i){var r=T(n)?mi:vi,o=e?e():{};return r(n,t,ri(i,2),o)}},xi=Object.prototype.hasOwnProperty,bi=yi((function(t,e,n){xi.call(t,n)?t[n].push(e):gi(t,n,[e])}));var wi=function(t,e,n,i){var r=-1,o=Wt,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=Gn(e,Qe(n))),i?(o=$t,a=!1):e.length>=200&&(o=Yt,a=!1,e=new Ft(e));t:for(;++r<s;){var h=t[r],u=null==n?h:n(h);if(h=i||0!==h?h:0,a&&u==u){for(var d=c;d--;)if(e[d]===u)continue t;l.push(h)}else o(e,u,i)||l.push(h)}return l},Ci=ye((function(t,e){return xe(t)?wi(t,le(e,1,xe,!0)):[]}));function _i(t,e,n){const i=Si(t,n),r=Si(e,n),o=r.free,a=i.keyIndex,s=r.keyIndex,l=[],c=[];let h,u,d=0,p=0;for(;d<t.length;){if(h=t[d],u=h[n],u)if(s.hasOwnProperty(u)){const t=s[u];c.push(e[t])}else c.push(null);else{p+=1;const t=o[p];c.push(t||null)}d+=1}const f=c.slice(0);for(d=0;d<f.length;)null===f[d]?(v(d),x(d)):d+=1;let g=d=0;for(;d<e.length;){h=e[d],u=h[n];const t=f[g];if(t){if(u===t[n])g+=1;else if(a.hasOwnProperty(u)){const t=f[g+1];if(t){t[n]===u?(v(d),x(g),g+=1):y(d,h)}}else y(d,h)}else y(d,h);d+=1}let m=f.length-g;for(;(g+=1)<f.length;)m-=1,v(m+d);function v(t){const e={index:t,type:0,item:null};l.push(e)}function y(t,e){const n={index:t,item:e,type:1};l.push(n)}function x(t){f.splice(t,1)}return{moves:l}}function Si(t,e){const n={},i=[];for(let r=0,o=t.length;r<o;r+=1){const o=t[r],a=o[e];a?n[a]=r:i.push(o)}return{keyIndex:n,free:i}}var Oi=Object.prototype.hasOwnProperty;var Mi=function(t,e){return null!=t&&Oi.call(t,e)};var ki=function(t,e){return null!=t&&Jn(t,e,Mi)},Ai=Object.prototype.hasOwnProperty;var Ti=function(t,e,n){var i=t[e];Ai.call(t,e)&&vt(i,n)&&(void 0!==n||e in t)||gi(t,e,n)};var Di=function(t,e,n,i){if(!V(t))return t;for(var r=-1,o=(e=Xn(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var l=qn(e[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=a){var h=s[l];void 0===(c=i?i(h,l,s):void 0)&&(c=V(h)?h:Ze(e[r+1])?[]:{})}Ti(s,l,c),s=s[l]}return t};var Pi=function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Un(t,a);n(s,a)&&Di(o,Xn(a,t),s)}return o};var Ii=function(t,e){return Pi(t,e,(function(e,n){return Qn(t,n)}))};var Ei=function(t){return(null==t?0:t.length)?le(t,1):[]};var ji=function(t){return ve(de(t,void 0,Ei),t+"")}((function(t,e){return null==t?{}:Ii(t,e)}));var Li=function(t){return"function"==typeof t?t:ce};var Bi=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ni=Object.prototype.hasOwnProperty;var Ri=function(t){if(!V(t))return Bi(t);var e=sn(t),n=[];for(var i in t)("constructor"!=i||!e&&Ni.call(t,i))&&n.push(i);return n};var Fi=function(t){return $(t)?on(t,!0):Ri(t)};var zi=function(t,e){return null==t?t:ai(t,Li(e),Fi)};var Vi=function(t,e,n){(void 0!==n&&!vt(t[e],n)||void 0===n&&!(e in t))&&gi(t,e,n)},Gi=n(165);var Hi=function(t){var e=new t.constructor(t.byteLength);return new Be(e).set(new Be(t)),e};var Wi=function(t,e){var n=e?Hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var $i=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},Yi=Object.create,Xi=function(){function t(){}return function(e){if(!V(e))return{};if(Yi)return Yi(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),qi=ln(Object.getPrototypeOf,Object);var Ui=function(t){return"function"!=typeof t.constructor||sn(t)?{}:Xi(qi(t))},Zi=Function.prototype,Ki=Object.prototype,Ji=Zi.toString,Qi=Ki.hasOwnProperty,tr=Ji.call(Object);var er=function(t){if(!te(t)||"[object Object]"!=z(t))return!1;var e=qi(t);if(null===e)return!0;var n=Qi.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ji.call(n)==tr};var nr=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var ir=function(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?gi(n,s,l):Ti(n,s,l)}return n};var rr=function(t){return ir(t,Fi(t))};var or=function(t,e,n,i,r,o,a){var s=nr(t,n),l=nr(e,n),c=a.get(l);if(c)Vi(t,n,c);else{var h=o?o(s,l,n+"",t,e,a):void 0,u=void 0===h;if(u){var d=T(l),p=!d&&Object(qe.a)(l),f=!d&&!p&&nn(l);h=l,d||p||f?T(s)?h=s:xe(s)?h=$i(s):p?(u=!1,h=Object(Gi.a)(l,!0)):f?(u=!1,h=Wi(l,!0)):h=[]:er(l)||oe(l)?(h=s,oe(s)?h=rr(s):V(s)&&!G(s)||(h=Ui(l))):u=!1}u&&(a.set(l,h),r(h,l,i,o,a),a.delete(l)),Vi(t,n,h)}};var ar=function t(e,n,i,r,o){e!==n&&ai(n,(function(a,s){if(o||(o=new Ee),V(a))or(e,n,s,i,t,r,o);else{var l=r?r(nr(e,s),a,s+"",e,n,o):void 0;void 0===l&&(l=a),Vi(e,s,l)}}),Fi)};var sr=function(t){return ye((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&pi(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))},lr=sr((function(t,e,n){ar(t,e,n)})),cr=sr((function(t,e){ir(e,Fi(e),t)}));var hr=function(t,e){return An(t,e)},ur=Object.prototype.hasOwnProperty;var dr=function(t){if(null==t)return!0;if($(t)&&(T(t)||"string"==typeof t||"function"==typeof t.splice||Object(qe.a)(t)||nn(t)||oe(t)))return!t.length;var e=On(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(sn(t))return!un(t).length;for(var n in t)if(ur.call(t,n))return!1;return!0};var pr=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t};var fr=function(t,e){return t&&ir(e,dn(e),t)};var gr=function(t,e){return t&&ir(e,Fi(e),t)};var mr=function(t,e){return ir(t,Ye(t),e)},vr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Qt(e,Ye(t)),t=qi(t);return e}:He;var yr=function(t,e){return ir(t,vr(t),e)};var xr=function(t){return Ve(t,Fi,vr)},br=Object.prototype.hasOwnProperty;var wr=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&br.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var Cr=function(t,e){var n=e?Hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},_r=/\w*$/;var Sr=function(t){var e=new t.constructor(t.source,_r.exec(t));return e.lastIndex=t.lastIndex,e},Or=P?P.prototype:void 0,Mr=Or?Or.valueOf:void 0;var kr=function(t){return Mr?Object(Mr.call(t)):{}};var Ar=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Hi(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return Cr(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Wi(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return Sr(t);case"[object Set]":return new i;case"[object Symbol]":return kr(t)}};var Tr=function(t){return te(t)&&"[object Map]"==On(t)},Dr=tn.a&&tn.a.isMap,Pr=Dr?Qe(Dr):Tr;var Ir=function(t){return te(t)&&"[object Set]"==On(t)},Er=tn.a&&tn.a.isSet,jr=Er?Qe(Er):Ir,Lr={};Lr["[object Arguments]"]=Lr["[object Array]"]=Lr["[object ArrayBuffer]"]=Lr["[object DataView]"]=Lr["[object Boolean]"]=Lr["[object Date]"]=Lr["[object Float32Array]"]=Lr["[object Float64Array]"]=Lr["[object Int8Array]"]=Lr["[object Int16Array]"]=Lr["[object Int32Array]"]=Lr["[object Map]"]=Lr["[object Number]"]=Lr["[object Object]"]=Lr["[object RegExp]"]=Lr["[object Set]"]=Lr["[object String]"]=Lr["[object Symbol]"]=Lr["[object Uint8Array]"]=Lr["[object Uint8ClampedArray]"]=Lr["[object Uint16Array]"]=Lr["[object Uint32Array]"]=!0,Lr["[object Error]"]=Lr["[object Function]"]=Lr["[object WeakMap]"]=!1;var Br=function t(e,n,i,r,o,a){var s,l=1&n,c=2&n,h=4&n;if(i&&(s=o?i(e,r,o,a):i(e)),void 0!==s)return s;if(!V(e))return e;var u=T(e);if(u){if(s=wr(e),!l)return $i(e,s)}else{var d=On(e),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(qe.a)(e))return Object(Gi.a)(e,l);if("[object Object]"==d||"[object Arguments]"==d||p&&!o){if(s=c||p?{}:Ui(e),!l)return c?yr(e,gr(s,e)):mr(e,fr(s,e))}else{if(!Lr[d])return o?e:{};s=Ar(e,d,l)}}a||(a=new Ee);var f=a.get(e);if(f)return f;a.set(e,s),jr(e)?e.forEach((function(r){s.add(t(r,n,i,r,e,a))})):Pr(e)&&e.forEach((function(r,o){s.set(o,t(r,n,i,o,e,a))}));var g=u?void 0:(h?c?xr:pn:c?Fi:dn)(e);return pr(g||e,(function(r,o){g&&(r=e[o=r]),Ti(s,o,t(r,n,i,o,e,a))})),s};var Nr=function(t){return Br(t,4)};var Rr=function(t){return Br(t,5)},Fr=Object.prototype,zr=Fr.hasOwnProperty,Vr=ye((function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&pi(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=Fi(o),s=-1,l=a.length;++s<l;){var c=a[s],h=t[c];(void 0===h||vt(h,Fr[c])&&!zr.call(t,c))&&(t[c]=o[c])}return t}));var Gr=function t(e,n,i,r,o,a){return V(e)&&V(n)&&(a.set(n,e),ar(e,n,void 0,t,a),a.delete(n)),e},Hr=sr((function(t,e,n,i){ar(t,e,n,i)})),Wr=ye((function(t){return t.push(void 0,Gr),he(Hr,void 0,t)}));function $r(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{"constructor"!==n&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})})}const Yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};function Xr(t,e){function n(){this.constructor=t}Yr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}const qr=/^\s*class\s+/.test(""+class{})||/^\s*class\s*\{/.test(""+class{});function Ur(t,e){let n;return qr?n=new Function("base",`return class ${t} extends base { }`)(e):(n=new Function("base",`return function ${t}() { return base.apply(this, arguments) }`)(e),Xr(n,e)),n}function Zr(t,e){return null!=t?t:e}function Kr(t,e,n){const i=null!=t?t[e]:null;return void 0!==n?Zr(i,n):i}function Jr(t,e,n){let i=null!=t?t[e]:null;return null==i?n:(i=+i,Number.isNaN(i)||!Number.isFinite(i)?n:i)}function Qr(t,e,n){const i=null!=t?t[e]:null;return null==i?n:!!i}function to(t,e,n="/"){let i;const r=Array.isArray(e)?e:e.split(n);if(r.length)for(i=t;r.length;){const t=r.shift();if(Object(i)!==i||!t||!(t in i))return;i=i[t]}return i}function eo(t,e,n,i="/"){const r=Array.isArray(e)?e:e.split(i),o=r.pop();if(o){let e=t;r.forEach(t=>{null==e[t]&&(e[t]={}),e=e[t]}),e[o]=n}return t}function no(t,e,n="/"){const i=Array.isArray(e)?e.slice():e.split(n),r=i.pop();if(r)if(i.length>0){const e=to(t,i);e&&delete e[r]}else delete t[r];return t}function io(t,e="/",n){const i={};Object.keys(t).forEach(r=>{const o=t[r];let a="object"==typeof o||Array.isArray(o);if(a&&n&&n(o)&&(a=!1),a){const t=io(o,e,n);Object.keys(t).forEach(n=>{i[r+e+n]=t[n]})}else i[r]=o});for(const e in t)Object.prototype.hasOwnProperty.call(t,e);return i}var ro=function(t){return"string"==typeof t||!T(t)&&te(t)&&"[object String]"==z(t)};var oo=function(t){return function(e){return null==t?void 0:t[e]}},ao=oo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),so=/[&<>"']/g,lo=RegExp(so.source);var co=function(t){return(t=Yn(t))&&lo.test(t)?t.replace(so,ao):t},ho=oo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),uo=/&(?:amp|lt|gt|quot|#39);/g,po=RegExp(uo.source);var fo=function(t){return(t=Yn(t))&&po.test(t)?t.replace(uo,ho):t};var go=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t},mo=/\s/;var vo=function(t){for(var e=t.length;e--&&mo.test(t.charAt(e)););return e},yo=/^\s+/;var xo=function(t){return t?t.slice(0,vo(t)+1).replace(yo,""):t},bo=/^[-+]0x[0-9a-f]+$/i,wo=/^0b[01]+$/i,Co=/^0o[0-7]+$/i,_o=parseInt;var So=function(t){if("number"==typeof t)return t;if(we(t))return NaN;if(V(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=V(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=xo(t);var n=wo.test(t);return n||Co.test(t)?_o(t.slice(2),n?2:8):bo.test(t)?NaN:+t};var Oo=function(t){return t?(t=So(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Mo=function(t){var e=Oo(t),n=e%1;return e==e?n?e-n:e:0};var ko=function(t,e,n){return t=Yn(t),n=null==n?0:go(Mo(n),0,t.length),e=$n(e),t.slice(n,n+e.length)==e};var Ao=function(t,e,n){t=Yn(t),e=$n(e);var i=t.length,r=n=void 0===n?i:go(Mo(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e};var To=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o};var Do=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:To(t,e,n)},Po=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Io=function(t){return Po.test(t)};var Eo=function(t){return te(t)&&"[object RegExp]"==z(t)},jo=tn.a&&tn.a.isRegExp,Lo=jo?Qe(jo):Eo;var Bo=function(t){return t.split("")},No="[\\ud800-\\udfff]",Ro="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Fo="\\ud83c[\\udffb-\\udfff]",zo="[^\\ud800-\\udfff]",Vo="(?:\\ud83c[\\udde6-\\uddff]){2}",Go="[\\ud800-\\udbff][\\udc00-\\udfff]",Ho="(?:"+Ro+"|"+Fo+")"+"?",Wo="[\\ufe0e\\ufe0f]?"+Ho+("(?:\\u200d(?:"+[zo,Vo,Go].join("|")+")[\\ufe0e\\ufe0f]?"+Ho+")*"),$o="(?:"+[zo+Ro+"?",Ro,Vo,Go,No].join("|")+")",Yo=RegExp(Fo+"(?="+Fo+")|"+$o+Wo,"g");var Xo=function(t){return t.match(Yo)||[]};var qo=function(t){return Io(t)?Xo(t):Bo(t)};var Uo=function(t,e,n){return n&&"number"!=typeof n&&pi(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Yn(t))&&("string"==typeof e||null!=e&&!Lo(e))&&!(e=$n(e))&&Io(t)?Do(qo(t),0,n):t.split(e,n):[]},Zo=Math.floor;var Ko=function(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Zo(e/2))&&(t+=t)}while(e);return n};var Jo=function(t,e,n){return e=(n?pi(t,e,n):void 0===e)?1:Mo(e),Ko(Yn(t),e)},Qo=ei("length"),ta="[\\ud800-\\udfff]",ea="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",na="[^\\ud800-\\udfff]",ia="(?:\\ud83c[\\udde6-\\uddff]){2}",ra="[\\ud800-\\udbff][\\udc00-\\udfff]",oa="(?:"+ea+"|\\ud83c[\\udffb-\\udfff])"+"?",aa="[\\ufe0e\\ufe0f]?"+oa+("(?:\\u200d(?:"+[na,ia,ra].join("|")+")[\\ufe0e\\ufe0f]?"+oa+")*"),sa="(?:"+[na+ea+"?",ea,ia,ra,ta].join("|")+")",la=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+sa+aa,"g");var ca=function(t){for(var e=la.lastIndex=0;la.test(t);)++e;return e};var ha=function(t){return Io(t)?ca(t):Qo(t)},ua=Math.ceil;var da=function(t,e){var n=(e=void 0===e?" ":$n(e)).length;if(n<2)return n?Ko(e,t):e;var i=Ko(e,ua(t/ha(e)));return Io(e)?Do(qo(i),0,t).join(""):i.slice(0,t)},pa=Math.ceil,fa=Math.floor;var ga=function(t,e,n){t=Yn(t);var i=(e=Mo(e))?ha(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return da(fa(r),n)+t+da(pa(r),n)};var ma=function(t,e,n){t=Yn(t);var i=(e=Mo(e))?ha(t):0;return e&&i<e?t+da(e-i,n):t};var va=function(t,e,n){t=Yn(t);var i=(e=Mo(e))?ha(t):0;return e&&i<e?da(e-i,n)+t:t},ya=/\w*$/;var xa=function(t,e){var n=30,i="...";if(V(e)){var r="separator"in e?e.separator:r;n="length"in e?Mo(e.length):n,i="omission"in e?$n(e.omission):i}var o=(t=Yn(t)).length;if(Io(t)){var a=qo(t);o=a.length}if(n>=o)return t;var s=n-ha(i);if(s<1)return i;var l=a?Do(a,0,s).join(""):t.slice(0,s);if(void 0===r)return l+i;if(a&&(s+=l.length-s),Lo(r)){if(t.slice(s).search(r)){var c,h=l;for(r.global||(r=RegExp(r.source,Yn(ya.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var u=c.index;l=l.slice(0,void 0===u?s:u)}}else if(t.indexOf($n(r),s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},ba=sr((function(t,e,n,i){ir(e,Fi(e),t,i)}));var wa=function(t){if(!te(t))return!1;var e=z(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!er(t)},Ca=ye((function(t,e){try{return he(t,void 0,e)}catch(t){return wa(t)?t:new Error(t)}}));var _a=function(t,e){return Gn(e,(function(e){return t[e]}))},Sa=Object.prototype,Oa=Sa.hasOwnProperty;var Ma=function(t,e,n,i){return void 0===t||vt(t,Sa[n])&&!Oa.call(i,n)?e:t},ka={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var Aa=function(t){return"\\"+ka[t]},Ta=/<%=([\s\S]+?)%>/g,Da={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Ta,variable:"",imports:{_:{escape:co}}},Pa=/\b__p \+= '';/g,Ia=/\b(__p \+=) '' \+/g,Ea=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ja=/[()=,{}\[\]\/\s]/,La=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ba=/($^)/,Na=/['\n\r\u2028\u2029\\]/g,Ra=Object.prototype.hasOwnProperty;var Fa=function(t,e,n){var i=Da.imports._.templateSettings||Da;n&&pi(t,e,n)&&(e=void 0),t=Yn(t),e=ba({},e,i,Ma);var r,o,a=ba({},e.imports,i.imports,Ma),s=dn(a),l=_a(a,s),c=0,h=e.interpolate||Ba,u="__p += '",d=RegExp((e.escape||Ba).source+"|"+h.source+"|"+(h===Ta?La:Ba).source+"|"+(e.evaluate||Ba).source+"|$","g"),p=Ra.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(d,(function(e,n,i,a,s,l){return i||(i=a),u+=t.slice(c,l).replace(Na,Aa),n&&(r=!0,u+="' +\n__e("+n+") +\n'"),s&&(o=!0,u+="';\n"+s+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),u+="';\n";var f=Ra.call(e,"variable")&&e.variable;if(f){if(ja.test(f))throw new Error("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";u=(o?u.replace(Pa,""):u).replace(Ia,"$1").replace(Ea,"$1;"),u="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var g=Ca((function(){return Function(s,p+"return "+u).apply(void 0,l)}));if(g.source=u,wa(g))throw g;return g},za=0;var Va=function(t){var e=++za;return Yn(t)+e};function Ga(t){let e=null;try{e=window.eval(t)}catch(t){}return e}var Ha=function(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n},Wa=oo({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),$a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ya=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var Xa=function(t){return(t=Yn(t))&&t.replace($a,Wa).replace(Ya,"")},qa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Ua=function(t){return t.match(qa)||[]},Za=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Ka=function(t){return Za.test(t)},Ja="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qa="["+Ja+"]",ts="\\d+",es="[\\u2700-\\u27bf]",ns="[a-z\\xdf-\\xf6\\xf8-\\xff]",is="[^\\ud800-\\udfff"+Ja+ts+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rs="(?:\\ud83c[\\udde6-\\uddff]){2}",os="[\\ud800-\\udbff][\\udc00-\\udfff]",as="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ss="(?:"+ns+"|"+is+")",ls="(?:"+as+"|"+is+")",cs="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",hs="[\\ufe0e\\ufe0f]?"+cs+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rs,os].join("|")+")[\\ufe0e\\ufe0f]?"+cs+")*"),us="(?:"+[es,rs,os].join("|")+")"+hs,ds=RegExp([as+"?"+ns+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Qa,as,"$"].join("|")+")",ls+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Qa,as+ss,"$"].join("|")+")",as+"?"+ss+"+(?:['](?:d|ll|m|re|s|t|ve))?",as+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ts,us].join("|"),"g");var ps=function(t){return t.match(ds)||[]};var fs=function(t,e,n){return t=Yn(t),void 0===(e=n?void 0:e)?Ka(t)?ps(t):Ua(t):t.match(e)||[]},gs=RegExp("[']","g");var ms=function(t){return function(e){return Ha(fs(Xa(e).replace(gs,"")),t,"")}};var vs=function(t){return function(e){e=Yn(e);var n=Io(e)?qo(e):void 0,i=n?n[0]:e.charAt(0),r=n?Do(n,1).join(""):e.slice(1);return i[t]()+r}},ys=vs("toUpperCase"),xs=ms((function(t,e,n){return t+(n?" ":"")+ys(e)}));var bs=function(t){return ys(Yn(t).toLowerCase())},ws=ms((function(t,e,n){return e=e.toLowerCase(),t+(n?bs(e):e)})),Cs=ms((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),_s=ms((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ss=vs("toLowerCase");const Os=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Ms=Os(t=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase()),ks=Os(t=>xs(ws(t)).replace(/ /g,"")),As=Os(t=>Cs(t).replace(/ /g,"_")),Ts=Os(t=>_s(t).replace(/ /g,".")),Ds=Os(t=>_s(t).replace(/ /g,"/")),Ps=Os(t=>ys(_s(t))),Is=Os(t=>xs(ws(t)));function Es(t){let e=2166136261,n=!1,i=t;for(let t=0,r=i.length;t<r;t+=1){let r=i.charCodeAt(t);r>127&&!n&&(i=unescape(encodeURIComponent(i)),r=i.charCodeAt(t),n=!0),e^=r,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function js(){let t="";const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let n=0,i=e.length;n<i;n+=1){const i=e[n],r=16*Math.random()|0;t+=("x"===i?r:"y"===i?3&r|8:i).toString(16)}return t}function Ls(t,e={}){const n=O.a.parseHTML(t,null,!1);return n.forEach(t=>{const e=t;if(e){const t=e.attributes;if(t)for(let n=0,i=t.length;n<i;n+=1){const i=t.item(n);if(i){const t=i.value.toLowerCase(),n=i.name.toLowerCase();(n.startsWith("on")||t.startsWith("javascript:")||t.startsWith("data:")||t.startsWith("vbscript:"))&&e.removeAttribute(n)}}}}),e.raw?n:O()("<div/>").append(n).html()}function Bs(t,e,n){const i=Math.min(2,Math.floor(.34*t.length));let r,o=Math.floor(.4*t.length)+1,a=!1;const s=t.toLowerCase();for(const l of e){const e=n(l);if(void 0!==e&&Math.abs(e.length-s.length)<=i){const n=e.toLowerCase();if(n===s){if(e===t)continue;return l}if(a)continue;if(e.length<3)continue;const i=Ns(s,n,o-1);if(void 0===i)continue;i<3?(a=!0,r=l):(o=i,r=l)}}return r}function Ns(t,e,n){let i=new Array(e.length+1),r=new Array(e.length+1);const o=n+1;for(let t=0;t<=e.length;t+=1)i[t]=t;for(let a=1;a<=t.length;a+=1){const s=t.charCodeAt(a-1),l=a>n?a-n:1,c=e.length>n+a?n+a:e.length;r[0]=a;let h=a;for(let t=1;t<l;t+=1)r[t]=o;for(let t=l;t<=c;t+=1){const n=s===e.charCodeAt(t-1)?i[t-1]:Math.min(i[t]+1,r[t-1]+1,i[t-1]+2);r[t]=n,h=Math.min(h,n)}for(let t=c+1;t<=e.length;t+=1)r[t]=o;if(h>n)return;const u=i;i=r,r=u}const a=i[e.length];return a>n?void 0:a}var Rs=function(t){return"number"==typeof t||te(t)&&"[object Number]"==z(t)};var Fs=function(t){return Rs(t)&&t!=+t},zs=D.a.isFinite;var Vs=function(t){return"number"==typeof t&&zs(t)};var Gs=function(t){return"number"==typeof t&&t==Mo(t)};var Hs=function(t){return Gs(t)&&t>=-9007199254740991&&t<=9007199254740991};var Ws=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=So(n))==n?n:0),void 0!==e&&(e=(e=So(e))==e?e:0),go(So(t),e,n)},$s=Math.max,Ys=Math.min;var Xs=function(t,e,n){return t>=Ys(e,n)&&t<$s(e,n)};var qs=function(t,e,n){return e=Oo(e),void 0===n?(n=e,e=0):n=Oo(n),t=So(t),Xs(t,e,n)};var Us=function(t){return t?go(Mo(t),-9007199254740991,9007199254740991):0===t?t:0},Zs=/^\s+/,Ks=D.a.parseInt;var Js=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Ks(Yn(t).replace(Zs,""),e||0)};function Qs(t,e){return(t%e+e)%e}function tl(t,e){if(null==e)e=null==t?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return Math.floor(Math.random()*(e-t+1)+t)}function el(t){return"string"==typeof t&&"%"===t.slice(-1)}function nl(t,e){if(null==t)return 0;let n;if("string"==typeof t){if(n=parseFloat(t),el(t)&&(n/=100,Number.isFinite(n)))return n*e}else n=t;return Number.isFinite(n)?n>0&&n<1?n*e:n:0}function il(t,e){const n=parseFloat(t);if(Number.isNaN(n))return null;let i;if(null==e)i="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;i=e.join("|")}else"string"==typeof e&&(i=e);const r=function(e){const n=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${e})$`).exec(t);return n?n[1]:null}(i);return null===r?null:{unit:r,value:n}}function rl(t){if("object"==typeof t){let e=0,n=0,i=0,r=0;return null!=t.vertical&&Number.isFinite(t.vertical)&&(n=r=t.vertical),null!=t.horizontal&&Number.isFinite(t.horizontal)&&(i=e=t.horizontal),null!=t.left&&Number.isFinite(t.left)&&(e=t.left),null!=t.top&&Number.isFinite(t.top)&&(n=t.top),null!=t.right&&Number.isFinite(t.right)&&(i=t.right),null!=t.bottom&&Number.isFinite(t.bottom)&&(r=t.bottom),{top:n,right:i,bottom:r,left:e}}let e=0;return null!=t&&Number.isFinite(t)&&(e=t),{top:e,right:e,bottom:e,left:e}}var ol=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=Mo(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}};var al=function(t){return ol(2,t)},sl=function(){return D.a.Date.now()},ll=Math.max,cl=Math.min;var hl=function(t,e,n){var i,r,o,a,s,l,c=0,h=!1,u=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,o=r;return i=r=void 0,c=e,a=t.apply(o,n)}function f(t){return c=t,s=setTimeout(m,e),h?p(t):a}function g(t){var n=t-l;return void 0===l||n>=e||n<0||u&&t-c>=o}function m(){var t=sl();if(g(t))return v(t);s=setTimeout(m,function(t){var n=e-(t-l);return u?cl(n,o-(t-c)):n}(t))}function v(t){return s=void 0,d&&i?p(t):(i=r=void 0,a)}function y(){var t=sl(),n=g(t);if(i=arguments,r=this,l=t,n){if(void 0===s)return f(l);if(u)return clearTimeout(s),s=setTimeout(m,e),p(l)}return void 0===s&&(s=setTimeout(m,e)),a}return e=So(e)||0,V(n)&&(h=!!n.leading,o=(u="maxWait"in n)?ll(So(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},y.flush=function(){return void 0===s?a:v(sl())},y};var ul=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)},dl=ye((function(t,e){return ul(t,1,e)}));function pl(t,e,n){if(n)switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);case 6:return t.call(e,n[0],n[1],n[2],n[3],n[4],n[5]);default:return t.apply(e,n)}return t.call(e)}function fl(t,e,...n){return pl(t,e,n)}function gl(t,e,n){const i=[],r={};return(...o)=>{let a=!1;const s=o.join("");return s in r?(a=!0,function(t,e){for(let n=0,i=t.length;n<i;n+=1)if(t[n]===e)return t.push(t.splice(n,1)[0])}(i,s)):(i.length>=1e3&&delete r[i.shift()],i.push(s),r[s]=pl(t,e||null,o)),n?n(r[s],a):r[s]}}function ml(t){return"object"==typeof t&&t.then&&"function"==typeof t.then}function vl(t){return null!=t&&(t instanceof Promise||ml(t))}function yl(...t){const e=[];t.forEach(t=>{Array.isArray(t)?e.push(...t):e.push(t)});if(e.some(t=>vl(t))){const t=e.map(t=>vl(t)?t:Promise.resolve(!1!==t));return Promise.all(t).then(t=>t.reduce((t,e)=>!1!==e&&t,!0))}return e.every(t=>!1!==t)}function xl(...t){const e=yl(t);return"boolean"==typeof e?Promise.resolve(e):e}const bl=/[\t\r\n\f]/g,wl=/\S+/g,Cl=t=>` ${t} `;function _l(t){return t&&t.getAttribute&&t.getAttribute("class")||""}function Sl(t,e){if(null==t||null==e)return!1;const n=Cl(_l(t)),i=Cl(e);return 1===t.nodeType&&n.replace(bl," ").includes(i)}function Ol(t,e){if(null!=t&&null!=e){if("function"==typeof e)return Ol(t,e(_l(t)));if("string"==typeof e&&1===t.nodeType){const n=e.match(wl)||[],i=Cl(_l(t)).replace(bl," ");let r=n.reduce((t,e)=>t.indexOf(Cl(e))<0?`${t}${e} `:t,i);r=r.trim(),i!==r&&t.setAttribute("class",r)}}}function Ml(t,e){if(null!=t){if("function"==typeof e)return Ml(t,e(_l(t)));if((!e||"string"==typeof e)&&1===t.nodeType){const n=(e||"").match(wl)||[],i=Cl(_l(t)).replace(bl," ");let r=n.reduce((t,e)=>{const n=Cl(e);return t.indexOf(n)>-1?t.replace(n," "):t},i);r=e?r.trim():"",i!==r&&t.setAttribute("class",r)}}}function kl(t,e,n){if(null!=t&&null!=e)if(null==n||"string"!=typeof e){if("function"==typeof e)return kl(t,e(_l(t),n),n);if("string"==typeof e){(e.match(wl)||[]).forEach(e=>{Sl(t,e)?Ml(t,e):Ol(t,e)})}}else n?Ol(t,e):Ml(t,e)}let Al=0;function Tl(){return Al+=1,"v"+Al}function Dl(t){return null!=t.id&&""!==t.id||(t.id=Tl()),t.id}function Pl(t){return null!=t&&("function"==typeof t.getScreenCTM&&t instanceof SVGElement)}const Il={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},El="1.1";function jl(t,e=document){return e.createElement(t)}function Ll(t,e=Il.xhtml,n=document){return n.createElementNS(e,t)}function Bl(t,e=document){return Ll(t,Il.svg,e)}function Nl(t){if(t){const e=`<svg xmlns="${Il.svg}" xmlns:xlink="${Il.xlink}" version="${El}">${t}</svg>`,{documentElement:n}=Rl(e,{async:!1});return n}const e=document.createElementNS(Il.svg,"svg");return e.setAttributeNS(Il.xmlns,"xmlns:xlink",Il.xlink),e.setAttribute("version",El),e}function Rl(t,e={}){let n;try{const i=new DOMParser;if(null!=e.async){i.async=e.async}n=i.parseFromString(t,e.mimeType||"text/xml")}catch(t){n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return n}function Fl(t,e=!0){const n=t.nodeName;return e?n.toLowerCase():n.toUpperCase()}function zl(t){let e=0,n=t.previousSibling;for(;n;)1===n.nodeType&&(e+=1),n=n.previousSibling;return e}function Vl(t,e){return t.querySelectorAll(e)}function Gl(t,e){return t.querySelector(e)}function Hl(t,e,n){const i=t.ownerSVGElement;let r=t.parentNode;for(;r&&r!==n&&r!==i;){if(Sl(r,e))return r;r=r.parentNode}return null}function Wl(t,e){const n=e&&e.parentNode;return t===n||!!(n&&1===n.nodeType&&16&t.compareDocumentPosition(n))}function $l(t){t.parentNode&&t.parentNode.removeChild(t)}function Yl(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Xl(t,e){(Array.isArray(e)?e:[e]).forEach(e=>{null!=e&&t.appendChild(e)})}function ql(t,e){const n=t.firstChild;return n?Ul(n,e):Xl(t,e)}function Ul(t,e){const n=t.parentNode;if(n){(Array.isArray(e)?e:[e]).forEach(e=>{null!=e&&n.insertBefore(e,t)})}}function Zl(t,e){null!=e&&e.appendChild(t)}function Kl(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}function Jl(t,e){return t.getAttribute(e)}function Ql(t,e){const n=ic(e);n.ns?t.hasAttributeNS(n.ns,n.local)&&t.removeAttributeNS(n.ns,n.local):t.hasAttribute(e)&&t.removeAttribute(e)}function tc(t,e,n){if(null==n)return Ql(t,e);const i=ic(e);i.ns&&"string"==typeof n?t.setAttributeNS(i.ns,e,n):"id"===e?t.id=""+n:t.setAttribute(e,""+n)}function ec(t,e){Object.keys(e).forEach(n=>{tc(t,n,e[n])})}function nc(t,e,n){if(null==e){const e=t.attributes,n={};for(let t=0;t<e.length;t+=1)n[e[t].name]=e[t].value;return n}if("string"==typeof e&&void 0===n)return t.getAttribute(e);"object"==typeof e?ec(t,e):tc(t,e,n)}function ic(t){if(-1!==t.indexOf(":")){const e=t.split(":");return{ns:Il[e[0]],local:e[1]}}return{ns:null,local:t}}function rc(t){const e={};return Object.keys(t).forEach(n=>{const i=Ms(n);e[i]=t[n]}),e}function oc(t){const e={};return t.split(";").forEach(t=>{const n=t.trim();if(n){const t=n.split("=");t.length&&(e[t[0].trim()]=t[1]?t[1].trim():"")}}),e}function ac(t,e){return Object.keys(e).forEach(n=>{if("class"===n)t[n]=t[n]?`${t[n]} ${e[n]}`:e[n];else if("style"===n){const i="object"==typeof t[n],r="object"==typeof e[n];let o,a;i&&r?(o=t[n],a=e[n]):i?(o=t[n],a=oc(e[n])):r?(o=oc(t[n]),a=e[n]):(o=oc(t[n]),a=oc(e[n])),t[n]=ac(o,a)}else t[n]=e[n]}),t}function sc(t,e,n={}){const i=n.offset||0,o=[],a=[];let s,l,c=null;for(let h=0;h<t.length;h+=1){s=a[h]=t[h];for(let r=0,o=e.length;r<o;r+=1){const o=e[r],l=o.start+i,c=o.end+i;h>=l&&h<c&&("string"==typeof s?s=a[h]={t:t[h],attrs:o.attrs}:s.attrs=ac(ac({},s.attrs),o.attrs),n.includeAnnotationIndices&&(null==s.annotations&&(s.annotations=[]),s.annotations.push(r)))}l=a[h-1],l?r.isObject(s)&&r.isObject(l)?(c=c,JSON.stringify(s.attrs)===JSON.stringify(l.attrs)?c.t+=s.t:(o.push(c),c=s)):r.isObject(s)||r.isObject(l)?(c=c,o.push(c),c=s):c=(c||"")+s:c=s}return null!=c&&o.push(c),o}function lc(t,e){return t?t.filter(t=>t.start<e&&e<=t.end):[]}function cc(t,e,n){return t?t.filter(t=>e>=t.start&&e<t.end||n>t.start&&n<=t.end||t.start>=e&&t.end<n):[]}function hc(t,e,n){return t&&t.forEach(t=>{t.start<e&&t.end>=e?t.end+=n:t.start>=e&&(t.start+=n,t.end+=n)}),t}function uc(t){return t.replace(/ /g,"")}var dc,pc;let fc;!function(t){function e(t){return null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t}function n(t){return Array.isArray(t)}function i(t,r){if(t===r)return!0;if(e(t)||e(r))return!1;const o=n(t),a=n(r);return o===a&&(o&&a?function(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n+=1)if(!i(t[n],e[n]))return!1;return!0}(t,r):function(t,e){if(t===e)return!0;for(const n in t)if(!(n in e))return!1;for(const n in e)if(!(n in t))return!1;for(const n in t)if(!i(t[n],e[n]))return!1;return!0}(t,r))}function r(t){return e(t)?t:n(t)?function(t){const e=new Array(t.length);for(let n=0,i=t.length;n<i;n+=1)e[n]=r(t[n]);return e}(t):function(t){const e={};return Object.keys(t).forEach(n=>{e[n]=r(t[n])}),e}(t)}t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.isPrimitive=e,t.isArray=n,t.isObject=function(t){return!e(t)&&!n(t)},t.deepEqual=i,t.deepCopy=r}(dc||(dc={})),function(t){function e(t){return"data:"===t.substr(0,"data:".length)}function n(t){let e=t.replace(/\s/g,"");e=decodeURIComponent(e);const n=e.indexOf(","),i=e.slice(0,n),r=i.split(":")[1].split(";")[0],o=e.slice(n+1);let a;a=i.indexOf("base64")>=0?atob(o):unescape(encodeURIComponent(o));const s=new Uint8Array(a.length);for(let t=0;t<a.length;t+=1)s[t]=a.charCodeAt(t);return new Blob([s],{type:r})}function i(t,e){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,e);else{const n=window.URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}}function r(t){const e=parseFloat(t);return Number.isNaN(e)?null:e}t.isDataUrl=e,t.imageToDataUri=function(t,n){if(!t||e(t))return void setTimeout(()=>n(null,t));const i=()=>{n(new Error("Failed to load image: "+t))},r=window.FileReader?t=>{if(200===t.status){const e=new FileReader;e.onload=t=>{const e=t.target.result;n(null,e)},e.onerror=i,e.readAsDataURL(t.response)}else i()}:e=>{if(200===e.status){let i=t.split(".").pop()||"png";"svg"===i&&(i="svg+xml");const r=`data:image/${i};base64,`,o=new Uint8Array(e.response),a=r+btoa((t=>{const e=[];for(let n=0;n<t.length;n+=32768)e.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return e.join("")})(o));n(null,a)}else i()},o=new XMLHttpRequest;o.responseType=window.FileReader?"blob":"arraybuffer",o.open("GET",t,!0),o.addEventListener("error",i),o.addEventListener("load",()=>r(o)),o.send()},t.dataUriToBlob=n,t.downloadBlob=i,t.downloadDataUri=function(t,e){i(n(t),e)},t.svgToDataUrl=function(t,e={}){let n=null;const i=e=>(null==n&&(n=function(t){const e=t.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return e&&e[2]?e[2].replace(/\s+/," ").split(" "):null}(t)),null!=n?r(n[e]):null),o=e=>{const n=t.match(e);return n&&n[2]?r(n[2]):null};let a=e.width;if(null==a&&(a=o(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==a&&(a=i(2)),null==a)throw new Error("Can not parse width from svg string");let s=e.height;if(null==s&&(s=o(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==s&&(s=i(3)),null==s)throw new Error("Can not parse height from svg string");return"data:image/svg+xml,"+encodeURIComponent(t).replace(/'/g,"%27").replace(/"/g,"%22")}}(pc||(pc={}));const gc={px:t=>t,mm:t=>fc*t,cm:t=>fc*t*10,in:t=>fc*t*25.4,pt:t=>fc*(25.4*t/72),pc:t=>fc*(25.4*t/6)};var mc;!function(t){function e(t,e,n){const i=O()("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:t+(n||""),height:e+(n||"")}).appendTo(document.body),r={width:i.width()||0,height:i.height()||0};return i.remove(),r}t.measure=e,t.toPx=function(t,n){null==fc&&(fc=e("1","1","mm").width);const i=n?gc[n]:null;return i?i(t):t}}(mc||(mc={}));const vc=function(){let t;const e=window;if(null!=e&&(t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,null!=t&&(t=t.bind(e))),null==t){let e=0;t=t=>{const n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=setTimeout(()=>{t(n+i)},i);return e=n+i,r}}return t}(),yc=function(){let t;const e=window;return null!=e&&(t=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.msCancelAnimationFrame||e.msCancelRequestAnimationFrame||e.oCancelAnimationFrame||e.oCancelRequestAnimationFrame||e.mozCancelAnimationFrame||e.mozCancelRequestAnimationFrame,t&&(t=t.bind(e))),null==t&&(t=clearTimeout),t}(),xc=/-(.)/g;const bc={},wc=["Webkit","ms","Moz","O"],Cc=document?document.createElement("div").style:{};function _c(t){const e=t.replace(xc,(t,e)=>e.toUpperCase());if(null==bc[e]){const t=e.charAt(0).toUpperCase()+e.slice(1);bc[e]=e in Cc?e:function(t){for(let e=0;e<wc.length;e+=1){const n=wc[e]+t;if(n in Cc)return n}return null}(t)}return bc[e]}function Sc(t,e,n){const i=_c(e);null!=i&&(t[i]=n),t[e]=n}function Oc(t,e){const n=t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null);return n&&e?n.getPropertyValue(e)||n[e]:n}function Mc(t){const e=Oc(t);return null!=e&&("scroll"===e.overflow||"auto"===e.overflow)}const kc=function(){const t=document;return t.selection?function(){t.selection.empty()}:window.getSelection?function(){const t=window.getSelection();t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())}:function(){}}();var Ac,Tc,Dc,Pc,Ic,Ec,jc,Lc,Bc,Nc,Rc;function Fc(t,e=0){return Number.isInteger(t)?t:+t.toFixed(e)}function zc(t,e){let n,i;if(null==e?(i=null==t?1:t,n=0):(i=e,n=null==t?0:t),i<n){const t=n;n=i,i=t}return Math.floor(Math.random()*(i-n+1)+n)}function Vc(t,e,n){return Number.isNaN(t)?NaN:Number.isNaN(e)||Number.isNaN(n)?0:e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}function Gc(t,e){return e*Math.round(t/e)}function Hc(t,e){return null!=e&&null!=t&&e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function Wc(t,e){const n=t.x-e.x,i=t.y-e.y;return n*n+i*i}!function(t){t.toDeg=function(t){return 180*t/Math.PI%360},t.toRad=function(t,e=!1){return(e?t:t%360)*Math.PI/180},t.normalize=function(t){return t%360+(t<0?360:0)}}(Ac||(Ac={}));class $c{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class Yc extends $c{constructor(t,e){super(),this.x=null==t?0:t,this.y=null==e?0:e}get[Symbol.toStringTag](){return Yc.toStringTag}round(t=0){return this.x=Fc(this.x,t),this.y=Fc(this.y,t),this}add(t,e){const n=Yc.create(t,e);return this.x+=n.x,this.y+=n.y,this}update(t,e){const n=Yc.create(t,e);return this.x=n.x,this.y=n.y,this}translate(t,e){const n=Yc.create(t,e);return this.x+=n.x,this.y+=n.y,this}rotate(t,e){const n=Yc.rotate(this,t,e);return this.x=n.x,this.y=n.y,this}scale(t,e,n=new Yc){const i=Yc.create(n);return this.x=i.x+t*(this.x-i.x),this.y=i.y+e*(this.y-i.y),this}closest(t){if(1===t.length)return Yc.create(t[0]);let e=null,n=1/0;return t.forEach(t=>{const i=this.squaredDistance(t);i<n&&(e=t,n=i)}),e?Yc.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=Yc.create(t),n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistance(t){const e=Yc.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new Yc){const e=Yc.create(t),n=-(e.y-this.y),i=e.x-this.x;let r=Math.atan2(n,i);return r<0&&(r=2*Math.PI+r),180*r/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let n=this.theta(e)-this.theta(t);return n<0&&(n+=360),n}vectorAngle(t){return new Yc(0,0).angleBetween(this,t)}toPolar(t){return this.update(Yc.toPolar(this,t)),this}changeInAngle(t,e,n=new Yc){return this.clone().translate(-t,-e).theta(n)-this.theta(n)}adhereToRect(t){return Hc(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=Yc.create(t),n=Ac.toRad(this.y),i=Ac.toRad(e.y),r=this.x,o=e.x,a=Ac.toRad(o-r),s=Math.sin(a)*Math.cos(i),l=Math.cos(n)*Math.sin(i)-Math.sin(n)*Math.cos(i)*Math.cos(a);let c=Ac.toDeg(Math.atan2(s,l))-22.5;return c<0&&(c+=360),c=parseInt(c/45,10),["NE","E","SE","S","SW","W","NW","N"][c]}cross(t,e){if(null!=t&&null!=e){const n=Yc.create(t),i=Yc.create(e);return(i.x-this.x)*(n.y-this.y)-(i.y-this.y)*(n.x-this.x)}return NaN}dot(t){const e=Yc.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if("number"==typeof t)return new Yc(this.x-t,this.y-e);const n=Yc.create(t);return new Yc(this.x-n.x,this.y-n.y)}lerp(t,e){const n=Yc.create(t);return new Yc((1-e)*this.x+e*n.x,(1-e)*this.y+e*n.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const n=Yc.create(t),i=Ac.toRad(n.theta(this));return this.translate(Math.cos(i)*e,-Math.sin(i)*e)}reflection(t){return Yc.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=Gc(this.x,t),this.y=Gc(this.y,null==e?t:e),this}equals(t){const e=Yc.create(t);return null!=e&&e.x===this.x&&e.y===this.y}clone(){return Yc.clone(this)}toJSON(){return Yc.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(Tc=Yc||(Yc={})).toStringTag="X6.Geometry."+Tc.name,Tc.isPoint=function(t){if(null==t)return!1;if(t instanceof Tc)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===Tc.toStringTag)&&"number"==typeof n.x&&"number"==typeof n.y&&"function"==typeof n.toPolar},function(t){t.isPointLike=function(t){return null!=t&&"object"==typeof t&&"number"==typeof t.x&&"number"==typeof t.y},t.isPointData=function(t){return null!=t&&Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}}(Yc||(Yc={})),function(t){function e(e){return t.isPoint(e)?new t(e.x,e.y):Array.isArray(e)?new t(e[0],e[1]):new t(e.x,e.y)}function n(t,e){return t===e||null!=t&&null!=e&&(t.x===e.x&&t.y===e.y)}function i(n,i,r,o=new t){const a=e(n),s=e(o),l=a.x-s.x,c=a.y-s.y,h=c*i+l*r;return new t(l*i-c*r+s.x,h+s.y)}t.create=function(n,i){return null==n||"number"==typeof n?new t(n,i):e(n)},t.clone=e,t.toJSON=function(e){return t.isPoint(e)?{x:e.x,y:e.y}:Array.isArray(e)?{x:e[0],y:e[1]}:{x:e.x,y:e.y}},t.fromPolar=function(n,i,r=new t){let o=Math.abs(n*Math.cos(i)),a=Math.abs(n*Math.sin(i));const s=e(r),l=Ac.normalize(Ac.toDeg(i));return l<90?a=-a:l<180?(o=-o,a=-a):l<270&&(o=-o),new t(s.x+o,s.y+a)},t.toPolar=function(n,i=new t){const r=e(n),o=e(i),a=r.x-o.x,s=r.y-o.y;return new t(Math.sqrt(a*a+s*s),Ac.toRad(o.theta(r)))},t.equals=n,t.equalPoints=function(t,e){if(null==t&&null!=e||null!=t&&null==e||null!=t&&null!=e&&t.length!==e.length)return!1;if(null!=t&&null!=e)for(let i=0,r=t.length;i<r;i+=1)if(!n(t[i],e[i]))return!1;return!0},t.random=function(e,n,i,r){return new t(zc(e,n),zc(i,r))},t.rotate=function(t,e,n){const r=Ac.toRad(Ac.normalize(-e)),o=Math.sin(r);return i(t,Math.cos(r),o,n)},t.rotateEx=i}(Yc||(Yc={}));class Xc extends $c{constructor(t,e,n,i){super(),this.x=null==t?0:t,this.y=null==e?0:e,this.width=null==n?0:n,this.height=null==i?0:i}get[Symbol.toStringTag](){return Xc.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new Yc(this.x,this.y)}get topLeft(){return new Yc(this.x,this.y)}get topCenter(){return new Yc(this.x+this.width/2,this.y)}get topRight(){return new Yc(this.x+this.width,this.y)}get center(){return new Yc(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new Yc(this.x,this.y+this.height)}get bottomCenter(){return new Yc(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new Yc(this.x+this.width,this.y+this.height)}get corner(){return new Yc(this.x+this.width,this.y+this.height)}get rightMiddle(){return new Yc(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new Yc(this.x,this.y+this.height/2)}get topLine(){return new qc(this.topLeft,this.topRight)}get rightLine(){return new qc(this.topRight,this.bottomRight)}get bottomLine(){return new qc(this.bottomLeft,this.bottomRight)}get leftLine(){return new qc(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=Ac.toRad(t),n=Math.abs(Math.sin(e)),i=Math.abs(Math.cos(e)),r=this.width*i+this.height*n,o=this.width*n+this.height*i;return new Xc(this.x+(this.width-r)/2,this.y+(this.height-o)/2,r,o)}round(t=0){return this.x=Fc(this.x,t),this.y=Fc(this.y,t),this.width=Fc(this.width,t),this.height=Fc(this.height,t),this}add(t,e,n,i){const r=Xc.create(t,e,n,i),o=Math.min(this.x,r.x),a=Math.min(this.y,r.y),s=Math.max(this.x+this.width,r.x+r.width),l=Math.max(this.y+this.height,r.y+r.height);return this.x=o,this.y=a,this.width=s-o,this.height=l-a,this}update(t,e,n,i){const r=Xc.create(t,e,n,i);return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this}inflate(t,e){const n=t,i=null!=e?e:t;return this.x-=n,this.y-=i,this.width+=2*n,this.height+=2*i,this}snapToGrid(t,e){const n=this.origin.snapToGrid(t,e),i=this.corner.snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this}translate(t,e){const n=Yc.create(t,e);return this.x+=n.x,this.y+=n.y,this}scale(t,e,n=new Yc){const i=this.origin.scale(t,e,n);return this.x=i.x,this.y=i.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(0!==t){const n=Ac.toRad(t),i=Math.cos(n),r=Math.sin(n);let o=this.getOrigin(),a=this.getTopRight(),s=this.getBottomRight(),l=this.getBottomLeft();o=Yc.rotateEx(o,i,r,e),a=Yc.rotateEx(a,i,r,e),s=Yc.rotateEx(s,i,r,e),l=Yc.rotateEx(l,i,r,e);const c=new Xc(o.x,o.y,0,0);c.add(a.x,a.y,0,0),c.add(s.x,s.y,0,0),c.add(l.x,l.y,0,0),this.update(c)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=Xc.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const n=Xc.clone(t),i=e.x,r=e.y;let o=1/0,a=1/0,s=1/0,l=1/0,c=1/0,h=1/0,u=1/0,d=1/0;const p=n.topLeft;p.x<i&&(o=(this.x-i)/(p.x-i)),p.y<r&&(c=(this.y-r)/(p.y-r));const f=n.bottomRight;f.x>i&&(a=(this.x+this.width-i)/(f.x-i)),f.y>r&&(h=(this.y+this.height-r)/(f.y-r));const g=n.topRight;g.x>i&&(s=(this.x+this.width-i)/(g.x-i)),g.y<r&&(u=(this.y-r)/(g.y-r));const m=n.bottomLeft;return m.x<i&&(l=(this.x-i)/(m.x-i)),m.y>r&&(d=(this.y+this.height-r)/(m.y-r)),{sx:Math.min(o,a,s,l),sy:Math.min(c,h,u,d)}}getMaxUniformScaleToFit(t,e=this.center){const n=this.getMaxScaleToFit(t,e);return Math.min(n.sx,n.sy)}containsPoint(t,e){return Hc(this,Yc.create(t,e))}containsRect(t,e,n,i){const r=Xc.create(t,e,n,i),o=this.x,a=this.y,s=this.width,l=this.height,c=r.x,h=r.y,u=r.width,d=r.height;return 0!==s&&0!==l&&0!==u&&0!==d&&(c>=o&&h>=a&&c+u<=o+s&&h+d<=a+l)}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],i=[];return e.forEach(e=>{const r=t.intersectsWithLine(e);null!==r&&i.indexOf(r.toString())<0&&(n.push(r),i.push(r.toString()))}),n.length>0?n:null}intersectsWithLineFromCenterToPoint(t,e){const n=Yc.clone(t),i=this.center;let r=null;null!=e&&0!==e&&n.rotate(e,i);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new qc(i,n);for(let t=o.length-1;t>=0;t-=1){const e=o[t].intersectsWithLine(a);if(null!==e){r=e;break}}return r&&null!=e&&0!==e&&r.rotate(-e,i),r}intersectsWithRect(t,e,n,i){const r=Xc.create(t,e,n,i);if(!this.isIntersectWithRect(r))return null;const o=this.origin,a=this.corner,s=r.origin,l=r.corner,c=Math.max(o.x,s.x),h=Math.max(o.y,s.y);return new Xc(c,h,Math.min(a.x,l.x)-c,Math.min(a.y,l.y)-h)}isIntersectWithRect(t,e,n,i){const r=Xc.create(t,e,n,i),o=this.origin,a=this.corner,s=r.origin,l=r.corner;return!(l.x<=o.x||l.y<=o.y||s.x>=a.x||s.y>=a.y)}normalize(){let t=this.x,e=this.y,n=this.width,i=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,i=-this.height),this.x=t,this.y=e,this.width=n,this.height=i,this}union(t){const e=Xc.clone(t),n=this.origin,i=this.corner,r=e.origin,o=e.corner,a=Math.min(n.x,r.x),s=Math.min(n.y,r.y),l=Math.max(i.x,o.x),c=Math.max(i.y,o.y);return new Xc(a,s,l-a,c-s)}getNearestSideToPoint(t){const e=Yc.clone(t),n=e.x-this.x,i=this.x+this.width-e.x,r=e.y-this.y;let o=n,a="left";return i<o&&(o=i,a="right"),r<o&&(o=r,a="top"),this.y+this.height-e.y<o&&(a="bottom"),a}getNearestPointToPoint(t){const e=Yc.clone(t);if(this.containsPoint(e)){switch(this.getNearestSideToPoint(e)){case"right":return new Yc(this.x+this.width,e.y);case"left":return new Yc(this.x,e.y);case"bottom":return new Yc(e.x,this.y+this.height);case"top":return new Yc(e.x,this.y)}}return e.adhereToRect(this)}equals(t){return null!=t&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new Xc(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(Dc=Xc||(Xc={})).toStringTag="X6.Geometry."+Dc.name,Dc.isRectangle=function(t){if(null==t)return!1;if(t instanceof Dc)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===Dc.toStringTag)&&"number"==typeof n.x&&"number"==typeof n.y&&"number"==typeof n.width&&"number"==typeof n.height&&"function"==typeof n.inflate&&"function"==typeof n.moveAndExpand},function(t){t.isRectangleLike=function(t){return null!=t&&"object"==typeof t&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.width&&"number"==typeof t.height}}(Xc||(Xc={})),function(t){function e(e){return t.isRectangle(e)?e.clone():Array.isArray(e)?new t(e[0],e[1],e[2],e[3]):new t(e.x,e.y,e.width,e.height)}t.create=function(n,i,r,o){return null==n||"number"==typeof n?new t(n,i,r,o):e(n)},t.clone=e,t.fromSize=function(e){return new t(0,0,e.width,e.height)},t.fromPositionAndSize=function(e,n){return new t(e.x,e.y,n.width,n.height)},t.fromEllipse=function(e){return new t(e.x-e.a,e.y-e.b,2*e.a,2*e.b)}}(Xc||(Xc={}));class qc extends $c{constructor(t,e,n,i){super(),"number"==typeof t&&"number"==typeof e?(this.start=new Yc(t,e),this.end=new Yc(n,i)):(this.start=Yc.create(t),this.end=Yc.create(e))}get[Symbol.toStringTag](){return qc.toStringTag}get center(){return new Yc((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return"number"==typeof t?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const n=t/e;return this.scale(n,n,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:n,end:i}=e,r=n.clone().rotate(270,i),o=i.clone().rotate(90,n);return n.move(o,t),i.move(r,t),e}vector(){return new Yc(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new Yc(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),i=Math.max(this.start.y,this.end.y);return new Xc(t,e,n-t,i-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new qc(this.start,t).vector()),n=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(n)?0:n}pointAt(t){const e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)}pointAtLength(t){const e=this.start,n=this.end;let i=!0;t<0&&(i=!1,t=-t);const r=this.length();if(t>=r)return i?n.clone():e.clone();const o=(i?t:r-t)/r;return this.pointAt(o)}divideAt(t){const e=this.pointAt(t);return[new qc(this.start,e),new qc(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new qc(this.start,e),new qc(e,this.end)]}containsPoint(t){const e=this.start,n=this.end;if(0!==e.cross(t,n))return!1;const i=this.length();return!(new qc(e,t).length()>i)&&!(new qc(t,n).length()>i)}intersect(t,e){const n=t.intersectsWithLine(this,e);return n?Array.isArray(n)?n:[n]:null}intersectsWithLine(t){const e=new Yc(this.end.x-this.start.x,this.end.y-this.start.y),n=new Yc(t.end.x-t.start.x,t.end.y-t.start.y),i=e.x*n.y-e.y*n.x,r=new Yc(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*n.y-r.y*n.x,a=r.x*e.y-r.y*e.x;if(0===i||o*i<0||a*i<0)return null;if(i>0){if(o>i||a>i)return null}else if(o<i||a<i)return null;return new Yc(this.start.x+o*e.x/i,this.start.y+o*e.y/i)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=Yc.clone(t),n=this.start,i=this.end;return((i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x))/this.length()}pointSquaredDistance(t,e){const n=Yc.create(t,e);return this.closestPoint(n).squaredDistance(n)}pointDistance(t,e){const n=Yc.create(t,e);return this.closestPoint(n).distance(n)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,i=this.pointAt(t),r=new qc(e,n);return r.translate(i.x-e.x,i.y-e.y),r}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,i=this.pointAtLength(t),r=new qc(e,n);return r.translate(i.x-e.x,i.y-e.y),r}relativeCcw(t,e){const n=Yc.create(t,e);let i=n.x-this.start.x,r=n.y-this.start.y;const o=this.end.x-this.start.x,a=this.end.y-this.start.y;let s=i*a-r*o;return 0===s&&(s=i*o+r*a,s>0&&(i-=o,r-=a,s=i*o+r*a,s<0&&(s=0))),s<0?-1:s>0?1:0}equals(t){return null!=t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new qc(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(Pc=qc||(qc={})).toStringTag="X6.Geometry."+Pc.name,Pc.isLine=function(t){if(null==t)return!1;if(t instanceof Pc)return!0;const e=t[Symbol.toStringTag],n=t;return!(null!=e&&e!==Pc.toStringTag||!Yc.isPoint(n.start)||!Yc.isPoint(n.end)||"function"!=typeof n.vector||"function"!=typeof n.bearing||"function"!=typeof n.parallel||"function"!=typeof n.intersect)};class Uc extends $c{constructor(t,e,n,i){super(),this.x=null==t?0:t,this.y=null==e?0:e,this.a=null==n?0:n,this.b=null==i?0:i}get[Symbol.toStringTag](){return Uc.toStringTag}get center(){return new Yc(this.x,this.y)}bbox(){return Xc.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const n=t,i=null!=e?e:t;return this.a+=2*n,this.b+=2*i,this}normalizedDistance(t,e){const n=Yc.create(t,e),i=n.x-this.x,r=n.y-this.y,o=this.a,a=this.b;return i*i/(o*o)+r*r/(a*a)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],n=this.a,i=this.b,r=t.start,o=t.end,a=t.vector(),s=r.diff(new Yc(this.x,this.y)),l=new Yc(a.x/(n*n),a.y/(i*i)),c=new Yc(s.x/(n*n),s.y/(i*i)),h=a.dot(l),u=a.dot(c),d=u*u-h*(s.dot(c)-1);if(d<0)return null;if(d>0){const t=Math.sqrt(d),n=(-u-t)/h,i=(-u+t)/h;if((n<0||n>1)&&(i<0||i>1))return null;n>=0&&n<=1&&e.push(r.lerp(o,n)),i>=0&&i<=1&&e.push(r.lerp(o,i))}else{const t=-u/h;if(!(t>=0&&t<=1))return null;e.push(r.lerp(o,t))}return e}intersectsWithLineFromCenterToPoint(t,e=0){const n=Yc.clone(t);e&&n.rotate(e,this.getCenter());const i=n.x-this.x,r=n.y-this.y;let o;if(0===i)return o=this.bbox().getNearestPointToPoint(n),e?o.rotate(-e,this.getCenter()):o;const a=r/i,s=a*a,l=this.a*this.a,c=this.b*this.b;let h=Math.sqrt(1/(1/l+s/c));h=i<0?-h:h;const u=a*h;return o=new Yc(this.x+h,this.y+u),e?o.rotate(-e,this.getCenter()):o}tangentTheta(t){const e=Yc.clone(t),n=e.x,i=e.y,r=this.a,o=this.b,a=this.bbox().center,s=a.x,l=a.y,c=n>a.x+r/2,h=n<a.x-r/2;let u,d;return c||h?(d=n>a.x?i-30:i+30,u=r*r/(n-s)-r*r*(i-l)*(d-l)/(o*o*(n-s))+s):(u=i>a.y?n+30:n-30,d=o*o/(i-l)-o*o*(n-s)*(u-s)/(r*r*(i-l))+l),new Yc(u,d).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const n=Xc.fromEllipse(this);n.rotate(t,e);const i=Uc.fromRect(n);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}translate(t,e){const n=Yc.create(t,e);return this.x+=n.x,this.y+=n.y,this}equals(t){return null!=t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new Uc(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(Ic=Uc||(Uc={})).toStringTag="X6.Geometry."+Ic.name,Ic.isEllipse=function(t){if(null==t)return!1;if(t instanceof Ic)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===Ic.toStringTag)&&"number"==typeof n.x&&"number"==typeof n.y&&"number"==typeof n.a&&"number"==typeof n.b&&"function"==typeof n.inflate&&"function"==typeof n.normalizedDistance},function(t){function e(e){return t.isEllipse(e)?e.clone():Array.isArray(e)?new t(e[0],e[1],e[2],e[3]):new t(e.x,e.y,e.a,e.b)}t.create=function(n,i,r,o){return null==n||"number"==typeof n?new t(n,i,r,o):e(n)},t.parse=e,t.fromRect=function(e){const n=e.center;return new t(n.x,n.y,e.width/2,e.height/2)}}(Uc||(Uc={}));class Zc extends $c{constructor(t){if(super(),null!=t){if("string"==typeof t)return Zc.parse(t);this.points=t.map(t=>Yc.create(t))}else this.points=[]}get[Symbol.toStringTag](){return Zc.toStringTag}get start(){return 0===this.points.length?null:this.points[0]}get end(){return 0===this.points.length?null:this.points[this.points.length-1]}scale(t,e,n=new Yc){return this.points.forEach(i=>i.scale(t,e,n)),this}rotate(t,e){return this.points.forEach(n=>n.rotate(t,e)),this}translate(t,e){const n=Yc.create(t,e);return this.points.forEach(t=>t.translate(n.x,n.y)),this}bbox(){if(0===this.points.length)return new Xc;let t=1/0,e=-1/0,n=1/0,i=-1/0;const r=this.points;for(let o=0,a=r.length;o<a;o+=1){const a=r[o],s=a.x,l=a.y;s<t&&(t=s),s>e&&(e=s),l<n&&(n=l),l>i&&(i=l)}return new Xc(t,n,e-t,i-n)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,n=e.length;if(0===n||1===n)return 0;let i=0,r=0,o=1/0;for(let a=0,s=n-1;a<s;a+=1){const n=new qc(e[a],e[a+1]),s=n.length(),l=n.closestPointNormalizedLength(t),c=n.pointAt(l).squaredDistance(t);c<o&&(o=c,r=i+l*s),i+=s}return r}closestPointNormalizedLength(t){const e=this.closestPointLength(t);if(0===e)return 0;const n=this.length();return 0===n?0:e/n}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(0===this.points.length)return!1;const e=Yc.clone(t),n=e.x,i=e.y,r=this.points,o=r.length;let a=o-1,s=0;for(let l=0;l<o;l+=1){const o=r[a],c=r[l];if(e.equals(o))return!0;const h=new qc(o,c);if(h.containsPoint(t))return!0;if(i<=o.y&&i>c.y||i>o.y&&i<=c.y){const e=o.x-n>c.x-n?o.x-n:c.x-n;if(e>=0){const r=new Yc(n+e,i),o=new qc(t,r);h.intersectsWithLine(o)&&(s+=1)}}a=l}return s%2==1}intersectsWithLine(t){const e=[];for(let n=0,i=this.points.length-1;n<i;n+=1){const i=this.points[n],r=this.points[n+1],o=t.intersectsWithLine(new qc(i,r));o&&e.push(o)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const e=this.points[t],n=this.points[t+1];if(new qc(e,n).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,n=this.points.length-1;e<n;e+=1){const n=this.points[e],i=this.points[e+1];t+=n.distance(i)}return t}pointAt(t){const e=this.points,n=e.length;if(0===n)return null;if(1===n)return e[0].clone();if(t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();const i=this.length()*t;return this.pointAtLength(i)}pointAtLength(t){const e=this.points,n=e.length;if(0===n)return null;if(1===n)return e[0].clone();let i=!0;t<0&&(i=!1,t=-t);let r=0;for(let o=0,a=n-1;o<a;o+=1){const n=i?o:a-1-o,s=e[n],l=e[n+1],c=new qc(s,l),h=s.distance(l);if(t<=r+h)return c.pointAtLength((i?1:-1)*(t-r));r+=h}return(i?e[n-1]:e[0]).clone()}tangentAt(t){const e=this.points.length;if(0===e||1===e)return null;t<0&&(t=0),t>1&&(t=1);const n=this.length()*t;return this.tangentAtLength(n)}tangentAtLength(t){const e=this.points,n=e.length;if(0===n||1===n)return null;let i,r=!0;t<0&&(r=!1,t=-t);let o=0;for(let a=0,s=n-1;a<s;a+=1){const n=r?a:s-1-a,l=e[n],c=e[n+1],h=new qc(l,c),u=l.distance(c);if(h.isDifferentiable()){if(t<=o+u)return h.tangentAtLength((r?1:-1)*(t-o));i=h}o+=u}if(i){const t=r?1:0;return i.tangentAt(t)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let i=0;for(;e[i+2];){const t=i+1,r=i+2,o=e[i],a=e[t],s=e[r];new qc(o,s).closestPoint(a).distance(a)<=n?e.splice(t,1):i+=1}return this}toHull(){const t=this.points,e=t.length;if(0===e)return new Zc;let n=t[0];for(let i=1;i<e;i+=1)(t[i].y<n.y||t[i].y===n.y&&t[i].x>n.x)&&(n=t[i]);const i=[];for(let r=0;r<e;r+=1){let e=n.theta(t[r]);0===e&&(e=360),i.push([t[r],r,e])}if(i.sort((t,e)=>{let n=t[2]-e[2];return 0===n&&(n=e[1]-t[1]),n}),i.length>2){const t=i[i.length-1];i.unshift(t)}const r={},o=[],a=t=>`${t[0].toString()}@${t[1]}`;for(;0!==i.length;){const t=i.pop(),e=t[0];if(r[a(t)])continue;let n=!1;for(;!n;)if(o.length<2)o.push(t),n=!0;else{const s=o.pop(),l=s[0],c=o.pop(),h=c[0],u=h.cross(l,e);if(u<0)o.push(c),o.push(s),o.push(t),n=!0;else if(0===u){const t=1e-10,n=l.angleBetween(h,e);Math.abs(n-180)<t||l.equals(e)||h.equals(l)?(r[a(s)]=l,o.push(c)):Math.abs((n+1)%360-1)<t&&(o.push(c),i.push(s))}else r[a(s)]=l,o.push(c)}}let s;o.length>2&&o.pop();let l=-1;for(let t=0,e=o.length;t<e;t+=1){const e=o[t][1];(void 0===s||e<s)&&(s=e,l=t)}let c=[];if(l>0){const t=o.slice(l),e=o.slice(0,l);c=t.concat(e)}else c=o;const h=[];for(let t=0,e=c.length;t<e;t+=1)h.push(c[t][0]);return new Zc(h)}equals(t){return null!=t&&(t.points.length===this.points.length&&t.points.every((t,e)=>t.equals(this.points[e])))}clone(){return new Zc(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.x}, ${t.y}`).join(" ")}}(Ec=Zc||(Zc={})).toStringTag="X6.Geometry."+Ec.name,Ec.isPolyline=function(t){if(null==t)return!1;if(t instanceof Ec)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===Ec.toStringTag)&&"function"==typeof n.toHull&&"function"==typeof n.simplify},function(t){t.parse=function(e){const n=e.trim();if(""===n)return new t;const i=[],r=n.split(/\s*,\s*|\s+/);for(let t=0,e=r.length;t<e;t+=2)i.push({x:+r[t],y:+r[t+1]});return new t(i)}}(Zc||(Zc={}));class Kc extends $c{constructor(t,e,n,i){super(),this.PRECISION=3,this.start=Yc.create(t),this.controlPoint1=Yc.create(e),this.controlPoint2=Yc.create(n),this.end=Yc.create(i)}get[Symbol.toStringTag](){return Kc.toStringTag}bbox(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end,r=t.x,o=t.y,a=e.x,s=e.y,l=n.x,c=n.y,h=i.x,u=i.y,d=[],p=[],f=[[],[]];let g,m,v,y,x,b,w,C,_,S,O;for(let t=0;t<2;t+=1)if(0===t?(m=6*r-12*a+6*l,g=-3*r+9*a-9*l+3*h,v=3*a-3*r):(m=6*o-12*s+6*c,g=-3*o+9*s-9*c+3*u,v=3*s-3*o),Math.abs(g)<1e-12){if(Math.abs(m)<1e-12)continue;y=-v/m,y>0&&y<1&&p.push(y)}else w=m*m-4*v*g,C=Math.sqrt(w),w<0||(x=(-m+C)/(2*g),x>0&&x<1&&p.push(x),b=(-m-C)/(2*g),b>0&&b<1&&p.push(b));let M=p.length;const k=M;for(;M;)M-=1,y=p[M],O=1-y,_=O*O*O*r+3*O*O*y*a+3*O*y*y*l+y*y*y*h,f[0][M]=_,S=O*O*O*o+3*O*O*y*s+3*O*y*y*c+y*y*y*u,f[1][M]=S,d[M]={X:_,Y:S};p[k]=0,p[k+1]=1,d[k]={X:r,Y:o},d[k+1]={X:h,Y:u},f[0][k]=r,f[1][k]=o,f[0][k+1]=h,f[1][k+1]=u,p.length=k+2,f[0].length=k+2,f[1].length=k+2,d.length=k+2;const A=Math.min.apply(null,f[0]),T=Math.min.apply(null,f[1]),D=Math.max.apply(null,f[0]),P=Math.max.apply(null,f[1]);return new Xc(A,T,D-A,P-T)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const n=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,n),n)}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),i=this.closestPointLength(t,n);if(!i)return 0;const r=this.length(n);return 0===r?0:i/r}closestPointT(t,e={}){const n=this.getPrecision(e),i=this.getDivisions(e),r=Math.pow(10,-n);let o=null,a=0,s=0,l=0,c=0,h=0,u=null;const d=i.length;let p=d>0?1/d:0;for(i.forEach((e,n)=>{const i=e.start.distance(t),r=e.end.distance(t),d=i+r;(null==u||d<u)&&(o=e,a=n*p,s=(n+1)*p,l=i,c=r,u=d,h=e.endpointDistance())});;){const e=l?Math.abs(l-c)/l:0,n=null!=c?Math.abs(l-c)/c:0,i=!c||c<h*r,u=!l||l<h*r||i;if(e<r||n<r||u)return l<=c?a:s;const d=o.divide(.5);p/=2;const f=d[0].start.distance(t),g=d[0].end.distance(t),m=f+g,v=d[1].start.distance(t),y=d[1].end.distance(t);m<=v+y?(o=d[0],s-=p,l=f,c=g):(o=d[1],a+=p,l=v,c=y)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const n=this.tAt(t,e);return this.divideAtT(n)}divideAtLength(t,e={}){const n=this.tAtLength(t,e);return this.divideAtT(n)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(t<=0)return[new Kc(e,e,e,e),new Kc(e,n,i,r)];if(t>=1)return[new Kc(e,n,i,r),new Kc(r,r,r,r)];const o=this.getSkeletonPoints(t),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,c=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new Kc(e,a,s,l),new Kc(l,c,h,r)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:i.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:i.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};const o=new qc(e,n).pointAt(t),a=new qc(n,i).pointAt(t),s=new qc(i,r).pointAt(t),l=new qc(o,a).pointAt(t),c=new qc(a,s).pointAt(t);return{startControlPoint1:o,startControlPoint2:l,divider:new qc(l,c).pointAt(t),dividerControlPoint1:c,dividerControlPoint2:s}}getSubdivisions(t={}){const e=this.getPrecision(t);let n=[new Kc(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===e)return n;let i=this.endpointDistance();const r=Math.pow(10,-e);let o=0;for(;;){o+=1;const t=[];n.forEach(e=>{const n=e.divide(.5);t.push(n[0],n[1])});const e=t.reduce((t,e)=>t+e.endpointDistance(),0),a=0!==e?(e-i)/e:0;if(o>1&&a<r)return t;n=t,i=e}}length(t={}){return this.getDivisions(t).reduce((t,e)=>t+e.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const n=void 0===e.precision?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.tAt(t,e);return this.pointAtT(n)}pointAtLength(t,e={}){const n=this.tAtLength(t,e);return this.pointAtT(n)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const n=this.tAt(t,e);return this.tangentAtT(n)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const n=this.tAtLength(t,e);return this.tangentAtT(n)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),n=e.startControlPoint2,i=e.dividerControlPoint1,r=e.divider,o=new qc(n,i);return o.translate(r.x-n.x,r.y-n.y),o}getPrecision(t={}){return null==t.precision?this.PRECISION:t.precision}getDivisions(t={}){if(null!=t.subdivisions)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){return{precision:this.getPrecision(t),subdivisions:this.getDivisions(t)}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const n=this.getOptions(e),i=this.length(n)*t;return this.tAtLength(i,n)}tAtLength(t,e={}){let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),r=this.getDivisions(e),o={precision:i,subdivisions:r};let a,s,l=null,c=0,h=0,u=0;const d=r.length;let p=d>0?1/d:0;for(let e=0;e<d;e+=1){const i=n?e:d-1-e,o=r[e],f=o.endpointDistance();if(t<=u+f){l=o,a=i*p,s=(i+1)*p,c=n?t-u:f+u-t,h=n?f+u-t:t-u;break}u+=f}if(null==l)return n?1:0;const f=this.length(o),g=Math.pow(10,-i);for(;;){let t,e,n;if(t=0!==f?c/f:0,t<g)return a;if(t=0!==f?h/f:0,t<g)return s;const i=l.divide(.5);p/=2;const r=i[0].endpointDistance(),o=i[1].endpointDistance();c<=r?(l=i[0],s-=p,e=c,n=r-e):(l=i[1],a+=p,e=c-r,n=o-e),c=e,h=n}}toPoints(t={}){const e=this.getDivisions(t),n=[e[0].start.clone()];return e.forEach(t=>n.push(t.end.clone())),n}toPolyline(t={}){return new Zc(this.toPoints(t))}scale(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return"number"==typeof t?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return null!=t&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new Kc(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(jc=Kc||(Kc={})).toStringTag="X6.Geometry."+jc.name,jc.isCurve=function(t){if(null==t)return!1;if(t instanceof jc)return!0;const e=t[Symbol.toStringTag],n=t;return!(null!=e&&e!==jc.toStringTag||!Yc.isPoint(n.start)||!Yc.isPoint(n.controlPoint1)||!Yc.isPoint(n.controlPoint2)||!Yc.isPoint(n.end)||"function"!=typeof n.toPoints||"function"!=typeof n.toPolyline)},function(t){function e(t){const e=t.length,n=[],i=[];let r=2;n[0]=t[0]/r;for(let o=1;o<e;o+=1)i[o]=1/r,r=(o<e-1?4:3.5)-i[o],n[o]=(t[o]-n[o-1])/r;for(let t=1;t<e;t+=1)n[e-t-1]-=i[e-t]*n[e-t];return n}t.throughPoints=function(n){if(null==n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");const i=function(t){const n=t.map(t=>Yc.clone(t)),i=[],r=[],o=n.length-1;if(1===o)return i[0]=new Yc((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),r[0]=new Yc(2*i[0].x-n[0].x,2*i[0].y-n[0].y),[i,r];const a=[];for(let t=1;t<o-1;t+=1)a[t]=4*n[t].x+2*n[t+1].x;a[0]=n[0].x+2*n[1].x,a[o-1]=(8*n[o-1].x+n[o].x)/2;const s=e(a);for(let t=1;t<o-1;t+=1)a[t]=4*n[t].y+2*n[t+1].y;a[0]=n[0].y+2*n[1].y,a[o-1]=(8*n[o-1].y+n[o].y)/2;const l=e(a);for(let t=0;t<o;t+=1)i.push(new Yc(s[t],l[t])),t<o-1?r.push(new Yc(2*n[t+1].x-s[t+1],2*n[t+1].y-l[t+1])):r.push(new Yc((n[o].x+s[o-1])/2,(n[o].y+l[o-1])/2));return[i,r]}(n),r=[];for(let e=0,o=i[0].length;e<o;e+=1){const o=new Yc(i[0][e].x,i[0][e].y),a=new Yc(i[1][e].x,i[1][e].y);r.push(new t(n[e],o,a,n[e+1]))}return r}}(Kc||(Kc={}));class Jc extends $c{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const n=this.length();return t>=1?n:n*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Qc extends Jc{constructor(t,e){super(),qc.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=Yc.create(t,e).round(2)}get type(){return"L"}get line(){return new qc(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new Qc(e[0]),new Qc(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new Qc(e[0]),new Qc(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return null!=this.previousSegment&&!this.start.equals(this.end)}clone(){return new Qc(this.end)}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return"number"==typeof t?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(Lc=Qc||(Qc={})).create=function(...t){const e=t.length,n=t[0];if(qc.isLine(n))return new Lc(n);if(Yc.isPointLike(n))return 1===e?new Lc(n):t.map(t=>new Lc(t));if(2===e)return new Lc(+t[0],+t[1]);const i=[];for(let n=0;n<e;n+=2){const e=+t[n],r=+t[n+1];i.push(new Lc(e,r))}return i};class th extends Jc{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new qc(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new Qc(e[0]):this.clone(),new Qc(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new Qc(e[0]):this.clone(),new Qc(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new th}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(Bc=th||(th={})).create=function(){return new Bc};class eh extends Jc{constructor(t,e){super(),this.isVisible=!1,this.isSubpathStart=!0,qc.isLine(t)||Kc.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=Yc.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return"number"==typeof t?this.end.translate(t,e):this.end.translate(t),this}clone(){return new eh(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(Nc=eh||(eh={})).create=function(...t){const e=t.length,n=t[0];if(qc.isLine(n))return new Nc(n);if(Kc.isCurve(n))return new Nc(n);if(Yc.isPointLike(n)){if(1===e)return new Nc(n);const i=[];for(let n=0;n<e;n+=1)0===n?i.push(new Nc(t[n])):i.push(new Qc(t[n]));return i}if(2===e)return new Nc(+t[0],+t[1]);const i=[];for(let n=0;n<e;n+=2){const e=+t[n],r=+t[n+1];0===n?i.push(new Nc(e,r)):i.push(new Qc(e,r))}return i};class nh extends Jc{constructor(t,e,n,i,r,o){super(),Kc.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):"number"==typeof t?(this.controlPoint1=new Yc(t,e).round(2),this.controlPoint2=new Yc(n,i).round(2),this.endPoint=new Yc(r,o).round(2)):(this.controlPoint1=Yc.create(t).round(2),this.controlPoint2=Yc.create(e).round(2),this.endPoint=Yc.create(n).round(2))}get type(){return"C"}get curve(){return new Kc(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const n=this.curve.divideAt(t,e);return[new nh(n[0]),new nh(n[1])]}divideAtLength(t,e={}){const n=this.curve.divideAtLength(t,e);return[new nh(n[0]),new nh(n[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new nh(e[0]),new nh(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))}scale(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return"number"==typeof t?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new nh(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,n=this.end;return[this.type,t.x,t.y,e.x,e.y,n.x,n.y].join(" ")}}function ih(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function rh(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function oh(t,e,n,i,r,o,a,s,l,c){const h=120*Math.PI/180,u=Math.PI/180*(+r||0);let d,p,f,g,m,v=[];if(c)p=c[0],f=c[1],g=c[2],m=c[3];else{d=ih(t,e,-u),t=d.x,e=d.y,d=ih(s,l,-u);const r=(t-(s=d.x))/2,c=(e-(l=d.y))/2;let h=r*r/(n*n)+c*c/(i*i);h>1&&(h=Math.sqrt(h),n*=h,i*=h);const v=n*n,y=i*i,x=(o===a?-1:1)*Math.sqrt(Math.abs((v*y-v*c*c-y*r*r)/(v*c*c+y*r*r)));g=x*n*c/i+(t+s)/2,m=x*-i*r/n+(e+l)/2,p=Math.asin((e-m)/i),f=Math.asin((l-m)/i),p=t<g?Math.PI-p:p,f=s<g?Math.PI-f:f,p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),a&&p>f&&(p-=2*Math.PI),!a&&f>p&&(f-=2*Math.PI)}let y=f-p;if(Math.abs(y)>h){const t=f,e=s,o=l;f=p+h*(a&&f>p?1:-1),v=oh(s=g+n*Math.cos(f),l=m+i*Math.sin(f),n,i,r,0,a,e,o,[f,t,g,m])}y=f-p;const x=Math.cos(p),b=Math.sin(p),w=Math.cos(f),C=Math.sin(f),_=Math.tan(y/4),S=4/3*(n*_),O=4/3*(i*_),M=[t,e],k=[t+S*b,e-O*x],A=[s+S*C,l-O*w],T=[s,l];if(k[0]=2*M[0]-k[0],k[1]=2*M[1]-k[1],c)return[k,A,T].concat(v);{v=[k,A,T].concat(v).join().split(",");const t=[],e=v.length;for(let n=0;n<e;n+=1)t[n]=n%2?ih(+v[n-1],+v[n],u).y:ih(+v[n],+v[n+1],u).x;return t}}function ah(t){const e=function(t){if(!t)return null;const e="\t\n\v\f\r \u2028\u2029",n=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),i=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[];return t.replace(n,(t,e,n)=>{const a=[];let s=e.toLowerCase();n.replace(i,(t,e)=>(e&&a.push(+e),t)),"m"===s&&a.length>2&&(o.push([e,...a.splice(0,2)]),s="l",e="m"===e?"l":"L");const l=r[s];for(;a.length>=l&&(o.push([e,...a.splice(0,l)]),l););return t}),o}(t);if(!e||!e.length)return[["M",0,0]];let n=0,i=0,r=0,o=0;const a=[];for(let t=0,s=e.length;t<s;t+=1){const s=[];a.push(s);const l=e[t],c=l[0];if(c!==c.toUpperCase())switch(s[0]=c.toUpperCase(),s[0]){case"A":s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=+l[6]+n,s[7]=+l[7]+i;break;case"V":s[1]=+l[1]+i;break;case"H":s[1]=+l[1]+n;break;case"M":r=+l[1]+n,o=+l[2]+i;for(let t=1,e=l.length;t<e;t+=1)s[t]=+l[t]+(t%2?n:i);break;default:for(let t=1,e=l.length;t<e;t+=1)s[t]=+l[t]+(t%2?n:i)}else for(let t=0,e=l.length;t<e;t+=1)s[t]=l[t];switch(s[0]){case"Z":n=+r,i=+o;break;case"H":n=s[1];break;case"V":i=s[1];break;case"M":r=s[s.length-2],o=s[s.length-1],n=s[s.length-2],i=s[s.length-1];break;default:n=s[s.length-2],i=s[s.length-1]}}return a}function sh(t){const e=ah(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function i(t,e,n){let i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=null,e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":return 0===parseFloat(t[1])||0===parseFloat(t[2])?["L",t[6],t[7]]:["C"].concat(oh.apply(0,[e.x,e.y].concat(t.slice(1))));case"S":return"C"===n||"S"===n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),["C",i,r].concat(t.slice(1));case"T":return"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),["C"].concat(rh(e.x,e.y,e.qx,e.qy,t[1],t[2]));case"Q":return e.qx=t[1],e.qy=t[2],["C"].concat(rh(e.x,e.y,t[1],t[2],t[3],t[4]));case"H":return["L"].concat(t[1],e.y);case"V":return["L"].concat(e.x,t[1])}return t}function r(t,n){if(t[n].length>7){t[n].shift();const i=t[n];for(;i.length;)o[n]="A",n+=1,t.splice(n,0,["C"].concat(i.splice(0,6)));t.splice(n,1),s=e.length}}const o=[];let a="",s=e.length;for(let t=0;t<s;t+=1){let s="";e[t]&&(s=e[t][0]),"C"!==s&&(o[t]=s,t>0&&(a=o[t-1])),e[t]=i(e[t],n,a),"A"!==o[t]&&"C"===s&&(o[t]="C"),r(e,t);const l=e[t],c=l.length;n.x=l[c-2],n.y=l[c-1],n.bx=parseFloat(l[c-4])||n.x,n.by=parseFloat(l[c-3])||n.y}return e[0][0]&&"M"===e[0][0]||e.unshift(["M",0,0]),e}function lh(t){return sh(t).map(t=>t.map(t=>"string"==typeof t?t:Fc(t,2))).join(",").split(",").join(" ")}(Rc=nh||(nh={})).create=function(...t){const e=t.length,n=t[0];if(Kc.isCurve(n))return new Rc(n);if(Yc.isPointLike(n)){if(3===e)return new Rc(t[0],t[1],t[2]);const n=[];for(let i=0;i<e;i+=3)n.push(new Rc(t[i],t[i+1],t[i+2]));return n}if(6===e)return new Rc(t[0],t[1],t[2],t[3],t[4],t[5]);const i=[];for(let n=0;n<e;n+=6)i.push(new Rc(t[n],t[n+1],t[n+2],t[n+3],t[n+4],t[n+5]));return i};const ch=new RegExp("^[\\s\\dLMCZz,.]*$");function hh(t){return"string"==typeof t&&ch.test(t)}function uh(t,e){return(t%e+e)%e}function dh(t,e={}){const n=[];return t&&t.length&&t.forEach(t=>{Array.isArray(t)?n.push({x:t[0],y:t[1]}):n.push({x:t.x,y:t.y})}),function(t,e,n,i,r){const o=[],a=t[t.length-1],s=null!=e&&e>0,l=e||0;if(i&&s){const e=(t=t.slice())[0],n=new Yc(a.x+(e.x-a.x)/2,a.y+(e.y-a.y)/2);t.splice(0,0,n)}let c=t[0],h=1;for(n?o.push("M",c.x,c.y):o.push("L",c.x,c.y);h<(i?t.length:t.length-1);){let e=t[uh(h,t.length)],n=c.x-e.x,i=c.y-e.y;if(s&&(0!==n||0!==i)&&(null==r||r.indexOf(h-1)<0)){let r=Math.sqrt(n*n+i*i);const a=n*Math.min(l,r/2)/r,s=i*Math.min(l,r/2)/r,c=e.x+a,u=e.y+s;o.push("L",c,u);let d=t[uh(h+1,t.length)];for(;h<t.length-2&&0===Math.round(d.x-e.x)&&0===Math.round(d.y-e.y);)d=t[uh(h+2,t.length)],h+=1;n=d.x-e.x,i=d.y-e.y,r=Math.max(1,Math.sqrt(n*n+i*i));const p=n*Math.min(l,r/2)/r,f=i*Math.min(l,r/2)/r,g=e.x+p,m=e.y+f;o.push("Q",e.x,e.y,g,m),e=new Yc(g,m)}else o.push("L",e.x,e.y);c=e,h+=1}return i?o.push("Z"):o.push("L",a.x,a.y),o.map(t=>"string"==typeof t?t:+t.toFixed(3)).join(" ")}(n,e.round,null==e.initialMove||e.initialMove,e.close,e.exclude)}function ph(t,e,n,i,r=0,o=0,a=0,s,l){if(0===n||0===i)return[];s-=t,l-=e,n=Math.abs(n),i=Math.abs(i);const c=-s/2,h=-l/2,u=Math.cos(r*Math.PI/180),d=Math.sin(r*Math.PI/180),p=u*c+d*h,f=-1*d*c+u*h,g=p*p,m=f*f,v=n*n,y=i*i,x=g/v+m/y;let b;if(x>1)n=Math.sqrt(x)*n,i=Math.sqrt(x)*i,b=0;else{let t=1;o===a&&(t=-1),b=t*Math.sqrt((v*y-v*m-y*g)/(v*m+y*g))}const w=b*n*f/i,C=-1*b*i*p/n,_=u*w-d*C+s/2,S=d*w+u*C+l/2;let O=Math.atan2((f-C)/i,(p-w)/n)-Math.atan2(0,1),M=O>=0?O:2*Math.PI+O;O=Math.atan2((-f-C)/i,(-p-w)/n)-Math.atan2((f-C)/i,(p-w)/n);let k=O>=0?O:2*Math.PI+O;0===a&&k>0?k-=2*Math.PI:0!==a&&k<0&&(k+=2*Math.PI);const A=2*k/Math.PI,T=Math.ceil(A<0?-1*A:A),D=k/T,P=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),I=u*n,E=u*i,j=d*n,L=d*i;let B=Math.cos(M),N=Math.sin(M),R=-P*(I*N+L*B),F=-P*(j*N-E*B),z=0,V=0;const G=[];for(let n=0;n<T;n+=1){M+=D,B=Math.cos(M),N=Math.sin(M),z=I*B-L*N+_,V=j*B+E*N+S;const i=-P*(I*N+L*B),r=-P*(j*N-E*B),o=6*n;G[o]=Number(R+t),G[o+1]=Number(F+e),G[o+2]=Number(z-i+t),G[o+3]=Number(V-r+e),G[o+4]=Number(z+t),G[o+5]=Number(V+e),R=z+i,F=V+r}return G.map(t=>+t.toFixed(2))}function fh(t,e,n,i,r=0,o=0,a=0,s,l){const c=[],h=ph(t,e,n,i,r,o,a,s,l);if(null!=h)for(let t=0,e=h.length;t<e;t+=6)c.push("C",h[t],h[t+1],h[t+2],h[t+3],h[t+4],h[t+5]);return c.join(" ")}class gh extends $c{constructor(t){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(t))if(qc.isLine(t[0])||Kc.isCurve(t[0])){let e=null;t.forEach((t,n)=>{0===n&&this.appendSegment(gh.createSegment("M",t.start)),null==e||e.end.equals(t.start)||this.appendSegment(gh.createSegment("M",t.start)),qc.isLine(t)?this.appendSegment(gh.createSegment("L",t.end)):Kc.isCurve(t)&&this.appendSegment(gh.createSegment("C",t.controlPoint1,t.controlPoint2,t.end)),e=t})}else{t.forEach(t=>{t.isSegment&&this.appendSegment(t)})}else null!=t&&(qc.isLine(t)?(this.appendSegment(gh.createSegment("M",t.start)),this.appendSegment(gh.createSegment("L",t.end))):Kc.isCurve(t)?(this.appendSegment(gh.createSegment("M",t.start)),this.appendSegment(gh.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):Zc.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((t,e)=>{const n=0===e?gh.createSegment("M",t):gh.createSegment("L",t);this.appendSegment(n)}):t.isSegment&&this.appendSegment(t))}get[Symbol.toStringTag](){return gh.toStringTag}get start(){const t=this.segments,e=t.length;if(0===e)return null;for(let n=0;n<e;n+=1){const e=t[n];if(e.isVisible)return e.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(0===e)return null;for(let n=e-1;n>=0;n-=1){const e=t[n];if(e.isVisible)return e.end}return t[e-1].end}moveTo(...t){return this.appendSegment(eh.create.call(null,...t))}lineTo(...t){return this.appendSegment(Qc.create.call(null,...t))}curveTo(...t){return this.appendSegment(nh.create.call(null,...t))}arcTo(t,e,n,i,r,o,a){const s=this.end||new Yc,l="number"==typeof o?ph(s.x,s.y,t,e,n,i,r,o,a):ph(s.x,s.y,t,e,n,i,r,o.x,o.y);if(null!=l)for(let t=0,e=l.length;t<e;t+=6)this.curveTo(l[t],l[t+1],l[t+2],l[t+3],l[t+4],l[t+5]);return this}quadTo(t,e,n,i){const r=this.end||new Yc,o=["M",r.x,r.y];if("number"==typeof t)o.push("Q",t,e,n,i);else{const n=e;o.push("Q",t.x,t.y,n.x,n.y)}const a=gh.parse(o.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(th.create())}drawPoints(t,e={}){const n=dh(t,e),i=gh.parse(n);i&&i.segments&&this.appendSegment(i.segments)}bbox(){const t=this.segments,e=t.length;if(0===e)return null;let n;for(let i=0;i<e;i+=1){const e=t[i];if(e.isVisible){const t=e.bbox();null!=t&&(n=n?n.union(t):t)}}if(null!=n)return n;const i=t[e-1];return new Xc(i.end.x,i.end.y,0,0)}appendSegment(t){const e=this.segments.length;let n,i=0!==e?this.segments[e-1]:null;if(Array.isArray(t))for(let e=0,r=t.length;e<r;e+=1){const r=t[e];n=this.prepareSegment(r,i,null),this.segments.push(n),i=n}else null!=t&&t.isSegment&&(n=this.prepareSegment(t,i,null),this.segments.push(n));return this}insertSegment(t,e){const n=this.segments.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");let i,r=null,o=null;if(0!==n&&(t>=1?(r=this.segments[t-1],o=r.nextSegment):(r=null,o=this.segments[0])),Array.isArray(e))for(let n=0,a=e.length;n<a;n+=1){const a=e[n];i=this.prepareSegment(a,r,o),this.segments.splice(t+n,0,i),r=i}else i=this.prepareSegment(e,r,o),this.segments.splice(t,0,i);return this}removeSegment(t){const e=this.fixIndex(t),n=this.segments.splice(e,1)[0],i=n.previousSegment,r=n.nextSegment;return i&&(i.nextSegment=r),r&&(r.previousSegment=i),n.isSubpathStart&&r&&this.updateSubpathStartSegment(r),n}replaceSegment(t,e){const n=this.fixIndex(t);let i;const r=this.segments[n];let o=r.previousSegment;const a=r.nextSegment;let s=r.isSubpathStart;if(Array.isArray(e)){this.segments.splice(t,1);for(let n=0,r=e.length;n<r;n+=1){const r=e[n];i=this.prepareSegment(r,o,a),this.segments.splice(t+n,0,i),o=i,s&&i.isSubpathStart&&(s=!1)}}else i=this.prepareSegment(e,o,a),this.segments.splice(n,1,i),s&&i.isSubpathStart&&(s=!1);s&&a&&this.updateSubpathStartSegment(a)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(0===e)throw new Error("Path has no segments.");let n=t;for(;n<0;)n=e+n;if(n>=e||n<0)throw new Error("Index out of range.");return n}segmentAt(t,e={}){const n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null}segmentAtLength(t,e={}){const n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null}segmentIndexAt(t,e={}){if(0===this.segments.length)return null;const n=Vc(t,0,1),i=this.getOptions(e),r=this.length(i)*n;return this.segmentIndexAtLength(r,i)}segmentIndexAtLength(t,e={}){const n=this.segments.length;if(0===n)return null;let i=!0;t<0&&(i=!1,t=-t);const r=this.getPrecision(e),o=this.getSubdivisions(e);let a=0,s=null;for(let e=0;e<n;e+=1){const l=i?e:n-1-e,c=this.segments[l],h=o[l],u=c.length({precision:r,subdivisions:h});if(c.isVisible){if(t<=a+u)return l;s=l}a+=u}return s}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),n=[];for(let t=0,i=this.segments.length;t<i;t+=1){const i=this.segments[t].getSubdivisions({precision:e});n.push(i)}return n}updateSubpathStartSegment(t){let e=t.previousSegment,n=t;for(;n&&!n.isSubpathStart;)n.subpathStartSegment=null!=e?e.subpathStartSegment:null,e=n,n=n.nextSegment}prepareSegment(t,e,n){t.previousSegment=e,t.nextSegment=n,null!=e&&(e.nextSegment=t),null!=n&&(n.previousSegment=t);let i=t;return t.isSubpathStart&&(t.subpathStartSegment=t,i=n),null!=i&&this.updateSubpathStartSegment(i),t}closestPoint(t,e={}){const n=this.closestPointT(t,e);return n?this.pointAtT(n):null}closestPointLength(t,e={}){const n=this.getOptions(e),i=this.closestPointT(t,n);return i?this.lengthAtT(i,n):0}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),i=this.closestPointLength(t,n);if(0===i)return 0;const r=this.length(n);return 0===r?0:i/r}closestPointT(t,e={}){if(0===this.segments.length)return null;const n=this.getPrecision(e),i=this.getSubdivisions(e);let r,o=1/0;for(let e=0,a=this.segments.length;e<a;e+=1){const a=this.segments[e],s=i[e];if(a.isVisible){const i=a.closestPointT(t,{precision:n,subdivisions:s}),l=Wc(a.pointAtT(i),t);l<o&&(r={segmentIndex:e,value:i},o=l)}}return r||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(0===this.segments.length)return null;const n=this.getPrecision(e),i=this.getSubdivisions(e);let r,o=1/0;for(let e=0,a=this.segments.length;e<a;e+=1){const a=this.segments[e],s=i[e];if(a.isDifferentiable()){const e=a.closestPointT(t,{precision:n,subdivisions:s}),i=Wc(a.pointAtT(e),t);i<o&&(r=a.tangentAtT(e),o=i)}}return r||null}containsPoint(t,e={}){const n=this.toPolylines(e);if(!n)return!1;let i=0;for(let e=0,r=n.length;e<r;e+=1){n[e].containsPoint(t)&&(i+=1)}return i%2==1}pointAt(t,e={}){if(0===this.segments.length)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.getOptions(e),i=this.length(n)*t;return this.pointAtLength(i,n)}pointAtLength(t,e={}){if(0===this.segments.length)return null;if(0===t)return this.start.clone();let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),r=this.getSubdivisions(e);let o,a=0;for(let e=0,s=this.segments.length;e<s;e+=1){const l=n?e:s-1-e,c=this.segments[l],h=r[l],u=c.length({precision:i,subdivisions:h});if(c.isVisible){if(t<=a+u)return c.pointAtLength((n?1:-1)*(t-a),{precision:i,subdivisions:h});o=c}a+=u}if(o)return n?o.end:o.start;return this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,n=e.length;if(0===n)return null;const i=t.segmentIndex;if(i<0)return e[0].pointAtT(0);if(i>=n)return e[n-1].pointAtT(1);const r=Vc(t.value,0,1);return e[i].pointAtT(r)}divideAt(t,e={}){if(0===this.segments.length)return null;const n=Vc(t,0,1),i=this.getOptions(e),r=this.length(i)*n;return this.divideAtLength(r,i)}divideAtLength(t,e={}){if(0===this.segments.length)return null;let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),r=this.getSubdivisions(e);let o,a,s,l,c,h=0;for(let e=0,c=this.segments.length;e<c;e+=1){const u=n?e:c-1-e,d=this.getSegment(u),p={precision:i,subdivisions:r[u]},f=d.length(p);if(d.isDifferentiable()&&(s=d,l=u,t<=h+f)){a=u,o=d.divideAtLength((n?1:-1)*(t-h),p);break}h+=f}if(!s)return null;o||(a=l,c=n?1:0,o=s.divideAtT(c));const u=this.clone(),d=a;u.replaceSegment(d,o);const p=d;let f=d+1,g=d+2;o[0].isDifferentiable()||(u.removeSegment(p),f-=1,g-=1);const m=u.getSegment(f).start;u.insertSegment(f,gh.createSegment("M",m)),g+=1,o[1].isDifferentiable()||(u.removeSegment(g-1),g-=1);const v=g-p-1;for(let t=g,e=u.segments.length;t<e;t+=1){const e=this.getSegment(t-v),n=u.getSegment(t);if("Z"===n.type&&!e.subpathStartSegment.end.equals(n.subpathStartSegment.end)){const n=gh.createSegment("L",e.end);u.replaceSegment(t,n)}}return[new gh(u.segments.slice(0,f)),new gh(u.segments.slice(f))]}intersectsWithLine(t,e={}){const n=this.toPolylines(e);if(null==n)return null;let i=null;for(let e=0,r=n.length;e<r;e+=1){const r=n[e],o=t.intersect(r);o&&(null==i&&(i=[]),Array.isArray(o)?i.push(...o):i.push(o))}return i}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1){if(this.segments[t].isDifferentiable())return!0}return!1}isValid(){const t=this.segments;return 0===t.length||"M"===t[0].type}length(t={}){if(0===this.segments.length)return 0;const e=this.getSubdivisions(t);let n=0;for(let t=0,i=this.segments.length;t<i;t+=1){const i=this.segments[t],r=e[t];n+=i.length({subdivisions:r})}return n}lengthAtT(t,e={}){const n=this.segments.length;if(0===n)return 0;let i=t.segmentIndex;if(i<0)return 0;let r=Vc(t.value,0,1);i>=n&&(i=n-1,r=1);const o=this.getPrecision(e),a=this.getSubdivisions(e);let s=0;for(let t=0;t<i;t+=1){const e=this.segments[t],n=a[t];s+=e.length({precision:o,subdivisions:n})}const l=this.segments[i],c=a[i];return s+=l.lengthAtT(r,{precision:o,subdivisions:c}),s}tangentAt(t,e={}){if(0===this.segments.length)return null;const n=Vc(t,0,1),i=this.getOptions(e),r=this.length(i)*n;return this.tangentAtLength(r,i)}tangentAtLength(t,e={}){if(0===this.segments.length)return null;let n=!0;t<0&&(n=!1,t=-t);const i=this.getPrecision(e),r=this.getSubdivisions(e);let o,a=0;for(let e=0,s=this.segments.length;e<s;e+=1){const l=n?e:s-1-e,c=this.segments[l],h=r[l],u=c.length({precision:i,subdivisions:h});if(c.isDifferentiable()){if(t<=a+u)return c.tangentAtLength((n?1:-1)*(t-a),{precision:i,subdivisions:h});o=c}a+=u}if(o){const t=n?1:0;return o.tangentAtT(t)}return null}tangentAtT(t){const e=this.segments.length;if(0===e)return null;const n=t.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=e)return this.segments[e-1].tangentAtT(1);const i=Vc(t.value,0,1);return this.segments[n].tangentAtT(i)}getPrecision(t={}){return null==t.precision?this.PRECISION:t.precision}getSubdivisions(t={}){if(null==t.segmentSubdivisions){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){return{precision:this.getPrecision(t),segmentSubdivisions:this.getSubdivisions(t)}}toPoints(t={}){const e=this.segments,n=e.length;if(0===n)return null;const i=this.getSubdivisions(t),r=[];let o=[];for(let t=0;t<n;t+=1){const n=e[t];if(n.isVisible){const e=i[t];e.length>0?e.forEach(t=>o.push(t.start)):o.push(n.start)}else o.length>0&&(o.push(e[t-1].end),r.push(o),o=[])}return o.length>0&&(o.push(this.end),r.push(o)),r}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(t=>new Zc(t)):null}scale(t,e,n){return this.segments.forEach(i=>i.scale(t,e,n)),this}rotate(t,e){return this.segments.forEach(n=>n.rotate(t,e)),this}translate(t,e){return"number"==typeof t?this.segments.forEach(n=>n.translate(t,e)):this.segments.forEach(e=>e.translate(t)),this}clone(){const t=new gh;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(null==t)return!1;const e=this.segments,n=t.segments,i=e.length;if(n.length!==i)return!1;for(let t=0;t<i;t+=1){const i=e[t],r=n[t];if(i.type!==r.type||!i.equals(r))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}var mh;(mh=gh||(gh={})).toStringTag="X6.Geometry."+mh.name,mh.isPath=function(t){if(null==t)return!1;if(t instanceof mh)return!0;const e=t[Symbol.toStringTag],n=t;return!(null!=e&&e!==mh.toStringTag||!Array.isArray(n.segments)||"function"!=typeof n.moveTo||"function"!=typeof n.lineTo||"function"!=typeof n.curveTo)},function(t){function e(t,...e){if("M"===t)return eh.create.call(null,...e);if("L"===t)return Qc.create.call(null,...e);if("C"===t)return nh.create.call(null,...e);if("z"===t||"Z"===t)return th.create();throw new Error(`Invalid path segment type "${t}"`)}t.parse=function(n){if(!n)return new t;const i=new t,r=t.normalize(n).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=r)for(let t=0,n=r.length;t<n;t+=1){const n=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,o=r[t].match(n);if(null!=o){const t=o[0],n=o.slice(1).map(t=>+t),r=e.call(null,t,...n);i.appendSegment(r)}}return i},t.createSegment=e}(gh||(gh={})),function(t){t.normalize=lh,t.isValid=hh,t.drawArc=fh,t.drawPoints=dh,t.arcToCurves=ph}(gh||(gh={}));class vh{constructor(t,e,n){if(!t)throw new TypeError("Invalid element to create vector");let i;if(vh.isVector(t))i=t.node;else if("string"==typeof t)if("svg"===t.toLowerCase())i=Nl();else if("<"===t[0]){const e=Nl(t);i=document.importNode(e.firstChild,!0)}else i=document.createElementNS(Il.svg,t);else i=t;this.node=i,e&&this.setAttributes(e),n&&this.append(n)}get[Symbol.toStringTag](){return vh.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(t){this.node.id=t}transform(t,e){return null==t?yu(this.node):(yu(this.node,t,e),this)}translate(t,e=0,n={}){return null==t?xu(this.node):(xu(this.node,t,e,n),this)}rotate(t,e,n,i={}){return null==t?bu(this.node):(bu(this.node,t,e,n,i),this)}scale(t,e){return null==t?wu(this.node):(wu(this.node,t,e),this)}getTransformToElement(t){const e=vh.toNode(t);return lu(this.node,e)}removeAttribute(t){return Ql(this.node,t),this}getAttribute(t){return Jl(this.node,t)}setAttribute(t,e){return tc(this.node,t,e),this}setAttributes(t){return ec(this.node,t),this}attr(t,e){return null==t?nc(this.node):"string"==typeof t&&void 0===e?nc(this.node,t):("object"==typeof t?nc(this.node,t):nc(this.node,t,e),this)}svg(){return this.node instanceof SVGSVGElement?this:vh.create(this.node.ownerSVGElement)}defs(){const t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?vh.create(e):vh.create("defs").appendTo(t)}text(t,e={}){return wh(this.node,t,e),this}tagName(){return Fl(this.node)}clone(){return vh.create(this.node.cloneNode(!0))}remove(){return $l(this.node),this}empty(){return Yl(this.node),this}append(t){return Xl(this.node,vh.toNodes(t)),this}appendTo(t){return Zl(this.node,vh.isVector(t)?t.node:t),this}prepend(t){return ql(this.node,vh.toNodes(t)),this}before(t){return Ul(this.node,vh.toNodes(t)),this}replace(t){return this.node.parentNode&&this.node.parentNode.replaceChild(vh.toNode(t),this.node),vh.create(t)}first(){return this.node.firstChild?vh.create(this.node.firstChild):null}last(){return this.node.lastChild?vh.create(this.node.lastChild):null}get(t){const e=this.node.childNodes[t];return e?vh.create(e):null}indexOf(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(vh.toNode(t))}find(t){const e=[],n=Vl(this.node,t);if(n)for(let t=0,i=n.length;t<i;t+=1)e.push(vh.create(n[t]));return e}findOne(t){const e=Gl(this.node,t);return e?vh.create(e):null}findParentByClass(t,e){const n=Hl(this.node,t,e);return n?vh.create(n):null}matches(t){const e=this.node,n=(this.node.matches,e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null);return n&&n.call(e,t)}contains(t){return Wl(this.node,vh.isVector(t)?t.node:t)}wrap(t){const e=vh.create(t),n=this.node.parentNode;return null!=n&&n.insertBefore(e.node,this.node),e.append(this)}parent(t){let e=this;if(null==e.node.parentNode)return null;if(e=vh.create(e.node.parentNode),null==t)return e;do{if("string"==typeof t?e.matches(t):e instanceof t)return e}while(e=vh.create(e.node.parentNode));return e}children(){const t=this.node.childNodes,e=[];for(let n=0;n<t.length;n+=1){1===t[n].nodeType&&e.push(vh.create(t[n]))}return e}eachChild(t,e){const n=this.children();for(let i=0,r=n.length;i<r;i+=1)t.call(n[i],n[i],i,n),e&&n[i].eachChild(t,e);return this}index(){return zl(this.node)}hasClass(t){return Sl(this.node,t)}addClass(t){return Ol(this.node,t),this}removeClass(t){return Ml(this.node,t),this}toggleClass(t,e){return kl(this.node,t,e),this}toLocalPoint(t,e){return cu(this.node,t,e)}toGeometryShape(){return hu(this.node)}translateCenterToPoint(t){const e=this.getBBox({target:this.svg()}).getCenter();return this.translate(t.x-e.x,t.y-e.y),this}translateAndAutoOrient(t,e,n){return Cu(this.node,t,e,n),this}animate(t){return du(this.node,t)}animateTransform(t){return pu(this.node,t)}animateAlongPath(t,e){return mu(this.node,t,e)}normalizePath(){return"path"===this.tagName()&&this.attr("d",gh.normalize(this.attr("d"))),this}bbox(t,e){return ru(this.node,t,e)}getBBox(t={}){return ou(this.node,{recursive:t.recursive,target:t.target?vh.toNode(t.target):null})}sample(t=1){return this.node instanceof SVGPathElement?Oh(this.node,t):[]}toPath(){return vh.create(Lh(this.node))}toPathData(){return Bh(this.node)}}function yh(t,e,n){const i=n.eol,r=n.baseSize,o=n.lineHeight;let a,s=0;const l={},c=e.length-1;for(let o=0;o<=c;o+=1){let l=e[o],h=null;if("object"==typeof l){const t=l.attrs,e=vh.create("tspan",t);a=e.node;let u=l.t;i&&o===c&&(u+=i),a.textContent=u;const d=t.class;d&&e.addClass(d),n.includeAnnotationIndices&&e.attr("annotations",l.annotations.join(",")),h=parseFloat(t["font-size"]),void 0===h&&(h=r),h&&h>s&&(s=h)}else i&&o===c&&(l+=i),a=document.createTextNode(l||" "),r&&r>s&&(s=r);t.appendChild(a)}return s&&(l.maxFontSize=s),o?l.lineHeight=o:s&&(l.lineHeight=1.2*s),l}!function(t){function e(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&i.node instanceof SVGElement&&"function"==typeof i.animate&&"function"==typeof i.sample&&"function"==typeof i.normalizePath&&"function"==typeof i.toPath}function n(e,n,i){return new t(e,n,i)}function i(t){return e(t)?t.node:t}t.toStringTag="X6."+t.name,t.isVector=e,t.create=n,t.createVectors=function(t){if("<"===t[0]){const e=Nl(t),i=[];for(let t=0,r=e.childNodes.length;t<r;t+=1){const r=e.childNodes[t];i.push(n(document.importNode(r,!0)))}return i}return[n(t)]},t.toNode=i,t.toNodes=function(t){return Array.isArray(t)?t.map(t=>i(t)):[i(t)]}}(vh||(vh={}));const xh=/em$/;function bh(t,e){const n=parseFloat(t);return xh.test(t)?n*e:n}function wh(t,e,n={}){e=l.sanitize(e);const i=n.eol;let r=n.textPath;const o=n.textVerticalAnchor,a="middle"===o||"bottom"===o||"top"===o;let s=n.x;void 0===s&&(s=t.getAttribute("x")||0);const c=n.includeAnnotationIndices;let h=n.annotations;h&&!Array.isArray(h)&&(h=[h]);const u=n.lineHeight,d="auto"===u,p=d?"1.5em":u||"1em";Yl(t),nc(t,{"xml:space":"preserve",display:e||n.displayEmpty?null:"none"});const f=nc(t,"font-size");let g,m,v=parseFloat(f);v||(v=16,!a&&!h||f||nc(t,"font-size",""+v)),r?("string"==typeof r&&(r={d:r}),g=function(t,e){const n=vh.create(e),i=vh.create("textPath"),r=t.d;if(r&&void 0===t["xlink:href"]){const t=vh.create("path").attr("d",r).appendTo(n.defs());i.attr("xlink:href","#"+t.id)}return"object"==typeof t&&i.attr(t),i.node}(r,t)):g=document.createDocumentFragment();let y,x=0;const b=e.split("\n"),w=[],C=b.length-1;for(let t=0;t<=C;t+=1){m=p;let e="v-line";const n=Bl("tspan");let o,a=b[t];if(a)if(h){o=yh(n,l.annotate(a,h,{offset:-x,includeAnnotationIndices:c}),{eol:t!==C&&i,baseSize:v,lineHeight:d?null:p,includeAnnotationIndices:c});const e=o.lineHeight;e&&d&&0!==t&&(m=e),0===t&&(y=.8*o.maxFontSize)}else i&&t!==C&&(a+=i),n.textContent=a;else{n.textContent="-",e+=" v-empty-line";const t=n.style;t.fillOpacity=0,t.strokeOpacity=0,h&&(o={})}o&&w.push(o),t>0&&n.setAttribute("dy",m),(t>0||r)&&n.setAttribute("x",s),n.className.baseVal=e,g.appendChild(n),x+=a.length+1}if(a)if(h)m=function(t,e,n,i){if(!Array.isArray(e))return 0;const r=e.length;if(!r)return 0;let o=e[0];const a=bh(o.maxFontSize,n)||n;let s=0;const l=bh(i,n);for(let t=1;t<r;t+=1){o=e[t];s+=bh(o.lineHeight,n)||l}const c=bh(o.maxFontSize,n)||n;let h;switch(t){case"middle":h=a/2-.15*c-s/2;break;case"bottom":h=-.25*c-s;break;default:case"top":h=.8*a}return h}(o,w,v,p);else if("top"===o)m="0.8em";else{let t;switch(C>0?(t=parseFloat(p)||1,t*=C,xh.test(p)||(t/=v)):t=0,o){case"middle":m=.3-t/2+"em";break;case"bottom":m=-t-.3+"em"}}else 0===o?m="0em":o?m=o:(m=0,null==t.getAttribute("y")&&t.setAttribute("y",""+(y||"0.8em")));g.firstChild.setAttribute("dy",m),t.appendChild(g)}function Ch(t,e,n={},i={}){const r=e.width,o=e.height,s=i.svgDocument||Bl("svg"),l=Bl("text"),c=Bl("tspan"),h=document.createTextNode("");nc(l,n),l.appendChild(c),l.style.opacity="0",l.style.display="block",c.style.display="block",c.appendChild(h),s.appendChild(l);const u=null==s.parentNode;u&&document.body.appendChild(s);const d=i.eol||"\n",p=i.separator||" ",f=i.hyphen?new RegExp(i.hyphen):/[^\w\d]/,g=!1!==i.breakWord,m=[],v={};let y,x,b,w=[];const{words:C,separators:_}=function(t,e,n,i){const r=[],o=[];if(null!=e){const n=t.split(e);if(r.push(...n),"string"==typeof e)for(let t=0,i=n.length-1;t<i;t+=1)o.push(e);else{const i=t.match(new RegExp(e,"g"));for(let t=0,e=n.length-1;t<e;t+=1)o.push(i?i[t]:"")}}else{let e="";for(let n=0,i=t.length;n<i;n+=1){const i=t[n];" "===i?(r.push(e),o.push(" "),e=""):i.match(/[^\x00-\xff]/)?(e.length&&(r.push(e),o.push("")),r.push(i),o.push(""),e=""):e+=i}e.length&&r.push(e)}for(let t=0;t<r.length;t+=1){const e=r[t];if(e.indexOf(n)>=0&&e.length>1){const i=e.split(n);for(let t=0,e=i.length-1;t<e;t+=1)i.splice(2*t+1,0,n);const a=i.filter(t=>""!==t);r.splice(t,1,...a);const s=a.map(()=>"");s.pop(),o.splice(t,0,...s)}}for(let t=0;t<r.length;t+=1){const e=r[t],n=e.search(i);n>0&&n<e.length-1&&(r.splice(t,1,e.substring(0,n+1),e.substring(n+1)),o.splice(t,0,""))}return{words:r,separators:o}}(t,i.separator,d,f);for(let t=0,e=0,s=C.length;t<s;t+=1){const u=C[t];if(u)if(u!==d){if(null!=w[e]?(b=_[t-1]||"",h.data=`${w[e]}${b}${u}`):h.data=u,c.getComputedTextLength()<=r)w[e]=h.data,v[e]=_[t],y&&(m[e]=!0,e+=1,y=0);else{if(g){if(!w[e]||y){const n=!!y,i=1===u.length;if(y=u.length-1,n||i){if(i){if(!w[e]){w=[];break}C.splice(t,2,u+C[t+1]),_.splice(t+1,1),m[e]=!0,e+=1,s-=1,t-=1;continue}C[t]=u.substring(0,y),C[t+1]=u.substring(y)+C[t+1]}else C.splice(t,1,u.substring(0,y),u.substring(y)),_.splice(t,0,""),s+=1,e&&!m[e-1]&&(e-=1);t-=1;continue}}else if(!w[e]){w[e]=u,m[e]=!0,e+=1;continue}e+=1,t-=1}if(null!=o){if(null==x){let t;t="auto"===n.lineHeight?{value:1.5,unit:"em"}:a.parseCssNumeric(n.lineHeight,["em"])||{value:1,unit:"em"},x=t.value,"em"===t.unit&&(k.IS_FIREFOX?x*=c.getBBox().height:x*=l.getBBox().height)}if(x*w.length>o){const t=Math.floor(o/x)-1,e=w[t],n=w[t+1];if(w.splice(t+1),null==e)break;let a=i.ellipsis;if(!a)break;"string"!=typeof a&&(a="");let s=e;n&&g&&(s+=b+n);let l,u,d=s.length;do{if(u=s[d],l=s.substring(0,d),u?u.match(p)&&(l+=u):l+=v[t],l+=a,h.data=l,c.getComputedTextLength()<=r){w[t]=l;break}d-=1}while(d>=0);break}}}else m[e]=!0,e+=1,w[e]=""}return $l(u?s:l),w.join(d)}const _h=.551784;function Sh(t,e,n=NaN){const i=t.getAttribute(e);if(null==i)return n;const r=parseFloat(i);return Number.isNaN(r)?n:r}function Oh(t,e=1){const n=t.getTotalLength(),i=[];let r,o=0;for(;o<n;)r=t.getPointAtLength(o),i.push({distance:o,x:r.x,y:r.y}),o+=e;return i}function Mh(t){return["M",Sh(t,"x1"),Sh(t,"y1"),"L",Sh(t,"x2"),Sh(t,"y2")].join(" ")}function kh(t){const e=Dh(t);return 0===e.length?null:Th(e)+" Z"}function Ah(t){const e=Dh(t);return 0===e.length?null:Th(e)}function Th(t){return"M "+t.map(t=>`${t.x} ${t.y}`).join(" L")}function Dh(t){const e=[],n=t.points;if(n)for(let t=0,i=n.numberOfItems;t<i;t+=1)e.push(n.getItem(t));return e}function Ph(t){const e=Sh(t,"cx",0),n=Sh(t,"cy",0),i=Sh(t,"r"),r=i*_h;return["M",e,n-i,"C",e+r,n-i,e+i,n-r,e+i,n,"C",e+i,n+r,e+r,n+i,e,n+i,"C",e-r,n+i,e-i,n+r,e-i,n,"C",e-i,n-r,e-r,n-i,e,n-i,"Z"].join(" ")}function Ih(t){const e=Sh(t,"cx",0),n=Sh(t,"cy",0),i=Sh(t,"rx"),r=Sh(t,"ry")||i,o=i*_h,a=r*_h;return["M",e,n-r,"C",e+o,n-r,e+i,n-a,e+i,n,"C",e+i,n+a,e+o,n+r,e,n+r,"C",e-o,n+r,e-i,n+a,e-i,n,"C",e-i,n-a,e-o,n-r,e,n-r,"Z"].join(" ")}function Eh(t){return jh({x:Sh(t,"x",0),y:Sh(t,"y",0),width:Sh(t,"width",0),height:Sh(t,"height",0),rx:Sh(t,"rx",0),ry:Sh(t,"ry",0)})}function jh(t){let e;const n=t.x,i=t.y,r=t.width,o=t.height,a=Math.min(t.rx||t["top-rx"]||0,r/2),s=Math.min(t.rx||t["bottom-rx"]||0,r/2),l=Math.min(t.ry||t["top-ry"]||0,o/2),c=Math.min(t.ry||t["bottom-ry"]||0,o/2);return e=a||s||l||c?["M",n,i+l,"v",o-l-c,"a",s,c,0,0,0,s,c,"h",r-2*s,"a",s,c,0,0,0,s,-c,"v",-(o-c-l),"a",a,l,0,0,0,-a,-l,"h",-(r-2*a),"a",a,l,0,0,0,-a,l,"Z"]:["M",n,i,"H",n+r,"V",i+o,"H",n,"V",i,"Z"],e.join(" ")}function Lh(t){const e=Bl("path");nc(e,nc(t));const n=Bh(t);return n&&e.setAttribute("d",n),e}function Bh(t){const e=t.tagName.toLowerCase();switch(e){case"path":return t.getAttribute("d");case"line":return Mh(t);case"polygon":return kh(t);case"polyline":return Ah(t);case"ellipse":return Ih(t);case"circle":return Ph(t);case"rect":return Eh(t)}throw new Error(`"${e}" cannot be converted to svg path element.`)}function Nh(t,e,n,i){const r=2*Math.PI-1e-6,o=t,a=e;let s=n,l=i;if(l<s){const t=s;s=l,l=t}const c=l-s,h=c<Math.PI?"0":"1",u=Math.cos(s),d=Math.sin(s),p=Math.cos(l),f=Math.sin(l);return c>=r?o?`M0,${a}A${a},${a} 0 1,1 0,${-a}A${a},${a} 0 1,1 0,${a}M0,${o}A${o},${o} 0 1,0 0,${-o}A${o},${o} 0 1,0 0,${o}Z`:`M0,${a}A${a},${a} 0 1,1 0,${-a}A${a},${a} 0 1,1 0,${a}Z`:o?`M${a*u},${a*d}A${a},${a} 0 ${h},1 ${a*p},${a*f}L${o*p},${o*f}A${o},${o} 0 ${h},0 ${o*u},${o*d}Z`:`M${a*u},${a*d}A${a},${a} 0 ${h},1 ${a*p},${a*f}L0,0Z`}const Rh=Bl("svg"),Fh=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,zh=/[ ,]+/,Vh=/^(\w+)\((.*)\)/;function Gh(t,e){const n=Rh.createSVGPoint();return n.x=t,n.y=e,n}function Hh(t){const e=Rh.createSVGMatrix();if(null!=t){const n=t,i=e;for(const t in n)i[t]=n[t]}return e}function Wh(t){return null!=t?(t instanceof DOMMatrix||(t=Hh(t)),Rh.createSVGTransformFromMatrix(t)):Rh.createSVGTransform()}function $h(t){let e=Hh();const n=null!=t&&t.match(Fh);if(!n)return e;for(let t=0,i=n.length;t<i;t+=1){const i=n[t].match(Vh);if(i){let t,n,r,o,a,s=Hh();const l=i[2].split(zh);switch(i[1].toLowerCase()){case"scale":t=parseFloat(l[0]),n=void 0===l[1]?t:parseFloat(l[1]),s=s.scaleNonUniform(t,n);break;case"translate":r=parseFloat(l[0]),o=parseFloat(l[1]),s=s.translate(r,o);break;case"rotate":a=parseFloat(l[0]),r=parseFloat(l[1])||0,o=parseFloat(l[2])||0,s=0!==r||0!==o?s.translate(r,o).rotate(a).translate(-r,-o):s.rotate(a);break;case"skewx":a=parseFloat(l[0]),s=s.skewX(a);break;case"skewy":a=parseFloat(l[0]),s=s.skewY(a);break;case"matrix":s.a=parseFloat(l[0]),s.b=parseFloat(l[1]),s.c=parseFloat(l[2]),s.d=parseFloat(l[3]),s.e=parseFloat(l[4]),s.f=parseFloat(l[5]);break;default:continue}e=e.multiply(s)}}return e}function Yh(t){const e=t||{};return`matrix(${null!=e.a?e.a:1},${null!=e.b?e.b:0},${null!=e.c?e.c:0},${null!=e.d?e.d:1},${null!=e.e?e.e:0},${null!=e.f?e.f:0})`}function Xh(t){let e,n,i;if(t){const r=zh;if(t.trim().indexOf("matrix")>=0){const r=Uh($h(t));e=[r.translateX,r.translateY],n=[r.rotation],i=[r.scaleX,r.scaleY];const o=[];0===e[0]&&0===e[1]||o.push(`translate(${e.join(",")})`),1===i[0]&&1===i[1]||o.push(`scale(${i.join(",")})`),0!==n[0]&&o.push(`rotate(${n[0]})`),t=o.join(" ")}else{const o=t.match(/translate\((.*?)\)/);o&&(e=o[1].split(r));const a=t.match(/rotate\((.*?)\)/);a&&(n=a[1].split(r));const s=t.match(/scale\((.*?)\)/);s&&(i=s[1].split(r))}}const r=i&&i[0]?parseFloat(i[0]):1;return{raw:t||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:r,sy:i&&i[1]?parseFloat(i[1]):r}}}function qh(t,e){return{x:e.x*t.a+e.y*t.c+0,y:e.x*t.b+e.y*t.d+0}}function Uh(t){const e=qh(t,{x:0,y:1}),n=qh(t,{x:1,y:0}),i=180/Math.PI*Math.atan2(e.y,e.x)-90;return{skewX:i,skewY:180/Math.PI*Math.atan2(n.y,n.x),translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),rotation:i}}function Zh(t){let e,n,i,r;return t?(e=null==t.a?1:t.a,r=null==t.d?1:t.d,n=t.b,i=t.c):e=r=1,{sx:n?Math.sqrt(e*e+n*n):e,sy:i?Math.sqrt(i*i+r*r):r}}function Kh(t){let e={x:0,y:1};return t&&(e=qh(t,e)),{angle:Ac.normalize(Ac.toDeg(Math.atan2(e.y,e.x))-90)}}function Jh(t){return{tx:t&&t.e||0,ty:t&&t.f||0}}function Qh(t,e){const n=Gh(t.x,t.y).matrixTransform(e);return new Yc(n.x,n.y)}function tu(t,e){return new qc(Qh(t.start,e),Qh(t.end,e))}function eu(t,e){let n=t instanceof Zc?t.points:t;return Array.isArray(n)||(n=[]),new Zc(n.map(t=>Qh(t,e)))}function nu(t,e){const n=Rh.createSVGPoint();n.x=t.x,n.y=t.y;const i=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y;const r=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y+t.height;const o=n.matrixTransform(e);n.x=t.x,n.y=t.y+t.height;const a=n.matrixTransform(e),s=Math.min(i.x,r.x,o.x,a.x),l=Math.max(i.x,r.x,o.x,a.x),c=Math.min(i.y,r.y,o.y,a.y),h=Math.max(i.y,r.y,o.y,a.y);return new Xc(s,c,l-s,h-c)}var iu=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};function ru(t,e,n){let i;const r=t.ownerSVGElement;if(!r)return new Xc(0,0,0,0);try{i=t.getBBox()}catch(e){i={x:t.clientLeft,y:t.clientTop,width:t.clientWidth,height:t.clientHeight}}if(e)return Xc.create(i);return nu(i,lu(t,n||r))}function ou(t,e={}){let n;if(!t.ownerSVGElement||!Pl(t)){if(Kl(t)){const{left:e,top:n,width:i,height:r}=vu(t);return new Xc(e,n,i,r)}return new Xc(0,0,0,0)}let i=e.target;if(!e.recursive){try{n=t.getBBox()}catch(e){n={x:t.clientLeft,y:t.clientTop,width:t.clientWidth,height:t.clientHeight}}if(!i)return Xc.create(n);return nu(n,lu(t,i))}{const e=t.childNodes,r=e.length;if(0===r)return ou(t,{target:i});i||(i=t);for(let t=0;t<r;t+=1){const r=e[t];let o;o=0===r.childNodes.length?ou(r,{target:i}):ou(r,{target:i,recursive:!0}),n=n?n.union(o):o}return n}}function au(t){let e=t,n=e?e.tagName.toLowerCase():"";for(;"g"===n;)e=e.firstElementChild,n=e?e.tagName.toLowerCase():"";const i=t=>{const n=e.getAttribute(t),i=n?parseFloat(n):0;return Number.isNaN(i)?0:i};let r,o;switch(n){case"rect":o=new Xc(i("x"),i("y"),i("width"),i("height"));break;case"circle":r=i("r"),o=new Xc(i("cx")-r,i("cy")-r,2*r,2*r)}return o}function su(t,e){let n=Hh();if(Pl(e)&&Pl(t)){let i=t;const r=[];for(;i&&i!==e;){const t=$h(i.getAttribute("transform")||null);r.push(t),i=i.parentNode}r.reverse().forEach(t=>{n=n.multiply(t)})}return n}function lu(t,e){if(Pl(e)&&Pl(t)){const n=e.getScreenCTM(),i=t.getScreenCTM();if(n&&i)return n.inverse().multiply(i)}return Hh()}function cu(t,e,n){const i=t instanceof SVGSVGElement?t:t.ownerSVGElement,r=i.createSVGPoint();r.x=e,r.y=n;try{const e=i.getScreenCTM(),n=r.matrixTransform(e.inverse()),o=lu(t,i).inverse();return n.matrixTransform(o)}catch(t){return r}}function hu(t){const e=e=>{const n=t.getAttribute(e),i=n?parseFloat(n):0;return Number.isNaN(i)?0:i};switch(t instanceof SVGElement&&t.nodeName.toLowerCase()){case"rect":return new Xc(e("x"),e("y"),e("width"),e("height"));case"circle":return new Uc(e("cx"),e("cy"),e("r"),e("r"));case"ellipse":return new Uc(e("cx"),e("cy"),e("rx"),e("ry"));case"polyline":{const e=Dh(t);return new Zc(e)}case"polygon":{const e=Dh(t);return e.length>1&&e.push(e[0]),new Zc(e)}case"path":{let e=t.getAttribute("d");return gh.isValid(e)||(e=gh.normalize(e)),gh.parse(e)}case"line":return new qc(e("x1"),e("y1"),e("x2"),e("y2"))}return ou(t)}function uu(t,e,n){const i=t instanceof SVGSVGElement?t:t.ownerSVGElement,r=ou(n=n||i),o=r.getCenter();if(!r.intersectsWithLineFromCenterToPoint(e))return null;let a=null;const s=t.tagName.toLowerCase();if("rect"===s){const r=new Xc(parseFloat(t.getAttribute("x")||"0"),parseFloat(t.getAttribute("y")||"0"),parseFloat(t.getAttribute("width")||"0"),parseFloat(t.getAttribute("height")||"0")),s=lu(t,n),l=Uh(s),c=i.createSVGTransform();c.setRotate(-l.rotation,o.x,o.y);const h=nu(r,c.matrix.multiply(s));a=Xc.create(h).intersectsWithLineFromCenterToPoint(e,l.rotation)}else if("path"===s||"polygon"===s||"polyline"===s||"circle"===s||"ellipse"===s){const i=Oh("path"===s?t:Lh(t));let r=1/0,l=[];for(let a=0,s=i.length;a<s;a+=1){const s=i[a];let c=Gh(s.x,s.y);c=c.matrixTransform(lu(t,n));const h=Yc.create(c),u=h.distance(o),d=1.1*h.distance(e),p=u+d;p<r?(r=p,l=[{sample:s,refDistance:d}]):p<r+1&&l.push({sample:s,refDistance:d})}l.sort((t,e)=>t.refDistance-e.refDistance),l[0]&&(a=Yc.create(l[0].sample))}return a}function du(t,e){return fu(t,e,"animate")}function pu(t,e){return fu(t,e,"animateTransform")}function fu(t,e,n){const i=Bl(n);t.appendChild(i);try{return gu(i,e)}catch(t){}return()=>{}}function gu(t,e){const{start:n,complete:i,repeat:r}=e;nc(t,iu(e,["start","complete","repeat"])),n&&t.addEventListener("beginEvent",n),i&&t.addEventListener("endEvent",i),r&&t.addEventListener("repeatEvent",r);const o=t;return o.beginElement(),()=>o.endElement()}function mu(t,e,n){const i=Dl(n),r=Bl("animateMotion"),o=Bl("mpath");nc(o,{"xlink:href":"#"+i}),r.appendChild(o),t.appendChild(r);try{return gu(r,e)}catch(t){if("fake"===document.documentElement.getAttribute("smiling")){const t=r;t.animators=[];const e=window,n=t.getAttribute("id");n&&(e.id2anim[n]=t);const i=e.getTargets(t);for(let n=0,r=i.length;n<r;n+=1){const r=i[n],o=new e.Animator(t,r,n);e.animators.push(o),t.animators[n]=o,o.register()}}}return()=>{}}function vu(t){let e=0,n=0,i=0,r=0;if(t){let o=t;for(;o;)e+=o.offsetLeft,n+=o.offsetTop,o=o.offsetParent,o&&(e+=parseInt(Oc(o,"borderLeft"),10),n+=parseInt(Oc(o,"borderTop"),10));i=t.offsetWidth,r=t.offsetHeight}return{left:e,top:n,width:i,height:r}}function yu(t,e,n={}){if(null==e)return $h(nc(t,"transform"));if(n.absolute)return void t.setAttribute("transform",Yh(e));const i=t.transform,r=Wh(e);i.baseVal.appendItem(r)}function xu(t,e,n=0,i={}){let r=nc(t,"transform");const o=Xh(r);if(null==e)return o.translation;r=o.raw,r=r.replace(/translate\([^)]*\)/g,"").trim();const a=`translate(${i.absolute?e:o.translation.tx+e},${i.absolute?n:o.translation.ty+n})`;t.setAttribute("transform",`${a} ${r}`.trim())}function bu(t,e,n,i,r={}){let o=nc(t,"transform");const a=Xh(o);if(null==e)return a.rotation;o=a.raw,o=o.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;const s=`rotate(${r.absolute?e:a.rotation.angle+e}${null!=n&&null!=i?`,${n},${i}`:""})`;t.setAttribute("transform",`${o} ${s}`.trim())}function wu(t,e,n){let i=nc(t,"transform");const r=Xh(i);if(null==e)return r.scale;n=null==n?e:n,i=r.raw,i=i.replace(/scale\([^)]*\)/g,"").trim();const o=`scale(${e},${n})`;t.setAttribute("transform",`${i} ${o}`.trim())}function Cu(t,e,n,i){const r=Yc.create(e),o=Yc.create(n);if(!i){i=t instanceof SVGSVGElement?t:t.ownerSVGElement}const a=wu(t);t.setAttribute("transform","");const s=ou(t,{target:i}).scale(a.sx,a.sy),l=Wh();l.setTranslate(-s.x-s.width/2,-s.y-s.height/2);const c=Wh(),h=r.angleBetween(o,r.clone().translate(1,0));h&&c.setRotate(h,0,0);const u=Wh(),d=r.clone().move(o,s.width/2);u.setTranslate(2*r.x-d.x,2*r.y-d.y);const p=lu(t,i),f=Wh();f.setMatrix(u.matrix.multiply(c.matrix.multiply(l.matrix.multiply(p.scale(a.sx,a.sy))))),t.setAttribute("transform",Yh(f.matrix))}class _u{constructor(t,e,n){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=k.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=e,this.onWheelGuard=n,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){k.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):O()(this.target).on("mousewheel",this.onWheel)}disable(){k.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):O()(this.target).off("mousewheel")}onWheel(t){if(null!=this.onWheelGuard&&!this.onWheelGuard(t))return;let e;this.deltaX+=t.deltaX,this.deltaY+=t.deltaY,t.preventDefault(),0===this.deltaX&&0===this.deltaY||(t.stopPropagation(),e=!0),!0===e&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(t)}))}didWheel(t){this.animationFrameId=0,this.onWheelCallback(t,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}const Su=vh.isVector,Ou=vh.create,Mu=vh.createVectors;function ku(t,e=60){let n=null;return(...i)=>{n&&clearTimeout(n),n=window.setTimeout(()=>{t.apply(this,i)},e)}}const Au="undefined"!=typeof ResizeObserver?function(t){let e=null,n=[];const i=ku(()=>{n.forEach(e=>{e(t)})}),r=()=>{e&&(e.disconnect(),n=[],e=null)};return{element:t,bind:r=>{e||(e=(()=>{const e=new ResizeObserver(i);return e.observe(t),i(),e})()),-1===n.indexOf(r)&&n.push(r)},destroy:r,unbind:t=>{const i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&r()}}}:function(t){let e=null,n=[];const i=ku(()=>{n.forEach(e=>e(t))}),r=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=null,n=[])};return{element:t,bind:r=>{e||(e=(()=>{if("static"===getComputedStyle(t).position){t.style.position="relative"}const e=document.createElement("object");return e.onload=()=>{e.contentDocument.defaultView.addEventListener("resize",i),i()},e.style.display="block",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="100%",e.style.width="100%",e.style.overflow="hidden",e.style.pointerEvents="none",e.style.zIndex="-1",e.style.opacity="0",e.setAttribute("tabindex","-1"),e.type="text/html",t.appendChild(e),e.data="about:blank",e})()),-1===n.indexOf(r)&&n.push(r)},destroy:r,unbind:t=>{const i=n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&e&&r()}}};var Tu,Du,Pu;!function(t){const e=new WeakMap;function n(t){let n=e.get(t);return n||(n=Au(t),e.set(t,n),n)}t.bind=(t,e)=>{const i=n(t);return i.bind(e),()=>i.unbind(e)},t.clear=t=>{!function(t){t.destroy(),e.delete(t.element)}(n(t))}}(Tu||(Tu={})),function(t){const e=[],n=[];let i=0;const r=()=>performance.now(),o=t=>t[0],a=t=>1===n.push(t)&&s(),s=(()=>{const t=()=>n.splice(0,n.length).forEach(t=>t());if("undefined"!=typeof MessageChannel){const{port1:e,port2:n}=new MessageChannel;return e.onmessage=t,()=>n.postMessage(null)}return()=>setTimeout(t)})(),l=()=>{i=r()+1e3/60;let n=o(e);for(;n&&!t.shouldYield();){const{callback:t,data:i}=n;n.callback=null;const r=t&&t(i);r?n.callback=r:e.shift(),n=o(e)}n&&a(l)};t.scheduleTask=(t,n)=>{const i={callback:t,data:n};e.push(i),a(l)},t.shouldYield=()=>{var t,e;return(null===(e=null===(t=navigator)||void 0===t?void 0:t.scheduling)||void 0===e?void 0:e.isInputPending())||r()>=i}}(Du||(Du={}));class Iu{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,n=!1){if("object"==typeof t)return void Object.keys(t).forEach(n=>{this.register(n,t[n],e)});!this.exist(t)||n||k.isApplyingHMR()||this.onDuplicated(t);const i=this.options.process,r=i?s.call(i,this,t,e):e;return this.data[t]=r,r}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return!!t&&null!=this.data[t]}onDuplicated(t){try{throw this.options.onConflict&&s.call(this.options.onConflict,this,t),new Error(`${o.upperFirst(this.options.type)} with name '${t}' already registered.`)}catch(t){throw t}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const n=this.getSpellingSuggestionForName(t),i=e?`${e} ${o.lowerFirst(this.options.type)}`:this.options.type;return`${o.upperFirst(i)} with name '${t}' does not exist.${n?` Did you mean '${n}'?`:""}`}getSpellingSuggestionForName(t){return o.getSpellingSuggestion(t,Object.keys(this.data),t=>t)}}(Pu=Iu||(Iu={})).create=function(t){return new Pu(t)};const Eu={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},ju={},Lu={position:rd("x","width","origin")},Bu={position:rd("y","height","origin")},Nu={position:rd("x","width","corner")},Ru={position:rd("y","height","corner")},Fu={set:od("width","width")},zu={set:od("height","height")},Vu={set:od("rx","width")},Gu={set:od("ry","height")},Hu={set:(t=>{const e=od("r","width"),n=od("r","height");return function(t,i){const r=i.refBBox,o=r.height>r.width?e:n;return s.call(o,this,t,i)}})()},Wu={set(t,{refBBox:e}){let n=parseFloat(t);const i=a.isPercentage(t);i&&(n/=100);const r=Math.sqrt(e.height*e.height+e.width*e.width);let o;return Number.isFinite(n)&&(o=i||n>=0&&n<=1?n*r:Math.max(n+r,0)),{r:o}}},$u={set:od("cx","width")},Yu={set:od("cy","height")},Xu={set:sd({resetOffset:!0})},qu={set:sd({resetOffset:!1})},Uu={set:ld({resetOffset:!0})},Zu={set:ld({resetOffset:!1})},Ku=Hu,Ju=Xu,Qu=Uu,td=Lu,ed=Bu,nd=Fu,id=zu;function rd(t,e,n){return(i,{refBBox:r})=>{if(null==i)return null;let o=parseFloat(i);const s=a.isPercentage(i);let l;if(s&&(o/=100),Number.isFinite(o)){const i=r[n];l=s||o>0&&o<1?i[t]+r[e]*o:i[t]+o}const c=new Yc;return c[t]=l||0,c}}function od(t,e){return function(n,{refBBox:i}){let r=parseFloat(n);const o=a.isPercentage(n);o&&(r/=100);const s={};if(Number.isFinite(r)){const n=o||r>=0&&r<=1?r*i[e]:Math.max(r+i[e],0);s[t]=n}return s}}function ad(t,e){const n=e&&e.resetOffset;return function(e,{view:i,elem:r,refBBox:o}){const a=i.$(r);let s=a.data("x6-shape");if(!s||s.value!==e){const n=t(e);s={value:e,shape:n,shapeBBox:n.bbox()},a.data("x6-shape",s)}const l=s.shape.clone(),c=s.shapeBBox.clone(),h=c.getOrigin(),u=o.getOrigin();c.x=u.x,c.y=u.y;const d=o.getMaxScaleToFit(c,u),p=0===c.width||0===o.width?1:d.sx,f=0===c.height||0===o.height?1:d.sy;return l.scale(p,f,h),n&&l.translate(-h.x,-h.y),l}}function sd(t){const e=ad((function(t){return gh.parse(t)}),t);return(t,n)=>({d:e(t,n).serialize()})}function ld(t){const e=ad(t=>new Zc(t),t);return(t,n)=>({points:e(t,n).serialize()})}const cd={qualify:r.isPlainObject,set:(t,{view:e})=>`url(#${e.graph.defineGradient(t)})`},hd={qualify:r.isPlainObject,set(t,{view:e}){const n=e.cell,i=Object.assign({},t);if(n.isEdge()&&"linearGradient"===i.type){const t=e,r=t.sourcePoint,o=t.targetPoint;i.id=`gradient-${i.type}-${n.id}`,i.attrs=Object.assign(Object.assign({},i.attrs),{x1:r.x,y1:r.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(i.id)}return`url(#${e.graph.defineGradient(i)})`}},ud={qualify:(t,{attrs:e})=>null==e.textWrap||!r.isPlainObject(e.textWrap),set(t,{view:e,elem:n,attrs:i}){const r=e.$(n),o=r.data("x6-text"),a=t=>{try{return JSON.parse(t)}catch(e){return t}},s={x:i.x,eol:i.eol,annotations:a(i.annotations),textPath:a(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:"true"===(i["display-empty"]||i.displayEmpty),lineHeight:i["line-height"]||i.lineHeight},l=i["font-size"]||i.fontSize,h=JSON.stringify([t,s]);if(null==o||o!==h){l&&n.setAttribute("font-size",l);const i=s.textPath;if(null!=i&&"object"==typeof i){const t=i.selector;if("string"==typeof t){const n=e.find(t)[0];n instanceof SVGPathElement&&(c.ensureId(n),s.textPath=Object.assign({"xlink:href":"#"+n.id},i))}}c.text(n,""+t,s),r.data("x6-text",h)}}},dd={qualify:r.isPlainObject,set(t,{view:e,elem:n,attrs:i,refBBox:r}){const o=t,l=o.width||0;a.isPercentage(l)?r.width*=parseFloat(l)/100:l<=0?r.width+=l:r.width=l;const h=o.height||0;let u;a.isPercentage(h)?r.height*=parseFloat(h)/100:h<=0?r.height+=h:r.height=h;let d=o.text;null==d&&(d=i.text),u=null!=d?c.breakText(""+d,r,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{svgDocument:e.graph.view.svg,ellipsis:o.ellipsis,hyphen:o.hyphen,breakWord:o.breakWord}):"",s.call(ud.set,this,u,{view:e,elem:n,attrs:i,refBBox:r,cell:e.cell})}},pd=(t,{attrs:e})=>void 0!==e.text,fd={qualify:pd},gd={qualify:pd},md={qualify:pd},vd={qualify:pd},yd={qualify:pd},xd={qualify:pd},bd={qualify:(t,{elem:e})=>e instanceof SVGElement,set(t,{view:e,elem:n}){const i=""+t,r=e.$(n),o=r.data("x6-title");if(null==o||o!==i){r.data("x6-title",i);const t=n.firstChild;if(t&&"TITLE"===t.tagName.toUpperCase()){t.textContent=i}else{const e=document.createElementNS(n.namespaceURI,"title");e.textContent=i,n.insertBefore(e,t)}}}},wd={offset:Sd("x","width","right")},Cd={offset:Sd("y","height","bottom")},_d={offset:(t,{refBBox:e})=>t?{x:-e.x,y:-e.y}:{x:0,y:0}};function Sd(t,e,n){return(i,{refBBox:r})=>{const o=new Yc;let s;return s="middle"===i?r[e]/2:i===n?r[e]:"number"==typeof i&&Number.isFinite(i)?i>-1&&i<1?-r[e]*i:-i:a.isPercentage(i)?r[e]*parseFloat(i)/100:0,o[t]=-(r[t]+s),o}}const Od={qualify:r.isPlainObject,set(t,{view:e,elem:n}){e.$(n).css(t)}},Md={set(t,{view:e,elem:n}){e.$(n).html(""+t)}},kd={qualify:r.isPlainObject,set:(t,{view:e})=>`url(#${e.graph.defineFilter(t)})`},Ad={set:t=>null!=t&&"object"==typeof t&&t.id?t.id:t};function Td(t,e,n){let i,r;"object"==typeof e?(i=e.x,r=e.y):(i=e,r=n);const o=gh.parse(t),a=o.bbox();if(a){let t=-a.height/2-a.y,e=-a.width/2-a.x;"number"==typeof i&&(e-=i),"number"==typeof r&&(t-=r),o.translate(e,t)}return o.serialize()}var Dd=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Pd=t=>{var{size:e,width:n,height:i,offset:r,open:o}=t;return Ed({size:e,width:n,height:i,offset:r},!0===o,!0,void 0,Dd(t,["size","width","height","offset","open"]))},Id=t=>{var{size:e,width:n,height:i,offset:r,factor:o}=t;return Ed({size:e,width:n,height:i,offset:r},!1,!1,o,Dd(t,["size","width","height","offset","factor"]))};function Ed(t,e,n,i=3/4,r={}){const o=t.size||10,s=t.width||o,l=t.height||o,c=new gh,h={};if(e)c.moveTo(s,0).lineTo(0,l/2).lineTo(s,l),h.fill="none";else{if(c.moveTo(0,l/2),c.lineTo(s,0),!n){const t=a.clamp(i,0,1);c.lineTo(s*t,l/2)}c.lineTo(s,l),c.close()}return Object.assign(Object.assign(Object.assign({},h),r),{tagName:"path",d:Td(c.serialize(),{x:null!=t.offset?t.offset:-s/2})})}var jd=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Ld=t=>{var{size:e,width:n,height:i,offset:r}=t,o=jd(t,["size","width","height","offset"]);const a=e||10,s=n||a,l=i||a,c=new gh;return c.moveTo(0,l/2).lineTo(s/2,0).lineTo(s,l/2).lineTo(s/2,l).close(),Object.assign(Object.assign({},o),{tagName:"path",d:Td(c.serialize(),null==r?-s/2:r)})};var Bd=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Nd=t=>{var{d:e,offsetX:n,offsetY:i}=t,r=Bd(t,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},r),{tagName:"path",d:Td(e,n,i)})};var Rd=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Fd=t=>{var{size:e,width:n,height:i,offset:r}=t,o=Rd(t,["size","width","height","offset"]);const a=e||10,s=n||a,l=i||a,c=new gh;return c.moveTo(0,0).lineTo(s,l).moveTo(0,l).lineTo(s,0),Object.assign(Object.assign({},o),{tagName:"path",fill:"none",d:Td(c.serialize(),r||-s/2)})};var zd=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Vd=t=>{var{width:e,height:n,offset:i,open:r,flip:o}=t,a=zd(t,["width","height","offset","open","flip"]);let s=n||6;const l=e||10,c=!0===r,h=!0===o,u=Object.assign(Object.assign({},a),{tagName:"path"});h&&(s=-s);const d=new gh;return d.moveTo(0,s).lineTo(l,0),c?u.fill="none":(d.lineTo(l,s),d.close()),u.d=Td(d.serialize(),{x:i||-l/2,y:s/2}),u};var Gd=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Hd=t=>{var{r:e}=t,n=Gd(t,["r"]);const i=e||5;return Object.assign(Object.assign({cx:i},n),{tagName:"circle",r:i})},Wd=t=>{var{r:e}=t,n=Gd(t,["r"]);const i=e||5,r=new gh;return r.moveTo(i,0).lineTo(i,2*i),r.moveTo(0,i).lineTo(2*i,i),{children:[Object.assign(Object.assign({},Hd({r:i})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:Td(r.serialize(),-i)})]}};var $d=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const Yd=t=>{var{rx:e,ry:n}=t,i=$d(t,["rx","ry"]);const r=e||5,o=n||5;return Object.assign(Object.assign({cx:r},i),{tagName:"ellipse",rx:r,ry:o})};var Xd,qd;(qd=Xd||(Xd={})).presets=h,qd.registry=Iu.create({type:"marker"}),qd.registry.register(qd.presets,!0),function(t){t.normalize=Td}(Xd||(Xd={}));var Ud=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};function Zd(t){return"string"==typeof t||r.isPlainObject(t)}const Kd={qualify:Zd,set:(t,{view:e,attrs:n})=>tp("marker-start",t,e,n)},Jd={qualify:Zd,set:(t,{view:e,attrs:n})=>tp("marker-end",t,e,n,{transform:"rotate(180)"})},Qd={qualify:Zd,set:(t,{view:e,attrs:n})=>tp("marker-mid",t,e,n)};function tp(t,e,n,i,r={}){const o="string"==typeof e?{name:e}:e,{name:a,args:s}=o,l=Ud(o,["name","args"]);let c=l;if(a&&"string"==typeof a){const t=Xd.registry.get(a);if(!t)return Xd.registry.onNotFound(a);c=t(Object.assign(Object.assign({},l),s))}const h=Object.assign(Object.assign(Object.assign({},function(t,e){const n={},i=t.stroke;"string"==typeof i&&(n.stroke=i,n.fill=i);let r=t.strokeOpacity;null==r&&(r=t["stroke-opacity"]);null==r&&(r=t.opacity);null!=r&&(n["stroke-opacity"]=r,n["fill-opacity"]=r);if("marker-mid"!==e){const i=parseFloat(t.strokeWidth||t["stroke-width"]);if(Number.isFinite(i)&&i>1){const t=Math.ceil(i/2);n.refX="marker-start"===e?t:-t}}return n}(i,t)),r),c);return{[t]:`url(#${n.graph.defineMarker(h)})`}}const ep=(t,{view:e})=>e.cell.isEdge(),np={qualify:ep,set(t,e){const n=e.view,i=t.stubs||0;let r;if(Number.isFinite(i)&&0!==i){let t;if(i<0){t=((n.getConnectionLength()||0)+i)/2}else t=i;const e=n.getConnection();if(e){const n=e.divideAtLength(t),i=e.divideAtLength(-t);n&&i&&(r=`${n[0].serialize()} ${i[1].serialize()}`)}}return{d:r||n.getConnectionPathData()}}},ip={qualify:ep,set:cp("getTangentAtLength",{rotate:!0})},rp={qualify:ep,set:cp("getTangentAtLength",{rotate:!1})},op={qualify:ep,set:cp("getTangentAtRatio",{rotate:!0})},ap={qualify:ep,set:cp("getTangentAtRatio",{rotate:!1})},sp=ip,lp=op;function cp(t,e){const n={x:1,y:0};return(i,r)=>{let o,a;const s=r.view,l=s[t](Number(i));return l?(a=e.rotate?l.vector().vectorAngle(n):0,o=l.start):(o=s.path.start,a=0),0===a?{transform:`translate(${o.x},${o.y}')`}:{transform:`translate(${o.x},${o.y}') rotate(${a})`}}}var hp;(hp||(hp={})).isValidDefinition=function(t,e,n){if(null!=t){if("string"==typeof t)return!0;if("function"!=typeof t.qualify||s.call(t.qualify,this,e,n))return!0}return!1},function(t){t.presets=Object.assign(Object.assign({},Eu),u),t.registry=Iu.create({type:"attribute definition"}),t.registry.register(t.presets,!0)}(hp||(hp={}));const up={color:"#aaaaaa",thickness:1,markup:"rect",update(t,e){const n=e.thickness*e.sx,i=e.thickness*e.sy;c.attr(t,{width:n,height:i,rx:n,ry:i,fill:e.color})}},dp={color:"#aaaaaa",thickness:1,markup:"rect",update(t,e){const n=e.sx<=1?e.thickness*e.sx:e.thickness;c.attr(t,{width:n,height:n,rx:n,ry:n,fill:e.color})}},pp={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(t,e){let n;const i=e.width,r=e.height,o=e.thickness;n=i-o>=0&&r-o>=0?["M",i,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",c.attr(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}},fp=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(t,e){let n;const i=e.width,r=e.height,o=e.thickness;n=i-o>=0&&r-o>=0?["M",i,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",c.attr(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(t,e){let n;const i=e.factor||1,r=e.width*i,o=e.height*i,a=e.thickness;n=r-a>=0&&o-a>=0?["M",r,0,"H0 M0 0 V0",o].join(" "):"M 0 0 0 0",e.width=r,e.height=o,c.attr(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}}];class gp{constructor(){this.patterns={},this.root=vh.create(c.createSvgDocument(),{width:"100%",height:"100%"},[c.createSvgElement("defs")]).node}add(t,e){const n=this.root.childNodes[0];n&&n.appendChild(e),this.patterns[t]=e,vh.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return null!=this.patterns[t]}}var mp,vp,yp;function xp(t,e){return null!=t?t:e}function bp(t,e){return null!=t&&Number.isFinite(t)?t:e}function wp(t={}){const e=xp(t.color,"blue"),n=bp(t.width,1),i=bp(t.margin,2);return`\n    <filter>\n      <feFlood flood-color="${e}" flood-opacity="${bp(t.opacity,1)}" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${i+n}" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${i}" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  `.trim()}function Cp(t={}){const e=xp(t.color,"red"),n=bp(t.blur,0),i=bp(t.width,1);return`\n      <filter>\n        <feFlood flood-color="${e}" flood-opacity="${bp(t.opacity,1)}" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${i}"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="${n}"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    `.trim()}function _p(t={}){const e=bp(t.x,2);return`\n    <filter>\n      <feGaussianBlur stdDeviation="${null!=t.y&&Number.isFinite(t.y)?[e,t.y]:e}"/>\n    </filter>\n  `.trim()}function Sp(t={}){const e=bp(t.dx,0),n=bp(t.dy,0),i=xp(t.color,"black"),r=bp(t.blur,4),o=bp(t.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>\n         <feDropShadow stdDeviation="${r}" dx="${e}" dy="${n}" flood-color="${i}" flood-opacity="${o}" />\n       </filter>`.trim():`<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="${r}" />\n         <feOffset dx="${e}" dy="${n}" result="offsetblur" />\n         <feFlood flood-color="${i}" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="${o}" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>`.trim()}function Op(t={}){const e=bp(t.amount,1),n=.7152-.7152*(1-e);return`\n    <filter>\n      <feColorMatrix type="matrix" values="${.2126+.7874*(1-e)} ${n} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${.7152+.2848*(1-e)} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${n} ${.0722+.9278*(1-e)} 0 0 0 0 0 1 0"/>\n    </filter>\n  `.trim()}function Mp(t={}){const e=bp(t.amount,1);return`\n      <filter>\n        <feColorMatrix type="matrix" values="${.393+.607*(1-e)} ${.769-.769*(1-e)} ${.189-.189*(1-e)} 0 0 ${.349-.349*(1-e)} ${.686+.314*(1-e)} ${.168-.168*(1-e)} 0 0 ${.272-.272*(1-e)} ${.534-.534*(1-e)} ${.131+.869*(1-e)} 0 0 0 0 0 1 0"/>\n      </filter>\n    `.trim()}function kp(t={}){return`\n      <filter>\n        <feColorMatrix type="saturate" values="${1-bp(t.amount,1)}"/>\n      </filter>\n    `.trim()}function Ap(t={}){return`\n      <filter>\n        <feColorMatrix type="hueRotate" values="${bp(t.angle,0)}"/>\n      </filter>\n    `.trim()}function Tp(t={}){const e=bp(t.amount,1),n=1-e;return`\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="${e} ${n}"/>\n          <feFuncG type="table" tableValues="${e} ${n}"/>\n          <feFuncB type="table" tableValues="${e} ${n}"/>\n        </feComponentTransfer>\n      </filter>\n    `.trim()}function Dp(t={}){const e=bp(t.amount,1);return`\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}"/>\n        <feFuncG type="linear" slope="${e}"/>\n        <feFuncB type="linear" slope="${e}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}function Pp(t={}){const e=bp(t.amount,1),n=.5-e/2;return`\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}" intercept="${n}"/>\n        <feFuncG type="linear" slope="${e}" intercept="${n}"/>\n        <feFuncB type="linear" slope="${e}" intercept="${n}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}(mp=gp||(gp={})).presets=d,mp.registry=Iu.create({type:"grid"}),mp.registry.register(mp.presets,!0),(yp=vp||(vp={})).presets=p,yp.registry=Iu.create({type:"filter"}),yp.registry.register(yp.presets,!0);const Ip=function(t){const e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=i;const r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(2*n,0),r.scale(-1,1),r.drawImage(t,0,0,n,i),e},Ep=function(t){const e=document.createElement("canvas"),n=t.width,i=t.height;e.width=n,e.height=2*i;const r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(0,2*i),r.scale(1,-1),r.drawImage(t,0,0,n,i),e},jp=function(t){const e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=2*i;const r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,n,i),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,n,i),e},Lp=function(t,e){const n=t.width,i=t.height,r=document.createElement("canvas");r.width=3*n,r.height=3*i;const o=r.getContext("2d"),a=null!=e.angle?-e.angle:-20,s=Ac.toRad(a),l=r.width/4,c=r.height/4;for(let e=0;e<4;e+=1)for(let r=0;r<4;r+=1)(e+r)%2>0&&(o.setTransform(1,0,0,1,(2*e-1)*l,(2*r-1)*c),o.rotate(s),o.drawImage(t,-n/2,-i/2,n,i));return r};var Bp,Np;(Np=Bp||(Bp={})).presets=Object.assign({},f),Np.presets["flip-x"]=Ip,Np.presets["flip-y"]=Ep,Np.presets["flip-xy"]=jp,Np.registry=Iu.create({type:"background pattern"}),Np.registry.register(Np.presets,!0);const Rp={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(t){Rp.trackable=t}};var Fp,zp;(zp=Fp||(Fp={})).snapToGrid=Gc,zp.normalizeMarker=Td,zp.prefix=function(t){return`${Rp.prefixCls}-${t}`},function(t){t.makeTree=function(t,e,n,i=[]){const r="function"==typeof e.children?e.children(t):t[e.children||"children"];return n||(n=e.createNode(t),i.push(n)),Array.isArray(r)&&r.forEach(t=>{const r=e.createNode(t),o=e.createEdge(n,r);i.push(r,o),this.makeTree(t,e,r,i)}),i}}(Fp||(Fp={}));const Vp=Fp.prefix("highlighted"),Gp={highlight(t,e,n){const i=n&&n.className||Vp;c.addClass(e,i)},unhighlight(t,e,n){const i=n&&n.className||Vp;c.removeClass(e,i)}},Hp=Fp.prefix("highlight-opacity"),Wp={highlight(t,e){c.addClass(e,Hp)},unhighlight(t,e){c.removeClass(e,Hp)}},$p={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},Yp={highlight(t,e,n){const i=Xp.getHighlighterId(e,n);if(Xp.hasCache(i))return;n=r.defaultsDeep({},n,$p);const o=vh.create(e);let a,s;try{a=o.toPathData()}catch(t){s=o.bbox(!0),a=c.rectToPathData(Object.assign(Object.assign({},n),s))}const l=c.createSvgElement("path");if(c.attr(l,Object.assign({d:a,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?c.kebablizeAttrs(n.attrs):null)),t.isEdgeElement(e))c.attr(l,"d",t.getConnectionPathData());else{let e=o.getTransformToElement(t.container);const i=n.padding;if(i){null==s&&(s=o.bbox(!0));const t=s.x+s.width/2,n=s.y+s.height/2;s=c.transformRectangle(s,e);const r=Math.max(s.width,1),a=Math.max(s.height,1),l=(r+i)/r,h=(a+i)/a,u=c.createSVGMatrix({a:l,b:0,c:0,d:h,e:t-l*t,f:n-h*n});e=e.multiply(u)}c.transform(l,e)}c.addClass(l,Fp.prefix("highlight-stroke"));const h=t.cell,u=()=>Xp.removeHighlighter(i);h.on("removed",u),h.model&&h.model.on("reseted",u),t.container.appendChild(l),Xp.setCache(i,l)},unhighlight(t,e,n){Xp.removeHighlighter(Xp.getHighlighterId(e,n))}};var Xp,qp;function Up(t,e={}){return new Yc(a.normalizePercentage(e.x,t.width),a.normalizePercentage(e.y,t.height))}function Zp(t,e,n){return Object.assign({angle:e,position:t.toJSON()},n)}!function(t){t.getHighlighterId=function(t,e){return c.ensureId(t),t.id+JSON.stringify(e)};const e={};t.setCache=function(t,n){e[t]=n},t.hasCache=function(t){return null!=e[t]},t.removeHighlighter=function(t){const n=e[t];n&&(c.remove(n),delete e[t])}}(Xp||(Xp={})),(qp||(qp={})).check=function(t,e){if("function"!=typeof e.highlight)throw new Error(`Highlighter '${t}' is missing required \`highlight()\` method`);if("function"!=typeof e.unhighlight)throw new Error(`Highlighter '${t}' is missing required \`unhighlight()\` method`)},function(t){t.presets=g,t.registry=Iu.create({type:"highlighter"}),t.registry.register(t.presets,!0)}(qp||(qp={}));const Kp=(t,e)=>t.map(({x:t,y:n,angle:i})=>Zp(Up(e,{x:t,y:n}),i||0)),Jp=(t,e,n)=>{const i=n.start||0,r=n.step||20;return tf(t,e,i,(t,e)=>(t+.5-e/2)*r)},Qp=(t,e,n)=>{const i=n.start||0,r=n.step||360/t.length;return tf(t,e,i,t=>t*r)};function tf(t,e,n,i){const r=e.getCenter(),o=e.getTopCenter(),a=e.width/e.height,s=Uc.fromRect(e),l=t.length;return t.map((t,e)=>{const c=n+i(e,l),h=o.clone().rotate(-c,r).scale(a,1,r),u=t.compensateRotate?-s.tangentTheta(h):0;return(t.dx||t.dy)&&h.translate(t.dx||0,t.dy||0),t.dr&&h.move(r,t.dr),Zp(h.round(),u,t)})}var ef=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const nf=(t,e,n)=>lf(t,Up(e,n.start||e.getOrigin()),Up(e,n.end||e.getCorner()),n),rf=(t,e,n)=>lf(t,e.getTopLeft(),e.getBottomLeft(),n),of=(t,e,n)=>lf(t,e.getTopRight(),e.getBottomRight(),n),af=(t,e,n)=>lf(t,e.getTopLeft(),e.getTopRight(),n),sf=(t,e,n)=>lf(t,e.getBottomLeft(),e.getBottomRight(),n);function lf(t,e,n,i){const r=new qc(e,n),o=t.length;return t.map((t,e)=>{var{strict:n}=t,a=ef(t,["strict"]);const s=n||i.strict?(e+1)/(o+1):(e+.5)/o,l=r.pointAt(s);return(a.dx||a.dy)&&l.translate(a.dx||0,a.dy||0),Zp(l.round(),0,a)})}var cf,hf;(hf=cf||(cf={})).presets=m,hf.registry=Iu.create({type:"port layout"}),hf.registry.register(hf.presets,!0);const uf={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function df(t,e){const{x:n,y:i,angle:o,attrs:a}=e||{};return r.defaultsDeep({},{angle:o,attrs:a,position:{x:n,y:i}},t,uf)}const pf=(t,e,n)=>df({position:e.getTopLeft()},n),ff=(t,e,n)=>df({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n),gf=(t,e,n)=>df({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n),mf=(t,e,n)=>df({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n),vf=(t,e,n)=>df({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n),yf=(t,e,n)=>Cf(t,e,!1,n),xf=(t,e,n)=>Cf(t,e,!0,n),bf=(t,e,n)=>_f(t,e,!1,n),wf=(t,e,n)=>_f(t,e,!0,n);function Cf(t,e,n,i){const r=null!=i.offset?i.offset:15,o=e.getCenter().theta(t),a=Sf(e);let s,l,c,h,u=0;return o<a[1]||o>a[2]?(s=".3em",l=r,c=0,h="start"):o<a[0]?(s="0",l=0,c=-r,n?(u=-90,h="start"):h="middle"):o<a[3]?(s=".3em",l=-r,c=0,h="end"):(s=".6em",l=0,c=r,n?(u=90,h="start"):h="middle"),df({position:{x:Math.round(l),y:Math.round(c)},angle:u,attrs:{".":{y:s,"text-anchor":h}}},i)}function _f(t,e,n,i){const r=null!=i.offset?i.offset:15,o=e.getCenter().theta(t),a=Sf(e);let s,l,c,h,u=0;return o<a[1]||o>a[2]?(s=".3em",l=-r,c=0,h="end"):o<a[0]?(s=".6em",l=0,c=r,n?(u=90,h="start"):h="middle"):o<a[3]?(s=".3em",l=r,c=0,h="start"):(s="0em",l=0,c=-r,n?(u=-90,h="start"):h="middle"),df({position:{x:Math.round(l),y:Math.round(c)},angle:u,attrs:{".":{y:s,"text-anchor":h}}},i)}function Sf(t){const e=t.getCenter(),n=e.theta(t.getTopLeft()),i=e.theta(t.getBottomLeft()),r=e.theta(t.getBottomRight());return[n,e.theta(t.getTopRight()),r,i]}const Of=(t,e,n)=>kf(t.diff(e.getCenter()),!1,n),Mf=(t,e,n)=>kf(t.diff(e.getCenter()),!0,n);function kf(t,e,n){const i=null!=n.offset?n.offset:20,r=new Yc(0,0),o=-t.theta(r);let a,s=".3em",l=o;return(o+90)%180==0?(a=e?"end":"middle",e||-270!==o||(s="0em")):o>-270&&o<-90?(a="start",l=o-180):a="end",df({position:t.clone().move(r,i).diff(t).round().round().toJSON(),angle:e?l:0,attrs:{".":{y:s,"text-anchor":a}}},n)}var Af,Tf,Df;(Tf=Af||(Af={})).presets=v,Tf.registry=Iu.create({type:"port label layout"}),Tf.registry.register(Tf.presets,!0);class Pf{constructor(t,e,n,i){return null==t?this.set(255,255,255,1):"number"==typeof t?this.set(t,e,n,i):"string"==typeof t?Pf.fromString(t)||this:Array.isArray(t)?this.set(t):void this.set(t.r,t.g,t.b,null==t.a?1:t.a)}blend(t,e,n){this.set(t.r+(e.r-t.r)*n,t.g+(e.g-t.g)*n,t.b+(e.b-t.b)*n,t.a+(e.a-t.a)*n)}lighten(t){const e=Pf.lighten(this.toArray(),t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}darken(t){this.lighten(-t)}set(t,e,n,i){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:e,s=Array.isArray(t)?t[2]:n,l=Array.isArray(t)?t[3]:i;return this.r=Math.round(a.clamp(r,0,255)),this.g=Math.round(a.clamp(o,0,255)),this.b=Math.round(a.clamp(s,0,255)),this.a=null==l?1:a.clamp(l,0,1),this}toHex(){return"#"+["r","g","b"].map(t=>{const e=this[t].toString(16);return e.length<2?"0"+e:e}).join("")}toRGBA(){return this.toArray()}toHSLA(){return Pf.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(t){const e=`${this.r},${this.g},${this.b},`;return t?`rgb(${e})`:`rgba(${e},${this.a})`}toGrey(){return Pf.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}!function(t){function e(e){return new t([...l(e),1])}function n(e){const n=e.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(n){const e=n[1].split(/\s*,\s*/).map(t=>parseInt(t,10));return new t(e)}return null}function i(t,e,n){n<0&&++n,n>1&&--n;const i=6*n;return i<1?t+(e-t)*i:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function r(e){const n=e.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(n){const e=n[2].split(/\s*,\s*/),i=(parseFloat(e[0])%360+360)%360/360,r=parseFloat(e[1])/100,a=parseFloat(e[2])/100,s=null==e[3]?1:parseInt(e[3],10);return new t(o(i,r,a,s))}return null}function o(t,e,n,r){const o=Array.isArray(t)?t[0]:t,a=Array.isArray(t)?t[1]:e,s=Array.isArray(t)?t[2]:n,l=Array.isArray(t)?t[3]:r,c=s<=.5?s*(a+1):s+a-s*a,h=2*s-c;return[256*i(h,c,o+1/3),256*i(h,c,o),256*i(h,c,o-1/3),null==l?1:l]}function s(e){return new t(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),e?void 0:parseFloat(Math.random().toFixed(2)))}function l(t){const e=0===t.indexOf("#")?t:"#"+t;let n=Number("0x"+e.substr(1));if(4!==e.length&&7!==e.length||Number.isNaN(n))throw new Error("Invalid hex color.");const i=4===e.length?4:8,r=(1<<i)-1,o=["b","g","r"].map(()=>{const t=n&r;return n>>=i,4===i?17*t:t});return[o[2],o[1],o[0]]}function c(t,e,n){const i=t=>t.length<2?"0"+t:t;return`${i(t.toString(16))}${i(e.toString(16))}${i(n.toString(16))}`}function h(t,e){if("string"==typeof t){const n="#"===t[0],i=parseInt(n?t.substr(1):t,16),r=a.clamp((i>>16)+e,0,255),o=a.clamp((i>>8&255)+e,0,255);return`${n?"#":""}${(a.clamp((255&i)+e,0,255)|o<<8|r<<16).toString(16)}`}const n=l(h(c(t[0],t[1],t[2]),e));return[n[0],n[1],n[2],t[3]]}t.fromArray=function(e){return new t(e)},t.fromHex=e,t.fromRGBA=n,t.fromHSLA=r,t.fromString=function(i){if(i.startsWith("#"))return e(i);if(i.startsWith("rgb"))return n(i);const o=t.named[i];return o?e(o):r(i)},t.makeGrey=function(e,n){return t.fromArray([e,e,e,n])},t.rgba2hsla=function(t,e,n,i){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:e,a=Array.isArray(t)?t[2]:n,s=Array.isArray(t)?t[3]:i,l=Math.max(r,o,a),c=Math.min(r,o,a),h=(l+c)/2;let u=0,d=0;if(c!==l){const t=l-c;switch(d=h>.5?t/(2-l-c):t/(l+c),l){case r:u=(o-a)/t+(o<a?6:0);break;case o:u=(a-r)/t+2;break;case a:u=(r-o)/t+4}u/=6}return[u,d,h,null==s?1:s]},t.hsla2rgba=o,t.random=s,t.randomHex=function(){let t="#";for(let e=0;e<6;e+=1)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t},t.randomRGBA=function(t){return s(t).toString()},t.invert=function(t,e){if("string"==typeof t){const n="#"===t[0],[i,r,o]=l(t);return e?.299*i+.587*r+.114*o>186?"#000000":"#ffffff":`${n?"#":""}${c(255-i,255-r,255-o)}`}const n=t[0],i=t[1],r=t[2],o=t[3];return e?.299*n+.587*i+.114*r>186?[0,0,0,o]:[255,255,255,o]:[255-n,255-i,255-r,o]},t.lighten=function(t,e){return h(t,e)},t.darken=function(t,e){return h(t,-e)}}(Pf||(Pf={})),(Pf||(Pf={})).named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};(Df||(Df={})).call=function(t,e){const n=[];for(let i=0;i<t.length;i+=2){const r=t[i],o=t[i+1],a=Array.isArray(e)?e:[e],l=s.apply(r,o,a);n.push(l)}return s.toAsyncBoolean(n)};class If{get disposed(){return!0===this._disposed}dispose(){this._disposed=!0}}!function(t){t.dispose=function(){return(t,e,n)=>{const i=n.value,r=t.__proto__;n.value=function(){this.disposed||(i.call(this),r.dispose.call(this))}}}}(If||(If={}));class Ef{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(t=>{t.dispose()}),this.items.clear())}contains(t){return this.items.has(t)}add(t){this.items.add(t)}remove(t){this.items.delete(t)}clear(){this.items.clear()}}!function(t){t.from=function(e){const n=new t;return e.forEach(t=>{n.add(t)}),n}}(Ef||(Ef={}));class jf extends class{constructor(){this.listeners={}}on(t,e,n){if(null==e)return this;this.listeners[t]||(this.listeners[t]=[]);return this.listeners[t].push(e,n),this}once(t,e,n){const i=(...r)=>(this.off(t,i),Df.call([e,n],r));return this.on(t,i,this)}off(t,e,n){if(!(t||e||n))return this.listeners={},this;const i=this.listeners;return(t?[t]:Object.keys(i)).forEach(t=>{const r=i[t];if(r)if(e||n)for(let t=r.length-2;t>=0;t-=2)e&&r[t]!==e||n&&r[t+1]!==n||r.splice(t,2);else delete i[t]}),this}trigger(t,...e){let n=!0;if("*"!==t){const i=this.listeners[t];null!=i&&(n=Df.call([...i],e))}const i=this.listeners["*"];return null!=i?s.toAsyncBoolean([n,Df.call([...i],[t,...e])]):n}emit(t,...e){return this.trigger(t,...e)}}{}(jf||(jf={})).dispose=If.dispose,r.applyMixins(jf,If);class Lf extends jf{get disabled(){return!0===this._disabled}enable(){delete this._disabled}disable(){this._disabled=!0}}var Bf,Nf,Rf,Ff,zf,Vf,Gf=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Hf extends If{constructor(){super(),this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(t){return this.map.has(t)}get(t){return this.map.get(t)}set(t,e){this.map.set(t,e),this.arr.push(t)}delete(t){const e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);const n=this.map.get(t);return this.map.delete(t),n}each(t){this.arr.forEach(e=>{const n=this.map.get(e);t(n,e)})}dispose(){this.clear()}}Gf([If.dispose()],Hf.prototype,"dispose",null);class Wf{constructor(t={}){this.comparator=t.comparator||Wf.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}isEmpty(){return 0===this.data.length}insert(t,e,n){const i={priority:t,value:e},r=this.data.length-1;return n&&(i.id=n,this.index[n]=r),this.data.push(i),this.bubbleUp(r),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(t,e){const n=this.index[t];if(void 0===n)throw new Error(`Node with id '${t}' was not found in the heap.`);const i=this.data,r=i[n].priority,o=this.comparator(e,r);o<0?(i[n].priority=e,this.bubbleUp(n)):o>0&&(i[n].priority=e,this.bubbleDown(n))}remove(){const t=this.data,e=t[0],n=t.pop();return delete this.index[t.length],t.length>0&&(t[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),e?e.value:null}heapify(){for(let t=0;t<this.data.length;t+=1)this.bubbleUp(t)}bubbleUp(t){const e=this.data;let n,i,r=t;for(;r>0&&(i=r-1>>>1,this.comparator(e[r].priority,e[i].priority)<0);){n=e[i],e[i]=e[r];let t=e[r].id;null!=t&&(this.index[t]=i),e[r]=n,t=e[r].id,null!=t&&(this.index[t]=r),r=i}}bubbleDown(t){const e=this.data,n=e.length-1;let i=t;for(;;){const t=1+(i<<1),r=t+1;let o=i;if(t<=n&&this.comparator(e[t].priority,e[o].priority)<0&&(o=t),r<=n&&this.comparator(e[r].priority,e[o].priority)<0&&(o=r),o===i)break;{const t=e[o];e[o]=e[i];let n=e[i].id;null!=n&&(this.index[n]=o),e[i]=t,n=e[i].id,null!=n&&(this.index[n]=i),i=o}}}}!function(t){t.defaultComparator=(t,e)=>t-e}(Wf||(Wf={})),(Bf||(Bf={})).run=function(t,e,n=((t,e)=>1)){const i={},r={},o={},a=new Wf;for(i[e]=0,Object.keys(t).forEach(t=>{t!==e&&(i[t]=1/0),a.insert(i[t],t,t)});!a.isEmpty();){const e=a.remove();o[e]=!0;const s=t[e]||[];for(let t=0;t<s.length;t+=1){const l=s[t];if(!o[l]){const t=i[e]+n(e,l);t<i[l]&&(i[l]=t,r[l]=e,a.updatePriority(l,t))}}}return r},function(t){t.linear=t=>t,t.quad=t=>t*t,t.cubic=t=>t*t*t,t.inout=t=>{if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},t.exponential=t=>Math.pow(2,10*(t-1)),t.bounce=t=>{for(let e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){const i=(11-6*e-11*t)/4;return-i*i+n*n}}}(Nf||(Nf={})),function(t){t.decorators={reverse:t=>e=>1-t(1-e),reflect:t=>e=>.5*(e<.5?t(2*e):2-t(2-2*e)),clamp:(t,e=0,n=1)=>i=>{const r=t(i);return r<e?e:r>n?n:r},back:(t=1.70158)=>e=>e*e*((t+1)*e-t),elastic:(t=1.5)=>e=>Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}(Nf||(Nf={})),function(t){function e(t){const e=t/1;if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){const t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){const t=e-2.25/2.75;return 7.5625*t*t+.9375}{const t=e-2.625/2.75;return 7.5625*t*t+.984375}}function n(t){return 1-e(1-t)}t.easeInSine=function(t){return-1*Math.cos(t*(Math.PI/2))+1},t.easeOutSine=function(t){return Math.sin(t*(Math.PI/2))},t.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.easeInQuad=function(t){return t*t},t.easeOutQuad=function(t){return t*(2-t)},t.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.easeInCubic=function(t){return t*t*t},t.easeOutCubic=function(t){const e=t-1;return e*e*e+1},t.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.easeInQuart=function(t){return t*t*t*t},t.easeOutQuart=function(t){const e=t-1;return 1-e*e*e*e},t.easeInOutQuart=function(t){const e=t-1;return t<.5?8*t*t*t*t:1-8*e*e*e*e},t.easeInQuint=function(t){return t*t*t*t*t},t.easeOutQuint=function(t){const e=t-1;return 1+e*e*e*e*e},t.easeInOutQuint=function(t){const e=t-1;return t<.5?16*t*t*t*t*t:1+16*e*e*e*e*e},t.easeInExpo=function(t){return 0===t?0:Math.pow(2,10*(t-1))},t.easeOutExpo=function(t){return 1===t?1:1-Math.pow(2,-10*t)},t.easeInOutExpo=function(t){if(0===t||1===t)return t;const e=2*t,n=e-1;return e<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},t.easeInCirc=function(t){const e=t/1;return-1*(Math.sqrt(1-e*t)-1)},t.easeOutCirc=function(t){const e=t-1;return Math.sqrt(1-e*e)},t.easeInOutCirc=function(t){const e=2*t,n=e-2;return e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-n*n)+1)},t.easeInBack=function(t,e=1.70158){return t*t*((e+1)*t-e)},t.easeOutBack=function(t,e=1.70158){const n=t/1-1;return n*n*((e+1)*n+e)+1},t.easeInOutBack=function(t,e=1.70158){const n=2*t,i=n-2,r=1.525*e;return n<1?.5*n*n*((r+1)*n-r):.5*(i*i*((r+1)*i+r)+2)},t.easeInElastic=function(t,e=.7){if(0===t||1===t)return t;const n=t/1-1,i=1-e,r=i/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*n)*Math.sin((n-r)*(2*Math.PI)/i)},t.easeOutElastic=function(t,e=.7){const n=1-e,i=2*t;if(0===t||1===t)return t;const r=n/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*i)*Math.sin((i-r)*(2*Math.PI)/n)+1},t.easeInOutElastic=function(t,e=.65){const n=1-e;if(0===t||1===t)return t;const i=2*t,r=i-1,o=n/(2*Math.PI)*Math.asin(1);return i<1?Math.pow(2,10*r)*Math.sin((r-o)*(2*Math.PI)/n)*-.5:Math.pow(2,-10*r)*Math.sin((r-o)*(2*Math.PI)/n)*.5+1},t.easeOutBounce=e,t.easeInBounce=n,t.easeInOutBounce=function(t){return t<.5?.5*n(2*t):.5*e(2*t-1)+.5}}(Nf||(Nf={})),function(t){t.number=(t,e)=>{const n=e-t;return e=>t+n*e},t.object=(t,e)=>{const n=Object.keys(t);return i=>{const r={};for(let o=n.length-1;-1!==o;o-=1){const a=n[o];r[a]=t[a]+(e[a]-t[a])*i}return r}},t.unit=(t,e)=>{const n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(t),r=n.exec(e),o=r?r[1]:"",a=i?+i[1]:0,s=r?+r[1]:0,l=o.indexOf("."),c=l>0?o[1].length-l-1:0,h=s-a,u=i?i[2]:"";return t=>(a+h*t).toFixed(c)+u},t.color=(t,e)=>{const n=parseInt(t.slice(1),16),i=parseInt(e.slice(1),16),r=255&n,o=(255&i)-r,a=65280&n,s=(65280&i)-a,l=16711680&n,c=(16711680&i)-l;return t=>"#"+(1<<24|r+o*t&255|a+s*t&65280|l+c*t&16711680).toString(16).slice(1)}}(Rf||(Rf={})),function(t){const e=Rp.prefixCls+".storage";function n(t,e,n){t&&s.defer(()=>{t(e,n)})}function i(t,e){localStorage.setItem(t,JSON.stringify(e))}function r(t){const e=localStorage.getItem(t);return e?JSON.parse(e):null}function a(t){const e=r(c(t));return e?(null==e.keys&&(e.keys=[]),e):{keys:[]}}function l(t,n){return`${e}.${t}.docs.${n}`}function c(t){return`${e}.${t}.index`}t.insert=function(t,e,r){const s=e.id||o.uniqueId("doc-"),h=a(t);h.keys.push(s),i(l(t,s),e),i(c(t),h),n(r,null,Object.assign(Object.assign({},e),{id:s}))},t.find=function(t,e,i){const o=a(t),s=[];if(null==e)o.keys.forEach(e=>{const o=r(l(t,e));o?s.push(o):n(i,new Error(`No document found for an ID '${e}' from index.`))}),n(i,null,s);else if(e.id){const o=r(l(t,e.id));n(i,null,o?[o]:[])}else n(i,null,[])},t.remove=function(t,e,r){const o=a(t);if(null==e)o.keys.forEach(e=>{localStorage.removeItem(l(t,e))}),localStorage.removeItem(c(t)),n(r,null);else if(e.id){const a=o.keys.indexOf(e.id);a>=0&&o.keys.splice(a,1),localStorage.removeItem(l(t,e.id)),i(c(t),o),n(r,null)}}}(Ff||(Ff={}));class $f extends jf{constructor(){super(),this.cid=Vf.uniqueId(),$f.views[this.cid]=this}get priority(){return 2}confirmUpdate(t,e){return 0}$(t){return $f.$(t)}empty(t=this.container){return this.$(t).empty(),this}unmount(t=this.container){return this.$(t).remove(),this}remove(t=this.container){return t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete $f.views[this.cid]),this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return this.$(e).addClass(Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return this.$(e).removeClass(Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return this.$(e).css(t),this}setAttrs(t,e=this.container){return null!=t&&null!=e&&(e instanceof SVGElement?c.attr(e,t):this.$(e).attr(t)),this}findAttr(t,e=this.container){let n=e;for(;n&&1===n.nodeType;){const e=n.getAttribute(t);if(null!=e)return e;if(n===this.container)return null;n=n.parentNode}return null}find(t,e=this.container,n=this.selectors){return $f.find(t,e,n).elems}findOne(t,e=this.container,n=this.selectors){const i=this.find(t,e,n);return i.length>0?i[0]:null}findByAttr(t,e=this.container){let n=e;for(;n&&n.getAttribute;){const e=n.getAttribute(t);if((null!=e||n===this.container)&&"false"!==e)return n;n=n.parentNode}return null}getSelector(t,e){let n;if(t===this.container)return"string"==typeof e&&(n="> "+e),n;if(t){const i=c.index(t)+1;n=`${t.tagName.toLowerCase()}:nth-child(${i})`,e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n}prefixClassName(t){return Fp.prefix(t)}delegateEvents(t,e){if(null==t)return this;e||this.undelegateEvents();const n=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(e=>{const i=e.match(n);if(null==i)return;const r=this.getEventHandler(t[e]);"function"==typeof r&&this.delegateEvent(i[1],i[2],r)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,n){return this.$(this.container).on(t+this.getEventNamespace(),e,n),this}undelegateEvent(t,e,n){const i=t+this.getEventNamespace();return null==e?this.$(this.container).off(i):"string"==typeof e?this.$(this.container).off(i,e,n):this.$(this.container).off(i,e),this}addEventListeners(t,e,n){if(null==e)return this;const i=this.getEventNamespace(),r=this.$(t);return Object.keys(e).forEach(t=>{const o=this.getEventHandler(e[t]);"function"==typeof o&&r.on(t+i,n,o)}),this}removeEventListeners(t){return null!=t&&this.$(t).off(this.getEventNamespace()),this}getEventNamespace(){return`.${Rp.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if("string"==typeof t){const n=this[t];"function"==typeof n&&(e=(...t)=>n.call(this,...t))}else e=(...e)=>t.call(this,...e);return e}getEventTarget(t,e={}){const{target:n,type:i,clientX:r=0,clientY:o=0}=t;return e.fromPoint||"touchmove"===i||"touchend"===i?document.elementFromPoint(r,o):n}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return!0===this.getEventData(t).propagationStopped}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(null==t)throw new TypeError("Event object required");let n=t.data;const i=`__${this.cid}__`;return null==e?null==n?{}:n[i]||{}:(null==n&&(n=t.data={}),null==n[i]?n[i]=Object.assign({},e):n[i]=Object.assign(Object.assign({},n[i]),e),n[i])}normalizeEvent(t){return $f.normalizeEvent(t)}}!function(t){function e(t){return O()(t)}t.$=e,t.createElement=function(t,e){return e?c.createSvgElement(t||"g"):c.createElementNS(t||"div")},t.find=function(t,n,i){if(!t||"."===t)return{elems:[n]};if(i){const e=i[t];if(e)return{elems:Array.isArray(e)?e:[e]}}return Rp.useCSSSelector?{isCSSSelector:!0,elems:e(n).find(t).toArray()}:{elems:[]}},t.normalizeEvent=function(t){let e=t;const n=t.originalEvent,i=n&&n.changedTouches&&n.changedTouches[0];if(i){for(const e in t)void 0===i[e]&&(i[e]=t[e]);e=i}const r=e.target;if(r){const t=r.correspondingUseElement;t&&(e.target=t)}return e}}($f||($f={})),(zf=$f||($f={})).views={},zf.getView=function(t){return zf.views[t]||null},function(t){let e=0;t.uniqueId=function(){const t="v"+e;return e+=1,t}}(Vf||(Vf={}));const Yf=t=>t;function Xf(t,e){return 0===e?"0%":Math.round(t/e*100)+"%"}function qf(t){return(e,n,i,r)=>n.isEdgeElement(i)?function(t,e,n,i,r){const o=n.getConnection();if(!o)return e;const a=o.closestPointLength(r);if(t){const t=o.length();e.anchor={name:"ratio",args:{ratio:a/t}}}else e.anchor={name:"length",args:{length:a}};return e}(t,e,n,0,r):function(t,e,n,i,r){const o=n.cell,a=o.getAngle(),s=n.getUnrotatedBBoxOfElement(i),l=o.getBBox().getCenter(),c=Yc.create(r).rotate(a,l);let h=c.x-s.x,u=c.y-s.y;t&&(h=Xf(h,s.width),u=Xf(u,s.height));return e.anchor={name:"topLeft",args:{dx:h,dy:u,rotate:!0}},e}(t,e,n,i,r)}const Uf=qf(!0),Zf=qf(!1);var Kf,Jf,Qf,tg,eg;(Jf=Kf||(Kf={})).presets=y,Jf.registry=Iu.create({type:"connection strategy"}),Jf.registry.register(Jf.presets,!0);class ng{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Hf,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(null==e.matrix){const n=this.view.rotatableNode||this.view.container;e.matrix=c.getTransformToElement(t,n)}return c.createSVGMatrix(e.matrix)}getShape(t){const e=this.get(t);return null==e.shape&&(e.shape=c.toGeometryShape(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return null==e.boundingRect&&(e.boundingRect=c.getBBox(t)),e.boundingRect.clone()}}!function(t){function e(t){return null!=t&&"string"==typeof t}function n(t){return(""+t).trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}function i(t,e={ns:c.ns.svg}){const n=document.createDocumentFragment(),i={},r={},o=[{markup:Array.isArray(t)?t:[t],parent:n,ns:e.ns}];for(;o.length>0;){const t=o.pop();let e=t.ns||c.ns.svg;const n=t.markup,a=t.parent;n.forEach(t=>{const n=t.tagName;if(!n)throw new TypeError("Invalid tagName");t.ns&&(e=t.ns);const s=e===c.ns.svg,l=e?c.createElementNS(n,e):c.createElement(n),h=t.attrs;h&&(s?c.attr(l,c.kebablizeAttrs(h)):O()(l).attr(h));const u=t.style;u&&O()(l).css(u);const d=t.className;null!=d&&l.setAttribute("class",Array.isArray(d)?d.join(" "):d),t.textContent&&(l.textContent=t.textContent);const p=t.selector;if(null!=p){if(r[p])throw new TypeError("Selector must be unique");r[p]=l}if(t.groupSelector){let e=t.groupSelector;Array.isArray(e)||(e=[e]),e.forEach(t=>{i[t]||(i[t]=[]),i[t].push(l)})}a.appendChild(l);const f=t.children;Array.isArray(f)&&o.push({ns:e,markup:f,parent:l})})}return Object.keys(i).forEach(t=>{if(r[t])throw new Error("Ambiguous group selector");r[t]=i[t]}),{fragment:n,selectors:r,groups:i}}function a(t){return t instanceof SVGElement?c.createSvgElement("g"):c.createElement("div")}t.isJSONMarkup=function(t){return null!=t&&!e(t)},t.isStringMarkup=e,t.clone=function(t){return null==t||e(t)?t:r.cloneDeep(t)},t.sanitize=n,t.parseStringMarkup=function(t){const e=document.createDocumentFragment(),i=n(t);return o.sanitizeHTML(i,{raw:!0}).forEach(t=>{e.appendChild(t)}),{fragment:e,selectors:{},groups:{}}},t.parseJSONMarkup=i,t.renderMarkup=function(t){if(e(t)){const e=vh.createVectors(t),n=e.length;if(1===n)return{elem:e[0].node};if(n>1){const t=a(e[0].node);return e.forEach(e=>{t.appendChild(e.node)}),{elem:t}}return{}}const n=i(t),r=n.fragment;let o=null;return r.childNodes.length>1?(o=a(r.firstChild),o.appendChild(r)):o=r.firstChild,{elem:o,selectors:n.selectors}},t.parseLabelStringMarkup=function(t){const e=vh.createVectors(t),n=document.createDocumentFragment();for(let t=0,i=e.length;t<i;t+=1){const i=e[t].node;n.appendChild(i)}return{fragment:n,selectors:{}}}}(Qf||(Qf={})),function(t){function e(t,n,i){if(null!=t){let r;const o=t.tagName.toLowerCase();if(t===n)return r="string"==typeof i?`> ${o} > ${i}`:"> "+o,r;const a=t.parentNode;if(a&&a.childNodes.length>1){r=`${o}:nth-child(${c.index(t)+1})`}else r=o;return i&&(r+=" > "+i),e(t.parentNode,n,r)}return i}t.getSelector=e,t.xml2json=function(n){const i=t.sanitize(n),r=c.parseXML(i,{mimeType:"image/svg+xml"}),o=Array.prototype.slice.call(r.childNodes),a={},s=new WeakMap,l=(t,n,i)=>{const r=function(t,n,i){if("#text"===t.nodeName)return null;let r=null,o=null,a=null,s=!1;const l={tagName:t.tagName};if(t.attributes){a={};for(let e=0,n=t.attributes.length;e<n;e+=1){const n=t.attributes[e],i=n.nodeName,s=n.nodeValue;"selector"===i?r=s:"groupSelector"===i?o=s:"class"===i?l.attrs={class:s}:a[i]=s}}return null==r&&(s=!0,r=e(t,n)),t.namespaceURI&&(l.ns=t.namespaceURI),null==l.ns&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(t.tagName)?l.ns=c.ns.xhtml:i&&(l.ns=i)),r&&(l.selector=r),null!=o&&(l.groupSelector=o),{markup:l,attrs:a,isCSSSelector:s}}(t,n,i);if(null!=r){const{markup:e,attrs:i,isCSSSelector:o}=r;if(s.set(t,e),e.selector&&null!=i&&(Object.keys(i).length&&(a[e.selector]=i),o&&delete e.selector),t.childNodes&&t.childNodes.length>0)for(let i=0,r=t.childNodes.length;i<r;i+=1){const r=t.childNodes[i],o=l(r,n,e.ns);o&&(null==e.children&&(e.children=[]),e.children.push(o))}return e}{const e=s.get(t.parentNode);e&&t.textContent&&(e.textContent=t.textContent)}};return{markup:o.map(t=>l(t,t)).filter(t=>null!=t),attrs:a}}}(Qf||(Qf={})),(tg=Qf||(Qf={})).getPortContainerMarkup=function(){return"g"},tg.getPortMarkup=function(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},tg.getPortLabelMarkup=function(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}},function(t){t.getEdgeMarkup=function(){return t.sanitize('\n    <path class="connection" stroke="black" d="M 0 0 0 0"/>\n    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>\n    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>\n    <path class="connection-wrap" d="M 0 0 0 0"/>\n    <g class="labels"/>\n    <g class="vertices"/>\n    <g class="arrowheads"/>\n    <g class="tools"/>\n  ')},t.getEdgeToolMarkup=function(){return t.sanitize('\n    <g class="edge-tool">\n      <g class="tool-remove" event="edge:remove">\n        <circle r="11" />\n        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />\n        <title>Remove edge.</title>\n      </g>\n      <g class="tool-options" event="edge:options">\n        <circle r="11" transform="translate(25)"/>\n        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>\n        <title>Edge options.</title>\n      </g>\n    </g>\n  ')},t.getEdgeVertexMarkup=function(){return t.sanitize('\n    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">\n      <circle class="vertex" data-index="<%= index %>" r="10" />\n      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>\n      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">\n      <title>Remove vertex.</title>\n      </path>\n    </g>\n  ')},t.getEdgeArrowheadMarkup=function(){return t.sanitize('\n    <g class="arrowhead-group arrowhead-group-<%= end %>">\n      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />\n    </g>\n  ')}}(Qf||(Qf={})),function(t){t.getForeignObjectMarkup=function(t=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:c.ns.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:c.ns.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:t?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(Qf||(Qf={}));class ig{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let n,i,r,a,l;const h=[];return Object.keys(e).forEach(i=>{const r=e[i],a=this.getDefinition(i),l=s.call(hp.isValidDefinition,this.view,a,r,{elem:t,attrs:e,cell:this.cell,view:this.view});if(a&&l)"string"==typeof a?(null==n&&(n={}),n[a]=r):null!==r&&h.push({name:i,definition:a});else{null==n&&(n={});const t=ig.CASE_SENSITIVE_ATTR.includes(i)?i:o.kebabCase(i);n[t]=r}}),h.forEach(({name:n,definition:o})=>{const s=e[n];"function"==typeof o.set&&(!c.isHTMLElement(t)&&ig.DELAY_ATTRS.includes(n)?(null==l&&(l={}),l[n]=s):(null==i&&(i={}),i[n]=s));"function"==typeof o.offset&&(null==r&&(r={}),r[n]=s);"function"==typeof o.position&&(null==a&&(a={}),a[n]=s)}),{raw:e,normal:n,set:i,offset:r,position:a,delay:l}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const n=t.normal&&t.normal.transform;null!=n&&e.normal&&(e.normal.transform=n),t.normal=e.normal}findAttrs(t,e,n,o){const a=[],s=new Hf;return Object.keys(t).forEach(l=>{const c=t[l];if(!r.isPlainObject(c))return;const{isCSSSelector:h,elems:u}=$f.find(l,e,o);n[l]=u;for(let t=0,e=u.length;t<e;t+=1){const n=u[t],r=o&&o[l]===n,d=s.get(n);if(d){d.array||(a.push(n),d.array=!0,d.attrs=[d.attrs],d.priority=[d.priority]);const t=d.attrs,o=d.priority;if(r)t.unshift(c),o.unshift(-1);else{const n=i.sortedIndex(o,h?-1:e);t.splice(n,0,c),o.splice(n,0,e)}}else s.set(n,{elem:n,attrs:c,priority:r?-1:e,array:!1})}}),a.forEach(t=>{const e=s.get(t),n=e.attrs;e.attrs=n.reduceRight((t,e)=>r.merge(t,e),{})}),s}updateRelativeAttrs(t,e,n,i){const r=e.raw||{};let o=e.normal||{};const a=e.set,l=e.position,h=e.offset,u=e.delay,d=()=>({elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:n.clone()});if(null!=a&&Object.keys(a).forEach(t=>{const e=a[t],n=this.getDefinition(t);if(null!=n){const i=s.call(n.set,this.view,e,d());"object"==typeof i?o=Object.assign(Object.assign({},o),i):null!=i&&(o[t]=i)}}),c.isHTMLElement(t))return void this.view.setAttrs(o,t);const p=o.transform,f=p?""+p:null,g=c.transformStringToMatrix(f),m=new Yc(g.e,g.f);p&&(delete o.transform,g.e=0,g.f=0);let v=1,y=1;if(l||h){const e=this.view.getScaleOfElement(t,i.scalableNode);v=e.sx,y=e.sy}let x=!1;null!=l&&Object.keys(l).forEach(t=>{const e=l[t],n=this.getDefinition(t);if(null!=n){const t=s.call(n.position,this.view,e,d());null!=t&&(x=!0,m.translate(Yc.create(t).scale(v,y)))}}),this.view.setAttrs(o,t);let b=!1;if(null!=h){const e=this.view.getBoundingRectOfElement(t);if(e.width>0&&e.height>0){const n=c.transformRectangle(e,g).scale(1/v,1/y);Object.keys(h).forEach(e=>{const i=h[e],o=this.getDefinition(e);if(null!=o){const e=s.call(o.offset,this.view,i,{elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:n});null!=e&&(b=!0,m.translate(Yc.create(e).scale(v,y)))}})}}(null!=p||x||b)&&(m.round(1),g.e=m.x,g.f=m.y,t.setAttribute("transform",c.matrixToTransformString(g)));const w=()=>{null!=u&&Object.keys(u).forEach(e=>{const n=u[e],i=this.getDefinition(e);if(null!=i){const r=s.call(i.set,this.view,n,d());"object"==typeof r?this.view.setAttrs(r,t):null!=r&&this.view.setAttrs({[e]:r},t)}})};i.forceSync?w():Du.scheduleTask(w)}update(t,e,n){const i={},r=this.findAttrs(n.attrs||e,t,i,n.selectors),o=n.attrs?this.findAttrs(e,t,i,n.selectors):r,a=[];r.each(e=>{const r=e.elem,s=e.attrs,l=this.processAttrs(r,s);if(null==l.set&&null==l.position&&null==l.offset&&null==l.delay)this.view.setAttrs(l.normal,r);else{const e=o.get(r),c=e?e.attrs:null,h=c&&null==s.ref?c.ref:s.ref;let u;if(h){if(u=(i[h]||this.view.find(h,t,n.selectors))[0],!u)throw new Error(`"${h}" reference does not exist.`)}else u=null;const d={node:r,refNode:u,attributes:c,processedAttributes:l},p=a.findIndex(t=>t.refNode===r);p>-1?a.splice(p,0,d):a.push(d)}});const s=new Hf;let l;a.forEach(e=>{const i=e.node,r=e.refNode;let o;const h=null!=r&&null!=n.rotatableNode&&c.contains(n.rotatableNode,r);if(r&&(o=s.get(r)),!o){const e=h?n.rotatableNode:t;o=r?c.getBBox(r,{target:e}):n.rootBBox,r&&s.set(r,o)}let u;n.attrs&&e.attributes?(u=this.processAttrs(i,e.attributes),this.mergeProcessedAttrs(u,e.processedAttributes)):u=e.processedAttributes;let d=o;h&&null!=n.rotatableNode&&!n.rotatableNode.contains(i)&&(l||(l=c.transformStringToMatrix(c.attr(n.rotatableNode,"transform"))),d=c.transformRectangle(o,l));a.find(t=>t.refNode===i)&&(n.forceSync=!0),this.updateRelativeAttrs(i,u,d,n)})}}(eg=ig||(ig={})).CASE_SENSITIVE_ATTR=["viewBox"],eg.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"];class rg{constructor(t,e,n=[]){this.view=t;const i={},r={};let o=0;Object.keys(e).forEach(t=>{let n=e[t];Array.isArray(n)||(n=[n]),n.forEach(e=>{let n=i[e];n||(o+=1,n=i[e]=1<<o),r[t]|=n})});let a=n;if(Array.isArray(a)||(a=[a]),a.forEach(t=>{i[t]||(o+=1,i[t]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=r,this.bootstrap=n}get cell(){return this.view.cell}getFlag(t){const e=this.flags;return null==e?0:Array.isArray(t)?t.reduce((t,n)=>t|e[n],0):0|e[t]}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs?(Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t):t}}var og,ag,sg=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class lg extends $f{constructor(t,e={}){super(),this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new ig(this),this.flag=new rg(this,this.options.actions,this.options.bootstrap),this.cache=new ng(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(t,e)=>null!=e?i.uniq([...Array.isArray(t)?t:[t],...Array.isArray(e)?e:[e]]):Array.isArray(t)?[...t]:[t],n=r.cloneDeep(this.getDefaults()),{bootstrap:o,actions:a,events:s,documentEvents:l}=t,c=sg(t,["bootstrap","actions","events","documentEvents"]);return o&&(n.bootstrap=e(n.bootstrap,o)),a&&Object.keys(a).forEach(t=>{const i=a[t],r=n.actions[t];i&&r?n.actions[t]=e(r,i):i&&(n.actions[t]=e(i))}),s&&(n.events=Object.assign(Object.assign({},n.events),s)),t.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),l)),r.merge(n,c)}get[Symbol.toStringTag](){return lg.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return $f.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,null!=this.options.events&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();null!=e&&this.setAttrs(e,t);const n=this.getContainerStyle();null!=n&&this.setStyle(n,t);const i=this.getContainerClassName();null!=i&&this.addClass(i,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,n,i){if(this.hasAction(t,e)){n();const r=[e];return i&&("string"==typeof i?r.push(i):r.push(...i)),this.removeAction(t,r)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let e=this.flag.getChangedFlag();!t.updated&&e&&(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,e,this.priority,t))}parseJSONMarkup(t,e){const n=Qf.parseJSONMarkup(t),i=n.selectors,r=this.rootSelector;if(e&&r){if(i[r])throw new Error("Invalid root selector");i[r]=e}return n}can(t){let e=this.graph.options.interacting;if("function"==typeof e&&(e=s.call(e,this.graph,this)),"object"==typeof e){let n=e[t];return"function"==typeof n&&(n=s.call(n,this.graph,this)),!1!==n}return"boolean"==typeof e&&e}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getScaleOfElement(t,e){let n,i;if(e&&e.contains(t)){const t=c.scale(e);n=1/t.sx,i=1/t.sy}else n=1,i=1;return{sx:n,sy:i}}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),i=this.getRootRotatedMatrix(),r=this.getRootTranslatedMatrix();return c.transformRectangle(e,r.multiply(i).multiply(n))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),i=this.getRootTranslatedMatrix();return c.transformRectangle(e,i.multiply(n))}getBBox(t={}){let e;if(t.useCellGeometry){const t=this.cell,n=t.isNode()?t.getAngle():0;e=t.getBBox().bbox(n)}else e=this.getBBoxOfElement(this.container);return this.graph.localToGraph(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return c.createSVGMatrix().translate(e.x,e.y)}getRootRotatedMatrix(){let t=c.createSVGMatrix();const e=this.cell,n=e.isNode()?e.getAngle():0;if(n){const i=e.getBBox(),r=i.width/2,o=i.height/2;t=t.translate(r,o).rotate(n).translate(-r,-o)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,n={}){null==n.rootBBox&&(n.rootBBox=new Xc),null==n.selectors&&(n.selectors=this.selectors),this.attr.update(t,e,n)}isEdgeElement(t){return this.cell.isEdge()&&(null==t||t===this.container)}prepareHighlight(t,e={}){const n=t&&this.$(t)[0]||this.container;return e.partial=n===this.container,n}highlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,n,i,r){const o=this.cell,a=this.findAttr("port",t),s=t.getAttribute("data-selector"),l={cell:o.id};return null!=s&&(l.magnet=s),null!=a?(l.port=a,o.isNode()&&(o.hasPort(a)||null!=s||(l.selector=this.getSelector(t)))):null==s&&this.container!==t&&(l.selector=this.getSelector(t)),this.customizeEdgeTerminal(l,t,e,n,i,r)}customizeEdgeTerminal(t,e,n,i,r,o){const a=r.getStrategy()||this.graph.options.connecting.strategy;if(a){const l="string"==typeof a?a:a.name,c="string"==typeof a?{}:a.args||{},h=Kf.registry;if(l){const a=h.get(l);if(null==a)return h.onNotFound(l);const u=s.call(a,this.graph,t,this,e,new Yc(n,i),r,o,c);if(u)return u}}return t}getMagnetFromEdgeTerminal(t){const e=this.cell,n=this.container,i=t.port;let r,o=t.magnet;return null!=i&&e.isNode()&&e.hasPort(i)?r=this.findPortElem(i,o)||n:(o||(o=t.selector),o||null==i||(o=`[port="${i}"]`),r=this.findOne(o,n,this.selectors)),r}animate(t,e){const n="string"==typeof t?this.findOne(t):t;if(null==n)throw new Error("Invalid animation element.");const i=n.parentNode,r=vh.create(n);i||r.appendTo(this.graph.view.stage);const o=e.complete;return e.complete=t=>{i||c.remove(n),o&&o(t)},r.animate(e)}animateTransform(t,e){const n="string"==typeof t?this.findOne(t):t;if(null==n)throw new Error("Invalid animation element.");const i=n.parentNode,r=vh.create(n);i||r.appendTo(this.graph.view.stage);const o=e.complete;return e.complete=t=>{i||c.remove(n),o&&o(t)},r.animateTransform(e)}hasTools(t){const e=this.tools;return null!=e&&(null==t||e.name===t)}addTools(t){if(this.removeTools(),t){const e=cg.isToolsView(t)?t:new cg(t);this.tools=e,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,n){const i=this,r=i.cell;return null==e||null==n?{e:t,view:i,cell:r}:{e:t,x:e,y:n,view:i,cell:r}}onClick(t,e,n){this.notify("cell:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){this.notify("cell:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){this.notify("cell:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,n))}onMouseUp(t,e,n){this.notify("cell:mouseup",this.getEventArgs(t,e,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,n){this.notify("cell:mousemove",this.getEventArgs(t,e,n))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,i){this.notify("cell:mousewheel",Object.assign({delta:i},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,i){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,n,i))),this.notify(e,Object.assign({},this.getEventArgs(t,n,i)))}onMagnetMouseDown(t,e,n,i){}onMagnetDblClick(t,e,n,i){}onMagnetContextMenu(t,e,n,i){}onLabelMouseDown(t,e,n){}checkMouseleave(t){const e=this.graph;e.renderer.isAsync()&&e.renderer.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),i=e.renderer.findViewByElem(n);i!==this&&(this.onMouseLeave(t),i&&i.onMouseEnter(t))}}lg.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},(og=lg||(lg={})).Flag=rg,og.Attr=ig,function(t){t.toStringTag="X6."+t.name,t.isCellView=function(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&"function"==typeof i.isNodeView&&"function"==typeof i.isEdgeView&&"function"==typeof i.confirmUpdate}}(lg||(lg={})),function(t){t.priority=function(t){return function(e){e.config({priority:t})}},t.bootstrap=function(t){return function(e){e.config({bootstrap:t})}}}(lg||(lg={})),function(t){t.registry=Iu.create({type:"view"})}(lg||(lg={}));class cg extends $f{constructor(t={}){super(),this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return cg.toStringTag}createContainer(t,e){const n=t?$f.createElement("g",!0):$f.createElement("div",!1);return c.addClass(n,this.prefixClassName("cell-tools")),e.className&&c.addClass(n,e.className),n}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!lg.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(c.addClass(this.svgContainer,this.prefixClassName("edge-tools")),c.addClass(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(c.addClass(this.svgContainer,this.prefixClassName("node-tools")),c.addClass(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const n=[];e.forEach(t=>{if(cg.ToolItem.isToolItem(t))"vertices"===t.name?n.unshift(t):n.push(t);else{"vertices"===("object"==typeof t?t.name:t)?n.unshift(t):n.push(t)}});for(let t=0;t<n.length;t+=1){const e=n[t];let i;if(cg.ToolItem.isToolItem(e))i=e;else{const t="object"==typeof e?e.name:e,n="object"==typeof e&&e.args||{};if(t)if(this.cell.isNode()){const e=Mg.registry.get(t);if(!e)return Mg.registry.onNotFound(t);i=new e(n)}else if(this.cell.isEdge()){const e=Ag.registry.get(t);if(!e)return Ag.registry.onNotFound(t);i=new e(n)}}if(i){i.config(this.cellView,this),i.render();(!1!==i.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(i.container),this.tools.push(i)}}return this}update(t={}){const e=this.tools;return e&&e.forEach(e=>{t.toolId!==e.cid&&e.isVisible()&&e.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(e=>{t===e?e.show():e.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(e=>{e===t||e.isVisible()||(e.show(),e.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(t=>t.remove()),this.tools=null),c.remove(this.svgContainer),c.remove(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const n=t.some(t=>!1!==t.options.isSVGElement),i=t.some(t=>!1===t.options.isSVGElement);if(n){(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer)}i&&this.graph.container.appendChild(this.htmlContainer)}return this}}function hg(t,e,n,i){return s.call(Kf.presets.pinRelative,this.graph,{},e,n,t,this.cell,i,{}).anchor}function ug(t,e){return e?t.cell.getBBox():t.cell.isEdge()?t.getConnection().bbox():t.getUnrotatedBBoxOfElement(t.container)}(ag=cg||(cg={})).toStringTag="X6."+ag.name,ag.isToolsView=function(t){if(null==t)return!1;if(t instanceof ag)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===ag.toStringTag)&&null!=n.graph&&null!=n.cell&&"function"==typeof n.config&&"function"==typeof n.update&&"function"==typeof n.focus&&"function"==typeof n.blur&&"function"==typeof n.show&&"function"==typeof n.hide},function(t){class e extends $f{constructor(t={}){super(),this.options=this.getOptions(t),this.container=$f.createElement(this.options.tagName||"g",!1!==this.options.isSVGElement),c.addClass(this.container,this.prefixClassName("cell-tool")),"string"==typeof this.options.className&&c.addClass(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){return r.merge(r.cloneDeep(this.getDefaults()),t)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return e.toStringTag}init(){}getOptions(t){return this.constructor.getOptions(t)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(t,e){return this.cellView=t,this.parent=e,this.stamp(this.container),this.cell.isEdge()?c.addClass(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&c.addClass(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const t=this.options.markup;if(t){const e=Qf.isStringMarkup(t)?Qf.parseStringMarkup(t):Qf.parseJSONMarkup(t);this.container.appendChild(e.fragment),this.childNodes=e.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(t=this.container){t&&t.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const t=this.options.focusOpacity;return null!=t&&Number.isFinite(t)&&(this.container.style.opacity=""+t),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(t){return null==this.graph||null==this.cellView||this.graph.view.guard(t,this.cellView)}}e.defaults={isSVGElement:!0,tagName:"g"},t.ToolItem=e,function(t){let e=0;t.define=function(t){const n=r.createClass(function(t){return t?o.pascalCase(t):(e+=1,"CustomTool"+e)}(t.name),this);return n.config(t),n}}(e=t.ToolItem||(t.ToolItem={})),function(t){t.toStringTag="X6."+t.name,t.isToolItem=function(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&null!=typeof i.graph&&null!=typeof i.cell&&"function"==typeof i.config&&"function"==typeof i.update&&"function"==typeof i.focus&&"function"==typeof i.blur&&"function"==typeof i.show&&"function"==typeof i.hide&&"function"==typeof i.isVisible}}(e=t.ToolItem||(t.ToolItem={}))}(cg||(cg={}));class dg extends cg.ToolItem{onRender(){c.addClass(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const t=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();c.transform(this.container,t,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:n=0,y:i=0}=e;const{offset:r,useCellGeometry:o,rotate:s}=e;let l=ug(t,o);const h=t.cell.getAngle();s||(l=l.bbox(h));let u=0,d=0;"number"==typeof r?(u=r,d=r):"object"==typeof r&&(u=r.x,d=r.y),n=a.normalizePercentage(n,l.width),i=a.normalizePercentage(i,l.height);let p=c.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(p=p.rotate(h)),p=p.translate(n+u-l.width/2,i+d-l.height/2),p}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:n=0,distance:i=0,rotate:r}=e;let o,s,l;o=a.isPercentage(i)?t.getTangentAtRatio(parseFloat(i)/100):t.getTangentAtLength(i),o?(s=o.start,l=o.vector().vectorAngle(new Yc(1,0))||0):(s=t.getConnection().start,l=0);let h=c.createSVGMatrix().translate(s.x,s.y).rotate(l);return h="object"==typeof n?h.translate(n.x||0,n.y||0):h.translate(0,n),r||(h=h.rotate(-l)),h}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;"function"==typeof e&&s.call(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(dg||(dg={})).config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}}),function(t){t.Remove=t.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})}(dg||(dg={}));var pg,fg,gg=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class mg extends cg.ToolItem{onRender(){if(c.addClass(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,n=gg(t,["class"]);c.attr(this.container,c.kebablizeAttrs(n)),e&&c.addClass(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:n,rotate:i}=e,r=a.normalizeSides(e.padding);let o=ug(t,n).moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom});const s=t.cell;if(s.isNode()){const t=s.getAngle();if(t)if(i){const e=s.getBBox().getCenter();c.rotate(this.container,t,e.x,e.y,{absolute:!0})}else o=o.bbox(t)}return c.attr(this.container,o.toJSON()),this}}(mg||(mg={})).config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}});class vg extends cg.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(t=>{this.stopHandleListening(t),t.remove()})}renderHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const n=t[e],i=this.options.createHandle,r=this.options.processHandle,o=i({index:e,graph:this.graph,guard:t=>this.guard(t),attrs:this.options.attrs||{}});r&&r(o),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:o}),o.updatePosition(n.x,n.y),this.stamp(o.container),this.container.appendChild(o.container),this.handles.push(o),this.startHandleListening(o)}}updateHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const n=t[e],i=this.handles[e];i&&i.updatePosition(n.x,n.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,n=this.vertices,i=t>0?n[t-1]:e.sourceAnchor,r=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:Yc.create(i),next:Yc.create(r)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:n,y:i}=this.graph.snapToGrid(e.clientX,e.clientY);return{e:e,x:n,y:i}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:n,x:i,y:r}=this.getMouseEventArgs(t);e.notifyMouseDown(n,i,r)}}onHandleChanging({handle:t,e:e}){const n=this.cellView,i=t.options.index,{e:r,x:o,y:a}=this.getMouseEventArgs(e),s={x:o,y:a};this.snapVertex(s,i),n.cell.setVertexAt(i,s,{ui:!0,toolId:this.cid}),t.updatePosition(s.x,s.y),this.options.stopPropagation||n.notifyMouseMove(r,o,a)}onHandleChanged({e:t}){const e=this.options,n=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies)return;n.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),n.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&n.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:i,x:r,y:o}=this.getMouseEventArgs(t);this.options.stopPropagation||n.notifyMouseUp(i,r,o),n.checkMouseleave(i)}snapVertex(t,e){const n=this.options.snapRadius||0;if(n>0){const i=this.getNeighborPoints(e),r=i.prev,o=i.next;Math.abs(t.x-r.x)<n?t.x=r.x:Math.abs(t.x-o.x)<n&&(t.x=o.x),Math.abs(t.y-r.y)<n?t.y=i.prev.y:Math.abs(t.y-o.y)<n&&(t.y=o.y)}}onHandleRemove({handle:t,e:e}){if(this.options.removable){const n=t.options.index,i=this.cellView;i.cell.removeVertexAt(n,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(e))}}onPathMouseDown(t){const e=this.cellView;if(this.guard(t)||!this.options.addable||!e.can("vertexAddable"))return;t.stopPropagation(),t.preventDefault();const n=this.normalizeEvent(t),i=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const r=e.getVertexIndex(i.x,i.y);this.snapVertex(i,r),e.cell.setVertexAt(r,i,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[r];this.eventData(n,{vertexAdded:!0}),o.onMouseDown(n)}onRemove(){this.resetHandles()}}(pg=vg||(vg={})).Handle=class extends $f{constructor(t){super(),this.options=t,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=$f.createElement("circle",!0);const t=this.options.attrs;if("function"==typeof t){const e=pg.getDefaults();this.setAttrs(Object.assign(Object.assign({},e.attrs),t(this)))}else this.setAttrs(t);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(t,e){this.setAttrs({cx:t,cy:e})}onMouseDown(t){this.options.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},t.data),this.emit("change",{e:t,handle:this}))}onMouseMove(t){this.emit("changing",{e:t,handle:this})}onMouseUp(t){this.emit("changed",{e:t,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(t){this.emit("remove",{e:t,handle:this})}},function(t){const e=Fp.prefix("edge-tool-vertex-path");t.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new t.Handle(e),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{["mousedown ."+e]:"onPathMouseDown",["touchstart ."+e]:"onPathMouseDown"}})}(vg||(vg={}));class yg extends cg.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){c.addClass(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let t=0,n=e.length;t<n-1;t+=1){const n=e[t],i=e[t+1],r=this.renderHandle(n,i,t);this.stamp(r.container),this.handles.push(r)}return this}renderHandle(t,e,n){const i=this.options.createHandle({index:n,graph:this.graph,guard:t=>this.guard(t),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:i}),this.updateHandle(i,t,e),this.container.appendChild(i.container),this.startHandleListening(i),i}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(t=>{this.stopHandleListening(t),t.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let n=0,i=e.length;n<i;n+=1)e[n].options.index+=t}resetAnchor(t,e){const n=this.cellView.cell,i={ui:!0,toolId:this.cid};e?n.prop([t,"anchor"],e,i):n.removeProp([t,"anchor"],i)}snapHandle(t,e,n){const i=t.options.axis,r=t.options.index,o=this.cellView.cell.getVertices(),a=o[r-2]||n.sourceAnchor,s=o[r+1]||n.targetAnchor,l=this.options.snapRadius;return Math.abs(e[i]-a[i])<l?e[i]=a[i]:Math.abs(e[i]-s[i])<l&&(e[i]=s[i]),e}onHandleChanging({handle:t,e:e}){const n=this.graph,i=this.options,o=this.cellView,a=i.anchor,l=t.options.axis,c=t.options.index-1,h=this.getEventData(e),u=this.normalizeEvent(e),d=n.snapToGrid(u.clientX,u.clientY),p=this.snapHandle(t,d.clone(),h),f=r.cloneDeep(this.vertices);let g=f[c],m=f[c+1];const v=o.sourceView,y=o.sourceBBox;let x=!1,b=!1;if(g?0===c?y.containsPoint(g)?(f.shift(),this.shiftHandleIndexes(-1),x=!0):(g[l]=p[l],b=!0):g[l]=p[l]:(g=o.sourceAnchor.toJSON(),g[l]=p[l],y.containsPoint(g)?x=!0:(f.unshift(g),this.shiftHandleIndexes(1),b=!0)),"function"==typeof a&&v){if(x){const t=h.sourceAnchor.clone();t[l]=p[l];const e=s.call(a,o,t,v,o.sourceMagnet||v.container,"source",o,this);this.resetAnchor("source",e)}b&&this.resetAnchor("source",h.sourceAnchorDef)}const w=o.targetView,C=o.targetBBox;let _=!1,S=!1;if(m?c===f.length-2?C.containsPoint(m)?(f.pop(),_=!0):(m[l]=p[l],S=!0):m[l]=p[l]:(m=o.targetAnchor.toJSON(),m[l]=p[l],C.containsPoint(m)?_=!0:(f.push(m),S=!0)),"function"==typeof a&&w){if(_){const t=h.targetAnchor.clone();t[l]=p[l];const e=s.call(a,o,t,w,o.targetMagnet||w.container,"target",o,this);this.resetAnchor("target",e)}S&&this.resetAnchor("target",h.targetAnchorDef)}Yc.equalPoints(f,this.vertices)||this.cellView.cell.setVertices(f,{ui:!0,toolId:this.cid}),this.updateHandle(t,g,m,0),i.stopPropagation||o.notifyMouseMove(u,d.x,d.y)}onHandleChange({handle:t,e:e}){const n=this.options,i=this.handles,o=this.cellView,a=t.options.index;if(Array.isArray(i)){for(let t=0,e=i.length;t<e;t+=1)t!==a&&i[t].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:o.sourceAnchor.clone(),targetAnchor:o.targetAnchor.clone(),sourceAnchorDef:r.cloneDeep(this.cell.prop(["source","anchor"])),targetAnchorDef:r.cloneDeep(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!n.stopPropagation){const t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY);o.notifyMouseDown(t,n.x,n.y)}}}onHandleChanged({e:t}){const e=this.options,n=this.cellView;e.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const i=this.normalizeEvent(t),r=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||n.notifyMouseUp(i,r.x,r.y),n.checkMouseleave(i)}updateHandle(t,e,n,i=0){const r=this.options.precision||0,o=Math.abs(e.x-n.x)<r,a=Math.abs(e.y-n.y)<r;if(o||a){const r=new qc(e,n);if(r.length()<this.options.threshold)t.hide();else{const e=r.getCenter(),n=o?"x":"y";e[n]+=i||0;const a=r.vector().vectorAngle(new Yc(1,0));t.updatePosition(e.x,e.y,a,this.cellView),t.show(),t.options.axis=n}}else t.hide()}onRemove(){this.resetHandles()}}(fg=yg||(yg={})).Handle=class extends $f{constructor(t){super(),this.options=t,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=$f.createElement("rect",!0);const t=this.options.attrs;if("function"==typeof t){const e=fg.getDefaults();this.setAttrs(Object.assign(Object.assign({},e.attrs),t(this)))}else this.setAttrs(t);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(t,e,n,i){const r=i.getClosestPoint(new Yc(t,e))||new Yc(t,e);let o=c.createSVGMatrix().translate(r.x,r.y);if(r.equals({x:t,y:e}))o=o.rotate(n);else{let n=new qc(t,e,r.x,r.y).vector().vectorAngle(new Yc(1,0));0!==n&&(n+=90),o=o.rotate(n)}this.setAttrs({transform:c.matrixToTransformString(o),cursor:n%180==0?"row-resize":"col-resize"})}onMouseDown(t){this.options.guard(t)||(this.trigger("change",{e:t,handle:this}),t.stopPropagation(),t.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},t.data))}onMouseMove(t){this.emit("changing",{e:t,handle:this})}onMouseUp(t){this.emit("changed",{e:t,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}},function(t){t.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new t.Handle(e),anchor:hg})}(yg||(yg={}));class xg extends cg.ToolItem{get type(){return this.options.type}onRender(){c.addClass(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const n=this.type,i=this.cellView,r=this.options,o=i.getTerminalAnchor(n),a=i.cell.prop([n,"anchor"]);e.setAttribute("transform",`translate(${o.x}, ${o.y})`);const s=a?r.customAnchorAttrs:r.defaultAnchorAttrs;s&&Object.keys(s).forEach(t=>{e.setAttribute(t,s[t])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const n=this.type,i=this.cellView,r=i.getTerminalView(n);if(r){const t=r.cell,o=i.getTerminalMagnet(n);let a,s,l,h=this.options.areaPadding||0;Number.isFinite(h)||(h=0),r.isEdgeElement(o)?(a=r.getBBox(),s=0,l=a.getCenter()):(a=r.getUnrotatedBBoxOfElement(o),s=t.getAngle(),l=a.getCenter(),s&&l.rotate(-s,t.getBBox().getCenter())),a.inflate(h),c.attr(e,{x:-a.width/2,y:-a.height/2,width:a.width,height:a.height,transform:`translate(${l.x}, ${l.y}) rotate(${s})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,n=this.cell;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,n=this.cellView,i=n.getTerminalView(e);if(null==i)return;const r=this.normalizeEvent(t),o=i.cell,a=n.getTerminalMagnet(e);let l=this.graph.clientToLocal(r.clientX,r.clientY);const c=this.options.snap;if("function"==typeof c){const t=s.call(c,n,l,i,a,e,n,this);l=Yc.create(t)}if(this.options.restrictArea)if(i.isEdgeElement(a)){const t=i.getClosestPoint(l);t&&(l=t)}else{const t=i.getUnrotatedBBoxOfElement(a),e=o.getAngle(),n=o.getBBox().getCenter(),r=l.clone().rotate(e,n);t.containsPoint(r)||(l=t.getNearestPointToPoint(r).rotate(-e,n))}let h;const u=this.options.anchor;"function"==typeof u&&(h=s.call(u,n,l,i,a,e,n,this)),this.resetAnchor(h),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(!0===t?void 0:t),this.update()}}(xg||(xg={})).config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:hg,snap(t,e,n,i,r,o){const a=o.options.snapRadius||0,s="source"===i,l=s?0:-1,c=this.cell.getVertexAt(l)||this.getTerminalAnchor(s?"target":"source");return c&&(Math.abs(c.x-t.x)<a&&(t.x=c.x),Math.abs(c.y-t.y)<a&&(t.y=c.y)),t}});const bg=xg.define({name:"source-anchor",type:"source"}),wg=xg.define({name:"target-anchor",type:"target"});var Cg=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class _g extends cg.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,n=Cg(t,["class"]);this.setAttrs(n,this.container),e&&c.addClass(this.container,e)}}onRender(){c.addClass(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,n=e.getTangentAtRatio(t),i=n?n.start:e.getPointAtRatio(t),r=n&&n.vector().vectorAngle(new Yc(1,0))||0;if(!i)return this;const o=c.createSVGMatrix().translate(i.x,i.y).rotate(r);return c.transform(this.container,o,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const n=this.graph.snapToGrid(t.clientX,t.clientY),i=e.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:{toolId:this.cid}});this.cellView.setEventData(t,i),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,n.x,n.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.cellView,i=this.graph.snapToGrid(e.clientX,e.clientY);n.onMouseUp(e,i.x,i.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(_g||(_g={})).config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}});const Sg=_g.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),Og=_g.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});var Mg,kg,Ag,Tg,Dg=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};(kg=Mg||(Mg={})).presets={boundary:mg,button:dg,"button-remove":dg.Remove},kg.registry=Iu.create({type:"node tool",process(t,e){if("function"==typeof e)return e;let n=cg.ToolItem;const{inherit:i}=e,r=Dg(e,["inherit"]);if(i){const t=this.get(i);null==t?this.onNotFound(i,"inherited"):n=t}return null==r.name&&(r.name=t),n.define.call(n,r)}}),kg.registry.register(kg.presets,!0),(Tg=Ag||(Ag={})).presets={boundary:mg,vertices:vg,segments:yg,button:dg,"button-remove":dg.Remove,"source-anchor":bg,"target-anchor":wg,"source-arrowhead":Sg,"target-arrowhead":Og},Tg.registry=Iu.create({type:"edge tool",process(t,e){if("function"==typeof e)return e;let n=cg.ToolItem;const{inherit:i}=e,r=Dg(e,["inherit"]);if(i){const t=this.get(i);null==t?this.onNotFound(i,"inherited"):n=t}return null==r.name&&(r.name=t),n.define.call(n,r)}}),Tg.registry.register(Tg.presets,!0);const Pg=zg("center"),Ig=zg("topCenter"),Eg=zg("bottomCenter"),jg=zg("leftMiddle"),Lg=zg("rightMiddle"),Bg=zg("topLeft"),Ng=zg("topRight"),Rg=zg("bottomLeft"),Fg=zg("bottomRight");function zg(t){return function(e,n,i,r={}){const o=r.rotate?e.getUnrotatedBBoxOfElement(n):e.getBBoxOfElement(n),s=o[t];s.x+=a.normalizePercentage(r.dx,o.width),s.y+=a.normalizePercentage(r.dy,o.height);const l=e.cell;return r.rotate?s.rotate(-l.getAngle(),l.getBBox().getCenter()):s}}function Vg(t){return function(e,n,i,r){if(i instanceof Element){const o=this.graph.renderer.findViewByElem(i);let a;if(o)if(o.isEdgeElement(i)){a=Gg(o,null!=r.fixedAt?r.fixedAt:"50%")}else a=o.getBBoxOfElement(i).getCenter();else a=new Yc;return t.call(this,e,n,a,r)}return t.apply(this,arguments)}}function Gg(t,e){const n=a.isPercentage(e),i="string"==typeof e?parseFloat(e):e;return n?t.getPointAtRatio(i/100):t.getPointAtLength(i)}const Hg=Vg((function(t,e,n,i){const r=t.cell.getAngle(),o=t.getBBoxOfElement(e),a=o.getCenter(),s=o.getTopLeft(),l=o.getBottomRight();let c=i.padding;if(Number.isFinite(c)||(c=0),s.y+c<=n.y&&n.y<=l.y-c){const t=n.y-a.y;a.x+=0===r||180===r?0:1*t/Math.tan(Ac.toRad(r)),a.y+=t}else if(s.x+c<=n.x&&n.x<=l.x-c){const t=n.x-a.x;a.y+=90===r||270===r?0:t*Math.tan(Ac.toRad(r)),a.x+=t}return a})),Wg=function(t,e,n,i,r){const o=t.cell.getConnectionPoint(this.cell,r);return(i.dx||i.dy)&&o.translate(i.dx||0,i.dy||0),o},$g=Vg((function(t,e,n,i){let r,o,a=0;const s=t.cell;i.rotate?(r=t.getUnrotatedBBoxOfElement(e),o=s.getBBox().getCenter(),a=s.getAngle()):r=t.getBBoxOfElement(e);const l=i.padding;null!=l&&Number.isFinite(l)&&r.inflate(l),i.rotate&&n.rotate(a,o);const c=r.getNearestSideToPoint(n);let h;switch(c){case"left":h=r.getLeftMiddle();break;case"right":h=r.getRightMiddle();break;case"top":h=r.getTopCenter();break;case"bottom":h=r.getBottomCenter()}const u=i.direction;return"H"===u?"top"!==c&&"bottom"!==c||(h=n.x<=r.x+r.width?r.getLeftMiddle():r.getRightMiddle()):"V"===u&&(h=n.y<=r.y+r.height?r.getTopCenter():r.getBottomCenter()),i.rotate?h.rotate(-a,o):h}));var Yg,Xg;(Xg=Yg||(Yg={})).presets=x,Xg.registry=Iu.create({type:"node endpoint"}),Xg.registry.register(Xg.presets,!0);const qg=function(t,e,n,i){let r=null!=i.ratio?i.ratio:.5;return r>1&&(r/=100),t.getPointAtRatio(r)},Ug=function(t,e,n,i){const r=null!=i.length?i.length:20;return t.getPointAtLength(r)},Zg=function(t,e,n,i){const r=t.getClosestPoint(n);return null!=r?r:new Yc},Kg=Vg(Zg),Jg=Vg((function(t,e,n,i){const r=t.getConnection(),o=t.getConnectionSubdivisions(),a=new qc(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),l=new qc(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),c=a.intersect(r,{segmentSubdivisions:o}),h=l.intersect(r,{segmentSubdivisions:o}),u=[];return c&&u.push(...c),h&&u.push(...h),u.length>0?n.closest(u):null!=i.fallbackAt?Gg(t,i.fallbackAt):s.call(Zg,this,t,e,n,i)}));var Qg,tm;function em(t,e,n){let i;if("object"==typeof n){if(Number.isFinite(n.y)){const i=new qc(e,t),{start:r,end:o}=i.parallel(n.y);e=r,t=o}i=n.x}else i=n;if(null==i||!Number.isFinite(i))return t;const r=t.distance(e);return 0===i&&r>0?t:t.move(e,-Math.min(i,r-1))}function nm(t){const e=t.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}(tm=Qg||(Qg={})).presets=b,tm.registry=Iu.create({type:"edge endpoint"}),tm.registry.register(tm.presets,!0);const im=function(t,e,n,i){const r=e.getBBoxOfElement(n);i.stroked&&r.inflate(nm(n)/2);const o=t.intersect(r);return em(o&&o.length?t.start.closest(o):t.end,t.start,i.offset)},rm=function(t,e,n,i,r){const o=e.cell,a=o.isNode()?o.getAngle():0;if(0===a)return s.call(im,this,t,e,n,i,r);const l=e.getUnrotatedBBoxOfElement(n);i.stroked&&l.inflate(nm(n)/2);const c=l.getCenter(),h=t.clone().rotate(a,c),u=h.setLength(1e6).intersect(l);return em(u&&u.length?h.start.closest(u).rotate(-a,c):t.end,t.start,i.offset)},om=function(t,e,n,i){let o,a;const s=t.end,l=i.selector;if(o="string"==typeof l?e.findOne(l):Array.isArray(l)?r.getByPath(n,l):function(t){if(null==t)return null;let e=t;do{let t=e.tagName;if("string"!=typeof t)return null;if(t=t.toUpperCase(),"G"===t)e=e.firstElementChild;else{if("TITLE"!==t)break;e=e.nextElementSibling}}while(e);return e}(n),!c.isSVGGraphicsElement(o)){if(o===n||!c.isSVGGraphicsElement(n))return s;o=n}const h=e.getShapeOfElement(o),u=e.getMatrixOfElement(o),d=e.getRootTranslatedMatrix(),p=e.getRootRotatedMatrix(),f=d.multiply(p).multiply(u),g=f.inverse(),m=c.transformLine(t,g),v=m.start.clone(),y=e.getDataOfElement(o);if(!1===i.insideout){null==y.shapeBBox&&(y.shapeBBox=h.bbox());const t=y.shapeBBox;if(null!=t&&t.containsPoint(v))return s}let x;if(!0===i.extrapolate&&m.setLength(1e6),gh.isPath(h)){const t=i.precision||2;null==y.segmentSubdivisions&&(y.segmentSubdivisions=h.getSegmentSubdivisions({precision:t})),x={precision:t,segmentSubdivisions:y.segmentSubdivisions},a=m.intersect(h,x)}else a=m.intersect(h);a?Array.isArray(a)&&(a=v.closest(a)):!0===i.sticky&&(a=Xc.isRectangle(h)?h.getNearestPointToPoint(v):Uc.isEllipse(h)?h.intersectsWithLineFromCenterToPoint(v):h.closestPoint(v,x));const b=a?c.transformPoint(a,f):s;let w=i.offset||0;return!1!==i.stroked&&("object"==typeof w?(w=Object.assign({},w),null==w.x&&(w.x=0),w.x+=nm(o)/2):w+=nm(o)/2),em(b,t.start,w)};const am=function(t,e,n,i){const{alignOffset:r,align:o}=i;return o&&function(t,e,n=0){const{start:i,end:r}=t;let o,a,s,l;switch(e){case"left":l="x",o=r,a=i,s=-1;break;case"right":l="x",o=i,a=r,s=1;break;case"top":l="y",o=r,a=i,s=-1;break;case"bottom":l="y",o=i,a=r,s=1;break;default:return}i[l]<r[l]?o[l]=a[l]:a[l]=o[l],Number.isFinite(n)&&(o[l]+=s*n,a[l]+=s*n)}(t,o,r),em(t.end,t.start,i.offset)};var sm,lm;(lm=sm||(sm={})).presets=w,lm.registry=Iu.create({type:"connection point"}),lm.registry.register(lm.presets,!0);const cm=function(t){return[...t]},hm=function(t,e,n){const i=e.side||"bottom",r=a.normalizeSides(e.padding||40),o=n.sourceBBox,s=n.targetBBox,l=o.getCenter(),c=s.getCenter();let h,u,d;switch(i){case"top":d=-1,h="y",u="height";break;case"left":d=-1,h="x",u="width";break;case"right":d=1,h="x",u="width";break;case"bottom":default:d=1,h="y",u="height"}return l[h]+=d*(o[u]/2+r[i]),c[h]+=d*(s[u]/2+r[i]),d*(l[h]-c[h])>0?c[h]=l[h]:l[h]=c[h],[l.toJSON(),...t,c.toJSON()]};function um(t){return new Xc(t.x,t.y,0,0)}function dm(t={}){const e=a.normalizeSides(t.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function pm(t,e={}){return t.sourceBBox.clone().moveAndExpand(dm(e))}function fm(t,e={}){return t.targetBBox.clone().moveAndExpand(dm(e))}const gm=function(t,e,n){let i=pm(n,e),r=fm(n,e);const o=function(t,e={}){return t.sourceAnchor?t.sourceAnchor:pm(t,e).getCenter()}(n,e),a=function(t,e={}){return t.targetAnchor?t.targetAnchor:fm(t,e).getCenter()}(n,e);i=i.union(um(o)),r=r.union(um(a));const s=t.map(t=>Yc.create(t));s.unshift(o),s.push(a);let l=null;const c=[];for(let t=0,n=s.length-1;t<n;t+=1){let o=null;const a=s[t],h=s[t+1],u=null!=mm.getBearing(a,h);if(0===t)t+1===n?i.intersectsWithRect(r.clone().inflate(1))?o=mm.insideNode(a,h,i,r):u||(o=mm.nodeToNode(a,h,i,r)):i.containsPoint(h)?o=mm.insideNode(a,h,i,um(h).moveAndExpand(dm(e))):u||(o=mm.nodeToVertex(a,h,i));else if(t+1===n){const t=u&&mm.getBearing(h,a)===l;r.containsPoint(a)||t?o=mm.insideNode(a,h,um(a).moveAndExpand(dm(e)),r,l):u||(o=mm.vertexToNode(a,h,r,l))}else u||(o=mm.vertexToVertex(a,h,l));o?(c.push(...o.points),l=o.direction):l=mm.getBearing(a,h),t+1<n&&c.push(h)}return c};var mm;!function(t){const e={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(t,e,n){let i=new Yc(t.x,e.y);return n.containsPoint(i)&&(i=new Yc(e.x,t.y)),i}function o(t,e){return t["W"===e||"E"===e?"width":"height"]}function a(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function s(t,n,i){const r=new Yc(t.x,n.y),o=new Yc(n.x,t.y),s=a(t,r),l=a(t,o),c=i?e[i]:null,h=s===i||s!==c&&(l===c||l!==i)?r:o;return{points:[h],direction:a(h,n)}}function l(t,e,n){const i=r(t,e,n);return{points:[i],direction:a(i,e)}}t.getBBoxSize=o,t.getBearing=a,t.vertexToVertex=s,t.nodeToVertex=l,t.vertexToNode=function(t,e,n,s){const l=[new Yc(t.x,e.y),new Yc(e.x,t.y)],c=l.filter(t=>!n.containsPoint(t)),h=c.filter(e=>a(e,t)!==s);let u;if(h.length>0)return u=h.filter(e=>a(t,e)===s).pop(),u=u||h[0],{points:[u],direction:a(u,e)};{u=i.difference(l,c)[0];const h=Yc.create(e).move(u,-o(n,s)/2);return{points:[r(h,t,n),h],direction:a(h,e)}}},t.nodeToNode=function(t,e,n,i){let r=l(e,t,i);const c=r.points[0];if(n.containsPoint(c)){r=l(t,e,n);const h=r.points[0];if(i.containsPoint(h)){const u=Yc.create(t).move(h,-o(n,a(t,h))/2),d=Yc.create(e).move(c,-o(i,a(e,c))/2),p=new qc(u,d).getCenter(),f=l(t,p,n),g=s(p,e,f.direction);r.points=[f.points[0],g.points[0]],r.direction=g.direction}}return r},t.insideNode=function(t,e,i,o,s){const l=i.union(o).inflate(1),c=l.getCenter(),h=c.distance(e)>c.distance(t),u=h?e:t,d=h?t:e;let p,f,g,m;return s?(p=Yc.fromPolar(l.width+l.height,n[s],u),p=l.getNearestPointToPoint(p).move(p,-1)):p=l.getNearestPointToPoint(u).move(u,1),f=r(p,d,l),p.round().equals(f.round())?(f=Yc.fromPolar(l.width+l.height,Ac.toRad(p.theta(u))+Math.PI/2,d),f=l.getNearestPointToPoint(f).move(d,1).round(),g=r(p,f,l),m=h?[f,g,p]:[p,g,f]):m=h?[f,p]:[p,f],{points:m,direction:a(h?p:f,e)}}}(mm||(mm={}));const vm={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return ym(this.step,this)},directions(){const t=ym(this.step,this),e=ym(this.cost,this);return[{cost:e,offsetX:t,offsetY:0},{cost:e,offsetX:0,offsetY:t},{cost:e,offsetX:-t,offsetY:0},{cost:e,offsetX:0,offsetY:-t}]},penalties(){const t=ym(this.step,this);return{0:0,45:t/2,90:t/2}},paddingBox(){const t=ym(this.step,this);return{x:-t,y:-t,width:2*t,height:2*t}},fallbackRouter:gm,draggingRouter:null};function ym(t,e){return"function"==typeof t?t.call(e):t}class xm{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=1,this.values[t]=e;const n=i.sortedIndexBy(this.items,t,t=>this.values[t]);this.items.splice(n,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=2),t}isOpen(t){return 1===this.hash[t]}isClose(t){return 2===this.hash[t]}isEmpty(){return 0===this.items.length}}class bm{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const n=this.options,r=n.excludeTerminals.reduce((n,i)=>{const r=e[i];if(r){const e=t.getCell(r.cell);e&&n.push(e)}return n},[]);let o=[];const a=t.getCell(e.getSourceCellId());a&&(o=i.union(o,a.getAncestors().map(t=>t.id)));const s=t.getCell(e.getTargetCellId());s&&(o=i.union(o,s.getAncestors().map(t=>t.id)));const l=this.mapGridSize;return t.getNodes().reduce((t,e)=>{const i=e.shape,a=n.excludeShapes,s=!!i&&a.includes(i),c=r.some(t=>t.id===e.id),h=o.includes(e.id);if(!(s||c||h)){const i=e.getBBox().moveAndExpand(n.paddingBox),r=i.getOrigin().snapToGrid(l),o=i.getCorner().snapToGrid(l);for(let e=r.x;e<=o.x;e+=l)for(let n=r.y;n<=o.y;n+=l){const r=new Yc(e,n).toString();null==t[r]&&(t[r]=[]),t[r].push(i)}}return t},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[e];return!n||n.every(e=>!e.containsPoint(t))}}function wm(t,e){const n=t.sourceBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function Cm(t,e){const n=t.targetBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function _m(t,e){if(t.sourceAnchor)return t.sourceAnchor;return wm(t,e).getCenter()}function Sm(t,e,n,i,r){const o=360/n,a=t.theta(function(t,e,n,i){const r=i.step,o=e.x-t.x,a=e.y-t.y,s=o/n.x,l=a/n.y,c=s*r,h=l*r;return new Yc(t.x+c,t.y+h)}(t,e,i,r)),s=Ac.normalize(a+o/2);return o*Math.floor(s/o)}function Om(t,e){const n=Math.abs(t-e);return n>180?360-n:n}function Mm(t,e){if(!t)return e;const n=Math.abs(t),i=Math.round(n/e);if(!i)return n;return e+(n-i*e)/i}function km(t,e){return t.round(e)}function Am(t,e,n){return km(function(t,e){const n=e.source,i=Fp.snapToGrid(t.x-n.x,e.x)+n.x,r=Fp.snapToGrid(t.y-n.y,e.y)+n.y;return new Yc(i,r)}(t.clone(),e),n)}function Tm(t){return t.toString()}function Dm(t){return new Yc(0===t.x?0:Math.abs(t.x)/t.x,0===t.y?0:Math.abs(t.y)/t.y)}function Pm(t,e){let n=1/0;for(let i=0,r=e.length;i<r;i+=1){const r=t.manhattanDistance(e[i]);r<n&&(n=r)}return n}function Im(t,e,n,i,r){const o=r.precision,a=r.directionMap,s=t.diff(e.getCenter()),l=Object.keys(a).reduce((r,l)=>{if(n.includes(l)){const n=a[l],c=new Yc(t.x+n.x*(Math.abs(s.x)+e.width),t.y+n.y*(Math.abs(s.y)+e.height)),h=new qc(t,c).intersect(e)||[];let u,d=null;for(let e=0;e<h.length;e+=1){const n=h[e],i=t.squaredDistance(n);(null==u||i>u)&&(u=i,d=n)}if(d){let t=Am(d,i,o);e.containsPoint(t)&&(t=Am(t.translate(n.x*i.x,n.y*i.y),i,o)),r.push(t)}}return r},[]);return e.containsPoint(t)||l.push(Am(t,i,o)),l}function Em(t,e,n,i,r){const o=[];let a,s=Dm(r.diff(n)),l=Tm(n),c=t[l];for(;c;){a=e[l];const n=Dm(a.diff(c));n.equals(s)||(o.unshift(a),s=n),l=Tm(c),c=t[l]}const h=e[l];return Dm(h.diff(i)).equals(s)||o.unshift(h),o}function jm(t,e,n,i,r){const o=r.precision;let a,l;a=Xc.isRectangle(e)?km(_m(t,r).clone(),o):km(e.clone(),o),l=Xc.isRectangle(n)?km(function(t,e){return t.targetAnchor?t.targetAnchor:Cm(t,e).getCenter()}(t,r).clone(),o):km(n.clone(),o);const c=(h=r.step,d=l,{source:(u=a).clone(),x:Mm(d.x-u.x,h),y:Mm(d.y-u.y,h)});var h,u,d;const p=a,f=l;let g,m;if(g=Xc.isRectangle(e)?Im(p,e,r.startDirections,c,r):[p],m=Xc.isRectangle(n)?Im(l,n,r.endDirections,c,r):[f],g=g.filter(t=>i.isAccessible(t)),m=m.filter(t=>i.isAccessible(t)),g.length>0&&m.length>0){const t=new xm,e={},n={},a={};for(let n=0,i=g.length;n<i;n+=1){const i=g[n],r=Tm(i);t.add(r,Pm(i,m)),e[r]=i,a[r]=0}const s=r.previousDirectionAngle,l=void 0===s;let h,u;const d=function(t,e){const n=e.step;return e.directions.forEach(e=>{e.gridOffsetX=e.offsetX/n*t.x,e.gridOffsetY=e.offsetY/n*t.y}),e.directions}(c,r),v=d.length,y=m.reduce((t,e)=>{const n=Tm(e);return t.push(n),t},[]),x=Yc.equalPoints(g,m);let b=r.maxLoopCount;for(;!t.isEmpty()&&b>0;){const g=t.pop(),w=e[g],C=n[g],_=a[g],S=w.equals(p),O=null==C;let M;M=O?l?S?null:Sm(p,w,v,c,r):s:Sm(C,w,v,c,r);if(!(O&&x)&&y.indexOf(g)>=0)return r.previousDirectionAngle=M,Em(n,e,w,p,f);for(let s=0;s<v;s+=1){h=d[s];const p=h.angle;if(u=Om(M,p),(!l||!S)&&u>r.maxDirectionChange)continue;const g=Am(w.clone().translate(h.gridOffsetX||0,h.gridOffsetY||0),c,o),x=Tm(g);if(t.isClose(x)||!i.isAccessible(g))continue;if(y.indexOf(x)>=0){if(!g.equals(f)){if(Om(p,Sm(g,f,v,c,r))>r.maxDirectionChange)continue}}const b=_+h.cost+(S?0:r.penalties[u]);(!t.isOpen(x)||b<a[x])&&(e[x]=g,n[x]=w,a[x]=b,t.add(x,b+Pm(g,m)))}b-=1}}return r.fallbackRoute?s.call(r.fallbackRoute,this,p,f,r):null}const Lm=function(t,e,n){const i=function(t){const e=Object.keys(t).reduce((e,n)=>{const i=e;return i[n]="fallbackRouter"===n||"draggingRouter"===n||"fallbackRoute"===n?t[n]:ym(t[n],t),e},{});if(e.padding){const n=a.normalizeSides(e.padding);t.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return e.directions.forEach(t=>{const e=new Yc(0,0),n=new Yc(t.offsetX,t.offsetY);t.angle=Ac.normalize(e.theta(n))}),e}(e),r=wm(n,i),o=Cm(n,i),l=_m(n,i),c=new bm(i).build(n.graph.model,n.cell),h=t.map(t=>Yc.create(t)),u=[];let d,p,f=l;for(let e=0,a=h.length;e<=a;e+=1){let a=null;if(d=p||r,p=h[e],null==p){p=o;const t=n.cell;if((null==t.getSourceCellId()||null==t.getTargetCellId())&&"function"==typeof i.draggingRouter){const t=d===r?l:d,e=p.getOrigin();a=s.call(i.draggingRouter,n,t,e,i)}}if(null==a&&(a=jm(n,d,p,c,i)),null===a)return s.call(i.fallbackRouter,this,t,i,n);const g=a[0];g&&g.equals(f)&&a.shift(),f=a[a.length-1]||f,u.push(...a)}return u},Bm=function(t,e,n){return s.call(Lm,this,t,Object.assign(Object.assign({},vm),e),n)},Nm={maxDirectionChange:45,directions(){const t=ym(this.step,this),e=ym(this.cost,this),n=Math.ceil(Math.sqrt(t*t<<1));return[{cost:e,offsetX:t,offsetY:0},{cost:n,offsetX:t,offsetY:t},{cost:e,offsetX:0,offsetY:t},{cost:n,offsetX:-t,offsetY:t},{cost:e,offsetX:-t,offsetY:0},{cost:n,offsetX:-t,offsetY:-t},{cost:e,offsetX:0,offsetY:-t},{cost:n,offsetX:t,offsetY:-t}]},fallbackRoute(t,e,n){const i=t.theta(e),r=[];let o={x:e.x,y:t.y},a={x:t.x,y:e.y};if(i%180>90){const t=o;o=a,a=t}const s=i%90<45?o:a,l=new qc(t,s),c=90*Math.ceil(i/90),h=Yc.fromPolar(l.squaredLength(),Ac.toRad(c+135),s),u=new qc(e,h),d=l.intersectsWithLine(u),p=d||e,f=d?p:t,g=360/n.directions.length,m=f.theta(e),v=Ac.normalize(m+g/2),y=g*Math.floor(v/g);return n.previousDirectionAngle=y,p&&r.push(p.round()),r.push(e),r}},Rm=function(t,e,n){return s.call(Bm,this,t,Object.assign(Object.assign({},Nm),e),n)},Fm=function(t,e,n){const i=e.offset||32,r=null==e.min?16:e.min;let o=0,a=e.direction;const s=n.sourceBBox,l=n.targetBBox,c=s.getCenter(),h=l.getCenter();if("number"==typeof i&&(o=i),null==a){let t=l.left-s.right,e=l.top-s.bottom;t>=0&&e>=0?a=t>=e?"L":"T":t<=0&&e>=0?(t=s.left-l.right,a=t>=0&&t>=e?"R":"T"):t>=0&&e<=0?(e=s.top-l.bottom,a=e>=0?t>=e?"L":"B":"L"):(t=s.left-l.right,e=s.top-l.bottom,a=t>=0&&e>=0?t>=e?"R":"B":t<=0&&e>=0?"B":t>=0&&e<=0||Math.abs(t)>Math.abs(e)?"R":"B")}let u,d,p;"H"===a?a=h.x-c.x>=0?"L":"R":"V"===a&&(a=h.y-c.y>=0?"T":"B"),"center"===i&&("L"===a?o=(l.left-s.right)/2:"R"===a?o=(s.left-l.right)/2:"T"===a?o=(l.top-s.bottom)/2:"B"===a&&(o=(s.top-l.bottom)/2));const f="L"===a||"R"===a;if(f){if(h.y===c.y)return[...t];p="L"===a?1:-1,u="x",d="width"}else{if(h.x===c.x)return[...t];p="T"===a?1:-1,u="y",d="height"}const g=c.clone(),m=h.clone();if(g[u]+=p*(s[d]/2+o),m[u]-=p*(l[d]/2+o),f){const t=g.x,e=m.x,n=s.width/2+r,i=l.width/2+r;h.x>c.x?e<=t&&(g.x=Math.max(e,c.x+n),m.x=Math.min(t,h.x-i)):e>=t&&(g.x=Math.min(e,c.x-n),m.x=Math.max(t,h.x+i))}else{const t=g.y,e=m.y,n=s.height/2+r,i=l.height/2+r;h.y>c.y?e<=t&&(g.y=Math.max(e,c.y+n),m.y=Math.min(t,h.y-i)):e>=t&&(g.y=Math.min(e,c.y-n),m.y=Math.max(t,h.y+i))}return[g.toJSON(),...t,m.toJSON()]};function zm(t,e){if(null!=e&&!1!==e){const n="boolean"==typeof e?0:e;if(n>0){const e=Yc.create(t[1]).move(t[2],n),i=Yc.create(t[1]).move(t[0],n);return[e.toJSON(),...t,i.toJSON()]}{const e=t[1];return[Object.assign({},e),...t,Object.assign({},e)]}}return t}const Vm=function(t,e,n){const i=e.width||50,r=(e.height||80)/2,o=e.angle||"auto",a=n.sourceAnchor,s=n.targetAnchor,l=n.sourceBBox,c=n.targetBBox;if(a.equals(s)){const t=t=>{const e=Ac.toRad(t),n=Math.sin(e),o=Math.cos(e),s=new Yc(a.x+o*i,a.y+n*i),l=new Yc(s.x-o*r,s.y-n*r),c=l.clone().rotate(-90,s),h=l.clone().rotate(90,s);return[c.toJSON(),s.toJSON(),h.toJSON()]},n=t=>{const e=a.clone().move(t,-1),n=new qc(e,t);return!l.containsPoint(t)&&!l.intersectsWithLine(n)},s=[0,90,180,270,45,135,225,315];if("number"==typeof o)return zm(t(o),e.merge);const c=l.getCenter();if(c.equals(a))return zm(t(0),e.merge);const h=c.angleBetween(a,c.clone().translate(1,0));let u=t(h);if(n(u[1]))return zm(u,e.merge);for(let i=1,r=s.length;i<r;i+=1)if(u=t(h+s[i]),n(u[1]))return zm(u,e.merge);return zm(u,e.merge)}{const t=new qc(a,s);let o=t.parallel(-i),h=o.getCenter(),u=o.start.clone().move(o.end,r),d=o.end.clone().move(o.start,r);const p=t.parallel(-1),f=new qc(p.start,h),g=new qc(p.end,h);if((l.containsPoint(h)||c.containsPoint(h)||l.intersectsWithLine(f)||l.intersectsWithLine(g)||c.intersectsWithLine(f)||c.intersectsWithLine(g))&&(o=t.parallel(i),h=o.getCenter(),u=o.start.clone().move(o.end,r),d=o.end.clone().move(o.start,r)),e.merge){const t=new qc(a,s),e=new qc(h,t.center).setLength(Number.MAX_SAFE_INTEGER),i=l.intersectsWithLine(e),r=c.intersectsWithLine(e),o=i?Array.isArray(i)?i:[i]:[];r&&(Array.isArray(r)?o.push(...r):o.push(r));const u=t.center.closest(o);u?(n.sourceAnchor=u.clone(),n.targetAnchor=u.clone()):(n.sourceAnchor=t.center.clone(),n.targetAnchor=t.center.clone())}return zm([u.toJSON(),h.toJSON(),d.toJSON()],e.merge)}};var Gm,Hm;(Hm=Gm||(Gm={})).presets=C,Hm.registry=Iu.create({type:"router"}),Hm.registry.register(Hm.presets,!0);const Wm=function(t,e,n,i={}){const r=[t,...n,e],o=new Zc(r),a=new gh(o);return i.raw?a:a.serialize()},$m=function(t,e,n,i={}){const r=3===n.length?0:1,o=Yc.create(n[0+r]),a=Yc.create(n[2+r]),s=Yc.create(n[1+r]);if(!Yc.equals(t,e)){const n=new Yc((t.x+e.x)/2,(t.y+e.y)/2),i=n.angleBetween(Yc.create(t).rotate(90,n),s);i>1&&(o.rotate(180-i,n),a.rotate(180-i,n),s.rotate(180-i,n))}const l=`\n     M ${t.x} ${t.y}\n     Q ${o.x} ${o.y} ${s.x} ${s.y}\n     Q ${a.x} ${a.y} ${e.x} ${e.y}\n  `;return i.raw?gh.parse(l):l},Ym=function(t,e,n,i={}){const r=new gh;r.appendSegment(gh.createSegment("M",t));const o=i.radius||10;let a,s;for(let i=0,l=n.length;i<l;i+=1){const l=Yc.create(n[i]),c=n[i-1]||t,h=n[i+1]||e;a=s||l.distance(c)/2,s=l.distance(h)/2;const u=-Math.min(o,a),d=-Math.min(o,s),p=l.clone().move(c,u).round(),f=l.clone().move(h,d).round(),g=new Yc(1/3*p.x+2/3*l.x,2/3*l.y+1/3*p.y),m=new Yc(1/3*f.x+2/3*l.x,2/3*l.y+1/3*f.y);r.appendSegment(gh.createSegment("L",p)),r.appendSegment(gh.createSegment("C",g,m,f))}return r.appendSegment(gh.createSegment("L",e)),i.raw?r:r.serialize()},Xm=function(t,e,n,i={}){let r,o=i.direction;if(n&&0!==n.length){const i=[t,...n,e],o=Kc.throughPoints(i);r=new gh(o)}else if(r=new gh,r.appendSegment(gh.createSegment("M",t)),o||(o=Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)?"H":"V"),"H"===o){const n=(t.x+e.x)/2;r.appendSegment(gh.createSegment("C",n,t.y,n,e.y,e.x,e.y))}else{const n=(t.y+e.y)/2;r.appendSegment(gh.createSegment("C",t.x,n,e.x,n,e.x,e.y))}return i.raw?r:r.serialize()};function qm(t,e,n=[]){const i=[t,...n,e],r=[];return i.forEach((t,e)=>{const n=i[e+1];null!=n&&r.push(new qc(t,n))}),r}function Um(t,e){return new qc(t,e).squaredLength()}function Zm(t,e,n,i){const r=new gh;let o;return o=gh.createSegment("M",t[0].start),r.appendSegment(o),t.forEach((a,s)=>{if(Km.includes(a)){let t,i,s,l;if("arc"===n){t=-90,i=a.start.diff(a.end);(i.x<0||0===i.x&&i.y<0)&&(t+=180);const e=a.getCenter(),n=new qc(e,a.end).rotate(t,e);let c;c=new qc(a.start,e),s=c.pointAt(2/3).rotate(t,a.start),l=n.pointAt(1/3).rotate(-t,n.end),o=gh.createSegment("C",s,l,n.end),r.appendSegment(o),c=new qc(e,a.end),s=n.pointAt(1/3).rotate(t,n.end),l=c.pointAt(1/3).rotate(-t,a.end),o=gh.createSegment("C",s,l,a.end),r.appendSegment(o)}else if("gap"===n)o=gh.createSegment("M",a.end),r.appendSegment(o);else if("cubic"===n){t=a.start.theta(a.end);const n=.6*e;let c=1.35*e;i=a.start.diff(a.end);(i.x<0||0===i.x&&i.y<0)&&(c*=-1),s=new Yc(a.start.x+n,a.start.y+c).rotate(t,a.start),l=new Yc(a.end.x-n,a.end.y+c).rotate(t,a.end),o=gh.createSegment("C",s,l,a.end),r.appendSegment(o)}}else{const e=t[s+1];0===i||!e||Km.includes(e)?(o=gh.createSegment("L",a.end),r.appendSegment(o)):function(t,e,n,i,r){const o=n.distance(i)/2,a=n.distance(r)/2,s=-Math.min(t,o),l=-Math.min(t,a),c=n.clone().move(i,s).round(),h=n.clone().move(r,l).round(),u=new Yc(1/3*c.x+2/3*n.x,2/3*n.y+1/3*c.y),d=new Yc(1/3*h.x+2/3*n.x,2/3*n.y+1/3*h.y);let p;p=gh.createSegment("L",c),e.appendSegment(p),p=gh.createSegment("C",u,d,h),e.appendSegment(p)}(i,r,a.end,a.start,e.end)}}),r}let Km,Jm;const Qm=function(t,e,n,i={}){Km=[],Jm=[],function(t){let e=t.graph._jumpOverUpdateList;if(null==e&&(e=t.graph._jumpOverUpdateList=[],t.graph.on("cell:mouseup",()=>{const e=t.graph._jumpOverUpdateList;for(let t=0;t<e.length;t+=1)e[t].update()}),t.graph.on("model:reseted",()=>{e=t.graph._jumpOverUpdateList=[]})),e.indexOf(t)<0){e.push(t);const n=()=>e.splice(e.indexOf(t),1);t.cell.once("change:connector",n),t.cell.once("removed",n)}}(this);const r=i.size||5,o=i.type||"arc",a=i.radius||0,s=i.ignoreConnectors||["smooth"],l=this.graph,c=l.model.getEdges();if(1===c.length)return Zm(qm(t,e,n),r,o,a);const h=this.cell,u=c.indexOf(h),d=l.options.connecting.connector||{},p=c.filter((t,e)=>{const n=t.getConnector()||d;return!s.includes(n.name)&&(!(e>u)||"jumpover"!==n.name)}),f=p.map(t=>l.renderer.findViewByCell(t)),g=qm(t,e,n),m=f.map(t=>null==t?[]:t===this?g:qm(t.sourcePoint,t.targetPoint,t.routePoints)),v=[];g.forEach(t=>{const e=p.reduce((e,n,i)=>{if(n!==h){const n=function(t,e){const n=[];return e.forEach(e=>{const i=t.intersectsWithLine(e);i&&n.push(i)}),n}(t,m[i]);e.push(...n)}return e},[]).sort((e,n)=>Um(t.start,e)-Um(t.start,n));e.length>0?v.push(...function(t,e,n){return e.reduce((i,r,o)=>{if(Jm.includes(r))return i;const a=i.pop()||t,s=Yc.create(r).move(a.start,-n);let l=Yc.create(r).move(a.start,+n);const c=e[o+1];if(null!=c){const t=l.distance(c);t<=n&&(l=c.move(a.start,t),Jm.push(c))}else{if(s.distance(a.end)<2*n+1)return i.push(a),i}if(l.distance(a.start)<2*n+1)return i.push(a),i;const h=new qc(s,l);return Km.push(h),i.push(new qc(a.start,s),h,new qc(l,a.end)),i},[])}(t,e,r)):v.push(t)});const y=Zm(v,r,o,a);return Km=[],Jm=[],i.raw?y:y.serialize()};var tv,ev;(ev=tv||(tv={})).presets=_,ev.registry=Iu.create({type:"connector"}),ev.registry.register(ev.presets,!0);Iu.create;class nv{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,n={},i="/"){const o=this.cell.getPropByPath(t),a=r.defaults(n,nv.defaultOptions),s=this.getTiming(a.timing),l=this.getInterp(a.interp,o,e);let h=0;const u=Array.isArray(t)?t.join(i):t,d=Array.isArray(t)?t:t.split(i),p=()=>{const t=(new Date).getTime();0===h&&(h=t);let e=(t-h)/a.duration;e<1?this.ids[u]=c.requestAnimationFrame(p):e=1;const i=l(s(e));this.cell.setPropByPath(d,i),n.progress&&n.progress(Object.assign({progress:e,currentValue:i},this.getArgs(u))),1===e&&(this.cell.notify("transition:end",this.getArgs(u)),this.cell.notify("transition:complete",this.getArgs(u)),n.complete&&n.complete(this.getArgs(u)),this.cell.notify("transition:finish",this.getArgs(u)),n.finish&&n.finish(this.getArgs(u)),this.clean(u))};return setTimeout(()=>{this.stop(t,void 0,i),this.cache[u]={startValue:o,targetValue:e,options:a},this.ids[u]=c.requestAnimationFrame(p),this.cell.notify("transition:begin",this.getArgs(u)),this.cell.notify("transition:start",this.getArgs(u)),n.start&&n.start(this.getArgs(u))},n.delay),this.stop.bind(this,t,i,n)}stop(t,e={},n="/"){const i=Array.isArray(t)?t:t.split(n);return Object.keys(this.ids).filter(t=>r.isEqual(i,t.split(n).slice(0,i.length))).forEach(t=>{c.cancelAnimationFrame(this.ids[t]);const n=this.cache[t],i=this.getArgs(t),r=Object.assign(Object.assign({},n.options),e),o=r.jumpedToEnd;o&&null!=n.targetValue&&(this.cell.setPropByPath(t,n.targetValue),this.cell.notify("transition:end",Object.assign({},i)),this.cell.notify("transition:complete",Object.assign({},i)),r.complete&&r.complete(Object.assign({},i)));const a=Object.assign({jumpedToEnd:o},i);this.cell.notify("transition:stop",Object.assign({},a)),r.stop&&r.stop(Object.assign({},a)),this.cell.notify("transition:finish",Object.assign({},i)),r.finish&&r.finish(Object.assign({},i)),this.clean(t)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return"string"==typeof t?Nf[t]:t}getInterp(t,e,n){return t?t(e,n):"number"==typeof n?Rf.number(e,n):"string"==typeof n?"#"===n[0]?Rf.color(e,n):Rf.unit(e,n):Rf.object(e,n)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(nv||(nv={})).defaultOptions={delay:10,duration:100,timing:"linear"};var iv=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class rv extends jf{constructor(t={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(r.cloneDeep(t)),this.changed={}}mutate(t,e={}){const n=!0===e.unset,i=!0===e.silent,o=[],a=this.changing;this.changing=!0,a||(this.previous=r.cloneDeep(this.data),this.changed={});const s=this.data,l=this.previous,c=this.changed;if(Object.keys(t).forEach(e=>{const i=e,a=t[i];r.isEqual(s[i],a)||o.push(i),r.isEqual(l[i],a)?delete c[i]:c[i]=a,n?delete s[i]:s[i]=a}),!i&&o.length>0&&(this.pending=!0,this.pendingOptions=e,o.forEach(t=>{this.emit("change:*",{key:t,options:e,store:this,current:s[t],previous:l[t]})})),a)return this;if(!i)for(;this.pending;)this.pending=!1,this.emit("changed",{current:s,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(null==t)return this.data;const n=this.data[t];return null==n?e:n}getPrevious(t){if(this.previous){const e=this.previous[t];return null==e?void 0:e}}set(t,e,n){return null!=t&&("object"==typeof t?this.mutate(t,e):this.mutate({[t]:e},n)),this}remove(t,e){const n={};let i;if("string"==typeof t)n[t]=void 0,i=e;else if(Array.isArray(t))t.forEach(t=>n[t]=void 0),i=e;else{for(const t in this.data)n[t]=void 0;i=t}return this.mutate(n,Object.assign(Object.assign({},i),{unset:!0})),this}getByPath(t){return r.getByPath(this.data,t,"/")}setByPath(t,e,n={}){const i=Array.isArray(t)?[...t]:t.split("/"),o=Array.isArray(t)?t.join("/"):t,a=i[0],s=i.length;if(n.propertyPath=o,n.propertyValue=e,n.propertyPathArray=i,1===s)this.set(a,e,n);else{const o={};let l=o,c=a;for(let t=1;t<s;t+=1){const e=i[t],n=Number.isFinite(Number(e));l=l[c]=n?[]:{},c=e}r.setByPath(o,i,e,"/");const h=r.cloneDeep(this.data);n.rewrite&&r.unsetByPath(h,t,"/");const u=r.merge(h,o);this.set(a,u[a],n)}return this}removeByPath(t,e){const n=Array.isArray(t)?t:t.split("/"),i=n[0];if(1===n.length)this.remove(i,e);else{const t=n.slice(1),o=r.cloneDeep(this.get(i));o&&r.unsetByPath(o,t),this.set(i,o,e)}return this}hasChanged(t){return null==t?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(null==t)return this.hasChanged()?r.cloneDeep(this.changed):null;const e=this.changing?this.previous:this.data,n={};let i;for(const o in t){const a=t[o];r.isEqual(e[o],a)||(n[o]=a,i=!0)}return i?r.cloneDeep(n):null}toJSON(){return r.cloneDeep(this.data)}clone(){return new(0,this.constructor)(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}iv([jf.dispose()],rv.prototype,"dispose",null);var ov,av=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},sv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class lv extends jf{constructor(t={}){super();const e=this.constructor.getDefaults(!0),n=r.merge({},this.preprocess(e),this.preprocess(t));this.id=n.id||o.uuid(),this.store=new rv(n),this.animation=new nv(this),this.setup(),this.init(),this.postprocess(t)}static config(t){const{markup:e,propHooks:n,attrHooks:i}=t,o=sv(t,["markup","propHooks","attrHooks"]);null!=e&&(this.markup=e),n&&(this.propHooks=this.propHooks.slice(),Array.isArray(n)?this.propHooks.push(...n):"function"==typeof n?this.propHooks.push(n):Object.keys(n).forEach(t=>{const e=n[t];"function"==typeof e&&this.propHooks.push(e)})),i&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),i)),this.defaults=r.merge({},this.defaults,o)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:r.cloneDeep(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((e,n)=>n?s.call(n,t,e):e,e)}get[Symbol.toStringTag](){return lv.toStringTag}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const n=t.id,i=this.constructor.applyPropHooks(this,t);return null==n&&!0!==e&&(i.id=o.uuid()),i}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:n,previous:i,options:r}=t;this.notify("change:*",{key:e,options:r,current:n,previous:i,cell:this}),this.notify("change:"+e,{options:r,current:n,previous:i,cell:this});const o=e;"source"!==o&&"target"!==o||this.notify("change:terminal",{type:o,current:n,previous:i,options:r,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const n=this.model;return n&&(n.notify("cell:"+t,e),this.isNode()?n.notify("node:"+t,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&n.notify("edge:"+t,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return null==t?this.store.get():this.store.get(t,e)}setProp(t,e,n){if("string"==typeof t)this.store.set(t,e,n);else{const n=this.preprocess(t,!0);this.store.set(r.merge({},this.getProp(),n),e),this.postprocess(t)}return this}removeProp(t,e){return"string"==typeof t||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return null==t?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,n={}){return this.model&&("children"===t?this._children=e?e.map(t=>this.model.getCell(t)).filter(t=>null!=t):null:"parent"===t&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,n),this}removePropByPath(t,e={}){const n=Array.isArray(t)?t:t.split("/");return"attrs"===n[0]&&(e.dirty=!0),this.store.removeByPath(n,e),this}prop(t,e,n){return null==t?this.getProp():"string"==typeof t||Array.isArray(t)?1===arguments.length?(Array.isArray(t),this.getPropByPath(t)):null==e?Array.isArray(t)?this.removePropByPath(t):this.removeAttrByPath(t,n||{}):this.setPropByPath(t,e,n||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){null==t?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let n,i=e.getMaxZIndex();t.deep?(n=this.getDescendants({deep:!0,breadthFirst:!0}),n.unshift(this)):n=[this],i=i-n.length+1;const r=e.total();let o=e.indexOf(this)!==r-n.length;o||(o=n.some((t,e)=>t.getZIndex()!==i+e)),o&&this.batchUpdate("to-front",()=>{i+=n.length,n.forEach((e,n)=>{e.setZIndex(i+n,t)})})}return this}toBack(t={}){const e=this.model;if(e){let n,i=e.getMinZIndex();t.deep?(n=this.getDescendants({deep:!0,breadthFirst:!0}),n.unshift(this)):n=[this];let r=0!==e.indexOf(this);r||(r=n.some((t,e)=>t.getZIndex()!==i+e)),r&&this.batchUpdate("to-back",()=>{i-=n.length,n.forEach((e,n)=>{e.setZIndex(i+n,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){null==t?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");if(null==t){t=this.constructor.getMarkup()}return t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){null==t?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(null==t)this.removeAttrs(e);else{const n=t=>this.store.set("attrs",t,e);if(!0===e.overwrite)n(t);else{const i=this.getAttrs();!1===e.deep?n(Object.assign(Object.assign({},i),t)):n(r.merge({},i,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const e=this.constructor.getAttrHooks()||{};let n=e[t]||hp.registry.get(t);if(!n){const i=o.camelCase(t);n=e[i]||hp.registry.get(i)}return n||null}getAttrByPath(t){return null==t||""===t?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,n={}){return this.setPropByPath(this.prefixAttrPath(t),e,n),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):"attrs/"+t}attr(t,e,n){return null==t?this.getAttrByPath():"string"==typeof t||Array.isArray(t)?1===arguments.length?this.getAttrByPath(t):null==e?this.removeAttrByPath(t,n||{}):this.setAttrByPath(t,e,n||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return!1!==this.store.get("visible")}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const n="boolean"==typeof t?e:t;return("boolean"==typeof t?t:!this.isVisible())?this.show(n):this.hide(n),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(null==t)this.removeData(e);else{const n=t=>this.store.set("data",t,e);if(!0===e.overwrite)n(t);else{const i=this.getData();!1===e.deep?n("object"==typeof t?Object.assign(Object.assign({},i),t):t):n(r.merge({},i,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(t=>{var e;return null===(e=this.model)||void 0===e?void 0:e.getCell(t)}).filter(t=>null!=t);return this._children=e,[...e]}return null}hasParent(){return null!=this.parent}isParentOf(t){return null!=t&&t.getParent()===this}isChildOf(t){return null!=t&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return null==this.children?0:this.children.length}getChildIndex(t){return null==this.children?-1:this.children.indexOf(t)}getChildAt(t){return null!=this.children&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let n=this.getParent();for(;n;)e.push(n),n=!1!==t.deep?n.getParent():null;return e}getDescendants(t={}){if(!1!==t.deep){if(t.breadthFirst){const t=[],e=this.getChildren()||[];for(;e.length>0;){const n=e.shift(),i=n.getChildren();t.push(n),i&&e.push(...i)}return t}{const e=this.getChildren()||[];return e.forEach(n=>{e.push(...n.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(null==t)return!1;if(!1!==e.deep){let e=this.getParent();for(;e;){if(e===t)return!0;e=e.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return null!=t&&t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return lv.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,null!=t?this.store.set("children",t.map(t=>t.id),e):this.store.remove("children",e),this}unembed(t,e={}){const n=this.children;if(null!=n&&null!=t){const i=this.getChildIndex(t);-1!==i&&(n.splice(i,1),t.setParent(null,e),this.setChildren(n,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return lv.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,n={}){return t.insertChild(this,e,n),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,n={}){if(null!=t&&t!==this){const i=t.getParent(),r=this!==i;let o=e;if(null==o&&(o=this.getChildCount(),r||(o-=1)),i){const e=i.getChildren();if(e){const r=e.indexOf(t);r>=0&&(t.setParent(null,n),e.splice(r,1),i.setChildren(e,n))}}let a=this.children;if(null==a?(a=[],a.push(t)):a.splice(o,0,t),t.setParent(this,n),this.setChildren(a,n),r&&this.model){const t=this.model.getIncomingEdges(this),e=this.model.getOutgoingEdges(this);t&&t.forEach(t=>t.updateParent(n)),e&&e.forEach(t=>t.updateParent(n))}this.model&&this.model.addCell(t,n)}return this}removeFromParent(t={}){const e=this.getParent();if(null!=e){const n=e.getChildIndex(this);e.removeChildAt(n,t)}return this}removeChild(t,e={}){const n=this.getChildIndex(t);return this.removeChildAt(n,e)}removeChildAt(t,e={}){const n=this.getChildAt(t);return null!=this.children&&null!=n&&(this.unembed(n,e),n.remove(e)),n}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),!1!==t.deep&&this.eachChild(e=>e.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,n={},i="/"){return this.animation.start(t,e,n,i)}stopTransition(t,e,n="/"){return this.animation.stop(t,e,n),this}getTransitions(){return this.animation.get()}translate(t,e,n){return this}scale(t,e,n,i){return this}addTools(t,e,n){const i=Array.isArray(t)?t:[t],o="string"==typeof e?e:null,a="object"==typeof e?e:"object"==typeof n?n:{};if(a.reset)return this.setTools({name:o,items:i,local:a.local},a);let s=r.cloneDeep(this.getTools());return null==s||null==o||s.name===o?(null==s&&(s={}),s.items||(s.items=[]),s.name=o,s.items=[...s.items,...i],this.setTools(Object.assign({},s),a)):void 0}setTools(t,e={}){return null==t?this.removeTools():this.store.set("tools",lv.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return null!=e&&(null==t||e.name===t)}hasTool(t){const e=this.getTools();return null!=e&&e.items.some(e=>"string"==typeof e?e===t:e.name===t)}removeTool(t,e={}){const n=r.cloneDeep(this.getTools());if(n){let i=!1;const r=n.items.slice(),o=t=>{r.splice(t,1),i=!0};if("number"==typeof t)o(t);else for(let e=r.length-1;e>=0;e-=1){const n=r[e];("string"==typeof n?n===t:n.name===t)&&o(e)}i&&(n.items=r,this.setTools(n,e))}return this}getBBox(t){return new Xc}getConnectionPoint(t,e){return new Yc}toJSON(t={}){const e=Object.assign({},this.store.get()),n=Object.prototype.toString,i=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const t=this.constructor;throw new Error(`Unable to serialize ${i} missing "shape" prop, check the ${i} "${t.name||n.call(t)}"`)}const o=this.constructor,a=!0===t.diff,s=e.attrs||{},l=o.getDefaults(!0),c=a?this.preprocess(l,!0):l,h=c.attrs||{},u={};Object.keys(e).forEach(t=>{const o=e[t];if(null!=o&&!Array.isArray(o)&&"object"==typeof o&&!r.isPlainObject(o))throw new Error(`Can only serialize ${i} with plain-object props, but got a "${n.call(o)}" type of key "${t}" on ${i} "${this.id}"`);if("attrs"!==t&&"shape"!==t&&a){const n=c[t];r.isEqual(o,n)&&delete e[t]}}),Object.keys(s).forEach(t=>{const e=s[t],n=h[t];Object.keys(e).forEach(i=>{const o=e[i],a=n?n[i]:null;null==o||"object"!=typeof o||Array.isArray(o)?null!=n&&r.isEqual(a,o)||(null==u[t]&&(u[t]={}),u[t][i]=o):Object.keys(o).forEach(e=>{const s=o[e];if(null==n||null==a||!r.isObject(a)||!r.isEqual(a[e],s)){null==u[t]&&(u[t]={}),null==u[t][i]&&(u[t][i]={});u[t][i][e]=s}})})});const d=Object.assign(Object.assign({},e),{attrs:r.isEmpty(u)?void 0:u});null==d.attrs&&delete d.attrs;const p=d;return 0===p.angle&&delete p.angle,r.cloneDeep(p)}clone(t={}){if(!t.deep){const t=Object.assign({},this.store.get());delete t.id,delete t.parent,delete t.children;return new(0,this.constructor)(t)}return lv.deepClone(this)[this.id]}findView(t){return t.renderer.findViewByCell(this)}startBatch(t,e={},n=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),n&&n.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},n=this.model){return n&&n.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,n){const i=this.model;this.startBatch(t,n,i);const r=e();return this.stopBatch(t,n,i),r}dispose(){this.removeFromParent(),this.store.dispose()}}lv.defaults={},lv.attrHooks={},lv.propHooks=[],av([jf.dispose()],lv.prototype,"dispose",null),(lv||(lv={})).normalizeTools=function(t){return"string"==typeof t?{items:[t]}:Array.isArray(t)?{items:t}:t.items?t:{items:[t]}},function(t){t.toStringTag="X6."+t.name,t.isCell=function(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&"function"==typeof i.isNode&&"function"==typeof i.isEdge&&"function"==typeof i.prop&&"function"==typeof i.attr}}(lv||(lv={})),function(t){t.getCommonAncestor=function(...t){const e=t.filter(t=>null!=t).map(t=>t.getAncestors()).sort((t,e)=>t.length-e.length);return e.shift().find(t=>e.every(e=>e.includes(t)))||null},t.getCellsBBox=function(t,e={}){let n=null;for(let i=0,r=t.length;i<r;i+=1){const r=t[i];let o=r.getBBox(e);if(o){if(r.isNode()){const t=r.getAngle();null!=t&&0!==t&&(o=o.bbox(t))}n=null==n?o:n.union(o)}}return n},t.deepClone=function(e){const n=[e,...e.getDescendants({deep:!0})];return t.cloneCells(n)},t.cloneCells=function(t){const e=i.uniq(t),n=e.reduce((t,e)=>(t[e.id]=e.clone(),t),{});return e.forEach(t=>{const e=n[t.id];if(e.isEdge()){const t=e.getSourceCellId(),i=e.getTargetCellId();t&&n[t]&&e.setSource(Object.assign(Object.assign({},e.getSource()),{cell:n[t].id})),i&&n[i]&&e.setTarget(Object.assign(Object.assign({},e.getTarget()),{cell:n[i].id}))}const i=t.getParent();i&&n[i.id]&&e.setParent(n[i.id]);const r=t.getChildren();if(r&&r.length){const t=r.reduce((t,e)=>(n[e.id]&&t.push(n[e.id]),t),[]);t.length>0&&e.setChildren(t)}}),n}}(lv||(lv={})),function(t){t.config({propHooks(e){var{tools:n}=e,i=sv(e,["tools"]);return n&&(i.tools=t.normalizeTools(n)),i}})}(lv||(lv={})),function(t){let e,n;t.exist=function(t,i){return i?null!=e&&e.exist(t):null!=n&&n.exist(t)},t.setEdgeRegistry=function(t){e=t},t.setNodeRegistry=function(t){n=t}}(ov||(ov={}));class cv{constructor(t){this.ports=[],this.groups={},this.init(r.cloneDeep(t))}getPorts(){return this.ports}getGroup(t){return null!=t?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||null==e.group&&null==t)}getPortsLayoutByGroup(t,e){const n=this.getPortsByGroup(t),i=t?this.getGroup(t):null,r=i?i.position:null,o=r?r.name:null;let a;if(null!=o){const t=cf.registry.get(o);if(null==t)return cf.registry.onNotFound(o);a=t}else a=cf.presets.left;const s=n.map(t=>t&&t.position&&t.position.args||{}),l=r&&r.args||{};return a(s,e,l).map((t,i)=>{const r=n[i];return{portLayout:t,portId:r.id,portSize:r.size,portAttrs:r.attrs,labelSize:r.label.size,labelLayout:this.getPortLabelLayout(r,Yc.create(t.position),e)}})}init(t){const{groups:e,items:n}=t;null!=e&&Object.keys(e).forEach(t=>{this.groups[t]=this.parseGroup(e[t])}),Array.isArray(n)&&n.forEach(t=>{this.ports.push(this.parsePort(t))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),n=this.getGroup(t.group)||{};return e.markup=e.markup||n.markup,e.attrs=r.merge({},n.attrs,e.attrs),e.position=this.createPosition(n,e),e.label=r.merge({},n.label,this.getLabel(e)),e.zIndex=this.getZIndex(n,e),e.size=Object.assign(Object.assign({},n.size),e.size),e}getZIndex(t,e){return"number"==typeof e.zIndex?e.zIndex:"number"==typeof t.zIndex||"auto"===t.zIndex?t.zIndex:"auto"}createPosition(t,e){return r.merge({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(null==t){if(e)return{name:"left",args:{}}}else{if("string"==typeof t)return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if("object"==typeof t)return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(null==t){if(e)return{name:"left",args:{}}}else{if("string"==typeof t)return{name:t,args:{}};if("object"==typeof t)return t}return{args:{}}}getLabel(t,e=!1){const n=t.label||{};return n.position=this.getPortLabelPosition(n.position,e),n}getPortLabelLayout(t,e,n){const i=t.label.position.name||"left",r=t.label.position.args||{},o=Af.registry.get(i)||Af.presets.left;return o?o(e,n,r):null}}var hv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class uv extends lv{constructor(t={}){super(t),this.initPorts()}get[Symbol.toStringTag](){return uv.toStringTag}preprocess(t,e){const{x:n,y:i,width:r,height:o}=t,a=hv(t,["x","y","width","height"]);if(null!=n||null!=i){const t=a.position;a.position=Object.assign(Object.assign({},t),{x:null!=n?n:t?t.x:0,y:null!=i?i:t?t.y:0})}if(null!=r||null!=o){const t=a.size;a.size=Object.assign(Object.assign({},t),{width:null!=r?r:t?t.width:0,height:null!=o?o:t?t.height:0})}return super.preprocess(a,e)}isNode(){return!0}size(t,e,n){return void 0===t?this.getSize():"number"==typeof t?this.setSize(t,e,n):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,n){return"object"==typeof t?this.resize(t.width,t.height,e):this.resize(t,e,n),this}resize(t,e,n={}){this.startBatch("resize",n);const i=n.direction;if(i){const r=this.getSize();switch(i){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width}let o={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[i];const a=Ac.normalize(this.getAngle()||0);n.absolute&&(o+=Math.floor((a+45)/90),o%=4);const s=this.getBBox();let l;l=0===o?s.getBottomLeft():1===o?s.getCorner():2===o?s.getTopRight():s.getOrigin();const c=l.clone().rotate(-a,s.getCenter()),h=Math.sqrt(t*t+e*e)/2;let u=o*Math.PI/2;u+=Math.atan(o%2==0?e/t:t/e),u-=Ac.toRad(a);const d=Yc.fromPolar(h,u,c).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},n),this.setPosition(d.x,d.y,n)}else this.store.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this}scale(t,e,n,i={}){const r=this.getBBox().scale(t,e,null==n?void 0:n);return this.startBatch("scale",i),this.setPosition(r.x,r.y,i),this.resize(r.width,r.height,i),this.stopBatch("scale"),this}position(t,e,n){return"number"==typeof t?this.setPosition(t,e,n):this.getPosition(t)}getPosition(t={}){if(t.relative){const t=this.getParent();if(null!=t&&t.isNode()){const e=this.getPosition(),n=t.getPosition();return{x:e.x-n.x,y:e.y-n.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,n={}){let i,r,o;if("object"==typeof t?(i=t.x,r=t.y,o=e||{}):(i=t,r=e,o=n||{}),o.relative){const t=this.getParent();if(null!=t&&t.isNode()){const e=t.getPosition();i+=e.x,r+=e.y}}if(o.deep){const t=this.getPosition();this.translate(i-t.x,r-t.y,o)}else this.store.set("position",{x:i,y:r},o);return this}translate(t=0,e=0,n={}){if(0===t&&0===e)return this;n.translateBy=n.translateBy||this.id;const i=this.getPosition();if(null!=n.restrict&&n.translateBy===this.id){const r=this.getBBox({deep:!0}),o=n.restrict,a=i.x-r.x,s=i.y-r.y,l=Math.max(o.x+a,Math.min(o.x+o.width+a-r.width,i.x+t)),c=Math.max(o.y+s,Math.min(o.y+o.height+s-r.height,i.y+e));t=l-i.x,e=c-i.y}const r={x:i.x+t,y:i.y+e};if(n.tx=t,n.ty=e,n.transition)"object"!=typeof n.transition&&(n.transition={}),this.transition("position",r,Object.assign(Object.assign({},n.transition),{interp:Rf.object})),this.eachChild(i=>i.translate(t,e,n));else{if(this.startBatch("translate",n),this.store.set("position",r,n),n.handledTranslation=n.handledTranslation||[],!n.handledTranslation.includes(this)){n.handledTranslation.push(this);const t=this.children;(null==t?void 0:t.length)&&n.handledTranslation.push(...t)}this.eachChild(i=>i.translate(t,e,n)),this.stopBatch("translate",n)}return this}angle(t,e){return null==t?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const n=this.getAngle();if(e.center){const i=this.getSize(),r=this.getPosition(),o=this.getBBox().getCenter();o.rotate(n-t,e.center);const a=o.x-i.width/2-r.x,s=o.y-i.height/2-r.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(r.x+a,r.y+s,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(n+t)%360,e);return this}getBBox(t={}){if(t.deep){const t=this.getDescendants({deep:!0,breadthFirst:!0});return t.push(this),lv.getCellsBBox(t)}return Xc.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const n=this.getBBox(),i=n.getCenter(),r=t.getTerminal(e);if(null==r)return i;const o=r.port;if(!o||!this.hasPort(o))return i;const a=this.getPort(o);if(!a||!a.group)return i;const s=this.getPortsPosition(a.group)[o].position,l=Yc.create(s).translate(n.getOrigin()),c=this.getAngle();return c&&l.rotate(-c,i),l}fit(t={}){const e=(this.getChildren()||[]).filter(t=>t.isNode());if(0===e.length)return this;this.startBatch("fit-embeds",t),t.deep&&e.forEach(e=>e.fit(t));let{x:n,y:i,width:r,height:o}=lv.getCellsBBox(e);const s=a.normalizeSides(t.padding);return n-=s.left,i-=s.top,r+=s.left+s.right,o+=s.bottom+s.top,this.store.set({position:{x:n,y:i},size:{width:r,height:o}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Qf.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",Qf.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Qf.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",Qf.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Qf.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",Qf.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return null==t.items&&(t.items=[]),t}getPorts(){return r.cloneDeep(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return r.cloneDeep(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return-1!==this.getPortIndex(t)}getPortIndex(t){const e="string"==typeof t?t:t.id;return null!=e?this.ports.items.findIndex(t=>t.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new Xc(0,0,e.width,e.height)).reduce((t,e)=>{const n=e.portLayout;return t[e.portId]={position:Object.assign({},n.position),angle:n.angle||0},t},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,n,i){if("string"==typeof e||Array.isArray(e)){const r=this.prefixPortPath(t,e),o=n;return this.setPropByPath(r,o,i)}const r=this.prefixPortPath(t),o=e;return this.setPropByPath(r,o,n)}removePortProp(t,e,n){return"string"==typeof e||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),n):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,n,i){return null==e?this.getPortProp(t):"string"==typeof e||Array.isArray(e)?2===arguments.length?this.getPortProp(t,e):null==n?this.removePortProp(t,e,i):this.setPortProp(t,e,n,i):this.setPortProp(t,e,n)}prefixPortPath(t,e){const n=this.getPortIndex(t);if(-1===n)throw new Error(`Unable to find port with id: "${t}"`);return null==e||""===e?["ports","items",""+n]:Array.isArray(e)?["ports","items",""+n,...e]:`ports/items/${n}/${e}`}addPort(t,e){const n=[...this.ports.items];return n.push(t),this.setPropByPath("ports/items",n,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const n=[...this.ports.items];n.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",n,e)}return this}removePorts(t,e){let n;if(Array.isArray(t)){if(n=e||{},t.length){n.rewrite=!0;const e=[...this.ports.items].filter(e=>!t.some(t=>{const n="string"==typeof t?t:t.id;return e.id===n}));this.setPropByPath("ports/items",e,n)}}else n=t||{},n.rewrite=!0,this.setPropByPath("ports/items",[],n);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(t=>{t.id&&(e[t.id]=!0)});const n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(t=>{t.id&&!e[t.id]&&(n[t.id]=!0)});const i=this.model;if(i&&!r.isEmpty(n)){i.getConnectedEdges(this,{incoming:!0}).forEach(t=>{const e=t.getTargetPortId();e&&n[e]&&t.remove()});i.getConnectedEdges(this,{outgoing:!0}).forEach(t=>{const e=t.getSourcePortId();e&&n[e]&&t.remove()})}}validatePorts(){const t={},e=[];return this.ports.items.forEach(n=>{"object"!=typeof n&&e.push(`Invalid port ${n}.`),null==n.id&&(n.id=this.generatePortId()),t[n.id]&&e.push("Duplicitied port id."),t[n.id]=!0}),e}generatePortId(){return o.uuid()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new cv(this.ports);const n=this.port.getPorts(),i=e?n.filter(t=>e.find(e=>e.id===t.id)?null:t):[...n],r=e?e.filter(t=>n.find(e=>e.id===t.id)?null:t):[];i.length>0&&this.notify("ports:added",{added:i,cell:this,node:this}),r.length>0&&this.notify("ports:removed",{removed:r,cell:this,node:this})}}uv.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(t){t.toStringTag="X6."+t.name,t.isNode=function(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&"function"==typeof i.isNode&&"function"==typeof i.isEdge&&"function"==typeof i.prop&&"function"==typeof i.attr&&"function"==typeof i.size&&"function"==typeof i.position}}(uv||(uv={})),function(t){t.config({propHooks(t){var{ports:e}=t,n=hv(t,["ports"]);return e&&(n.ports=Array.isArray(e)?{items:e}:e),n}})}(uv||(uv={})),function(t){t.registry=Iu.create({type:"node",process(e,n){if(ov.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if("function"==typeof n)return n.config({shape:e}),n;let i=t;const{inherit:r}=n,o=hv(n,["inherit"]);if(r)if("string"==typeof r){const t=this.get(r);null==t?this.onNotFound(r,"inherited"):i=t}else i=r;null==o.constructorName&&(o.constructorName=e);const a=i.define.call(i,o);return a.config({shape:e}),a}}),ov.setNodeRegistry(t.registry)}(uv||(uv={})),function(t){let e=0;t.define=function(n){const{constructorName:i,overwrite:a}=n,s=hv(n,["constructorName","overwrite"]),l=r.createClass(function(t){return t?o.pascalCase(t):(e+=1,"CustomNode"+e)}(i||s.shape),this);return l.config(s),s.shape&&t.registry.register(s.shape,l,a),l},t.create=function(e){const n=e.shape||"rect",i=t.registry.get(n);return i?new i(e):t.registry.onNotFound(n)}}(uv||(uv={}));var dv,pv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class fv extends uv{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return null==t?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(dv=fv||(fv={})).bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},dv.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},dv.config({attrs:{text:Object.assign({},dv.labelAttr)},propHooks(t){const{label:e}=t,n=pv(t,["label"]);return e&&r.setByPath(n,"attrs/text/text",e),n}});var gv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};function mv(t){return"basic."+t}function vv(t="xlink:href"){return e=>{const{imageUrl:n,imageWidth:i,imageHeight:r}=e,o=gv(e,["imageUrl","imageWidth","imageHeight"]);if(null!=n||null!=i||null!=r){const e=()=>{if(o.attrs){const e=o.attrs.image;null!=n&&(e[t]=n),null!=i&&(e.width=i),null!=r&&(e.height=r),o.attrs.image=e}};o.attrs?(null==o.attrs.image&&(o.attrs.image={}),e()):(o.attrs={image:{}},e())}return o}}function yv(t,e,n={}){const i=mv(t),o={constructorName:i,attrs:{".":{fill:"#ffffff",stroke:"none"},[t]:{fill:"#ffffff",stroke:"#000000"}}};n.ignoreMarkup||(o.markup=function(t,e=!1){return`<g class="rotatable"><g class="scalable"><${t}/></g>${e?"":"<text/>"}</g>`}(t,!0===n.noText));return(n.parent||fv).define(r.merge(o,e,{shape:i}))}yv("rect",{attrs:{rect:{width:100,height:60}}}),yv("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}}),yv("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}}),yv("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),yv("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}}),yv("image",{attrs:{text:{refY:null,refDy:16}},propHooks:vv()});var xv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};const bv=yv("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(t){const{d:e}=t,n=xv(t,["d"]);return null!=e&&r.setByPath(n,"attrs/path/d",e),n}});yv("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:bv,ignoreMarkup:!0}),yv("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:bv,ignoreMarkup:!0});var wv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class Cv extends lv{constructor(t={}){super(t)}get[Symbol.toStringTag](){return Cv.toStringTag}preprocess(t,e){const{source:n,sourceCell:i,sourcePort:r,sourcePoint:o,target:a,targetCell:s,targetPort:l,targetPoint:c}=t,h=wv(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),u=t=>"string"==typeof t||"number"==typeof t;if(null!=n)if(lv.isCell(n))h.source={cell:n.id};else if(u(n))h.source={cell:n};else if(Yc.isPoint(n))h.source=n.toJSON();else if(Array.isArray(n))h.source={x:n[0],y:n[1]};else{const t=n.cell;lv.isCell(t)?h.source=Object.assign(Object.assign({},n),{cell:t.id}):h.source=n}if(null!=i||null!=r){let t=h.source;if(null!=i){const e=u(i)?i:i.id;t?t.cell=e:t=h.source={cell:e}}null!=r&&t&&(t.port=r)}else null!=o&&(h.source=Yc.create(o).toJSON());if(null!=a)if(lv.isCell(a))h.target={cell:a.id};else if(u(a))h.target={cell:a};else if(Yc.isPoint(a))h.target=a.toJSON();else if(Array.isArray(a))h.target={x:a[0],y:a[1]};else{const t=a.cell;lv.isCell(t)?h.target=Object.assign(Object.assign({},a),{cell:t.id}):h.target=a}if(null!=s||null!=l){let t=h.target;if(null!=s){const e=u(s)?s:s.id;t?t.cell=e:t=h.target={cell:e}}null!=l&&t&&(t.port=l)}else null!=c&&(h.target=Yc.create(c).toJSON());return super.preprocess(h,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,n={}){return this.setTerminal("source",t,e,n)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,n={}){return this.setTerminal("target",t,e,n)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,n,i={}){if(lv.isCell(e))return this.store.set(t,r.merge({},n,{cell:e.id}),i),this;const o=e;return Yc.isPoint(e)||null!=o.x&&null!=o.y?(this.store.set(t,r.merge({},n,{x:o.x,y:o.y}),i),this):(this.store.set(t,r.cloneDeep(e),i),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(Yc.isPointLike(e))return Yc.create(e);const n=this.getTerminalCell(t);return n?n.getConnectionPoint(this,t):new Yc}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e="source"===t?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const n={};for(;e&&e.isEdge();){if(n[e.id])return null;n[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){null==t?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,n){return"object"==typeof t?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},n),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){null==t?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,n){return"object"==typeof t?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},n),this}removeConnector(t={}){return this.store.remove("connector",t)}get strategy(){return this.getStrategy()}set strategy(t){null==t?this.removeStrategy():this.setStrategy(t)}getStrategy(){return this.store.get("strategy")}setStrategy(t,e,n){return"object"==typeof t?this.store.set("strategy",t,e):this.store.set("strategy",{name:t,args:e},n),this}removeStrategy(t={}){return this.store.remove("strategy",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return r.cloneDeep(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,n={}){const i=this.getLabels(),r=i.length;let o=null!=e&&Number.isFinite(e)?e:r;return o<0&&(o=r+o+1),i.splice(o,0,this.parseLabel(t)),this.setLabels(i,n)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return null!=t&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,n={}){if(null!=t&&Number.isFinite(t)){const i=this.getLabels();i[t]=this.parseLabel(e),this.setLabels(i,n)}return this}removeLabelAt(t,e={}){const n=this.getLabels(),i=null!=t&&Number.isFinite(t)?t:-1,r=n.splice(i,1);return this.setLabels(n,e),r.length?r[0]:null}parseLabel(t){if("string"==typeof t){return this.constructor.parseStringLabel(t)}return t}onLabelsChanged({previous:t,current:e}){const n=t&&e?e.filter(e=>t.find(t=>e===t||r.isEqual(e,t))?null:e):e?[...e]:[],i=t&&e?t.filter(t=>e.find(e=>t===e||r.isEqual(t,e))?null:t):t?[...t]:[];n.length>0&&this.notify("labels:added",{added:n,cell:this,edge:this}),i.length>0&&this.notify("labels:removed",{removed:i,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(t){this.setVertexMarkup(t)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||Qf.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(t,e={}){return this.store.set("vertexMarkup",Qf.clone(t),e),this}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const n=Array.isArray(t)?t:[t];return this.store.set("vertices",n.map(t=>Yc.toJSON(t)),e),this}insertVertex(t,e,n={}){const i=this.getVertices(),r=i.length;let o=null!=e&&Number.isFinite(e)?e:r;return o<0&&(o=r+o+1),i.splice(o,0,Yc.toJSON(t)),this.setVertices(i,n)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){if(null!=t&&Number.isFinite(t)){return this.getVertices()[t]}return null}setVertexAt(t,e,n={}){if(null!=t&&Number.isFinite(t)){const i=this.getVertices();i[t]=e,this.setVertices(i,n)}return this}removeVertexAt(t,e={}){const n=this.getVertices(),i=null!=t&&Number.isFinite(t)?t:-1;return n.splice(i,1),this.setVertices(n,e)}onVertexsChanged({previous:t,current:e}){const n=t&&e?e.filter(e=>t.find(t=>Yc.equals(e,t))?null:e):e?[...e]:[],i=t&&e?t.filter(t=>e.find(e=>Yc.equals(t,e))?null:t):t?[...t]:[];n.length>0&&this.notify("vertexs:added",{added:n,cell:this,edge:this}),i.length>0&&this.notify("vertexs:removed",{removed:i,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Qf.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(t){this.setToolMarkup(t)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||Qf.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(t,e={}){return this.store.set("toolMarkup",t,e),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(t){this.setDoubleToolMarkup(t)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(t,e={}){return this.store.set("doubleToolMarkup",t,e),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(t){this.setArrowheadMarkup(t)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||Qf.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(t,e={}){return this.store.set("arrowheadMarkup",t,e),this}translate(t,e,n={}){return n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(n=>({x:(n.x||0)+t,y:(n.y||0)+e}),n)}scale(t,e,n,i={}){return this.applyToPoints(i=>Yc.create(i).scale(t,e,n).toJSON(),i)}applyToPoints(t,e={}){const n={},i=this.getSource(),r=this.getTarget();Yc.isPointLike(i)&&(n.source=t(i)),Yc.isPointLike(r)&&(n.target=t(r));const o=this.getVertices();return o.length>0&&(n.vertices=o.map(t)),this.store.set(n,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),this.getTargetPoint()];return this.getVertices().forEach(e=>t.push(Yc.create(e))),new Zc(t)}updateParent(t){let e=null;const n=this.getSourceCell(),i=this.getTargetCell(),r=this.getParent();return n&&i&&(e=n===i||n.isDescendantOf(i)?i:i.isDescendantOf(n)?n:lv.getCommonAncestor(n,i)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),n=this.getTarget(),i=e.cell,r=n.cell;if(!i||!r)return!1;let o=i===r;if(!o&&t.deep&&this._model){const e=this.getSourceCell(),n=this.getTargetCell();e&&n&&(o=e.isAncestorOf(n,t)||n.isAncestorOf(e,t))}return o}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(t=>null!=t);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}Cv.defaults={},(Cv||(Cv={})).equalTerminals=function(t,e){const n=t,i=e;return n.cell===i.cell&&(n.port===i.port||null==n.port&&null==i.port)},function(t){t.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},t.parseStringLabel=function(t){return{attrs:{label:{text:t}}}}}(Cv||(Cv={})),function(t){t.toStringTag="X6."+t.name,t.isEdge=function(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&"function"==typeof i.isNode&&"function"==typeof i.isEdge&&"function"==typeof i.prop&&"function"==typeof i.attr&&"function"==typeof i.disconnect&&"function"==typeof i.getSource&&"function"==typeof i.getTarget}}(Cv||(Cv={})),function(t){t.registry=Iu.create({type:"edge",process(e,n){if(ov.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if("function"==typeof n)return n.config({shape:e}),n;let i=t;const{inherit:r="edge"}=n,o=wv(n,["inherit"]);if("string"==typeof r){const t=this.get(r||"edge");null==t&&r?this.onNotFound(r,"inherited"):i=t}else i=r;null==o.constructorName&&(o.constructorName=e);const a=i.define.call(i,o);return a.config({shape:e}),a}}),ov.setEdgeRegistry(t.registry)}(Cv||(Cv={})),function(t){let e=0;t.define=function(n){const{constructorName:i,overwrite:a}=n,s=wv(n,["constructorName","overwrite"]),l=r.createClass(function(t){return t?o.pascalCase(t):(e+=1,"CustomEdge"+e)}(i||s.shape),this);return l.config(s),s.shape&&t.registry.register(s.shape,l,a),l},t.create=function(e){const n=e.shape||"edge",i=t.registry.get(n);return i?new i(e):t.registry.onNotFound(n)}}(Cv||(Cv={})),function(t){t.config({shape:"basic.edge",propHooks(e){const{label:n,vertices:i}=e,r=wv(e,["label","vertices"]);if(n){null==r.labels&&(r.labels=[]);const e="string"==typeof n?t.parseStringLabel(n):n;r.labels.push(e)}return i&&Array.isArray(i)&&(r.vertices=i.map(t=>Yc.create(t).toJSON())),r}}),t.registry.register("basic.edge",t)}(Cv||(Cv={}));var _v,Sv,Ov=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class Mv extends lg{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return Mv.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const t=this.cell.getSource();return new Xc(t.x,t.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new Xc(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const t=this.cell.getTarget();return new Xc(t.x,t.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new Xc(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let n=t;if(this.hasAction(n,"source")){if(!this.updateTerminalProperties("source"))return n;n=this.removeAction(n,"source")}if(this.hasAction(n,"target")){if(!this.updateTerminalProperties("target"))return n;n=this.removeAction(n,"target")}const i=this.graph,r=this.sourceView,o=this.targetView;return i&&(r&&!i.renderer.isViewMounted(r)||o&&!i.renderer.isViewMounted(o))?n:this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","vertices","labels","tools","widget"]),n):(n=this.handleAction(n,"vertices",()=>this.renderVertexMarkers()),n=this.handleAction(n,"update",()=>this.update(null,e)),n=this.handleAction(n,"labels",()=>this.onLabelsChange(e)),n=this.handleAction(n,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),n=this.handleAction(n,"widget",()=>this.renderExternalTools()),n)}onLabelsChange(t={}){this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(null==e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const n=t.propertyPathArray||[],i=n.length;if(i>1){if(e[n[1]]){if(2===i)return"object"==typeof t.propertyValue&&r.has(t.propertyValue,"markup");if("markup"!==n[2])return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this}renderMarkup(){const t=this.cell.markup;if(t)return"string"==typeof t?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}renderStringMarkup(t){const e=this.containers,n=vh.createVectors(t);n.forEach(t=>{const n=t.attr("class");n&&(e[o.camelCase(n)]=t.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),c.append(this.container,n.map(t=>t.node))}renderLabels(){const t=this.cell,e=t.getLabels(),n=e.length;let i=this.containers.labels;if(this.labelCache={},this.labelSelectors={},n<=0)return i&&i.parentNode&&i.parentNode.removeChild(i),this;i?this.empty(i):(i=c.createSvgElement("g"),this.addClass(this.prefixClassName("edge-labels"),i),this.containers.labels=i);for(let n=0,r=e.length;n<r;n+=1){const r=e[n],o=this.normalizeLabelMarkup(this.parseLabelMarkup(r.markup));let a,s;if(o)a=o.node,s=o.selectors;else{const e=t.getDefaultLabel(),n=this.normalizeLabelMarkup(this.parseLabelMarkup(e.markup));a=n.node,s=n.selectors}a.setAttribute("data-index",""+n),i.appendChild(a);const l=this.rootSelector;if(s[l])throw new Error("Ambiguous label root selector.");s[l]=a,this.labelCache[n]=a,this.labelSelectors[n]=s}return null==i.parentNode&&this.container.appendChild(i),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(t){return t?"string"==typeof t?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=vh.createVectors(t),n=document.createDocumentFragment();for(let t=0,i=e.length;t<i;t+=1){const i=e[t].node;n.appendChild(i)}return{fragment:n,selectors:{}}}normalizeLabelMarkup(t){if(null==t)return;const e=t.fragment;if(!(e instanceof DocumentFragment&&e.hasChildNodes()))throw new Error("Invalid label markup.");let n;const i=e.childNodes;return n=i.length>1||"G"!==i[0].nodeName.toUpperCase()?vh.create("g").append(e):vh.create(i[0]),n.addClass(this.prefixClassName("edge-label")),{node:n.node,selectors:t.selectors}}updateLabels(){if(this.containers.labels){const t=this.cell,e=t.labels,n=this.can("edgeLabelMovable"),i=t.getDefaultLabel();for(let t=0,o=e.length;t<o;t+=1){const o=this.labelCache[t],a=this.labelSelectors[t];o.setAttribute("cursor",n?"move":"default");const s=e[t],l=r.merge({},i.attrs,s.attrs);this.updateAttrs(o,l,{selectors:a,rootBBox:s.size?Xc.fromSize(s.size):void 0})}}}mergeLabelAttrs(t,e,n){if(null===e)return null;if(void 0===e){if(null===n)return null;if(void 0===n)return;return t?n:r.merge({},n)}return t?r.merge({},n,e):void 0}customizeLabels(){if(this.containers.labels){const t=this.cell,e=t.labels;for(let n=0,i=e.length;n<i;n+=1){const i=e[n],r=this.labelCache[n],o=this.labelSelectors[n];this.graph.hook.onEdgeLabelRendered({edge:t,label:i,container:r,selectors:o})}}}renderTools(){const t=this.containers.tools;if(null==t)return this;const e=this.cell.toolMarkup,n=this.$(t).empty();if(Qf.isStringMarkup(e)){let t=o.template(e);const i=vh.create(t());if(n.append(i.node),this.toolCache=i.node,this.options.doubleTools){let e;const r=this.cell.doubleToolMarkup;Qf.isStringMarkup(r)?(t=o.template(r),e=vh.create(t())):e=i.clone(),n.append(e.node),this.tool2Cache=e.node}}return this}renderExternalTools(){const t=this.cell.getTools();return this.addTools(t),this}renderVertexMarkers(){const t=this.containers.vertices;if(null==t)return this;const e=this.cell.vertexMarkup,n=this.$(t).empty();if(Qf.isStringMarkup(e)){const t=o.template(e);this.cell.getVertices().forEach((e,i)=>{n.append(vh.create(t(Object.assign({index:i},e))).node)})}return this}renderArrowheadMarkers(){const t=this.containers.arrowheads;if(null==t)return this;const e=this.cell.arrowheadMarkup,n=this.$(t).empty();if(Qf.isStringMarkup(e)){const t=o.template(e),i=vh.create(t({end:"source"})).node,r=vh.create(t({end:"target"})).node;this.containers.sourceArrowhead=i,this.containers.targetArrowhead=r,n.append(i,r)}return this}update(t,e={}){this.cleanCache(),this.updateConnection(e);const n=this.cell.getAttrs();return null!=n&&this.updateAttrs(this.container,n,{attrs:t===n?null:t,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),null==e.toolId?this.renderExternalTools():this.updateTools(e),this}removeRedundantLinearVertices(t={}){const e=this.cell,n=e.getVertices(),i=[this.sourceAnchor,...n,this.targetAnchor],r=i.length,o=new Zc(i);o.simplify({threshold:.01});const a=o.points.map(t=>t.toJSON()),s=a.length;return r===s?0:(e.setVertices(a.slice(1,s-1),t),r-s)}updateConnectionPath(){const t=this.containers;if(t.connection){const e=this.getConnectionPathData();t.connection.setAttribute("d",e)}if(t.connectionWrap){const e=this.getConnectionPathData();t.connectionWrap.setAttribute("d",e)}t.sourceMarker&&t.targetMarker&&this.translateAndAutoOrientArrows(t.sourceMarker,t.targetMarker)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return Yc.create(this.sourceAnchor);case"target":return Yc.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return Yc.create(this.sourcePoint);case"target":return Yc.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const t=this.sourceView;return t?this.sourceMagnet||t.container:null}case"target":{if(e.raw)return this.targetMagnet;const t=this.targetView;return t?this.targetMagnet||t.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const e=t.tx||0,n=t.ty||0;this.routePoints=new Zc(this.routePoints).translate(e,n).points,this.translateConnectionPoints(e,n),this.path.translate(e,n)}else{const t=e.getVertices(),n=this.findAnchors(t);this.sourceAnchor=n.source,this.targetAnchor=n.target,this.routePoints=this.findRoutePoints(t);const i=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=i.source,this.targetPoint=i.target;const r=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,r.source||this.sourcePoint,r.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,n=e.source,i=e.target,r=t[0],o=t[t.length-1];return i.priority&&!n.priority?this.findAnchorsOrdered("target",o,"source",r):this.findAnchorsOrdered("source",r,"target",o)}findAnchorsOrdered(t,e,n,i){let r,o;const a=this.cell,s=a[t],l=a[n],c=this.getTerminalView(t),h=this.getTerminalView(n),u=this.getTerminalMagnet(t),d=this.getTerminalMagnet(n);if(c){let n;n=e?Yc.create(e):h?d:Yc.create(l),r=this.getAnchor(s.anchor,c,u,n,t)}else r=Yc.create(s);if(h){const t=Yc.create(i||r);o=this.getAnchor(l.anchor,h,d,t,n)}else o=Yc.isPointLike(l)?Yc.create(l):new Yc;return{[t]:r,[n]:o}}getAnchor(t,e,n,i,r){const o=e.isEdgeElement(n),a=this.graph.options.connecting;let l,c="string"==typeof t?{name:t}:t;if(!c){const t=o?("source"===r?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:("source"===r?a.sourceAnchor:a.targetAnchor)||a.anchor;c="string"==typeof t?{name:t}:t}if(!c)throw new Error("Anchor should be specified.");const h=c.name;if(o){const t=Qg.registry.get(h);if("function"!=typeof t)return Qg.registry.onNotFound(h);l=s.call(t,this,e,n,i,c.args||{},r)}else{const t=Yg.registry.get(h);if("function"!=typeof t)return Yg.registry.onNotFound(h);l=s.call(t,this,e,n,i,c.args||{},r)}return l?l.round(this.POINT_ROUNDING):new Yc}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||Gm.presets.normal,n=this.cell.getRouter()||e;let i;if("function"==typeof n)i=s.call(n,this,t,{},this);else{const e="string"==typeof n?n:n.name,r="string"==typeof n?{}:n.args||{},o=e?Gm.registry.get(e):Gm.presets.normal;if("function"!=typeof o)return Gm.registry.onNotFound(e);i=s.call(o,this,t,r,this)}return null==i?t.map(t=>Yc.create(t)):i.map(t=>Yc.create(t))}findConnectionPoints(t,e,n){const i=this.cell,r=this.graph.options.connecting,o=i.getSource(),a=i.getTarget(),s=this.sourceView,l=this.targetView,c=t[0],h=t[t.length-1];let u,d;if(s&&!s.isEdgeElement(this.sourceMagnet)){const t=this.sourceMagnet||s.container,i=new qc(c||n,e),a=o.connectionPoint||r.sourceConnectionPoint||r.connectionPoint;u=this.getConnectionPoint(a,s,t,i,"source")}else u=e;if(l&&!l.isEdgeElement(this.targetMagnet)){const t=this.targetMagnet||l.container,i=a.connectionPoint||r.targetConnectionPoint||r.connectionPoint,o=new qc(h||e,n);d=this.getConnectionPoint(i,l,t,o,"target")}else d=n;return{source:u,target:d}}getConnectionPoint(t,e,n,i,r){const o=i.end;if(null==t)return o;const a="string"==typeof t?t:t.name,l="string"==typeof t?{}:t.args,c=sm.registry.get(a);if("function"!=typeof c)return sm.registry.onNotFound(a);const h=s.call(c,this,i,e,n,l||{},r);return h?h.round(this.POINT_ROUNDING):o}updateMarkerAttr(t){const e=this.cell.getAttrs(),n=`.${t}-marker`,i=e&&e[n];i&&this.updateAttrs(this.container,{},{attrs:{[n]:i},selectors:this.selectors})}findMarkerPoints(t,e,n){const i=t=>{const e=this.cell.getAttrs(),n=Object.keys(e);for(let i=0,r=n.length;i<r;i+=1){const r=e[n[i]];if(r[t+"Marker"]||r[t+"-marker"]){const t=r.strokeWidth||r["stroke-width"];if(t)return parseFloat(t);break}}return null},r=t[0],o=t[t.length-1],a=this.containers.sourceMarker,s=this.containers.targetMarker,l=this.markerCache;let h,u;if(a){if(this.updateMarkerAttr("source"),l.sourceBBox=l.sourceBBox||c.getBBox(a),l.sourceBBox.width>0){const t=c.scale(a);h=e.clone().move(r||n,l.sourceBBox.width*t.sx*-1)}}else{const t=i("source");t&&(h=e.clone().move(r||n,-t))}if(s){if(this.updateMarkerAttr("target"),l.targetBBox=l.targetBBox||c.getBBox(s),l.targetBBox.width>0){const t=c.scale(s);u=n.clone().move(o||e,l.targetBBox.width*t.sx*-1)}}else{const t=i("target");t&&(u=n.clone().move(o||e,-t))}return l.sourcePoint=h||e.clone(),l.targetPoint=u||n.clone(),{source:h,target:u}}findPath(t,e,n){const i=this.cell.getConnector()||this.graph.options.connecting.connector;let r,o,a;if("string"==typeof i?r=i:(r=i.name,o=i.args),r){const t=tv.registry.get(r);if("function"!=typeof t)return tv.registry.onNotFound(r);a=t}else a=tv.presets.normal;const l=s.call(a,this,e,n,t,Object.assign(Object.assign({},o),{raw:!0}),this);return"string"==typeof l?gh.parse(l):l}translateConnectionPoints(t,e){const n=this.markerCache;n.sourcePoint&&n.sourcePoint.translate(t,e),n.targetPoint&&n.targetPoint.translate(t,e),this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e)}updateLabelPositions(){if(null==this.containers.labels)return this;if(!this.path)return this;const t=this.cell,e=t.getLabels();if(0===e.length)return this;const n=t.getDefaultLabel(),i=this.normalizeLabelPosition(n.position);for(let t=0,n=e.length;t<n;t+=1){const n=e[t],o=this.normalizeLabelPosition(n.position),a=r.merge({},i,o),s=this.getLabelTransformationMatrix(a);this.labelCache[t].setAttribute("transform",c.matrixToTransformString(s))}return this}updateToolsPosition(){if(null==this.containers.tools)return this;let t="",e=this.options.toolsOffset;const n=this.getConnectionLength();if(null!=n){n<this.options.shortLength&&(t="scale(.5)",e/=2);let i=this.getPointAtLength(e);if(null!=i&&c.attr(this.toolCache,"transform",`translate(${i.x},${i.y}) ${t}`),this.options.doubleTools&&n>=this.options.longLength){const r=this.options.doubleToolsOffset||e;i=this.getPointAtLength(n-r),null!=i&&c.attr(this.tool2Cache,"transform",`translate(${i.x},${i.y}) ${t}`),c.attr(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&c.attr(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const t=this.containers.arrowheads;if(null==t)return this;if("none"===t.style.display)return this;const e=this.containers.sourceArrowhead,n=this.containers.targetArrowhead;if(e&&n){const t=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;c.scale(e,t),c.scale(n,t),this.translateAndAutoOrientArrows(e,n)}return this}updateTerminalProperties(t){const e=this.cell,n=this.graph,i=e[t],r=i&&i.cell,o=t+"View";if(!r)return this[o]=null,this.updateTerminalMagnet(t),!0;const a=n.getCellById(r);if(!a)throw new Error(`Edge's ${t} node with id "${r}" not exists`);const s=a.findView(n);return!!s&&(this[o]=s,this.updateTerminalMagnet(t),!0)}updateTerminalMagnet(t){const e=t+"Magnet",n=this.getTerminalView(t);if(n){let i=n.getMagnetFromEdgeTerminal(this.cell[t]);i===n.container&&(i=null),this[e]=i}else this[e]=null}translateAndAutoOrientArrows(t,e){const n=this.routePoints;t&&c.translateAndAutoOrient(t,this.sourcePoint,n[0]||this.targetPoint,this.graph.view.stage),e&&c.translateAndAutoOrient(e,this.targetPoint,n[n.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&"object"==typeof e.position&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&"object"==typeof e.position)return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&"object"==typeof t.position)return t.position.options}mergeLabelPositionArgs(t,e){return null===t?null:void 0===t?null===e?null:e:r.merge({},e,t)}addLabel(t,e,n,i){let r,o,a,s=0;"number"!=typeof t?(r=t.x,o=t.y,"number"==typeof e?(s=e,a=n):a=e):(r=t,o=e,"number"==typeof n?(s=n,a=i):a=n);const l=this.getDefaultLabelPositionArgs(),c=a,h=this.mergeLabelPositionArgs(c,l),u={position:this.getLabelPosition(r,o,s,h)};return this.cell.insertLabel(u,-1,a),-1}addVertex(t,e,n){const i="number"!=typeof t,r=i?t.x:t,o=i?t.y:e,a=i?e:n,s={x:r,y:o},l=this.getVertexIndex(r,o);return this.cell.insertVertex(s,l,a),l}sendToken(t,e,n){let i,r,o,a,s="linear";"object"==typeof e?(i=e.duration,r=!0===e.reversed,o=e.selector,!1===e.rotate?a="":!0===e.rotate?a="auto":null!=e.rotate&&(a=""+e.rotate),e.timing&&(s=e.timing)):(i=e,r=!1,o=null),i=i||1e3;const l={dur:i+"ms",repeatCount:"1",calcMode:s,fill:"freeze"};if(a&&(l.rotate=a),r&&(l.keyPoints="1;0",l.keyTimes="0;1"),"object"==typeof e){const{duration:t,reversed:n,selector:i,rotate:r,timing:o}=e,a=Ov(e,["duration","reversed","selector","rotate","timing"]);Object.keys(a).forEach(t=>{l[t]=a[t]})}let h;if(h="string"==typeof o?this.findOne(o,this.container,this.selectors):this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(h instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const u="string"==typeof t?this.findOne(t):t;if(null==u)throw new Error("Token animation requires a valid token element.");const d=u.parentNode,p=()=>{d||c.remove(u)},f=vh.create(u);d||f.appendTo(this.graph.view.stage);const g=l.complete;l.complete=t=>{p(),n&&n(),g&&g(t)};const m=f.animateAlongPath(l,h);return()=>{p(),m()}}getConnection(){return null!=this.path?this.path.clone():null}getConnectionPathData(){if(null==this.path)return"";const t=this.cache.pathCache;return r.has(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(null==this.path)return null;const t=this.cache.pathCache;return r.has(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(null==this.path)return 0;const t=this.cache.pathCache;return r.has(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return null==this.path?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return null==this.path?null:(a.isPercentage(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return null==this.path?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return null==this.path?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return null==this.path?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return null==this.path?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return null==this.path?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,n,i){const r={distance:0};let o,a=0;"number"==typeof n?(a=n,o=i):o=n,null!=o&&(r.options=o);const s=o&&o.absoluteOffset,l=!(o&&o.absoluteDistance),c=o&&o.absoluteDistance&&o.reverseDistance,h=this.path,u={segmentSubdivisions:this.getConnectionSubdivisions()},d=new Yc(t,e),p=h.closestPointT(d,u),f=this.getConnectionLength()||0;let g,m,v=h.lengthAtT(p,u);if(l&&(v=f>0?v/f:0),c&&(v=-1*(f-v)||1),r.distance=v,s||(g=h.tangentAtT(p)),g)m=g.pointOffset(d);else{const t=h.pointAtT(p),e=d.diff(t);m={x:e.x,y:e.y}}return r.offset=m,r.angle=a,r}normalizeLabelPosition(t){return"number"==typeof t?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),n=e.options||{},i=e.angle||0,r=e.distance,o=r>0&&r<=1;let a=0;const s={x:0,y:0},l=e.offset;l&&("number"==typeof l?a=l:(null!=l.x&&(s.x=l.x),null!=l.y&&(s.y=l.y)));const h=0!==s.x||0!==s.y||0===a,u=n.keepGradient,d=n.ensureLegibility,p=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},g=o?r*this.getConnectionLength():r,m=p.tangentAtLength(g,f);let v,y=i;if(m){if(h)v=m.start,v.translate(s);else{const t=m.clone();t.rotate(-90,m.start),t.setLength(a),v=t.end}u&&(y=m.angle()+i,d&&(y=Ac.normalize((y+90)%180-90)))}else v=p.start,h&&v.translate(s);return c.createSVGMatrix().translate(v.x,v.y).rotate(y)}getLabelCoordinates(t){const e=this.getLabelTransformationMatrix(t);return new Yc(e.e,e.f)}getVertexIndex(t,e){const n=this.cell.getVertices(),i=this.getClosestPointLength(new Yc(t,e));let r=0;if(null!=i)for(const t=n.length;r<t;r+=1){const t=n[r],e=this.getClosestPointLength(t);if(null!=e&&i<e)break}return r}getEventArgs(t,e,n){const i=this,r=i.cell;return null==e||null==n?{e:t,view:i,edge:r,cell:r}:{e:t,x:e,y:n,view:i,edge:r,cell:r}}notifyUnhandledMouseDown(t,e,n){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("edge:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("edge:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("edge:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("edge:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("edge:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("edge:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.notifyMouseDown(t,e,n);switch(t.target.getAttribute("class")){case"vertex":return void this.startVertexDragging(t,e,n);case"vertex-remove":case"vertex-remove-area":return void this.handleVertexRemoving(t,e,n);case"connection":case"connection-wrap":return void this.handleVertexAdding(t,e,n);case"arrowhead":return void this.startArrowheadDragging(t,e,n);case"source-marker":case"target-marker":return void this.notifyUnhandledMouseDown(t,e,n)}this.startEdgeDragging(t,e,n)}onMouseMove(t,e,n){const i=this.getEventData(t);switch(i.action){case"drag-vertex":this.dragVertex(t,e,n);break;case"drag-label":this.dragLabel(t,e,n);break;case"drag-arrowhead":this.dragArrowhead(t,e,n);break;case"drag-edge":this.dragEdge(t,e,n)}return this.notifyMouseMove(t,e,n),i}onMouseUp(t,e,n){const i=this.getEventData(t);switch(i.action){case"drag-vertex":this.stopVertexDragging(t,e,n);break;case"drag-label":this.stopLabelDragging(t,e,n);break;case"drag-arrowhead":this.stopArrowheadDragging(t,e,n);break;case"drag-edge":this.stopEdgeDragging(t,e,n)}return this.notifyMouseUp(t,e,n),this.checkMouseleave(t),i}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,i){super.onMouseWheel(t,e,n,i),this.notify("edge:mousewheel",Object.assign({delta:i},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,i){if(c.findParentByClass(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===e)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,i)))}this.notifyMouseDown(t,n,i)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,i))),super.onCustomEvent(t,e,n,i)}onLabelMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startLabelDragging(t,e,n);this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,n){this.can("edgeMovable")?this.setEventData(t,{x:e,y:n,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(t,e,n)}dragEdge(t,e,n){const i=this.getEventData(t);i.moving||(i.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-i.x,n-i.y,{ui:!0}),this.setEventData(t,{x:e,y:n}),this.notify("edge:moving",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,n){const i=this.getEventData(t);i.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),i.moving=!1}prepareArrowheadDragging(t,e){const n=this.getTerminalMagnet(t),i={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:!0===e.isNewEdge,terminalType:t,initialMagnet:n,initialTerminal:r.clone(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(i),i}createValidateConnectionArgs(t){const e=[];let n;e[4]=t,e[5]=this;let i=0,r=0;"source"===t?(i=2,n="target"):(r=2,n="source");const o=this.cell[n],a=o.cell;if(a){let t;const n=e[i]=this.graph.renderer.findViewByCell(a);n&&(t=n.getMagnetFromEdgeTerminal(o),t===n.container&&(t=void 0)),e[i+1]=t}return(t,n)=>(e[r]=t,e[r+1]=t.container===n?void 0:n,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){null!=t.zIndex&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);this.container.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}arrowheadDragging(t,e,n,i){i.x=e,i.y=n,i.currentTarget!==t&&(i.currentMagnet&&i.currentView&&i.currentView.unhighlight(i.currentMagnet,{type:"magnetAdsorbed"}),i.currentView=this.graph.renderer.findViewByElem(t),i.currentView?(i.currentMagnet=i.currentView.findMagnet(t),i.currentMagnet&&this.graph.hook.validateConnection(...i.getValidateConnectionArgs(i.currentView,i.currentMagnet),i.currentView.getEdgeTerminal(i.currentMagnet,e,n,this.cell,i.terminalType))?i.currentView.highlight(i.currentMagnet,{type:"magnetAdsorbed"}):i.currentMagnet=null):i.currentMagnet=null),i.currentTarget=t,this.cell.prop(i.terminalType,{x:e,y:n},Object.assign(Object.assign({},i.options),{ui:!0}))}arrowheadDragged(t,e,n){const i=t.currentView,r=t.currentMagnet;if(!r||!i)return;i.unhighlight(r,{type:"magnetAdsorbed"});const o=t.terminalType,a=i.getEdgeTerminal(r,e,n,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}snapArrowhead(t,e,n){const i=this.graph,r=i.options.connecting.snap,o="object"==typeof r&&r.radius||50,a=i.renderer.findViewsInArea({x:t-o,y:e-o,width:2*o,height:2*o}),s=n.closestView||null,l=n.closestMagnet||null;let c;n.closestView=null,n.closestMagnet=null;let h=Number.MAX_SAFE_INTEGER;const u=new Yc(t,e);let d;a.forEach(r=>{"false"!==r.container.getAttribute("magnet")&&(c=r.cell.getBBox().getCenter().distance(u),c<o&&c<h&&(l===r.container||i.hook.validateConnection(...n.getValidateConnectionArgs(r,null),r.getEdgeTerminal(r.container,t,e,this.cell,n.terminalType)))&&(h=c,n.closestView=r,n.closestMagnet=r.container)),r.container.querySelectorAll("[magnet]").forEach(a=>{if("false"!==a.getAttribute("magnet")){const s=r.getBBoxOfElement(a);c=u.distance(s.getCenter()),c<o&&c<h&&(l===a||i.hook.validateConnection(...n.getValidateConnectionArgs(r,a),r.getEdgeTerminal(a,t,e,this.cell,n.terminalType)))&&(h=c,n.closestView=r,n.closestMagnet=a)}})});const p=n.terminalType,f=n.closestView,g=n.closestMagnet,m=l!==g;if(s&&m&&s.unhighlight(l,{type:"magnetAdsorbed"}),f){if(!m)return;f.highlight(g,{type:"magnetAdsorbed"}),d=f.getEdgeTerminal(g,t,e,this.cell,p)}else d={x:t,y:e};this.cell.setTerminal(p,d,{},Object.assign(Object.assign({},n.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(n)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0})}}notifyConnectionEvent(t,e){const n=t.terminalType,i=t.initialTerminal,r=this.cell[n];if(r&&!Cv.equalTerminals(i,r)){const o=this.graph,a=i,s=a.cell?o.getCellById(a.cell):null,l=a.port,c=s?o.findViewByCell(s):null,h=s||t.isNewEdge?null:Yc.create(i).toJSON(),u=r,d=u.cell?o.getCellById(u.cell):null,p=u.port,f=d?o.findViewByCell(d):null,g=d?null:Yc.create(r).toJSON();this.notify("edge:connected",{e:e,previousCell:s,previousPort:l,previousView:c,previousPoint:h,currentCell:d,currentView:f,currentPort:p,currentPoint:g,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:n,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,n=e.model.getCells();t.marked={};for(let i=0,r=n.length;i<r;i+=1){const r=e.renderer.findViewByCell(n[i]);if(!r)continue;const o=Array.prototype.slice.call(r.container.querySelectorAll("[magnet]"));"false"!==r.container.getAttribute("magnet")&&o.push(r.container);const a=o.filter(n=>e.hook.validateConnection(...t.getValidateConnectionArgs(r,n),r.getEdgeTerminal(n,t.x,t.y,this.cell,t.terminalType)));if(a.length>0){for(let t=0,e=a.length;t<e;t+=1)r.highlight(a[t],{type:"magnetAvailable"});r.highlight(null,{type:"nodeAvailable"}),t.marked[r.cell.id]=a}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(t=>{const n=this.graph.renderer.findViewByCell(t);if(n){e[t].forEach(t=>{n.unhighlight(t,{type:"magnetAvailable"})}),n.unhighlight(null,{type:"nodeAvailable"})}}),t.marked=null}startArrowheadDragging(t,e,n){if(!this.can("arrowheadMovable"))return void this.notifyUnhandledMouseDown(t,e,n);const i=t.target.getAttribute("data-terminal"),r=this.prepareArrowheadDragging(i,{x:e,y:n});this.setEventData(t,r)}dragArrowhead(t,e,n){const i=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,n,i):this.arrowheadDragging(this.getEventTarget(t),e,n,i)}stopArrowheadDragging(t,e,n){const i=this.graph,r=this.getEventData(t);i.options.connecting.snap?this.snapArrowheadEnd(r):this.arrowheadDragged(r,e,n);i.hook.validateEdge(this.cell,r.terminalType,r.initialTerminal)?(this.finishEmbedding(r),this.notifyConnectionEvent(r,t)):this.fallbackConnection(r),this.afterArrowheadDragging(r)}startLabelDragging(t,e,n){if(this.can("edgeLabelMovable")){const e=t.currentTarget,n=parseInt(e.getAttribute("data-index"),10),i=this.getLabelPositionAngle(n),r=this.getLabelPositionArgs(n),o=this.getDefaultLabelPositionArgs(),a=this.mergeLabelPositionArgs(r,o);this.setEventData(t,{index:n,positionAngle:i,positionArgs:a,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,n){const i=this.getEventData(t),o=this.cell.getLabelAt(i.index),a=r.merge({},o,{position:this.getLabelPosition(e,n,i.positionAngle,i.positionArgs)});this.cell.setLabelAt(i.index,a)}stopLabelDragging(t,e,n){}handleVertexAdding(t,e,n){if(!this.can("vertexAddable"))return void this.notifyUnhandledMouseDown(t,e,n);const i=this.addVertex({x:e,y:n},{ui:!0});this.setEventData(t,{index:i,action:"drag-vertex"})}handleVertexRemoving(t,e,n){if(!this.can("vertexDeletable"))return void this.notifyUnhandledMouseDown(t,e,n);const i=t.target,r=parseInt(i.getAttribute("idx"),10);this.cell.removeVertexAt(r)}startVertexDragging(t,e,n){if(!this.can("vertexMovable"))return void this.notifyUnhandledMouseDown(t,e,n);const i=t.target,r=parseInt(i.getAttribute("idx"),10);this.setEventData(t,{index:r,action:"drag-vertex"})}dragVertex(t,e,n){const i=this.getEventData(t);this.cell.setVertexAt(i.index,{x:e,y:n},{ui:!0})}stopVertexDragging(t,e,n){}}(_v=Mv||(Mv={})).toStringTag="X6."+_v.name,_v.isEdgeView=function(t){if(null==t)return!1;if(t instanceof _v)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===_v.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate&&"function"==typeof n.update&&"function"==typeof n.getConnection},Mv.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50}),Mv.registry.register("edge",Mv,!0);class kv extends lg{constructor(){super(...arguments),this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=Qf.getPortMarkup(),this.defaultPortLabelMarkup=Qf.getPortLabelMarkup(),this.defaultPortContainerMarkup=Qf.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return kv.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const t=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?c.removeClass(e,t):c.addClass(e,t)}else{const t=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(t):this.addClass(t)}}isNodeView(){return!0}confirmUpdate(t,e={}){let n=t;return this.hasAction(n,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","resize","translate","rotate","ports","tools"])):(n=this.handleAction(n,"resize",()=>this.resize(e),"update"),n=this.handleAction(n,"update",()=>this.update(),Rp.useCSSSelector?"ports":null),n=this.handleAction(n,"translate",()=>this.translate()),n=this.handleAction(n,"rotate",()=>this.rotate()),n=this.handleAction(n,"ports",()=>this.renderPorts()),n=this.handleAction(n,"tools",()=>this.renderTools())),n}update(t){this.cleanCache(),Rp.useCSSSelector&&this.removePorts();const e=this.cell,n=e.getSize(),i=e.getAttrs();this.updateAttrs(this.container,i,{attrs:t===i?null:t,rootBBox:new Xc(0,0,n.width,n.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),Rp.useCSSSelector&&this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t)return"string"==typeof t?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container),n=t=>Array.isArray(t)?t[0]:t;this.selectors=e.selectors,this.rotatableNode=n(this.selectors[this.rotatableSelector]),this.scalableNode=n(this.selectors[this.scalableSelector]),this.container.appendChild(e.fragment)}renderStringMarkup(t){c.append(this.container,vh.toNodes(vh.createVectors(t))),this.rotatableNode=c.findOne(this.container,"."+this.rotatableSelector),this.scalableNode=c.findOne(this.container,"."+this.scalableSelector),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),Rp.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(t={}){if(this.scalableNode)return this.updateSize(t);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode)return this.updateRotation(),void this.update();this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=" "+e),this.container.setAttribute("transform",t)}updateRotation(){if(null!=this.rotatableNode){const t=this.getRotationString();null!=t?this.rotatableNode.setAttribute("transform",t):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(t={}){const e=this.cell,n=e.getSize(),i=e.getAngle(),r=this.scalableNode;let o=!1;r.getElementsByTagName("path").length>0&&(o=!0);const a=c.getBBox(r,{recursive:o}),s=n.width/(a.width||1),l=n.height/(a.height||1);r.setAttribute("transform",`scale(${s},${l})`);const h=this.rotatableNode;if(null!=h){const o=h.getAttribute("transform");if(o){h.setAttribute("transform",`${o} rotate(${-i},${n.width/2},${n.height/2})`);const a=c.getBBox(r,{target:this.graph.view.stage});e.prop("position",{x:a.x,y:a.y},Object.assign({updated:!0},t)),this.translate(),this.rotate()}}this.update()}findPortElem(t,e){const n=t?this.portsCache[t]:null;if(!n)return null;const i=n.portContentElement,r=n.portContentSelectors||{};return this.findOne(e,i,r)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(t=>{const e=this.portsCache[t];c.remove(e.portElement)})}renderPorts(){const t=this.getPortsContainer(),e=[];t.childNodes.forEach(t=>{e.push(t)});const n=i.groupBy(this.cell.getParsedPorts(),"zIndex");n.auto&&n.auto.forEach(n=>{const i=this.getPortElement(n);t.append(i),e.push(i)}),Object.keys(n).forEach(t=>{if("auto"!==t){const i=parseInt(t,10);this.appendPorts(n[t],i,e)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(t,e,n){const i=t.map(t=>this.getPortElement(t));n[e]||e<0?c.before(n[Math.max(e,0)],i):c.append(this.getPortsContainer(),i)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=Qf.renderMarkup(this.getPortContainerMarkup());const n=e.elem;if(null==n)throw new Error("Invalid port container markup.");e=Qf.renderMarkup(this.getPortMarkup(t));const i=e.elem,r=e.selectors;if(null==i)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},i),e=Qf.renderMarkup(this.getPortLabelMarkup(t.label));const o=e.elem,a=e.selectors;if(null==o)throw new Error("Invalid port label markup.");let s;if(r&&a){for(const t in a)if(r[t]&&t!==this.rootSelector)throw new Error("Selectors within port must be unique.");s=Object.assign(Object.assign({},r),a)}else s=r||a;return c.addClass(n,"x6-port"),c.addClass(i,"x6-port-body"),c.addClass(o,"x6-port-label"),n.appendChild(i),n.appendChild(o),this.portsCache[t.id]={portElement:n,portSelectors:s,portLabelElement:o,portLabelSelectors:a,portContentElement:i,portContentSelectors:r},this.graph.hook.onPortRendered({port:t,node:this.cell,container:n,selectors:s,labelContainer:o,labelSelectors:a,contentContainer:i,contentSelectors:r}),n}updatePorts(){this.updatePortGroup();const t=this.cell.getParsedGroups();Object.keys(t).forEach(t=>this.updatePortGroup(t))}updatePortGroup(t){const e=Xc.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(t,e);for(let t=0,e=n.length;t<e;t+=1){const e=n[t],i=e.portId,r=this.portsCache[i]||{},o=e.portLayout;if(this.applyPortTransform(r.portElement,o),null!=e.portAttrs){const t={selectors:r.portSelectors||{}};e.portSize&&(t.rootBBox=Xc.fromSize(e.portSize)),this.updateAttrs(r.portElement,e.portAttrs,t)}const a=e.labelLayout;if(a&&(this.applyPortTransform(r.portLabelElement,a,-(o.angle||0)),a.attrs)){const t={selectors:r.portLabelSelectors||{}};e.labelSize&&(t.rootBBox=Xc.fromSize(e.labelSize)),this.updateAttrs(r.portLabelElement,a.attrs,t)}}}applyPortTransform(t,e,n=0){const i=e.angle,r=e.position,o=c.createSVGMatrix().rotate(n).translate(r.x||0,r.y||0).rotate(i||0);c.transform(t,o,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(t){return t.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(t,e,n){const i=this,r=i.cell;return null==e||null==n?{e:t,view:i,node:r,cell:r}:{e:t,x:e,y:n,view:i,node:r,cell:r}}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("node:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("node:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("node:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("node:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("node:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("node:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,n),this.startNodeDragging(t,e,n))}onMouseMove(t,e,n){const i=this.getEventData(t),r=i.action;if("magnet"===r)this.dragMagnet(t,e,n);else{if("move"===r){const r=i.targetView||this;r.dragNode(t,e,n),r.notify("node:moving",{e:t,x:e,y:n,view:r,cell:r.cell,node:r.cell})}this.notifyMouseMove(t,e,n)}this.setEventData(t,i)}onMouseUp(t,e,n){const i=this.getEventData(t),r=i.action;if("magnet"===r)this.stopMagnetDragging(t,e,n);else if(this.notifyMouseUp(t,e,n),"move"===r){(i.targetView||this).stopNodeDragging(t,e,n)}const o=i.targetMagnet;o&&this.onMagnetClick(t,o,e,n),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,i){super.onMouseWheel(t,e,n,i),this.notify("node:mousewheel",Object.assign({delta:i},this.getEventArgs(t,e,n)))}onMagnetClick(t,e,n,i){this.graph.view.getMouseMovedCount(t)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,n,i)))}onMagnetDblClick(t,e,n,i){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,n,i)))}onMagnetContextMenu(t,e,n,i){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,n,i)))}onMagnetMouseDown(t,e,n,i){this.startMagnetDragging(t,n,i)}onCustomEvent(t,e,n,i){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,n,i))),super.onCustomEvent(t,e,n,i)}prepareEmbedding(t){const e=this.getEventData(t).cell||this.cell,n=this.graph.findViewByCell(e),i=this.graph.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:e,view:n,cell:e,x:i.x,y:i.y,currentParent:e.getParent()})}processEmbedding(t,e){const n=e.cell||this.cell,i=e.graph||this.graph,r=i.options.embedding,o=r.findParent;let a="function"==typeof o?s.call(o,i,{view:this,node:this.cell}).filter(t=>lv.isCell(t)&&this.cell.id!==t.id&&!t.isDescendantOf(this.cell)):i.model.getNodesUnderNode(n,{by:o});r.frontOnly&&(a=a.slice(-1));let l=null;const c=e.candidateEmbedView,h=r.validate;for(let t=a.length-1;t>=0;t-=1){const e=a[t];if(c&&c.cell.id===e.id){l=c;break}{const t=e.findView(i);if(s.call(h,i,{child:this.cell,parent:t.cell,childView:this,parentView:t})){l=t;break}}}this.clearEmbedding(e),l&&l.highlight(null,{type:"embedding"}),e.candidateEmbedView=l;const u=i.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:n,node:n,view:i.findViewByCell(n),x:u.x,y:u.y,currentParent:n.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){const n=e.cell||this.cell,i=e.graph||this.graph,r=i.findViewByCell(n),o=n.getParent(),a=e.candidateEmbedView;a?(a.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,null!=o&&o.id===a.cell.id||a.cell.insertChild(n,void 0,{ui:!0})):o&&o.unembed(n,{ui:!0}),i.model.getConnectedEdges(n,{deep:!0}).forEach(t=>{t.updateParent({ui:!0})});const s=i.snapToGrid(t.clientX,t.clientY);r&&r.notify("node:embedded",{e:t,cell:n,x:s.x,y:s.y,node:n,view:i.findViewByCell(n),previousParent:o,currentParent:n.getParent()})}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.renderer.findViewByCell(t)}return null}startMagnetDragging(t,e,n){if(!this.can("magnetConnectable"))return;t.stopPropagation();const i=t.currentTarget,r=this.graph;this.setEventData(t,{targetMagnet:i}),r.hook.validateMagnet(this,i,t)?(r.options.magnetThreshold<=0&&this.startConnectting(t,i,e,n),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,n),r.view.delegateDragEvents(t,this)}startConnectting(t,e,n,i){this.graph.model.startBatch("add-edge");const r=this.createEdgeFromMagnet(e,n,i);r.notifyMouseDown(t,n,i),r.setEventData(t,r.prepareArrowheadDragging("target",{x:n,y:i,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:r})}createEdgeFromMagnet(t,e,n){const i=this.graph,r=i.model,o=i.hook.getDefaultEdge(this,t);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(t,e,n,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:e,y:n})),o.addTo(r,{async:!1,ui:!0}),o.findView(i)}dragMagnet(t,e,n){const i=this.getEventData(t),r=i.edgeView;if(r)r.onMouseMove(t,e,n);else{const r=this.graph,o=r.options.magnetThreshold,a=this.getEventTarget(t),s=i.targetMagnet;if("onleave"===o){if(s===a||s.contains(a))return}else if(r.view.getMouseMovedCount(t)<=o)return;this.startConnectting(t,s,e,n)}}stopMagnetDragging(t,e,n){const i=this.eventData(t).edgeView;i&&(i.onMouseUp(t,e,n),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,n){this.notify("node:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,n,i,r){let o=[r];const a=this.graph.selection.widget;if(a&&a.options.movable){const t=this.graph.getSelectedCells();t.includes(r)&&(o=t.filter(t=>t.isNode()))}o.forEach(r=>{this.notify(t,{e:e,x:n,y:i,cell:r,node:r,view:r.findView(this.graph)})})}startNodeDragging(t,e,n){const i=this.getDelegatedView();if(null==i||!i.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,n);this.setEventData(t,{targetView:i,action:"move"});const r=Yc.create(i.cell.getPosition());i.setEventData(t,{moving:!1,offset:r.diff(e,n),restrict:this.graph.hook.getRestrictArea(i)})}dragNode(t,e,n){const i=this.cell,r=this.graph,o=r.getGridSize(),a=this.getEventData(t),s=a.offset,l=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,n,this.cell));const c=this.graph.scroller.widget;c&&c.autoScroll(t.clientX,t.clientY);const h=Fp.snapToGrid(e+s.x,o),u=Fp.snapToGrid(n+s.y,o);i.setPosition(h,u,{restrict:l,deep:!0,ui:!0}),r.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(t),a.embedding=!0),this.processEmbedding(t,a))}stopNodeDragging(t,e,n){const i=this.getEventData(t);i.embedding&&this.finalizeEmbedding(t,i),i.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,n,this.cell)),i.moving=!1,i.embedding=!1}}(Sv=kv||(kv={})).toStringTag="X6."+Sv.name,Sv.isNodeView=function(t){if(null==t)return!1;if(t instanceof Sv)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===Sv.toStringTag)&&"function"==typeof n.isNodeView&&"function"==typeof n.isEdgeView&&"function"==typeof n.confirmUpdate&&"function"==typeof n.update&&"function"==typeof n.findPortElem&&"function"==typeof n.resize&&"function"==typeof n.rotate&&"function"==typeof n.translate},kv.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),kv.registry.register("node",kv,!0);const Av=mv("text");class Tv extends(yv("text",{view:Av,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0})){}!function(t){class e extends kv{confirmUpdate(t,e={}){let n=super.confirmUpdate(t,e);return this.hasAction(n,"scale")&&(this.resize(),n=this.removeAction(n,"scale")),n}}t.View=e,e.config({actions:{attrs:["scale"]}}),kv.registry.register(Av,e)}(Tv||(Tv={}));class Dv extends jf{constructor(t,e={}){super(),this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,n){let i,r;"number"==typeof e?(i=e,r=Object.assign({merge:!1},n)):(i=this.length,r=Object.assign({merge:!1},e)),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);const o=Array.isArray(t)?t:[t],a=this.comparator&&"number"!=typeof e&&!1!==r.sort,s=this.comparator||null;let l=!1;const c=[],h=[];return o.forEach(t=>{const e=this.get(t);e?r.merge&&!t.isSameStore(e)&&(e.setProp(t.getProp(),n),h.push(e),a&&!l&&(l=null==s||"function"==typeof s?e.hasChanged():"string"==typeof s?e.hasChanged(s):s.some(t=>e.hasChanged(t)))):(c.push(t),this.reference(t))}),c.length&&(a&&(l=!0),this.cells.splice(i,0,...c),this.length=this.cells.length),l&&this.sort({silent:!0}),r.silent||(c.forEach((t,e)=>{const n={cell:t,index:i+e,options:r};this.trigger("added",n),r.dryrun||t.notify("added",Object.assign({},n))}),l&&this.trigger("sorted"),(c.length||h.length)&&this.trigger("updated",{added:c,merged:h,removed:[],options:r})),this}remove(t,e={}){const n=Array.isArray(t)?t:[t],i=this.removeCells(n,e);return!e.silent&&i.length>0&&this.trigger("updated",{options:e,removed:i,added:[],merged:[]}),Array.isArray(t)?i:i[0]}removeCells(t,e){const n=[];for(let i=0;i<t.length;i+=1){const r=this.get(t[i]);if(null==r)continue;const o=this.cells.indexOf(r);this.cells.splice(o,1),this.length-=1,delete this.map[r.id],n.push(r),this.unreference(r),e.dryrun||r.remove(),e.silent||(this.trigger("removed",{cell:r,index:o,options:e}),e.dryrun||r.notify("removed",{cell:r,index:o,options:e}))}return n}reset(t,e={}){const n=this.cells.slice();if(n.forEach(t=>this.unreference(t)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const t=this.cells.slice();this.trigger("reseted",{options:e,previous:n,current:t});const i=[],r=[];t.forEach(t=>{n.some(e=>e.id===t.id)||i.push(t)}),n.forEach(e=>{t.some(t=>t.id===e.id)||r.push(e)}),this.trigger("updated",{options:e,added:i,removed:r,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(null==t)return null;const e="string"==typeof t||"number"==typeof t?t:t.id;return this.map[e]||null}has(t){return null!=this.get(t)}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return null!=this.comparator&&(this.cells=i.sortBy(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const n=e.cell;this.trigger("cell:"+t,e),n&&(n.isNode()?this.trigger("node:"+t,Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.trigger("edge:"+t,Object.assign(Object.assign({},e),{edge:n})))}clean(){this.length=0,this.cells=[],this.map={}}}class Pv extends jf{constructor(t=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new Dv(t),this.setup()}get[Symbol.toStringTag](){return Pv.toStringTag}notify(t,e){this.trigger(t,e);const n=this.graph;return n&&("sorted"===t||"reseted"===t||"updated"===t?n.trigger("model:"+t,e):n.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",t=>this.notify("updated",t)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:t})=>{this.onCellAdded(t)}),t.on("removed",t=>{const e=t.cell;this.onCellRemoved(e,t.options),this.notify("cell:removed",t),e.isNode()?this.notify("node:removed",Object.assign(Object.assign({},t),{node:e})):e.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},t),{edge:e}))}),t.on("reseted",t=>{this.onReset(t.current),this.notify("reseted",t)}),t.on("edge:change:source",({edge:t})=>this.onEdgeTerminalChanged(t,"source")),t.on("edge:change:target",({edge:t})=>{this.onEdgeTerminalChanged(t,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const n=t.id;if(t.isEdge()){delete this.edges[n];const e=t.getSource(),i=t.getTarget();if(e&&e.cell){const t=this.outgoings[e.cell],i=t?t.indexOf(n):-1;i>=0&&(t.splice(i,1),0===t.length&&delete this.outgoings[e.cell])}if(i&&i.cell){const t=this.incomings[i.cell],e=t?t.indexOf(n):-1;e>=0&&(t.splice(e,1),0===t.length&&delete this.incomings[i.cell])}}else delete this.nodes[n];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(t=>this.onCellAdded(t))}onEdgeTerminalChanged(t,e){const n="source"===e?this.outgoings:this.incomings,i=t.previous(e);if(i&&i.cell){const e=n[i.cell],r=e?e.indexOf(t.id):-1;r>=0&&(e.splice(r,1),0===e.length&&delete n[i.cell])}const r=t.getTerminal(e);if(r&&r.cell){const e=n[r.cell]||[];-1===e.indexOf(t.id)&&e.push(t.id),n[r.cell]=e}}prepareCell(t,e){return t.model||e&&e.dryrun||(t.model=this),null==t.zIndex&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(t=>this.prepareCell(t,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(t=>this.prepareCell(t,{options:e})),this}clear(t={}){const e=this.getCells();if(0===e.length)return this;const n=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const t=e.sort((t,e)=>(t.isEdge()?1:2)-(e.isEdge()?1:2));for(;t.length>0;){const e=t.shift();e&&e.remove(n)}},n),this}addNode(t,e={}){const n=uv.isNode(t)?t:this.createNode(t);return this.addCell(n,e),n}createNode(t){return uv.create(t)}addEdge(t,e={}){const n=Cv.isEdge(t)?t:this.createEdge(t);return this.addCell(n,e),n}createEdge(t){return Cv.create(t)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(this.collection.has(t)||this.addings.has(t)||(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(t=>this.addCell(t,e)),this.addings.delete(t)),this)}addCells(t,e={}){const n=t.length;if(0===n)return this;const i=Object.assign(Object.assign({},e),{position:n-1,maxPosition:n-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:t})),t.forEach(t=>{this.addCell(t,i),i.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:t})),this}removeCell(t,e={}){const n="string"==typeof t?this.getCell(t):t;return n&&this.has(n)?this.collection.remove(n,e):null}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(t=>this.removeCell(t,e))):[]}removeConnectedEdges(t,e={}){const n=this.getConnectedEdges(t);return n.forEach(t=>{t.remove(e)}),n}disconnectConnectedEdges(t,e={}){const n="string"==typeof t?t:t.id;this.getConnectedEdges(t).forEach(t=>{const i=t.getSourceCell(),r=t.getTargetCell();i&&i.id===n&&t.setSource({x:0,y:0},e),r&&r.id===n&&t.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(t=>this.getCell(t)).filter(t=>null!=t):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e="string"==typeof t?t:t.id,n=this.outgoings[e];return n?n.map(t=>this.getCell(t)).filter(t=>t&&t.isEdge()):null}getIncomingEdges(t){const e="string"==typeof t?t:t.id,n=this.incomings[e];return n?n.map(t=>this.getCell(t)).filter(t=>t&&t.isEdge()):null}getConnectedEdges(t,e={}){const n=[],i="string"==typeof t?this.getCell(t):t;if(null==i)return n;const r={},o=e.indirect;let a=e.incoming,s=e.outgoing;null==a&&null==s&&(a=s=!0);const l=(t,e)=>{const i=e?this.getOutgoingEdges(t):this.getIncomingEdges(t);if(null!=i&&i.forEach(t=>{r[t.id]||(n.push(t),r[t.id]=!0,o&&(a&&l(t,!1),s&&l(t,!0)))}),o&&t.isEdge()){const i=e?t.getTargetCell():t.getSourceCell();i&&i.isEdge()&&(r[i.id]||(n.push(i),l(i,e)))}};if(s&&l(i,!0),a&&l(i,!1),e.deep){const t=i.getDescendants({deep:!0}),o={};t.forEach(t=>{t.isNode()&&(o[t.id]=!0)});const l=(t,i)=>{const a=i?this.getOutgoingEdges(t.id):this.getIncomingEdges(t.id);null!=a&&a.forEach(t=>{if(!r[t.id]){const i=t.getSourceCell(),a=t.getTargetCell();if(!e.enclosed&&i&&o[i.id]&&a&&o[a.id])return;n.push(t),r[t.id]=!0}})};t.forEach(t=>{t.isEdge()||(s&&l(t,!0),a&&l(t,!1))})}return n}isBoundary(t,e){const n="string"==typeof t?this.getCell(t):t,i=e?this.getIncomingEdges(n):this.getOutgoingEdges(n);return null==i||0===i.length}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(n=>{if(this.isBoundary(n,t)){const t=this.getCell(n);t&&e.push(t)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let n=e.incoming,i=e.outgoing;null==n&&null==i&&(n=i=!0);const r=this.getConnectedEdges(t,e).reduce((r,o)=>{const a=o.hasLoop(e),s=o.getSourceCell(),l=o.getTargetCell();return n&&s&&s.isNode()&&!r[s.id]&&(!a&&(s===t||e.deep&&s.isDescendantOf(t))||(r[s.id]=s)),i&&l&&l.isNode()&&!r[l.id]&&(!a&&(l===t||e.deep&&l.isDescendantOf(t))||(r[l.id]=l)),r},{});if(t.isEdge()){if(n){const e=t.getSourceCell();e&&e.isNode()&&!r[e.id]&&(r[e.id]=e)}if(i){const e=t.getTargetCell();e&&e.isNode()&&!r[e.id]&&(r[e.id]=e)}}return Object.keys(r).map(t=>r[t])}isNeighbor(t,e,n={}){let i=n.incoming,r=n.outgoing;return null==i&&null==r&&(i=r=!0),this.getConnectedEdges(t,n).some(t=>{const n=t.getSourceCell(),o=t.getTargetCell();return!(!i||!n||n.id!==e.id)||!(!r||!o||o.id!==e.id)})}getSuccessors(t,e={}){const n=[];return this.search(t,(i,r)=>{i!==t&&this.matchDistance(r,e.distance)&&n.push(i)},Object.assign(Object.assign({},e),{outgoing:!0})),n}isSuccessor(t,e,n={}){let i=!1;return this.search(t,(r,o)=>{if(r===e&&r!==t&&this.matchDistance(o,n.distance))return i=!0,!1},Object.assign(Object.assign({},n),{outgoing:!0})),i}getPredecessors(t,e={}){const n=[];return this.search(t,(i,r)=>{i!==t&&this.matchDistance(r,e.distance)&&n.push(i)},Object.assign(Object.assign({},e),{incoming:!0})),n}isPredecessor(t,e,n={}){let i=!1;return this.search(t,(r,o)=>{if(r===e&&r!==t&&this.matchDistance(o,n.distance))return i=!0,!1},Object.assign(Object.assign({},n),{incoming:!0})),i}matchDistance(t,e){return null==e||("function"==typeof e?e(t):!(!Array.isArray(e)||!e.includes(t))||t===e)}getCommonAncestor(...t){const e=[];return t.forEach(t=>{t&&(Array.isArray(t)?e.push(...t):e.push(t))}),lv.getCommonAncestor(...e)}getSubGraph(t,e={}){const n=[],i={},r=[],o=[],a=t=>{i[t.id]||(n.push(t),i[t.id]=t,t.isEdge()&&o.push(t),t.isNode()&&r.push(t))};return t.forEach(t=>{if(a(t),e.deep){t.getDescendants({deep:!0}).forEach(t=>a(t))}}),o.forEach(t=>{const e=t.getSourceCell(),o=t.getTargetCell();e&&!i[e.id]&&(n.push(e),i[e.id]=e,e.isNode()&&r.push(e)),o&&!i[o.id]&&(n.push(o),i[o.id]=o,o.isNode()&&r.push(o))}),r.forEach(t=>{this.getConnectedEdges(t,e).forEach(t=>{const e=t.getSourceCell(),r=t.getTargetCell();!i[t.id]&&e&&i[e.id]&&r&&i[r.id]&&(n.push(t),i[t.id]=t)})}),n}cloneSubGraph(t,e={}){const n=this.getSubGraph(t,e);return this.cloneCells(n)}cloneCells(t){return lv.cloneCells(t)}getNodesFromPoint(t,e){const n="number"==typeof t?{x:t,y:e||0}:t;return this.getNodes().filter(t=>t.getBBox().containsPoint(n))}getNodesInArea(t,e,n,i,r){const o="number"==typeof t?new Xc(t,e,n,i):Xc.create(t),a="number"==typeof t?r:e,s=a&&a.strict;return this.getNodes().filter(t=>{const e=t.getBBox();return s?o.containsRect(e):o.isIntersectWithRect(e)})}getEdgesInArea(t,e,n,i,r){const o="number"==typeof t?new Xc(t,e,n,i):Xc.create(t),a="number"==typeof t?r:e,s=a&&a.strict;return this.getEdges().filter(t=>{const e=t.getBBox();return s?o.containsRect(e):o.isIntersectWithRect(e)})}getNodesUnderNode(t,e={}){const n=t.getBBox();return(null==e.by||"bbox"===e.by?this.getNodesInArea(n):this.getNodesFromPoint(n[e.by])).filter(e=>t.id!==e.id&&!e.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return lv.getCellsBBox(t,e)}search(t,e,n={}){n.breadthFirst?this.breadthFirstSearch(t,e,n):this.depthFirstSearch(t,e,n)}breadthFirstSearch(t,e,n={}){const i=[],r={},o={};for(i.push(t),o[t.id]=0;i.length>0;){const t=i.shift();if(null==t||r[t.id])continue;if(r[t.id]=!0,!1===s.call(e,this,t,o[t.id]))continue;this.getNeighbors(t,n).forEach(e=>{o[e.id]=o[t.id]+1,i.push(e)})}}depthFirstSearch(t,e,n={}){const i=[],r={},o={};for(i.push(t),o[t.id]=0;i.length>0;){const t=i.pop();if(null==t||r[t.id])continue;if(r[t.id]=!0,!1===s.call(e,this,t,o[t.id]))continue;const a=this.getNeighbors(t,n),l=i.length;a.forEach(e=>{o[e.id]=o[t.id]+1,i.splice(l,0,e)})}}getShortestPath(t,e,n={}){const i={};this.getEdges().forEach(t=>{const e=t.getSourceCellId(),r=t.getTargetCellId();e&&r&&(i[e]||(i[e]=[]),i[r]||(i[r]=[]),i[e].push(r),n.directed||i[r].push(e))});const r="string"==typeof t?t:t.id,o=Bf.run(i,r,n.weight),a=[];let s="string"==typeof e?e:e.id;for(o[s]&&a.push(s);s=o[s];)a.unshift(s);return a}translate(t,e,n){return this.getCells().filter(t=>!t.hasParent()).forEach(i=>i.translate(t,e,n)),this}resize(t,e,n){return this.resizeCells(t,e,this.getCells(),n)}resizeCells(t,e,n,i={}){const r=this.getCellsBBox(n);if(r){const o=Math.max(t/r.width,0),a=Math.max(e/r.height,0),s=r.getOrigin();n.forEach(t=>t.scale(o,a,s,i))}return this}toJSON(t={}){return Pv.toJSON(this.getCells(),t)}parseJSON(t){return Pv.fromJSON(t)}fromJSON(t,e={}){const n=this.parseJSON(t);return this.resetCells(n,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,n={}){this.startBatch(t,n);const i=e();return this.stopBatch(t,n),i}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(t=>this.batches[t]>0)}}var Iv;(Iv=Pv||(Pv={})).toStringTag="X6."+Iv.name,Iv.isModel=function(t){if(null==t)return!1;if(t instanceof Iv)return!0;const e=t[Symbol.toStringTag],n=t;return(null==e||e===Iv.toStringTag)&&"function"==typeof n.addNode&&"function"==typeof n.addEdge&&null!=n.collection},function(t){t.toJSON=function(t,e={}){return{cells:t.map(t=>t.toJSON(e))}},t.fromJSON=function(t){const e=[];return Array.isArray(t)?e.push(...t):(t.cells&&e.push(...t.cells),t.nodes&&t.nodes.forEach(t=>{null==t.shape&&(t.shape="rect"),e.push(t)}),t.edges&&t.edges.forEach(t=>{null==t.shape&&(t.shape="edge"),e.push(t)})),e.map(t=>{const e=t.shape;if(e){if(uv.registry.exist(e))return uv.create(t);if(Cv.registry.exist(e))return Cv.create(t)}throw new Error("The `shape` should be specipied when creating a node/edge instance")})}}(Pv||(Pv={}));const Ev=".text-block-content",jv=mv("text-block");class Lv extends uv{get content(){return this.getContent()}set content(t){this.setContent(t)}getContent(){return this.store.get("content","")}setContent(t,e={}){this.store.set("content",t,e)}setup(){super.setup(),this.store.on("change:*",t=>{const e=t.key;"content"===e?this.updateContent(this.getContent()):"size"===e&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(t){k.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},t),[Ev]:{style:Object.assign({},t)}})}updateContent(t){k.SUPPORT_FOREIGNOBJECT?this.setAttrs({[Ev]:{html:t?o.sanitizeHTML(t):""}}):this.setAttrs({[Ev]:{text:t}})}}var Bv;(Bv=Lv||(Lv={})).config({type:jv,view:jv,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',k.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${Ev.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${Ev.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[Ev]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),uv.registry.register(jv,Bv),function(t){class e extends kv{confirmUpdate(t,e={}){let n=super.confirmUpdate(t,e);return this.hasAction(n,"content")&&(this.updateContent(),n=this.removeAction(n,"content")),n}update(t){if(k.SUPPORT_FOREIGNOBJECT)super.update(t);else{const e=this.cell,n=Object.assign({},t||e.getAttrs());delete n[Ev],super.update(n),t&&!r.has(t,Ev)||this.updateContent(t)}}updateContent(t){if(k.SUPPORT_FOREIGNOBJECT)super.update(t);else{const e=this.cell,n=(t||e.getAttrs())[Ev],i=c.breakText(e.getContent(),e.getSize(),n,{svgDocument:this.graph.view.svg}),o={[Ev]:r.merge({},n,{text:i})};super.update(o)}}}t.View=e,function(t){t.config({bootstrap:["render","content"],actions:k.SUPPORT_FOREIGNOBJECT?{}:{size:"content",content:"content"}}),kv.registry.register(jv,t)}(e=t.View||(t.View={}))}(Lv||(Lv={}));fv.define({shape:"empty"});function Nv(t,e="body"){return[{tagName:t,selector:e},{tagName:"text",selector:"label"}]}function Rv(t,e,n={}){const i={constructorName:t,markup:Nv(t,n.selector),attrs:{[t]:Object.assign({},fv.bodyAttr)}};return(n.parent||fv).define(r.merge(i,e,{shape:t}))}Rv("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}}),uv.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},fv.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},fv.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},fv.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},fv.labelAttr),{refY2:15})}}),Rv("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}}),fv.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},fv.bodyAttr),{lateral:10}),top:Object.assign(Object.assign({},fv.bodyAttr),{refCx:"50%",refRx:"50%",cy:10,ry:10})},attrHooks:{lateral:{set(t,{refBBox:e}){const n=a.isPercentage(t);n&&(t=parseFloat(t)/100);const i=e.x,r=e.y,o=e.width,s=e.height,l=n?s*t:t,c=.551784*(o/2),h=.551784*l,u=i+o/2,d=i+o,p=r+l,f=p-l,g=r+s-l,m=r+s;return{d:["M",i,p,"L",i,g,"C",i,g+h,u-c,m,u,m,"C",u+c,m,d,g+h,d,g,"L",d,p,"C",d,p-h,u+c,f,u,f,"C",u-c,f,i,p-h,i,p,"Z"].join(" ")}}}},knob:{enabled:!0,position:({node:t})=>({x:0,y:t.attr("body/lateral")}),onMouseMove({node:t,data:e,deltaY:n}){if(0!==n){const i=t.getBBox(),r=t.attr("body/lateral");null==e.round&&(e.round=r);const o=0,s=i.height/2,l=a.clamp(e.round+n,o,s);l!==r&&t.attr({body:{lateral:l},top:{cy:l,ry:l}})}}}}),Rv("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var Fv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class zv extends fv{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return null==t?this.removePoints():this.setAttrByPath("body/refPoints",zv.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}!function(t){function e(t){return"string"==typeof t?t:t.map(t=>Array.isArray(t)?t.join(","):Yc.isPointLike(t)?`${t.x}, ${t.y}`:"").join(" ")}t.pointsToString=e,t.config({propHooks(t){const{points:n}=t,i=Fv(t,["points"]);if(n){const t=e(n);t&&r.setByPath(i,"attrs/body/refPoints",t)}return i}})}(zv||(zv={}));Rv("polygon",{},{parent:zv}),Rv("polyline",{},{parent:zv});var Vv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};fv.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(t){const{path:e}=t,n=Vv(t,["path"]);return e&&r.setByPath(n,"attrs/body/refD",e),n}});var Gv=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};fv.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},k.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:c.ns.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},fv.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(t){const{text:e}=t,n=Gv(t,["text"]);return e&&r.setByPath(n,"attrs/label/text",e),n},attrHooks:{text:{set(t,{cell:e,view:n,refBBox:i,elem:r,attrs:o}){if(!(r instanceof HTMLElement)){const a=o.style||{},l={text:t,width:-5,height:"100%"},c=Object.assign({textVerticalAnchor:"middle"},a),h=hp.presets.textWrap;return s.call(h.set,this,l,{cell:e,view:n,elem:r,refBBox:i,attrs:c}),{fill:a.color||null}}r.textContent=t},position(t,{refBBox:e,elem:n}){if(n instanceof SVGElement)return e.getCenter()}}}}),Rv("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:vv()},{selector:"image"}),Rv("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:vv()}),Rv("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:vv()}),Rv("image-inscribed",{propHooks:vv(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}});const Hv=Cv.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});Cv.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}}),Cv.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class Wv extends fv{get html(){return this.getHTML()}set html(t){this.setHTML(t)}getHTML(){return this.store.get("html")}setHTML(t,e={}){return null==t?this.removeHTML(e):this.store.set("html",t,e),this}removeHTML(t={}){return this.store.remove("html",t)}}var $v;!function(t){class e extends kv{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(t){const n=super.confirmUpdate(t);return this.handleAction(n,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const t=this.selectors.foContent;if(t){const e=this.$(t).empty(),n=this.graph.hook.getHTMLComponent(this.cell);n&&("string"==typeof n?e.html(n):e.append(n))}}}t.View=e,function(t){t.action="html",t.config({bootstrap:[t.action],actions:{html:t.action}}),kv.registry.register("html-view",t)}(e=t.View||(t.View={}))}(Wv||(Wv={})),($v=Wv||(Wv={})).config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Qf.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),uv.registry.register("html",$v),function(t){t.componentRegistry=Iu.create({type:"html componnet"})}(Wv||(Wv={}));var Yv=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Xv extends Lf{constructor(t){super(),this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},Xv.defaultOptions),t),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const t=((new Date).getTime()-this.timestamp)/1e3;t>this.delay||this.changeCount>=this.threshold&&t>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=(new Date).getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}Yv([Lf.dispose()],Xv.prototype,"dispose",null),(Xv||(Xv={})).defaultOptions={delay:10,throttle:2,threshold:5};class qv extends If{constructor(t){super(),this.graph=t,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var Uv,Zv=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Kv extends $f{constructor(t){super(),this.graph=t;const{selectors:e,fragment:n}=Qf.parseJSONMarkup(Kv.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=Kv.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(n),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return"mousedown"===t.type&&2===t.button||(!(!this.options.guard||!this.options.guard(t,e))||(t.data&&void 0!==t.data.guarded?t.data.guarded:!(e&&e.cell&&lv.isCell(e.cell))&&(this.svg!==t.target&&this.container!==t.target&&!O.a.contains(this.svg,t.target))))}findView(t){return this.graph.renderer.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onDblClick(e,i.x,i.y):this.graph.trigger("blank:dblclick",{e:e,x:i.x,y:i.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onClick(e,i.x,i.y):this.graph.trigger("blank:click",{e:e,x:i.x,y:i.y})}}onContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onContextMenu(e,i.x,i.y):this.graph.trigger("blank:contextmenu",{e:e,x:i.x,y:i.y})}delegateDragEvents(t,e){null==t.data&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const n=this.constructor;this.delegateDocumentEvents(n.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;this.options.preventDefaultMouseDown&&e.preventDefault();const i=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onMouseDown(e,i.x,i.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:e,x:i.x,y:i.y})),this.delegateDragEvents(e,n)}onMouseMove(t){const e=this.getEventData(t),n=e.startPosition;if(n&&n.x===t.clientX&&n.y===t.clientY)return;null==e.mouseMovedCount&&(e.mouseMovedCount=0),e.mouseMovedCount+=1;if(e.mouseMovedCount<=this.options.moveThreshold)return;const i=this.normalizeEvent(t),r=this.graph.snapToGrid(i.clientX,i.clientY),o=e.currentView;o?o.onMouseMove(i,r.x,r.y):this.graph.trigger("blank:mousemove",{e:i,x:r.x,y:r.y}),this.setEventData(i,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY),i=this.getEventData(t).currentView;i?i.onMouseUp(e,n.x,n.y):this.graph.trigger("blank:mouseup",{e:e,x:n.x,y:n.y}),t.isPropagationStopped()||this.onClick(O.a.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e:e})}}onMouseOut(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e:e})}}onMouseEnter(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(i===n)return;n.onMouseEnter(e)}else{if(i)return;this.graph.trigger("graph:mouseenter",{e:e})}}onMouseLeave(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(i===n)return;n.onMouseLeave(e)}else{if(i)return;this.graph.trigger("graph:mouseleave",{e:e})}}onMouseWheel(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const i=e.originalEvent,r=this.graph.snapToGrid(i.clientX,i.clientY),o=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));n?n.onMouseWheel(e,r.x,r.y,o):this.graph.trigger("blank:mousewheel",{e:e,delta:o,x:r.x,y:r.y})}onCustomEvent(t){const e=t.currentTarget,n=e.getAttribute("event")||e.getAttribute("data-event");if(n){const i=this.findView(e);if(i){const e=this.normalizeEvent(t);if(this.guard(e,i))return;const r=this.graph.snapToGrid(e.clientX,e.clientY);i.onCustomEvent(e,n,r.x,r.y)}}}handleMagnetEvent(t,e){const n=t.currentTarget,i=n.getAttribute("magnet");if(i&&"false"!==i.toLowerCase()){const i=this.findView(n);if(i){const r=this.normalizeEvent(t);if(this.guard(r,i))return;const o=this.graph.snapToGrid(r.clientX,r.clientY);s.call(e,this.graph,i,r,n,o.x,o.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(t,e,n,i,r)=>{t.onMagnetMouseDown(e,n,i,r)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(t,e,n,i,r)=>{t.onMagnetDblClick(e,n,i,r)})}onMagnetContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault(),this.handleMagnetEvent(t,(t,e,n,i,r)=>{t.onMagnetContextMenu(e,n,i,r)})}onLabelMouseDown(t){const e=t.currentTarget,n=this.findView(e);if(n){const e=this.normalizeEvent(t);if(this.guard(e,n))return;const i=this.graph.snapToGrid(e.clientX,e.clientY);n.onLabelMouseDown(e,i.x,i.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}Zv([$f.dispose()],Kv.prototype,"dispose",null),function(t){const e=Rp.prefixCls+"-graph";t.markup=[{ns:c.ns.xhtml,tagName:"div",selector:"background",className:e+"-background"},{ns:c.ns.xhtml,tagName:"div",selector:"grid",className:e+"-grid"},{ns:c.ns.svg,tagName:"svg",selector:"svg",className:e+"-svg",attrs:{width:"100%",height:"100%","xmlns:xlink":c.ns.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:e+"-svg-viewport",children:[{tagName:"g",selector:"primer",className:e+"-svg-primer"},{tagName:"g",selector:"stage",className:e+"-svg-stage"},{tagName:"g",selector:"decorator",className:e+"-svg-decorator"},{tagName:"g",selector:"overlay",className:e+"-svg-overlay"}]}]}],t.snapshoot=function(t){const e=t.cloneNode();return t.childNodes.forEach(t=>e.appendChild(t)),()=>{for(c.empty(t);t.attributes.length>0;)t.removeAttribute(t.attributes[0].name);for(let n=0,i=e.attributes.length;n<i;n+=1){const i=e.attributes[n];t.setAttribute(i.name,i.value)}e.childNodes.forEach(e=>t.appendChild(e))}}}(Kv||(Kv={})),function(t){const e=Rp.prefixCls;t.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Kv||(Kv={})),(Uv||(Uv={})).checkScroller=function(t,e){return(n,i,r)=>{const o=r.value;r.value=function(...n){if(null==this.scroller.widget){const n=`Shoule enable scroller to use method '${i}'`;if(!1!==t)throw console.error(n),new Error(n);return!1!==e&&console.warn(n),this}return o.call(this,...n)}}};var Jv=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Qv extends qv{init(){Rp.autoInsertCSS&&Qv.ensure()}dispose(){Qv.clean()}}Jv([Qv.dispose()],Qv.prototype,"dispose",null),function(t){let e,n=0;t.ensure=function(){if(n+=1,!(n>1||k.isApplyingHMR())){e=document.createElement("style"),e.setAttribute("type","text/css"),e.textContent=".x6-graph {\n  position: relative;\n  outline: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n@keyframes halo-pie-visibility {\n  0% {\n    visibility: hidden;\n  }\n  100% {\n    visibility: visible;\n  }\n}\n@keyframes halo-pie-opening {\n  0% {\n    transform: scale(0.4) rotate(-20deg);\n  }\n  100% {\n    transform: scale(1) rotate(0);\n  }\n}\n.x6-widget-handle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: 0 0;\n  background-size: 20px 20px;\n  cursor: pointer;\n  user-select: none;\n  pointer-events: auto;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-handle.hidden {\n  display: none;\n}\n.x6-widget-handle-selected {\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n}\n.x6-widget-handle-remove {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n  cursor: pointer;\n}\n.x6-widget-handle-remove:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-rotate {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n}\n.x6-widget-handle-rotate:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-resize {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');\n  cursor: se-resize;\n}\n.x6-widget-handle-resize:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');\n}\n.x6-widget-handle-clone {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n}\n.x6-widget-handle-clone:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-link {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n.x6-widget-handle-link:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-fork {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n  cursor: move;\n}\n.x6-widget-handle-fork:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-unlink {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-unlink:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');\n}\n.x6-widget-handle-direction {\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\");\n}\n.x6-widget-handle-direction:hover {\n  background-image: url(\"data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E\");\n}\n.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {\n  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-se {\n  right: -25px;\n  bottom: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-nw {\n  top: -21px;\n  left: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-n {\n  top: -22px;\n  left: 50%;\n  margin-left: -10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-e {\n  top: -webkit-calc(40%);\n  top: calc(50% - 10px);\n  right: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-ne {\n  top: -21px;\n  right: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-w {\n  top: 50%;\n  left: -25px;\n  margin-top: -10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-sw {\n  bottom: -25px;\n  left: -25px;\n}\n.x6-widget-handle-surround .x6-widget-handle-pos-s {\n  bottom: -24px;\n  left: 50%;\n  margin-left: -10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {\n  width: 15px;\n  height: 15px;\n  font-size: 15px;\n  background-size: 15px 15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {\n  right: -19px;\n  bottom: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {\n  top: -19px;\n  left: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {\n  top: -19px;\n  margin-left: -7.5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {\n  top: -webkit-calc(42%);\n  top: calc(50% - 8px);\n  right: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {\n  top: -19px;\n  right: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {\n  left: -19px;\n  margin-top: -8px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {\n  bottom: -19px;\n  left: -19px;\n}\n.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {\n  bottom: -19px;\n  margin-left: -7.5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {\n  width: 10px;\n  height: 10px;\n  font-size: 10px;\n  background-size: 10px 10px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {\n  right: -15px;\n  bottom: -13px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {\n  top: -13px;\n  left: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {\n  top: -13px;\n  margin-left: -5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {\n  top: -webkit-calc(45%);\n  top: calc(50% - 5px);\n  right: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {\n  top: -13px;\n  right: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {\n  left: -15px;\n  margin-top: -5px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {\n  bottom: -13px;\n  left: -15px;\n}\n.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {\n  bottom: -13px;\n  margin-left: -5px;\n}\n.x6-widget-handle-toolbar {\n  position: absolute;\n  top: -50px;\n  display: table-row;\n  padding: 7px 5px;\n}\n.x6-widget-handle-toolbar::after {\n  position: absolute;\n  top: 100%;\n  left: 10px;\n  width: 0;\n  height: 0;\n  margin-top: 4px;\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n  content: '';\n}\n.x6-widget-handle-toolbar .x6-widget-handle {\n  position: relative;\n  display: table-cell;\n  min-width: 20px;\n  margin: 0 2px;\n  background-position: 3px 3px;\n  background-size: 16px 16px;\n}\n.x6-widget-handle-toolbar .x6-widget-handle::after {\n  position: absolute;\n  bottom: -11px;\n  width: 100%;\n  content: '';\n}\n.x6-widget-handle-pie {\n  position: absolute;\n  top: -webkit-calc(0%);\n  top: calc(50% - 50px);\n  right: -50px;\n  z-index: 1;\n  display: none;\n  width: 100px;\n  height: 100px;\n  margin: -2px -2px 0 0;\n  border-radius: 50%;\n  cursor: default;\n  pointer-events: visiblePainted;\n}\n.x6-widget-handle-pie .x6-widget-handle {\n  width: 1px;\n  height: auto;\n  pointer-events: visiblePainted;\n}\n.x6-widget-handle-pie-slice-svg {\n  width: 100%;\n  height: 100%;\n  overflow: visible !important;\n}\n.x6-widget-handle-pie-slice-img,\n.x6-widget-handle-pie-slice-txt {\n  display: none;\n  pointer-events: none;\n}\n.x6-widget-handle-pie[data-pie-toggle-position='e'] {\n  top: calc(50% - 50px);\n  right: -50px;\n  left: auto;\n}\n.x6-widget-handle-pie[data-pie-toggle-position='w'] {\n  top: calc(50% - 50px);\n  right: auto;\n  left: -52px;\n}\n.x6-widget-handle-pie[data-pie-toggle-position='n'] {\n  top: -50px;\n  right: auto;\n  bottom: auto;\n  left: calc(50% - 52px);\n}\n.x6-widget-handle-pie[data-pie-toggle-position='s'] {\n  top: auto;\n  right: auto;\n  bottom: -52px;\n  left: calc(50% - 52px);\n}\n.x6-widget-handle-pie-opened {\n  display: block;\n  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;\n  animation-timing-function: step-end, ease;\n  animation-delay: 0s, 0.1s;\n}\n.x6-widget-handle-pie-toggle {\n  position: absolute;\n  top: -webkit-calc(35%);\n  top: calc(50% - 15px);\n  right: -15px;\n  z-index: 2;\n  display: block;\n  box-sizing: border-box;\n  width: 30px;\n  height: 30px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 20px 20px;\n  border-radius: 50%;\n  cursor: pointer;\n  user-select: none;\n  pointer-events: visiblePainted;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-handle-pie-toggle-pos-e {\n  top: -webkit-calc(35%);\n  top: calc(50% - 15px);\n  right: -15px;\n  bottom: auto;\n  left: auto;\n}\n.x6-widget-handle-pie-toggle-pos-w {\n  top: -webkit-calc(35%);\n  top: calc(50% - 15px);\n  right: auto;\n  bottom: auto;\n  left: -15px;\n}\n.x6-widget-handle-pie-toggle-pos-n {\n  top: -15px;\n  right: auto;\n  bottom: auto;\n  left: -webkit-calc(35%);\n  left: calc(50% - 15px);\n}\n.x6-widget-handle-pie-toggle-pos-s {\n  top: auto;\n  right: auto;\n  bottom: -15px;\n  left: -webkit-calc(35%);\n  left: calc(50% - 15px);\n}\n.x6-widget-handle-pie-toggle-opened {\n  transition: 0.1s background-image;\n}\n.x6-widget-handle-toolbar {\n  position: static;\n  display: inline-block;\n  margin-top: -50px;\n  margin-left: 45px;\n  white-space: nowrap;\n  vertical-align: top;\n  background-color: #f5f5f5;\n  border-bottom: 3px solid #333;\n  border-radius: 5px;\n  box-shadow: 0 1px 2px #222;\n}\n.x6-widget-handle-toolbar::after {\n  top: -12px;\n  left: 55px;\n  margin-top: 0;\n  border-top: 6px solid #333;\n  border-right: 10px solid transparent;\n  border-left: 10px solid transparent;\n}\n.x6-widget-handle-toolbar .x6-widget-handle {\n  display: inline-block;\n  vertical-align: top;\n}\n.x6-widget-handle-toolbar .x6-widget-handle:hover::after {\n  border-bottom: 4px solid #fc6cb8;\n}\n.x6-widget-handle-toolbar .x6-widget-handle-rotate {\n  position: absolute;\n  top: 100%;\n  right: 100%;\n  margin-top: 3px;\n  margin-right: 6px;\n}\n.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,\n.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {\n  border-bottom: none;\n}\n.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {\n  margin-left: 4px;\n}\n.x6-widget-handle-pie {\n  box-sizing: content-box;\n  background-color: #f5f5f5;\n  border: 2px solid #404040;\n}\n.x6-widget-handle-pie-slice {\n  fill: transparent;\n  stroke: #e9e9e9;\n  stroke-width: 1;\n}\n.x6-widget-handle-pie-slice:hover {\n  fill: #fff;\n}\n.x6-widget-handle-pie-slice-img {\n  display: block;\n}\n.x6-widget-handle-selected .x6-widget-handle-pie-slice {\n  fill: #fff;\n}\n.x6-widget-handle-pie-toggle {\n  background-color: #f6f6f6;\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');\n  background-size: 16px 16px;\n  border: 2px solid #3b425f;\n}\n.x6-widget-handle-pie-toggle:hover {\n  background-color: #fff;\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');\n  border-color: #fd6eb6;\n}\n.x6-widget-handle-pie-toggle-opened {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');\n}\n.x6-widget-handle-pie-toggle-opened:hover {\n  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');\n}\n.x6-widget-dnd {\n  position: absolute;\n  top: -10000px;\n  left: -10000px;\n  z-index: 100;\n  display: none;\n  cursor: move;\n  opacity: 0.7;\n  pointer-events: 'cursor';\n}\n.x6-widget-dnd.dragging {\n  display: inline-block;\n}\n.x6-widget-dnd.dragging * {\n  pointer-events: none !important;\n}\n.x6-widget-dnd .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n.x6-widget-halo {\n  position: absolute;\n  pointer-events: none;\n}\n.x6-widget-halo-content {\n  position: absolute;\n  top: 100%;\n  padding: 6px;\n  font-size: 10px;\n  line-height: 14px;\n  text-align: center;\n  border-radius: 6px;\n}\n.x6-widget-halo-handles + .x6-widget-halo-content {\n  right: -20px;\n  left: -20px;\n  margin-top: 30px;\n}\n.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {\n  margin-top: 25px;\n}\n.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {\n  margin-top: 20px;\n}\n.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {\n  right: 0;\n  left: 0;\n  margin-top: 10px;\n}\n.x6-widget-halo-content {\n  color: #fff;\n  background-color: #6a6b8a;\n}\n.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {\n  position: absolute;\n  right: 100%;\n  bottom: 100%;\n  margin-right: 6px;\n  margin-bottom: 3px;\n}\n.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {\n  background-color: #fff;\n  border-radius: 50%;\n}\n.x6-widget-halo.type-edge .x6-widget-handle-toolbar {\n  margin-top: -60px;\n  margin-left: -18px;\n}\n.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {\n  top: -22px;\n  left: -9px;\n}\n.x6-widget-minimap {\n  position: relative;\n  display: table-cell;\n  box-sizing: border-box;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #fff;\n  user-select: none;\n}\n.x6-widget-minimap .x6-graph {\n  display: inline-block;\n  box-shadow: 0 0 4px 0 #eee;\n  cursor: pointer;\n}\n.x6-widget-minimap .x6-graph > svg {\n  pointer-events: none;\n  shape-rendering: optimizeSpeed;\n}\n.x6-widget-minimap .x6-graph .x6-node * {\n  /* stylelint-disable-next-line */\n  vector-effect: initial;\n}\n.x6-widget-minimap-viewport {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -2px 0 0 -2px;\n  border: 2px solid #31d0c6;\n  cursor: move;\n}\n.x6-widget-minimap-viewport-zoom {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  width: 12px;\n  height: 12px;\n  margin: 0 -6px -6px 0;\n  background-color: #fff;\n  border: 2px solid #31d0c6;\n  border-radius: 50%;\n  cursor: nwse-resize;\n}\n.x6-graph-scroller {\n  position: relative;\n  box-sizing: border-box;\n  overflow: scroll;\n  outline: none;\n}\n.x6-graph-scroller-content {\n  position: relative;\n}\n.x6-graph-scroller-background {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-scroller .x6-graph {\n  position: absolute;\n  display: inline-block;\n  margin: 0;\n  box-shadow: none;\n}\n.x6-graph-scroller .x6-graph > svg {\n  display: block;\n}\n.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {\n  box-shadow: 0 0 4px 0 #eee;\n}\n.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-graph-pagebreak {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-pagebreak-vertical {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  width: 1px;\n  border-left: 1px dashed #bdbdbd;\n}\n.x6-graph-pagebreak-horizontal {\n  position: absolute;\n  right: 0;\n  left: 0;\n  box-sizing: border-box;\n  height: 1px;\n  border-top: 1px dashed #bdbdbd;\n}\n.x6-widget-selection {\n  position: absolute;\n  display: none;\n  width: 0;\n  height: 0;\n  touch-action: none;\n}\n.x6-widget-selection-rubberband {\n  display: block;\n  overflow: visible;\n  opacity: 0.3;\n}\n.x6-widget-selection-selected {\n  display: block;\n}\n.x6-widget-selection-box {\n  cursor: move;\n}\n.x6-widget-selection-inner[data-selection-length='0'],\n.x6-widget-selection-inner[data-selection-length='1'] {\n  display: none;\n}\n.x6-widget-selection-content {\n  position: absolute;\n  top: 100%;\n  right: -20px;\n  left: -20px;\n  margin-top: 30px;\n  padding: 6px;\n  line-height: 14px;\n  text-align: center;\n  border-radius: 6px;\n}\n.x6-widget-selection-content:empty {\n  display: none;\n}\n.x6-widget-selection-rubberband {\n  background-color: #3498db;\n  border: 2px solid #2980b9;\n}\n.x6-widget-selection-box {\n  box-sizing: content-box !important;\n  margin-top: -4px;\n  margin-left: -4px;\n  padding-right: 4px;\n  padding-bottom: 4px;\n  border: 2px dashed #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-inner {\n  box-sizing: content-box !important;\n  margin-top: -8px;\n  margin-left: -8px;\n  padding-right: 12px;\n  padding-bottom: 12px;\n  border: 2px solid #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-content {\n  color: #fff;\n  font-size: 10px;\n  background-color: #6a6b8a;\n}\n.x6-widget-snapline {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}\n.x6-widget-snapline-vertical,\n.x6-widget-snapline-horizontal {\n  position: absolute;\n  opacity: 1;\n  pointer-events: none;\n}\n.x6-widget-snapline-horizontal {\n  border-bottom: 1px solid #2ecc71;\n}\n.x6-widget-snapline-vertical {\n  border-right: 1px solid #2ecc71;\n}\n.x6-widget-stencil {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-widget-stencil::after {\n  position: absolute;\n  top: 0;\n  display: block;\n  width: 100%;\n  height: 20px;\n  padding: 8px 0;\n  line-height: 20px;\n  text-align: center;\n  opacity: 0;\n  transition: top 0.1s linear, opacity 0.1s linear;\n  content: ' ';\n  pointer-events: none;\n}\n.x6-widget-stencil-content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {\n  pointer-events: none;\n}\n.x6-widget-stencil-group {\n  padding: 0;\n  padding-bottom: 8px;\n  overflow: hidden;\n  user-select: none;\n}\n.x6-widget-stencil-group.collapsed {\n  height: auto;\n  padding-bottom: 0;\n}\n.x6-widget-stencil-group-title {\n  position: relative;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 4px;\n  cursor: pointer;\n}\n.x6-widget-stencil-title,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  user-select: none;\n}\n.x6-widget-stencil .unmatched {\n  opacity: 0.3;\n}\n.x6-widget-stencil .x6-node.unmatched {\n  display: none;\n}\n.x6-widget-stencil-group.unmatched {\n  display: none;\n}\n.x6-widget-stencil-search-text {\n  position: relative;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 100%;\n  height: 30px;\n  max-height: 30px;\n  line-height: 30px;\n  outline: 0;\n}\n.x6-widget-stencil.not-found::after {\n  opacity: 1;\n  content: attr(data-not-found-text);\n}\n.x6-widget-stencil.not-found.searchable::after {\n  top: 30px;\n}\n.x6-widget-stencil.not-found.searchable.collapsable::after {\n  top: 50px;\n}\n.x6-widget-stencil {\n  color: #333;\n  background: #f5f5f5;\n}\n.x6-widget-stencil-content {\n  position: absolute;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-content {\n  top: 32px;\n}\n.x6-widget-stencil.searchable > .x6-widget-stencil-content {\n  top: 80px;\n}\n.x6-widget-stencil.not-found::after {\n  position: absolute;\n}\n.x6-widget-stencil.not-found.searchable.collapsable::after {\n  top: 80px;\n}\n.x6-widget-stencil.not-found.searchable::after {\n  top: 60px;\n}\n.x6-widget-stencil-group {\n  height: auto;\n  margin-bottom: 1px;\n  padding: 0;\n  transition: none;\n}\n.x6-widget-stencil-group .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n.x6-widget-stencil-group.collapsed {\n  height: auto;\n  max-height: 31px;\n}\n.x6-widget-stencil-title,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  position: relative;\n  left: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 32px;\n  padding: 0 5px 0 8px;\n  color: #666;\n  font-weight: 700;\n  font-size: 12px;\n  line-height: 32px;\n  cursor: default;\n  transition: all 0.3;\n}\n.x6-widget-stencil-title:hover,\n.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {\n  color: #444;\n}\n.x6-widget-stencil-title {\n  background: #e9e9e9;\n}\n.x6-widget-stencil-group > .x6-widget-stencil-group-title {\n  background: #ededed;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {\n  padding-left: 32px;\n  cursor: pointer;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {\n  position: absolute;\n  top: 6px;\n  left: 8px;\n  display: block;\n  width: 18px;\n  height: 18px;\n  margin: 0;\n  padding: 0;\n  background-color: transparent;\n  background-repeat: no-repeat;\n  background-position: 0 0;\n  border: none;\n  content: ' ';\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');\n  opacity: 0.4;\n  transition: all 0.3s;\n}\n.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,\n.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {\n  opacity: 0.6;\n}\n.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,\n.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {\n  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');\n  opacity: 0.4;\n}\n.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,\n.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {\n  opacity: 0.6;\n}\n.x6-widget-stencil input[type='search'] {\n  -webkit-appearance: textfield;\n}\n.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,\n.x6-widget-stencil input[type='search']::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n.x6-widget-stencil-search-text {\n  display: block;\n  width: 90%;\n  margin: 8px 5%;\n  padding-left: 8px;\n  color: #333;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  border-radius: 12px;\n  outline: 0;\n}\n.x6-widget-stencil-search-text:focus {\n  outline: 0;\n}\n.x6-widget-stencil::after {\n  color: #808080;\n  font-weight: 600;\n  font-size: 12px;\n  background: 0 0;\n}\n.x6-widget-transform {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -5px 0 0 -5px;\n  padding: 4px;\n  border: 1px dashed #000;\n  border-radius: 5px;\n  user-select: none;\n  pointer-events: none;\n}\n.x6-widget-transform > div {\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #fff;\n  border: 1px solid #000;\n  transition: background-color 0.2s;\n  pointer-events: auto;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-transform > div:hover {\n  background-color: #d3d3d3;\n}\n.x6-widget-transform-cursor-n {\n  cursor: n-resize;\n}\n.x6-widget-transform-cursor-s {\n  cursor: s-resize;\n}\n.x6-widget-transform-cursor-e {\n  cursor: e-resize;\n}\n.x6-widget-transform-cursor-w {\n  cursor: w-resize;\n}\n.x6-widget-transform-cursor-ne {\n  cursor: ne-resize;\n}\n.x6-widget-transform-cursor-nw {\n  cursor: nw-resize;\n}\n.x6-widget-transform-cursor-se {\n  cursor: se-resize;\n}\n.x6-widget-transform-cursor-sw {\n  cursor: sw-resize;\n}\n.x6-widget-transform-resize {\n  width: 10px;\n  height: 10px;\n  border-radius: 6px;\n}\n.x6-widget-transform-resize[data-position='top-left'] {\n  top: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='top-right'] {\n  top: -5px;\n  right: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-left'] {\n  bottom: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-right'] {\n  right: -5px;\n  bottom: -5px;\n}\n.x6-widget-transform-resize[data-position='top'] {\n  top: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom'] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='left'] {\n  top: 50%;\n  left: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform-resize[data-position='right'] {\n  top: 50%;\n  right: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {\n  display: none;\n}\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {\n  display: none;\n}\n.x6-widget-transform.no-resize .x6-widget-transform-resize {\n  display: none;\n}\n.x6-widget-transform-rotate {\n  top: -20px;\n  left: -20px;\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  cursor: crosshair;\n}\n.x6-widget-transform.no-rotate .x6-widget-transform-rotate {\n  display: none;\n}\n.x6-widget-transform-active {\n  border-color: transparent;\n  pointer-events: all;\n}\n.x6-widget-transform-active > div {\n  display: none;\n}\n.x6-widget-transform-active > .x6-widget-transform-active-handle {\n  display: block;\n  background-color: #808080;\n}\n.x6-widget-knob {\n  position: absolute;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  margin-left: -8px;\n  cursor: pointer;\n  user-select: none;\n}\n.x6-widget-knob::before,\n.x6-widget-knob::after {\n  position: absolute;\n  transform: rotate(45deg);\n  content: '';\n}\n.x6-widget-knob::before {\n  top: 4px;\n  left: 4px;\n  box-sizing: border-box;\n  width: 8px;\n  height: 8px;\n  background-color: #fff;\n}\n.x6-widget-knob::after {\n  top: 5px;\n  left: 5px;\n  box-sizing: border-box;\n  width: 6px;\n  height: 6px;\n  background-color: #fca000;\n}\n.x6-graph-print {\n  position: relative;\n}\n.x6-graph-print .x6-graph-print-ready {\n  display: none;\n}\n.x6-graph-print .x6-graph-print-preview {\n  overflow: hidden !important;\n  background: #fff !important;\n}\n@media print {\n  html,\n  html > body.x6-graph-printing {\n    position: relative !important;\n    width: 100% !important;\n    height: 100% !important;\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n  html > body.x6-graph-printing > * {\n    display: none !important;\n  }\n  html > body.x6-graph-printing > .x6-graph-print {\n    display: block !important;\n  }\n  .x6-graph-print {\n    top: 0 !important;\n    left: 0 !important;\n    margin: 0 !important;\n    padding: 0 !important;\n    overflow: hidden !important;\n    page-break-after: always;\n    background: #fff !important;\n  }\n  .x6-graph-print .x6-graph-print-ready {\n    display: none;\n  }\n}\n";const t=document.querySelector("head");t&&t.insertBefore(e,t.firstChild)}},t.clean=function(){n-=1,n>0||(e&&e.parentNode&&e.parentNode.removeChild(e),e=null)}}(Qv||(Qv={}));var ty,ey,ny=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class iy{get handleClassName(){return ty.handle}get pie(){return Object.assign(Object.assign({},iy.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(t=>this.addHandle(t)),"pie"===this.handleOptions.type){if(this.pie.toggles){const t=ty.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(e=>{const n=this.$("<div/>");this.applyAttrs(n,e.attrs),n.addClass(t).addClass(`${t}-pos-${e.position||"e"}`).attr("data-name",e.name).appendTo(this.container),this.$pieToggles[e.name]=n})}this.setPieIcons()}if(this.$handleContainer){const t=this.handleOptions.type||"surround";this.$handleContainer.addClass(ty.wrap).addClass(ty.animate).addClass(`${ty.handle}-${t}`)}this.delegateEvents({["mousedown ."+ty.handle]:"onHandleMouseDown",["touchstart ."+ty.handle]:"onHandleMouseDown",["mousedown ."+ty.pieToggle]:"onPieToggleMouseDown",["touchstart ."+ty.pieToggle]:"onPieToggleMouseDown"})}onHandleMouseDown(t){const e=this.$(t.currentTarget).closest("."+ty.handle).attr("data-action");e&&(t.preventDefault(),t.stopPropagation(),this.setEventData(t,{action:e,clientX:t.clientX,clientY:t.clientY,startX:t.clientX,startY:t.clientY}),"mousedown"===t.type&&2===t.button?this.triggerHandleAction(e,"contextmenu",t):(this.triggerHandleAction(e,"mousedown",t),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},t.data)))}onHandleMouseMove(t){const e=this.getEventData(t).action;e&&this.triggerHandleAction(e,"mousemove",t)}onHandleMouseUp(t){const e=this.getEventData(t).action;e&&(this.triggerHandleAction(e,"mouseup",t),this.undelegateDocumentEvents())}triggerHandleAction(t,e,n,i){n.preventDefault(),n.stopPropagation();const r=this.normalizeEvent(n),o=this.getEventData(r),a=this.graph.snapToGrid(r.clientX,r.clientY),s=this.graph.snapToGrid(o.clientX,o.clientY),l=a.x-s.x,c=a.y-s.y;this.trigger(`action:${t}:${e}`,Object.assign({e:r,dx:l,dy:c,x:a.x,y:a.y,offsetX:n.clientX-o.startX,offsetY:n.clientY-o.startY},i)),o.clientX=n.clientX,o.clientY=n.clientY}onPieToggleMouseDown(t){t.stopPropagation();const e=this.$(t.target).closest("."+ty.pieToggle).attr("data-name");this.isOpen(e)||this.isOpen()&&this.toggleState(),this.toggleState(e)}setPieIcons(){"pie"===this.handleOptions.type&&this.$handleContainer.find("."+ty.handle).each((t,e)=>{const n=this.$(e),i=n.attr("data-action"),r=ty.pieSlice,o=this.getHandle(i);if(!o||!o.icon){const t=window.getComputedStyle(e,":before").getPropertyValue("content");if(t&&"none"!==t){const e=n.find(`.${r}-txt`);e.length&&vh.create(e[0]).text(t.replace(/['"]/g,""))}const i=n.css("background-image");if(i){const t=i.match(/url\(['"]?([^'"]+)['"]?\)/);if(t){const e=t[1],i=n.find(`.${r}-img`);i.length>0&&vh.create(i[0]).attr("xlink:href",e)}}}})}getHandleIdx(t){return this.handles.findIndex(e=>e.name===t)}hasHandle(t){return this.getHandleIdx(t)>=0}getHandle(t){return this.handles.find(e=>e.name===t)}renderHandle(t){const e=this.$("<div/>").addClass(`${ty.handle} ${ty.handle}-${t.name}`).attr("data-action",t.name).prop("draggable",!1);if("pie"===this.handleOptions.type){const n=this.getHandleIdx(t.name),i=this.pie,r=i.outerRadius,o=i.innerRadius,a=(r+o)/2,s=new Yc(r,r),l=Ac.toRad(i.sliceAngle),h=n*l+Ac.toRad(i.startAngle),u=h+l,d=c.createSlicePathData(o,r,h,u),p=vh.create("svg").addClass(ty.pieSlice+"-svg"),f=vh.create("path").addClass(ty.pieSlice).attr("d",d).translate(r,r),g=Yc.fromPolar(a,-h-l/2,s).toJSON(),m=i.iconSize,v=vh.create("image").attr(g).addClass(ty.pieSlice+"-img");g.y=g.y+m-2;const y=vh.create("text",{"font-size":m}).attr(g).addClass(ty.pieSlice+"-txt");v.attr({width:m,height:m}),v.translate(-m/2,-m/2),y.translate(-m/2,-m/2),p.append([f,v,y]),e.append(p.node)}else e.addClass(`${ty.handle}-pos-${t.position}`),t.content&&("string"==typeof t.content?e.html(t.content):e.append(t.content));return this.updateHandleIcon(e,t.icon),this.applyAttrs(e,t.attrs),e}addHandle(t){if(!this.hasHandle(t.name)){this.handles.push(t);const e=t.events;e&&Object.keys(e).forEach(n=>{const i=e[n],r=`action:${t.name}:${n}`;"string"==typeof i?this.on(r,this[i],this):this.on(r,i)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(t))}return this}addHandles(t){return t.forEach(t=>this.addHandle(t)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(t){const e=this.getHandleIdx(t),n=this.handles[e];return n&&(n.events&&Object.keys(n.events).forEach(e=>{this.off(`action:${t}:${e}`)}),this.getHandleElem(t).remove(),this.handles.splice(e,1)),this}changeHandle(t,e){const n=this.getHandle(t);return n&&(this.removeHandle(t),this.addHandle(Object.assign(Object.assign({},n),e))),this}toggleHandle(t,e){const n=this.getHandle(t);if(n){const i=this.getHandleElem(t),r=ty.handle+"-selected";void 0===e&&(e=!i.hasClass(r)),i.toggleClass(r,e);const o=e?n.iconSelected:n.icon;o&&this.updateHandleIcon(i,o)}return this}selectHandle(t){return this.toggleHandle(t,!0)}deselectHandle(t){return this.toggleHandle(t,!1)}deselectAllHandles(){return this.handles.forEach(t=>this.deselectHandle(t.name)),this}getHandleElem(t){return this.$handleContainer.find(`.${ty.handle}-${t}`)}updateHandleIcon(t,e){if("pie"===this.handleOptions.type){const n=t.find("."+ty.pieSliceImg);this.$(n[0]).attr("xlink:href",e||"")}else t.css("background-image",e?`url(${e})`:"")}isRendered(){return null!=this.$handleContainer}isOpen(t){return!!this.isRendered()&&(t?this.$pieToggles[t].hasClass(ty.pieToggleOpened):this.$handleContainer.hasClass(""+ty.pieOpended))}toggleState(t){if(this.isRendered()){const e=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(t=>{this.$pieToggles[t].removeClass(ty.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:t}),e.removeClass(ty.pieOpended);else{if(this.trigger("pie:open",{name:t}),t){const n=this.pie.toggles,i=n&&n.find(e=>e.name===t);i&&e.attr({"data-pie-toggle-name":i.name,"data-pie-toggle-position":i.position}),this.$pieToggles[t].addClass(ty.pieToggleOpened)}e.addClass(ty.pieOpended)}}}applyAttrs(t,e){if(e){const n=$f.$(t);Object.keys(e).forEach(t=>{const i=n.find(t).addBack().filter(t),r=e[t],{class:o}=r,a=ny(r,["class"]);o&&i.addClass(o),i.attr(a)})}}}(iy||(iy={})).defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]},(ey=ty||(ty={})).handle=$f.prototype.prefixClassName("widget-handle"),ey.wrap=ey.handle+"-wrap",ey.animate=ey.handle+"-animate",ey.pieOpended=ey.handle+"-pie-opened",ey.pieToggle=ey.handle+"-pie-toggle",ey.pieToggleOpened=ey.handle+"-pie-toggle-opened",ey.pieSlice=ey.handle+"-pie-slice",ey.pieSliceImg=ey.handle+"-pie-slice-img";var ry,oy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ay=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class sy extends $f{constructor(t){super();const e=t,{view:n,cell:i,node:r,edge:o,graph:a}=e,s=ay(e,["view","cell","node","edge","graph"]);n?(this.view=n,this.cell=n.cell,this.graph=n.graph,this.model=this.graph.model):(i||o||r)&&a&&(this.cell=r||o||i,this.view=a.renderer.findViewByCell(this.cell),this.graph=a,this.model=this.graph.model);const l=this.constructor;!1!==t.clearAll&&l.removeInstances(this.graph),l.register(this),this.init(s)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(t,e){null==e&&(e=t.graph);const n=this.ensureCache();let i=n[e.view.cid];null==i&&(i=n[e.view.cid]={}),i[t.cid]=t}static unregister(t,e){null==e&&(e=t.graph);const n=this.ensureCache();n[e.view.cid]&&delete n[e.view.cid][t.cid]}static removeInstances(t){const e=this.ensureCache()[t.view.cid];e&&Object.keys(e).forEach(t=>{const n=e[t];n&&n.remove()})}static getInstances(t){return this.ensureCache()[t.view.cid]||{}}init(t){}render(){return this}startListening(){!1!==this.options.clearOnBlankMouseDown&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){!1!==this.options.clearOnBlankMouseDown&&this.graph.off("blank:mousedown",this.remove,this)}remove(){this.stopListening();return this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}sy.instanceCache=new WeakMap,oy([$f.dispose()],sy.prototype,"dispose",null);class ly extends sy{get node(){return this.cell}get metadata(){const t=this.cell.prop("knob");return Array.isArray(t)?null!=this.options.index?t[this.options.index]:null:t}init(t){this.options=Object.assign({},t),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),c.addClass(this.container,this.prefixClassName("widget-knob")),this.options.className&&c.addClass(this.container,this.options.className),this.view.addClass(ry.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(ry.KNOB),super.remove()}update(){if(this.metadata){const{update:t,position:e}=this.metadata,n={knob:this,cell:this.cell,node:this.node};if(e){const t=e.call(this.graph,Object.assign({},n));if(t){const e=this.graph.matrix(),n=this.node.getBBox(),i=Ac.normalize(this.node.getAngle()),r=Yc.create(t);0!==i&&r.rotate(-i,{x:n.width/2,y:n.height/2}),r.translate(n).scale(e.a,e.d).translate(e.e,e.f),this.container.style.left=r.x+"px",this.container.style.top=r.y+"px"}}t&&t.call(this.graph,Object.assign({},n))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:t}){this.cid!==t.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(t,e){if(this.view){const n=this.view.normalizeEvent(e),i=this.graph.snapToGrid(n.clientX,n.clientY);this.view.notify("cell:"+t,{e:n,view:this.view,node:this.node,cell:this.cell,x:i.x,y:i.y,knob:this}),this.cell.isNode()?this.view.notify("node:"+t,{e:n,view:this.view,node:this.node,cell:this.cell,x:i.x,y:i.y,knob:this}):this.cell.isEdge()&&this.view.notify("edge:"+t,{e:n,view:this.view,edge:this.cell,cell:this.cell,x:i.x,y:i.y,knob:this})}}onMouseDown(t){t.stopPropagation(),this.setEventData(t,{knobbing:!1,originX:t.clientX,originY:t.clientY,clientX:t.clientX,clientY:t.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(ry.documentEvents,t.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e:t,data:this.getEventData(t),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",t)}onMouseMove(t){const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);if(e.knobbing||(e.knobbing=!0,n&&(n.addClass(ry.KNOBBING),this.notify("knob",t)),this.model.startBatch("knob",{cid:this.cid})),e.clientX=t.clientX,e.clientY=t.clientY,this.metadata&&this.metadata.onMouseMove){const n=this.graph.matrix(),i=(t.clientX-e.originX)/n.a,r=(t.clientY-e.originY)/n.d,o=this.node.getAngle(),a=new Yc(i,r).rotate(o);this.metadata.onMouseMove.call(this.graph,{e:t,data:e,deltaX:a.x,deltaY:a.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",t),this.notify("knob:mousemove",t)}onMouseUp(t){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);e.knobbing&&(n&&n.removeClass(ry.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e:t,data:e,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",t)),this.notify("knob:mouseup",t)}}!function(t){t.KNOB="has-widget-knob",t.KNOBBING="node-knobbing",t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}}(ry||(ry={}));var cy,hy,uy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t.root="widget-minimap",t.viewport=t.root+"-viewport",t.zoom=t.viewport+"-zoom"}(cy||(cy={}));class dy extends $f{constructor(t){super(),this.options=Object.assign(Object.assign({},hy.defaultOptions),t),this.updateViewport=s.debounce(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(cy.root));const e=document.createElement("div");this.container.appendChild(e),this.$viewport=this.$("<div>").addClass(this.prefixClassName(cy.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(cy.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const n=Object.assign(Object.assign({},this.options.graphOptions),{container:e,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(n):new kx(n),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on("scroll"+this.getEventNamespace(),this.updateViewport):this.sourceGraph.on("translate",this.updateViewport,this),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",["mousedown ."+this.prefixClassName("graph")]:"scrollTo",["touchstart ."+this.prefixClassName("graph")]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):this.sourceGraph.off("translate",this.updateViewport,this),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}updatePaper(t,e){let n,i;"object"==typeof t?(n=t.width,i=t.height):(n=t,i=e);const r=this.sourceGraph.options,o=this.sourceGraph.transform.getScale(),a=this.options.width-2*this.options.padding,s=this.options.height-2*this.options.padding;n/=o.sx,i/=o.sy,this.ratio=Math.min(a/n,s/i);const l=this.ratio,c=r.x*l/o.sx,h=r.y*l/o.sy;return n*=l,i*=l,this.targetGraph.resizeGraph(n,i),this.targetGraph.translate(c,h),this.targetGraph.scale(l,l),this.updateViewport(),this}updateViewport(){const t=this.ratio,e=this.sourceGraph.transform.getScale();let n=null;if(this.scroller)n=this.scroller.clientToLocalPoint(0,0);else{const t=this.sourceGraph.matrix();n=new Yc(-t.e/t.a,-t.f/t.d)}const i=this.$(this.targetGraph.container).position(),r=this.targetGraph.translate();r.ty=r.ty||0,this.geometry={top:i.top+n.y*t+r.ty,left:i.left+n.x*t+r.tx,width:this.$graphContainer.innerWidth()*t/e.sx,height:this.$graphContainer.innerHeight()*t/e.sy},this.$viewport.css(this.geometry)}startAction(t){const e=this.normalizeEvent(t),n=e.target===this.zoomHandle?"zooming":"panning",{tx:i,ty:r}=this.sourceGraph.translate(),o={action:n,clientX:e.clientX,clientY:e.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:i,translateY:r};this.delegateDocumentEvents(hy.documentEvents,o)}doAction(t){const e=this.normalizeEvent(t),n=e.clientX,i=e.clientY,r=e.data;switch(r.action){case"panning":{const t=this.sourceGraph.transform.getScale(),e=(n-r.clientX)*t.sx,o=(i-r.clientY)*t.sy;this.scroller?(this.graphContainer.scrollLeft=r.scrollLeft+e/this.ratio,this.graphContainer.scrollTop=r.scrollTop+o/this.ratio):this.sourceGraph.translate(r.translateX-e/this.ratio,r.translateY-o/this.ratio);break}case"zooming":{const t=r.scale,e=r.geometry,i=1+(r.clientX-n)/e.width/t.sx;r.frameId&&cancelAnimationFrame(r.frameId),r.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(i*r.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}}}stopAction(){this.undelegateDocumentEvents()}scrollTo(t){const e=this.normalizeEvent(t);let n,i;const r=this.targetGraph.translate();if(r.ty=r.ty||0,null==e.offsetX){const t=this.$(this.targetGraph.container).offset();n=e.pageX-t.left,i=e.pageY-t.top}else n=e.offsetX,i=e.offsetY;const o=(n-r.tx)/this.ratio,a=(i-r.ty)/this.ratio;this.sourceGraph.centerPoint(o,a)}dispose(){this.remove()}}uy([$f.dispose()],dy.prototype,"dispose",null),function(t){t.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:t=>new kx(t)},t.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}}(hy||(hy={}));var py=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},fy=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class gy extends $f{constructor(t){super();const{graph:e}=t,n=fy(t,["graph"]);this.graph=e,this.options=Object.assign({tolerance:10},n),this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return this.containerClassName+"-vertical"}get horizontalClassName(){return this.containerClassName+"-horizontal"}get disabled(){return!0!==this.options.enabled||!0!==this.graph.options.snapline.enabled}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(t){this.options.filter=t,this.parseFilter()}render(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$horizontal=this.$(document.createElement("div")).addClass(this.horizontalClassName),this.$vertical=this.$(document.createElement("div")).addClass(this.verticalClassName),this.$container.hide().addClass(this.containerClassName).append([this.$horizontal,this.$vertical]),this.options.className&&this.$container.addClass(this.options.className)}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const t=this.options.filter;Array.isArray(t)?t.forEach(t=>{"string"==typeof t?this.filterShapes[t]=!0:this.filterCells[t.id]=!0}):"function"==typeof t&&(this.filterFunction=t)}onBatchStop({name:t,data:e}){"resize"===t&&this.snapOnResizing(e.cell,e)}captureCursorOffset({view:t,x:e,y:n}){const i=t.getDelegatedView();if(i&&this.isNodeMovable(i)){const i=t.cell.getPosition();this.offset={x:e-i.x,y:n-i.y}}}isNodeMovable(t){return t&&t.cell.isNode()&&t.can("nodeMovable")}snapOnResizing(t,e){if(this.options.resizing&&!e.snapped&&e.ui&&e.direction&&e.trueDirection){const n=this.graph.renderer.findViewByCell(t);if(n&&n.cell.isNode()){const r=t.getBBox(),o=r.bbox(t.getAngle()),a=o.getTopLeft(),s=o.getBottomRight(),l=Ac.normalize(t.getAngle()),c=this.options.tolerance||0;let h,u,d,p,f,g;const m={vertical:0,horizontal:0},v=e.direction,y=e.trueDirection,x=e.relativeDirection;-1!==y.indexOf("right")?m.vertical=s.x:m.vertical=a.x,-1!==y.indexOf("bottom")?m.horizontal=s.y:m.horizontal=a.y,this.model.getNodes().some(e=>{if(this.isIgnored(t,e))return!1;const n=e.getBBox().bbox(e.getAngle()),r=n.getTopLeft(),a=n.getBottomRight(),l={vertical:[r.x,a.x],horizontal:[r.y,a.y]},v={};return Object.keys(l).forEach(t=>{const e=t,n=l[e].map(t=>({position:t,distance:Math.abs(t-m[e])})).filter(t=>t.distance<=c);v[e]=i.sortBy(n,t=>t.distance)}),null==h&&v.vertical.length>0&&(h=v.vertical[0].position,u=Math.min(o.y,n.y),d=Math.max(s.y,a.y)-u),null==p&&v.horizontal.length>0&&(p=v.horizontal[0].position,f=Math.min(o.x,n.x),g=Math.max(s.x,a.x)-f),null!=h&&null!=p}),this.hide();let b=0,w=0;null==p&&null==h||(null!=h&&(b=-1!==y.indexOf("right")?h-s.x:a.x-h),null!=p&&(w=-1!==y.indexOf("bottom")?p-s.y:a.y-p));let C=0,_=0;if(l%90==0)90===l||270===l?(C=w,_=b):(C=b,_=w);else{const t=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;null!=p&&null!=h&&(b<w?(w=0,p=void 0):(b=0,h=void 0));const e=Ac.toRad(l%90);b&&(C=3===t?b/Math.cos(e):b/Math.sin(e)),w&&(_=3===t?w/Math.cos(e):w/Math.sin(e));const n=1===t||3===t;switch(x){case"top":case"bottom":_=w?w/(n?Math.cos(e):Math.sin(e)):b/(n?Math.sin(e):Math.cos(e));break;case"left":case"right":C=b?b/(n?Math.cos(e):Math.sin(e)):w/(n?Math.sin(e):Math.cos(e))}}switch(x){case"top":case"bottom":C=0;break;case"left":case"right":_=0}const S=this.graph.getGridSize();let O=Math.max(r.width+C,S),M=Math.max(r.height+_,S);e.minWidth&&e.minWidth>S&&(O=Math.max(O,e.minWidth)),e.minHeight&&e.minHeight>S&&(M=Math.max(M,e.minHeight)),e.maxWidth&&(O=Math.min(O,e.maxWidth)),e.maxHeight&&(M=Math.min(M,e.maxHeight)),e.preserveAspectRatio&&(_<C?M=O*(r.height/r.width):O=M*(r.width/r.height)),O===r.width&&M===r.height||(t.resize(O,M,{direction:v,relativeDirection:x,trueDirection:y,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(n)}),d&&(d+=M-r.height),g&&(g+=O-r.width));const k=t.getBBox().bbox(l);h&&Math.abs(k.x-h)>1&&Math.abs(k.width+k.x-h)>1&&(h=void 0),p&&Math.abs(k.y-p)>1&&Math.abs(k.height+k.y-p)>1&&(p=void 0),this.update({verticalLeft:h,verticalTop:u,verticalHeight:d,horizontalTop:p,horizontalLeft:f,horizontalWidth:g})}}}snapOnMoving({view:t,e:e,x:n,y:i}){const r=t.getEventData(e).delegatedView||t;if(!this.isNodeMovable(r))return;const o=r.cell,a=o.getSize(),s=o.getPosition(),l=new Xc(n-this.offset.x,i-this.offset.y,a.width,a.height),c=o.getAngle(),h=l.getCenter(),u=l.bbox(c),d=u.getTopLeft(),p=u.getBottomRight(),f=this.options.tolerance||0;let g,m,v,y,x,b,w=0,C=0;if(this.model.getNodes().some(t=>{if(this.isIgnored(o,t))return!1;const e=t.getBBox().bbox(t.getAngle()),n=e.getCenter(),i=e.getTopLeft(),r=e.getBottomRight();return null==g&&(Math.abs(n.x-h.x)<f?(g=n.x,w=.5):Math.abs(i.x-d.x)<f?(g=i.x,w=0):Math.abs(i.x-p.x)<f?(g=i.x,w=1):Math.abs(r.x-p.x)<f?(g=r.x,w=1):Math.abs(r.x-d.x)<f&&(g=r.x),null!=g&&(m=Math.min(u.y,e.y),v=Math.max(p.y,r.y)-m)),null==y&&(Math.abs(n.y-h.y)<f?(y=n.y,C=.5):Math.abs(i.y-d.y)<f?y=i.y:Math.abs(i.y-p.y)<f?(y=i.y,C=1):Math.abs(r.y-p.y)<f?(y=r.y,C=1):Math.abs(r.y-d.y)<f&&(y=r.y),null!=y&&(x=Math.min(u.x,e.x),b=Math.max(p.x,r.x)-x)),null!=g&&null!=y}),this.hide(),null!=y||null!=g){null!=y&&(u.y=y-C*u.height),null!=g&&(u.x=g-w*u.width);const t=u.getCenter(),e=t.x-l.width/2,n=t.y-l.height/2,i=e-s.x,a=n-s.y;0===i&&0===a||(o.translate(i,a,{snapped:!0,restrict:this.graph.hook.getRestrictArea(r)}),b&&(b+=i),v&&(v+=a)),this.update({verticalLeft:g,verticalTop:m,verticalHeight:v,horizontalTop:y,horizontalLeft:x,horizontalWidth:b})}}isIgnored(t,e){return e.id===t.id||e.isDescendantOf(t)||this.filterShapes[e.shape]||this.filterCells[e.id]||this.filterFunction&&s.call(this.filterFunction,this.graph,e)}update(t){const e=this.graph.matrix(),n=e.a,i=e.d,r=e.e,o=e.f,a=this.options.sharp,s=null!=this.graph.scroller.widget;t.horizontalTop?this.$horizontal.css({top:t.horizontalTop*i+o,left:a?t.horizontalLeft*n+r:s?"-300%":0,width:a?t.horizontalWidth*n:s?"700%":"100%"}).show():this.$horizontal.hide(),t.verticalLeft?this.$vertical.css({left:t.verticalLeft*n+r,top:a?t.verticalTop*i+o:s?"-300%":0,height:a?t.verticalHeight*i:s?"700%":"100%"}).show():this.$vertical.hide(),this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.$container.show(),this.resetTimer(),null==this.container.parentNode&&this.graph.container.appendChild(this.container),this}hide(){this.$container.hide(),this.resetTimer();const t=this.options.clean,e="number"==typeof t?t:!1!==t?3e3:0;return e>0&&(this.timer=window.setTimeout(()=>{this.unmount()},e)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}py([$f.dispose()],gy.prototype,"dispose",null);var my,vy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class yy extends qv{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(yy.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:t}){this.removeZPivots(),this.resetViews(this.model.getCells(),t)}onBatchStop({name:t,data:e}){if(this.isFrozen())return;const n=this.model;if(!this.isAsync()){const i=yy.UPDATE_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.updateViews(e)}const i=yy.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}onCellAdded({cell:t,options:e}){const n=e.position;this.isAsync()||"number"!=typeof n?this.renderView(t,e):(e.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(t,e),0===n&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:t,options:e}){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,yy.FLAG_REMOVE,n.priority,e)}onCellZIndexChanged({cell:t,options:e}){if("approx"===this.options.sorting){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,yy.FLAG_INSERT,n.priority,e)}}onCellVisibleChanged({cell:t,current:e,options:n}){e||this.processEdgeOnTerminalVisibleChanged(t,!1);const i=this.findViewByCell(t);!e&&i?this.removeView(t):e&&null==i&&this.renderView(t,n),e&&this.processEdgeOnTerminalVisibleChanged(t,!0)}processEdgeOnTerminalVisibleChanged(t,e){this.model.getConnectedEdges(t).forEach(n=>{const i=((t,e)=>{if(t.getSourceCellId()!==e.id)return t.getSourceCell();return t.getTargetCellId()!==e.id?t.getTargetCell():null})(n,t);(null==i||i.isVisible())&&(e?n.show():n.hide())})}isEdgeTerminalVisible(t,e){const n="source"===e?t.getSourceCellId():t.getTargetCellId(),i=n?this.model.getCell(n):null;return!(i&&!i.isVisible())}requestConnectedEdgesUpdate(t,e={}){if(lg.isCellView(t)){const n=t.cell,i=this.model.getConnectedEdges(n);for(let t=0,r=i.length;t<r;t+=1){const r=i[t],o=this.findViewByCell(r);if(!o)continue;const a=["update"];r.getTargetCell()===n&&a.push("target"),r.getSourceCell()===n&&a.push("source"),this.scheduleViewUpdate(o,o.getFlag(a),o.priority,e)}}}forcePostponedViewUpdate(t,e){if(!t||!lg.isCellView(t))return!1;const n=t.cell;if(n.isNode())return!1;const i=t;if(n.isEdge()&&0==(e&t.getFlag(["source","target"]))){let t=0;const e=this.findViewByCell(n.getSourceCell());e&&!this.isViewMounted(e)&&(t=this.dumpView(e),i.updateTerminalMagnet("source"));let r=0;const o=this.findViewByCell(n.getTargetCell());if(o&&!this.isViewMounted(o)&&(r=this.dumpView(o),i.updateTerminalMagnet("target")),0===t&&0===r)return!this.dumpView(i)}return!1}scheduleViewUpdate(t,e,n,i={}){const r=t.cid,o=this.updates;let a=o.priorities[n];a||(a=o.priorities[n]={});const s=a[r]||0;(s&e)!==e&&(s||(o.count+=1),e&yy.FLAG_REMOVE&&s&yy.FLAG_INSERT?a[r]^=yy.FLAG_INSERT:e&yy.FLAG_INSERT&&s&yy.FLAG_REMOVE&&(a[r]^=yy.FLAG_REMOVE),a[r]|=e,this.graph.hook.onViewUpdated(t,e,i))}requestViewUpdate(t,e,n,i={}){this.scheduleViewUpdate(t,e,n,i);const r=this.isAsync();if(this.isFrozen()||r&&!1!==i.async||this.model.hasActiveBatch(yy.UPDATE_DELAYING_BATCHES))return;const o=this.updateViews(i);r&&this.graph.trigger("render:done",{stats:o,options:i})}dumpView(t,e={}){if(null==t)return 0;const n=t.cid,i=this.updates.priorities[t.priority],r=this.registerMountedView(t)|i[n];return delete i[n],r?this.updateView(t,r,e):0}dumpViews(t={}){this.checkView(t),this.updateViews(t)}requireView(t,e={}){const n=this.findViewByCell(t);return null==n?null:(this.dumpView(n,e),n)}updateView(t,e,n={}){if(null==t)return 0;if(lg.isCellView(t)){if(e&yy.FLAG_REMOVE)return this.removeView(t.cell),0;e&yy.FLAG_INSERT&&(this.insertView(t),e^=yy.FLAG_INSERT)}return e?t.confirmUpdate(e,n):0}updateViews(t={}){let e,n=0,i=0,r=yy.MIN_PRIORITY;do{e=this.updateViewsBatch(t),n+=1,i+=e.updatedCount,r=Math.min(e.priority,r)}while(!e.empty);return{priority:r,batchCount:n,updatedCount:i}}updateViewsBatch(t={}){const e=this.updates,n=e.priorities,i=t.batchSize||yy.UPDATE_BATCH_SIZE;let r=!0,o=yy.MIN_PRIORITY,a=0,l=0,c=0,h=0,u=t.checkView||this.options.checkView;"function"!=typeof u&&(u=null);t:for(let d=0,p=n.length;d<p;d+=1){const p=n[d];for(const n in p){if(c>=i){r=!1;break t}const f=$f.views[n];if(!f){delete p[n];continue}let g=p[n];if(0==(g&yy.FLAG_REMOVE)){const t=n in e.unmounted;if(u&&!s.call(u,this.graph,{view:f,unmounted:t})){t||(this.registerUnmountedView(f),f.unmount()),e.unmounted[n]|=g,delete p[n],l+=1;continue}t&&(g|=yy.FLAG_INSERT,a+=1),g|=this.registerMountedView(f)}const m=f;let v=this.updateView(f,g,t);if(v>0){const t=m.cell;t&&t.isEdge()&&(m.hasAction(v,"source")&&!this.isEdgeTerminalVisible(t,"source")&&(v=m.removeAction(v,"source"),v|=yy.FLAG_REMOVE),m.hasAction(v,"target")&&!this.isEdgeTerminalVisible(t,"target")&&(v=m.removeAction(v,"target"),v|=yy.FLAG_REMOVE))}v>0&&(p[n]=v,!this.graph.hook.onViewPostponed(m,v,t)||p[n])?(h+=1,r=!1):(o>d&&(o=d),c+=1,delete p[n])}}return{empty:r,priority:o,mountedCount:a,unmountedCount:l,updatedCount:c,postponedCount:h}}updateViewsAsync(t={},e={processed:0,priority:yy.MIN_PRIORITY}){const n=this.updates,i=n.animationId;if(i){if(c.cancelAnimationFrame(i),0===e.processed){const e=t.before;"function"==typeof e&&s.call(e,this.graph,this.graph)}const r=this.updateViewsBatch(t),o=this.checkViewImpl({checkView:t.checkView,mountedBatchSize:yy.MOUNT_BATCH_SIZE-r.mountedCount,unmountedBatchSize:yy.MOUNT_BATCH_SIZE-r.unmountedCount});let a=e.processed;const l=n.count,h=o.mountedCount,u=o.unmountedCount;r.updatedCount>0&&(a+=r.updatedCount+r.unmountedCount,e.priority=Math.min(r.priority,e.priority),r.empty&&0===h?(r.priority=e.priority,r.mountedCount+=h,r.unmountedCount+=u,this.graph.trigger("render:done",{stats:r,options:t}),e.processed=0,n.count=0):e.processed=a);const d=t.progress;if(l&&"function"==typeof d&&s.call(d,this.graph,{total:l,done:r.empty,current:a}),n.animationId!==i)return}n.animationId=c.requestAnimationFrame(()=>{this.updateViewsAsync(t,e)})}registerMountedView(t){const e=t.cid,n=this.updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);const i=n.unmounted[e]||0;return delete n.unmounted[e],i}registerUnmountedView(t){const e=t.cid,n=this.updates;if(e in n.unmounted)return 0;n.unmounted[e]|=yy.FLAG_INSERT;const i=n.unmounted[e];return n.unmountedCids.push(e),delete n.mounted[e],i}isViewMounted(t){if(null==t)return!1;return t.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(t=>lg.views[t])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(t=>lg.views[t])}checkMountedViews(t,e){let n=0;if("function"!=typeof t)return n;const i=this.updates,r=i.mounted,o=i.mountedCids,a=null==e?o.length:Math.min(o.length,e);for(let e=0;e<a;e+=1){const i=o[e];if(!(i in r))continue;const a=lg.views[i];if(null==a)continue;if(s.call(t,this.graph,{view:a,unmounted:!0})){o.push(i);continue}n+=1;this.registerUnmountedView(a)&&a.unmount()}return o.splice(0,a),n}checkUnmountedViews(t,e){let n=0;"function"!=typeof t&&(t=null);const i=this.updates,r=i.unmounted,o=i.unmountedCids,a=null==e?o.length:Math.min(o.length,e);for(let e=0;e<a;e+=1){const i=o[e];if(!(i in r))continue;const a=lg.views[i];if(null==a)continue;if(t&&!s.call(t,this.graph,{view:a,unmounted:!1})){o.push(i);continue}n+=1;const l=this.registerMountedView(a);l&&this.scheduleViewUpdate(a,l,a.priority,{mounting:!0})}return o.splice(0,a),n}checkViewImpl(t={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const e=t.checkView||this.options.checkView,n=this.checkMountedViews(e,t.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(e,n>0?Math.min(this.updates.unmountedCids.length-n,t.mountedBatchSize):t.mountedBatchSize),unmountedCount:n}}checkView(t={}){return this.checkViewImpl(t)}isFrozen(){return!!this.options.frozen}freeze(t={}){const e=t.key,n=this.updates,i=this.options.frozen,r=n.freezeKey;if(e&&e!==r){if(i&&r)return;n.frozen=i,n.freezeKey=e}this.options.frozen=!0;const o=n.animationId;n.animationId=null,this.isAsync()&&null!=o&&c.cancelAnimationFrame(o),this.graph.trigger("freeze",{key:e})}unfreeze(t={}){const e=t.key,n=this.updates,i=n.freezeKey;if(e&&i&&e!==i)return;if(n.freezeKey=null,e&&e===i&&n.frozen)return;const r=()=>{this.options.frozen=n.frozen=!1,n.sort&&(this.sortViews(),n.sort=!1);const i=t.after;i&&s.call(i,this.graph,this.graph),this.graph.trigger("unfreeze",{key:e})};if(this.isAsync()){this.freeze();const e=t.progress;this.updateViewsAsync(Object.assign(Object.assign({},t),{progress:({done:t,current:n,total:i})=>{e&&s.call(e,this.graph,{done:t,current:n,total:i}),t&&r()}}))}else this.updateViews(t),r()}isAsync(){return!!this.options.async}setAsync(t){this.options.async=t}onRemove(){this.freeze(),this.removeViews()}resetViews(t=[],e={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let n=0,i=t.length;n<i;n+=1)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()}removeView(t){const e=this.views[t.id];if(e){const n=e.cid,i=this.updates,r=i.mounted,o=i.unmounted;e.remove(),delete this.views[t.id],delete r[n],delete o[n]}return e}removeViews(){this.views&&Object.keys(this.views).forEach(t=>{const e=this.views[t];e&&this.removeView(e.cell)}),this.views={}}renderView(t,e={}){const n=t.id,i=this.views;let r=0,o=i[n];if(t.isVisible()&&(!t.isEdge()||this.isEdgeTerminalVisible(t,"source")&&this.isEdgeTerminalVisible(t,"target"))){if(o)r=yy.FLAG_INSERT;else{const e=this.graph.hook.createCellView(t);e&&(o=i[t.id]=e,o.graph=this.graph,r=this.registerUnmountedView(o)|o.getBootstrapFlag())}o&&this.requestViewUpdate(o,r,o.priority,e)}}isExactSorting(){return"exact"===this.options.sorting}sortViews(){this.isExactSorting()&&(this.isFrozen()?this.updates.sort=!0:this.sortViewsExact())}sortElements(t,e){const n=t.map(t=>{const e=t.parentNode,n=e.insertBefore(document.createTextNode(""),t.nextSibling);return t=>{if(e===t)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(t,n),e.removeChild(n)}});t.sort(e).forEach((t,e)=>n[e](t))}sortViewsExact(){const t=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),e=this.model;this.sortElements(t,(t,n)=>{const i=e.getCell(t.getAttribute("data-cell-id")||""),r=e.getCell(n.getAttribute("data-cell-id")||""),o=i.getZIndex()||0,a=r.getZIndex()||0;return o===a?0:o<a?-1:1})}addZPivot(t=0){null==this.zPivots&&(this.zPivots={});const e=this.zPivots;let n=e[t];if(n)return n;n=e[t]=document.createComment("z-index:"+(t+1));let i=-1/0;for(const n in e){const e=+n;e<t&&e>i&&(i=e)}const r=this.view.stage;if(i!==-1/0){const t=e[i];r.insertBefore(n,t.nextSibling)}else r.insertBefore(n,r.firstChild);return n}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(t=>{const e=this.zPivots[t];e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}insertView(t){const e=this.view.stage;switch(this.options.sorting){case"approx":{const n=t.cell.getZIndex(),i=this.addZPivot(n);e.insertBefore(t.container,i);break}case"exact":default:e.appendChild(t.container)}}findViewByCell(t){if(null==t)return null;const e=lv.isCell(t)?t.id:t;return this.views[e]}findViewByElem(t){if(null==t)return null;const e="string"==typeof t?this.view.stage.querySelector(t):t instanceof Element?t:t[0];if(e){const t=this.view.findAttr("data-cell-id",e);if(t)return this.views[t]}return null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(t=>this.findViewByCell(t)).filter(t=>null!=t&&c.getBBox(t.container,{target:this.view.stage}).containsPoint(e))}findEdgeViewsInArea(t,e={}){const n=Xc.create(t);return this.model.getEdges().map(t=>this.findViewByCell(t)).filter(t=>{if(t){const i=c.getBBox(t.container,{target:this.view.stage});return e.strict?n.containsRect(i):n.isIntersectWithRect(i)}return!1})}findViewsInArea(t,e={}){const n=Xc.create(t);return this.model.getNodes().map(t=>this.findViewByCell(t)).filter(t=>{if(t){const i=c.getBBox(t.container,{target:this.view.stage});return e.strict?n.containsRect(i):n.isIntersectWithRect(i)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}vy([qv.dispose()],yy.prototype,"dispose",null),(my=yy||(yy={})).FLAG_INSERT=1<<30,my.FLAG_REMOVE=1<<29,my.MOUNT_BATCH_SIZE=1e3,my.UPDATE_BATCH_SIZE=1e3,my.MIN_PRIORITY=2,my.SORT_DELAYING_BATCHES=["add","to-front","to-back"],my.UPDATE_DELAYING_BATCHES=["translate"];var xy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class by extends qv{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",n=t.position||"center";const i=this.graph.transform.getScale(),r=this.graph.translate();if("object"==typeof n){n=`${r.tx+i.sx*(n.x||0)}px ${r.ty+i.sy*(n.y||0)}px`}"object"==typeof e&&(e=Xc.fromSize(e).scale(i.sx,i.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=n}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement))return void(this.elem.style.backgroundImage="");let n;const i=e.opacity,o=e.size;let a=e.repeat||"no-repeat";const s=Bp.registry.get(a);if("function"==typeof s){const i=e.quality||1;t.width*=i,t.height*=i;const r=s(t,e);if(!(r instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");n=r.toDataURL("image/png"),a=e.repeat&&a!==e.repeat?e.repeat:"repeat","object"==typeof o?(o.width*=r.width/t.width,o.height*=r.height/t.height):void 0===o&&(e.size={width:r.width/i,height:r.height/i})}else n=t.src,void 0===o&&(e.size={width:t.width,height:t.height});const l=this.optionsCache;null!=l&&"object"==typeof e.size&&e.image===l.image&&e.repeat===l.repeat&&e.quality===l.quality&&(l.size=r.clone(e.size));const c=this.elem.style;c.backgroundImage=`url(${n})`,c.backgroundRepeat=a,c.opacity=null==i||i>=1?"":""+i,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=r.clone(e);const n=document.createElement("img");n.onload=()=>this.drawBackgroundImage(n,t),n.setAttribute("crossorigin","anonymous"),n.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}xy([qv.dispose()],by.prototype,"dispose",null);var wy,Cy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},_y=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class Sy extends $f{constructor(t){super(),this.padding={left:0,top:0,right:0,bottom:0},this.options=wy.getOptions(t);const e=this.graph.transform.getScale();this.sx=e.sx,this.sy=e.sy;const n=this.options.width||this.graph.options.width,i=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(wy.containerClass)).css({width:n,height:i}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(wy.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const r=this.graph.container;r.parentNode&&this.$container.insertBefore(r);const o=r.getAttribute("style");if(o){const t={};o.split(";").forEach(e=>{const n=e.trim();if(n){const e=n.split(":");e.length&&(t[e[0].trim()]=e[1]?e[1].trim():"")}}),Object.keys(t).forEach(e=>{"width"!==e&&"height"!==e&&(r.style[e]="",this.container.style[e]=t[e])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(wy.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(wy.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(r),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new Sy.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const t=this.graph,e=this.model;t.on("scale",this.onScale,this),t.on("resize",this.onResize,this),t.on("before:print",this.storeScrollPosition,this),t.on("before:export",this.storeScrollPosition,this),t.on("after:print",this.restoreScrollPosition,this),t.on("after:export",this.restoreScrollPosition,this),t.on("render:done",this.onRenderDone,this),t.on("unfreeze",this.onUpdate,this),e.on("reseted",this.onUpdate,this),e.on("cell:added",this.onUpdate,this),e.on("cell:removed",this.onUpdate,this),e.on("cell:changed",this.onUpdate,this),e.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const t=this.graph,e=this.model;t.off("scale",this.onScale,this),t.off("resize",this.onResize,this),t.off("beforeprint",this.storeScrollPosition,this),t.off("beforeexport",this.storeScrollPosition,this),t.off("afterprint",this.restoreScrollPosition,this),t.off("afterexport",this.restoreScrollPosition,this),t.off("render:done",this.onRenderDone,this),t.off("unfreeze",this.onUpdate,this),e.off("reseted",this.onUpdate,this),e.off("cell:added",this.onUpdate,this),e.off("cell:removed",this.onUpdate,this),e.off("cell:changed",this.onUpdate,this),e.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){!this.graph.isAsync()&&this.options.autoResize&&this.update()}onBatchStop(t){!this.graph.isAsync()&&this.options.autoResize&&yy.UPDATE_DELAYING_BATCHES.includes(t.name)&&this.update()}delegateBackgroundEvents(t){const e=t||Kv.events;this.delegatedHandlers=Object.keys(e).reduce((t,n)=>{const i=e[n];if(-1===n.indexOf(" "))if("function"==typeof i)t[n]=i;else{let e=this.graph.view[i];"function"==typeof e&&(e=e.bind(this.graph.view),t[n]=e)}return t},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(t=>{this.delegateEvent(t,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(t=>{this.undelegateEvent(t,this.onBackgroundEvent)})}onBackgroundEvent(t){let e=!1;const n=t.target;if(this.options.pageVisible)e=this.options.background?this.background===n:this.content===n;else{const t=this.graph.view;e=t.background===n||t.grid===n}if(e){const e=this.delegatedHandlers[t.type];"function"==typeof e&&e.apply(this.graph,arguments)}}onRenderDone({stats:t}){this.options.autoResize&&t.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:t,sy:e,ox:n,oy:i}){this.updateScale(t,e),(n||i)&&(this.centerPoint(n,i),this.updatePageBreak());"function"==typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(k.IS_IE||k.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(k.IS_IE||k.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(t,e){null!=t&&(this.options.pageWidth=t),null!=e&&(this.options.pageHeight=e),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const t=this.graph.options.width,e=this.graph.options.height,n=this.options.pageWidth*this.sx,i=this.options.pageHeight*this.sy;if(t>n||e>i){let r=!1;const o=document.createElement("div");for(let e=1,i=Math.floor(t/n);e<i;e+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:e*n}).appendTo(o),r=!0;for(let t=1,n=Math.floor(e/i);t<n;t+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:t*i}).appendTo(o),r=!0;r&&(c.addClass(o,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(o),this.pageBreak=o)}}}update(){const t=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(t.width/2,t.height/2);let e=this.options.autoResizeOptions||this.options.fitTocontentOptions;"function"==typeof e&&(e=s.call(e,this,this));const n=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative"},e);this.graph.fitToContent(this.getFitToContentOptions(n))}getFitToContentOptions(t){const e=this.sx,n=this.sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=n),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=n),"object"==typeof t.padding?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*n,bottom:(t.padding.bottom||0)*n}:"number"==typeof t.padding&&(t.padding*=e),this.options.autoResize||(t.contentArea=Xc.create()),t}updateScale(t,e){const n=this.graph.options,i=t/this.sx,r=e/this.sy;this.sx=t,this.sy=e,this.graph.translate(n.x*i,n.y*r),this.graph.resizeGraph(n.width*i,n.height*r)}scrollbarPosition(t,e,n){if(null==t&&null==e)return{left:this.container.scrollLeft,top:this.container.scrollTop};const i={};return"number"==typeof t&&(i.scrollLeft=t),"number"==typeof e&&(i.scrollTop=e),n&&n.animation?this.$container.animate(i,n.animation):this.$container.prop(i),this}scrollToPoint(t,e,n){const i=this.getClientSize(),r=this.graph.matrix(),o={};return"number"==typeof t&&(o.scrollLeft=t-i.width/2+r.e+(this.padding.left||0)),"number"==typeof e&&(o.scrollTop=e-i.height/2+r.f+(this.padding.top||0)),n&&n.animation?this.$container.animate(o,n.animation):this.$container.prop(o),this}scrollToContent(t){const e=this.sx,n=this.sy,i=this.graph.getContentArea().getCenter();return this.scrollToPoint(i.x*e,i.y*n,t)}scrollToCell(t,e){const n=this.sx,i=this.sy,r=t.getBBox().getCenter();return this.scrollToPoint(r.x*n,r.y*i,e)}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const i=this.graph.matrix(),r=i.a,o=i.d,a=-i.e,s=-i.f,l=a+this.graph.options.width,c=s+this.graph.options.height;let h;if(this.storeClientSize(),"number"==typeof t||"number"==typeof e){h=n;const i=this.getVisibleArea().getCenter();"number"==typeof t?t*=r:t=i.x,"number"==typeof e?e*=o:e=i.y}else h=t,t=(a+l)/2,e=(s+c)/2;if(h&&h.padding)return this.positionPoint({x:t,y:e},"50%","50%",h);const u=this.getPadding(),d=this.getClientSize(),p=d.width/2,f=d.height/2,g=p-u.left-t+a,m=p-u.right+t-l,v=f-u.top-e+s,y=f-u.bottom+e-c;this.addPadding(Math.max(g,0),Math.max(m,0),Math.max(v,0),Math.max(y,0));const x=this.scrollToPoint(t,e,h||void 0);return this.restoreClientSize(),x}centerContent(t){return this.positionContent("center",t)}centerCell(t,e){return this.positionCell(t,"center",e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t,e)}positionCell(t,e,n){const i=t.getBBox();return this.positionRect(i,e,n)}positionRect(t,e,n){const i=Xc.create(t);switch(e){case"center":return this.positionPoint(i.getCenter(),"50%","50%",n);case"top":return this.positionPoint(i.getTopCenter(),"50%",0,n);case"top-right":return this.positionPoint(i.getTopRight(),"100%",0,n);case"right":return this.positionPoint(i.getRightMiddle(),"100%","50%",n);case"bottom-right":return this.positionPoint(i.getBottomRight(),"100%","100%",n);case"bottom":return this.positionPoint(i.getBottomCenter(),"50%","100%",n);case"bottom-left":return this.positionPoint(i.getBottomLeft(),0,"100%",n);case"left":return this.positionPoint(i.getLeftMiddle(),0,"50%",n);case"top-left":return this.positionPoint(i.getTopLeft(),0,0,n);default:return this}}positionPoint(t,e,n,i={}){const{padding:r}=i,o=_y(i,["padding"]),s=a.normalizeSides(r),l=Xc.fromSize(this.getClientSize()),c=l.clone().moveAndExpand({x:s.left,y:s.top,width:-s.right-s.left,height:-s.top-s.bottom});(e=a.normalizePercentage(e,Math.max(0,c.width)))<0&&(e=c.width+e),(n=a.normalizePercentage(n,Math.max(0,c.height)))<0&&(n=c.height+n);const h=c.getTopLeft().translate(e,n),u=l.getCenter().diff(h),d=this.zoom(),p=u.scale(1/d,1/d),f=Yc.create(t).translate(p);return this.centerPoint(f.x,f.y,o)}zoom(t,e){if(null==t)return this.sx;let n,i;e=e||{};const r=this.getClientSize(),o=this.clientToLocalPoint(r.width/2,r.height/2);let a=t,s=t;if(e.absolute||(a+=this.sx,s+=this.sy),e.scaleGrid&&(a=Math.round(a/e.scaleGrid)*e.scaleGrid,s=Math.round(s/e.scaleGrid)*e.scaleGrid),e.maxScale&&(a=Math.min(e.maxScale,a),s=Math.min(e.maxScale,s)),e.minScale&&(a=Math.max(e.minScale,a),s=Math.max(e.minScale,s)),a=this.graph.transform.clampScale(a),s=this.graph.transform.clampScale(s),e.center){const t=a/this.sx,r=s/this.sy;n=e.center.x-(e.center.x-o.x)/t,i=e.center.y-(e.center.y-o.y)/r}else n=o.x,i=o.y;return this.beforeManipulation(),this.graph.transform.scale(a,s),this.centerPoint(n,i),this.afterManipulation(),this}zoomToRect(t,e={}){const n=Xc.create(t),i=this.graph;e.contentArea=n,null==e.viewportArea&&(e.viewportArea={x:i.options.x,y:i.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),i.transform.scaleContentToFitImpl(e,!1);const r=n.getCenter();return this.centerPoint(r.x,r.y),this.afterManipulation(),this}zoomToFit(t={}){return this.zoomToRect(this.graph.getContentArea(t),t)}transitionToPoint(t,e,n){let i,r;"object"==typeof t?(n=e,e=t.y,t=t.x):e=e,null==n&&(n={});const o=this.sx,a=Math.max(n.scale||o,1e-6),l=this.getClientSize(),c=new Yc(t,e),h=this.clientToLocalPoint(l.width/2,l.height/2);if(o===a){const t=h.diff(c).scale(o,o).round();i=`translate(${t.x}px,${t.y}px)`}else{const t=a/(o-a)*c.distance(h),e=h.clone().move(c,t),n=this.localToBackgroundPoint(e).round();i=`scale(${a/o})`,r=`${n.x}px ${n.y}px`}const u=n.onTransitionEnd;return this.$container.addClass(wy.transitionClassName),this.$content.off(wy.transitionEventName).on(wy.transitionEventName,n=>{this.syncTransition(a,{x:t,y:e}),"function"==typeof u&&s.call(u,this,n.originalEvent)}).css({transform:i,transformOrigin:r,transition:"transform",transitionDuration:n.duration||"1s",transitionDelay:n.delay,transitionTimingFunction:n.timing}),this}syncTransition(t,e){return this.beforeManipulation(),this.graph.scale(t),this.removeTransition(),this.centerPoint(e.x,e.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(wy.transitionClassName),this.$content.off(wy.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(t,e={}){const n=Xc.create(t),i=e.maxScale||1/0,r=e.minScale||Number.MIN_VALUE,o=e.scaleGrid||null,a=e.visibility||1,s=e.center?Yc.create(e.center):n.getCenter(),l=this.getClientSize(),c=l.width*a,h=l.height*a;let u=new Xc(s.x-c/2,s.y-h/2,c,h).getMaxUniformScaleToFit(n,s);return u=Math.min(u,i),o&&(u=Math.floor(u/o)*o),u=Math.max(r,u),this.transitionToPoint(s,Object.assign({scale:u},e))}startPanning(t){const e=this.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("pan:start",{e:e}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.normalizeEvent(t),n=e.clientX-this.clientX,i=e.clientY-this.clientY;this.container.scrollTop-=i,this.container.scrollLeft-=n,this.clientX=e.clientX,this.clientY=e.clientY}stopPanning(t){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e:t})}clientToLocalPoint(t,e){let n="object"==typeof t?t.x:t,i="object"==typeof t?t.y:e;const r=this.graph.matrix();return n+=this.container.scrollLeft-this.padding.left-r.e,i+=this.container.scrollTop-this.padding.top-r.f,new Yc(n/r.a,i/r.d)}localToBackgroundPoint(t,e){const n="object"==typeof t?Yc.create(t):new Yc(t,e),i=this.graph.matrix(),r=this.padding;return c.transformPoint(n,i).translate(r.left,r.top)}resize(t,e){let n=null!=t?t:this.container.clientWidth,i=null!=e?e:this.container.clientHeight;"number"==typeof n&&(n=Math.round(n)),"number"==typeof i&&(i=Math.round(i)),this.options.width=n,this.options.height=i,this.$container.css({width:n,height:i}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(t,e){const n=this.container,i=n.getBoundingClientRect();let r=0,o=0;t<=i.left+10&&(r=-10),e<=i.top+10&&(o=-10),t>=i.right-10&&(r=10),e>=i.bottom-10&&(o=10),0!==r&&(n.scrollLeft+=r),0!==o&&(n.scrollTop+=o)}addPadding(t,e,n,i){let r=this.getPadding();this.padding={left:Math.round(r.left+(t||0)),top:Math.round(r.top+(n||0)),bottom:Math.round(r.bottom+(i||0)),right:Math.round(r.right+(e||0))},r=this.padding,this.$content.css({width:r.left+this.graph.options.width+r.right,height:r.top+this.graph.options.height+r.bottom});const o=this.graph.container;return o.style.left=this.padding.left+"px",o.style.top=this.padding.top+"px",this}getPadding(){const t=this.options.padding;return"function"==typeof t?a.normalizeSides(s.call(t,this,this)):a.normalizeSides(t)}getVisibleArea(){const t=this.graph.matrix(),e=this.getClientSize(),n={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:e.width,height:e.height},i=c.transformRectangle(n,t.inverse());return i.x-=(this.padding.left||0)/this.sx,i.y-=(this.padding.top||0)/this.sy,i}isCellVisible(t,e={}){const n=t.getBBox(),i=this.getVisibleArea();return e.strict?i.containsRect(n):i.isIntersectWithRect(n)}isPointVisible(t){return this.getVisibleArea().containsPoint(t)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}function Oy(t,e,n,i={}){if(n){const r=n.graph,o=r.view.normalizeEvent(e),a=r.snapToGrid(o.clientX,o.clientY);n.notify(t,Object.assign({e:o,view:n,node:n.cell,cell:n.cell,x:a.x,y:a.y},i))}}Cy([$f.dispose()],Sy.prototype,"dispose",null),(Sy||(Sy={})).Background=class extends by{constructor(t){super(t.graph),this.scroller=t,t.options.background&&this.draw(t.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(t){this.scroller.options.background=t}},function(t){t.containerClass="graph-scroller",t.panningClass=t.containerClass+"-panning",t.pannableClass=t.containerClass+"-pannable",t.pagedClass=t.containerClass+"-paged",t.contentClass=t.containerClass+"-content",t.backgroundClass=t.containerClass+"-background",t.transitionClassName="transition-in-progress",t.transitionEventName="transitionend.graph-scroller-transition",t.defaultOptions={padding(){const t=this.getClientSize(),e=Math.max(this.options.minVisibleWidth||0,1)||1,n=Math.max(this.options.minVisibleHeight||0,1)||1,i=Math.max(t.width-e,0),r=Math.max(t.height-n,0);return{left:i,top:r,right:i,bottom:r}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0},t.getOptions=function(e){const n=r.merge({},t.defaultOptions,e);return null==n.pageWidth&&(n.pageWidth=e.graph.options.width),null==n.pageHeight&&(n.pageHeight=e.graph.options.height),n}}(wy||(wy={}));var My,ky,Ay=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Ty extends $f{constructor(t){super(),this.options=r.merge({},My.defaultOptions,t),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new Dv([],{comparator:My.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(My.classNames.box)}get $boxes(){return this.$container.children("."+this.boxClassName)}get handleOptions(){return this.options}startListening(){const t=this.graph,e=this.collection;this.delegateEvents({["mousedown ."+this.boxClassName]:"onSelectionBoxMouseDown",["touchstart ."+this.boxClassName]:"onSelectionBoxMouseDown"},!0),t.on("scale",this.onGraphTransformed,this),t.on("translate",this.onGraphTransformed,this),t.model.on("updated",this.onModelUpdated,this),e.on("added",this.onCellAdded,this),e.on("removed",this.onCellRemoved,this),e.on("reseted",this.onReseted,this),e.on("updated",this.onCollectionUpdated,this),e.on("node:change:position",this.onNodePositionChanged,this),e.on("cell:changed",this.onCellChanged,this)}stopListening(){const t=this.graph,e=this.collection;this.undelegateEvents(),t.off("scale",this.onGraphTransformed,this),t.off("translate",this.onGraphTransformed,this),t.model.off("updated",this.onModelUpdated,this),e.off("added",this.onCellAdded,this),e.off("removed",this.onCellRemoved,this),e.off("reseted",this.onReseted,this),e.off("updated",this.onCollectionUpdated,this),e.off("node:change:position",this.onNodePositionChanged,this),e.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:t,options:e}){if(!0!==this.options.showNodeSelectionBox&&!this.translating&&e.ui){this.translating=!0;const n=t.position(),i=t.previous("position"),r=n.x-i.x,o=n.y-i.y;0===r&&0===o||this.translateSelectedNodes(r,o,t,e),this.translating=!1}}onModelUpdated({removed:t}){t&&t.length&&this.unselect(t)}isEmpty(){return this.length<=0}isSelected(t){return this.collection.has(t)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(t,e={}){e.dryrun=!0;const n=this.filter(Array.isArray(t)?t:[t]);return this.collection.add(n,e),this}unselect(t,e={}){return e.dryrun=!0,this.collection.remove(Array.isArray(t)?t:[t],e),this}reset(t,e={}){if(t){const n=this.cells,i=this.filter(Array.isArray(t)?t:[t]),r={},o={};n.forEach(t=>r[t.id]=t),i.forEach(t=>o[t.id]=t);const a=[],s=[];return i.forEach(t=>{r[t.id]||a.push(t)}),n.forEach(t=>{o[t.id]||s.push(t)}),s.length&&this.unselect(s,Object.assign(Object.assign({},e),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},e),{ui:!0})),0===s.length&&0===a.length&&this.updateContainer(),this}return this.clean(e)}clean(t={}){return this.length&&this.collection.reset([],Object.assign(Object.assign({},t),{ui:!0})),this}setFilter(t){this.options.filter=t}setContent(t){this.options.content=t}startSelecting(t){let e,n;t=this.normalizeEvent(t),this.clean();const i=this.graph.container;if(null!=t.offsetX&&null!=t.offsetY&&i.contains(t.target))e=t.offsetX,n=t.offsetY;else{const r=this.$(i).offset(),o=i.scrollLeft,a=i.scrollTop;e=t.clientX-r.left+window.pageXOffset+o,n=t.clientY-r.top+window.pageYOffset+a}this.$container.css({top:n,left:e,width:1,height:1}),this.setEventData(t,{action:"selecting",clientX:t.clientX,clientY:t.clientY,offsetX:e,offsetY:n}),this.delegateDocumentEvents(My.documentEvents,t.data)}filter(t){const e=this.options.filter;return Array.isArray(e)?t.filter(t=>!e.includes(t)&&!e.includes(t.shape)):"function"==typeof e?t.filter(t=>s.call(e,this.graph,t)):t}stopSelecting(t){const e=this.graph,n=this.getEventData(t);switch(n.action){case"selecting":{let t=this.$container.width(),n=this.$container.height();const i=this.$container.offset(),r=e.pageToLocal(i.left,i.top),o=e.transform.getScale();t/=o.sx,n/=o.sy;const a=new Xc(r.x,r.y,t,n),s=this.getCellViewsInArea(a).map(t=>t.cell);this.reset(s),this.hideRubberband();break}case"translating":{const i=e.snapToGrid(t.clientX,t.clientY);if(!this.options.following){const t=n;this.updateSelectedNodesPosition({dx:t.clientX-t.originX,dy:t.clientY-t.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",t,i.x,i.y);break}default:this.clean()}}onMouseUp(t){this.getEventData(t).action&&(this.stopSelecting(t),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(t){t.stopPropagation();const e=this.normalizeEvent(t);this.options.movable&&this.startTranslating(e);const n=this.getCellViewFromElem(e.target);this.setEventData(e,{activeView:n});const i=this.graph.snapToGrid(e.clientX,e.clientY);this.notifyBoxEvent("box:mousedown",e,i.x,i.y),this.delegateDocumentEvents(My.documentEvents,e.data)}startTranslating(t){this.graph.model.startBatch("move-selection");const e=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{action:"translating",clientX:e.x,clientY:e.y,originX:e.x,originY:e.y})}getSelectionOffset(t,e){let n=t.x-e.clientX,i=t.y-e.clientY;const r=this.graph.hook.getRestrictArea();if(r){const o=this.collection.toArray(),a=lv.getCellsBBox(o),s=r.x-a.x,l=r.y-a.y,c=r.x+r.width-(a.x+a.width),h=r.y+r.height-(a.y+a.height);if(n<s&&(n=s),i<l&&(i=l),c<n&&(n=c),h<i&&(i=h),!this.options.following){const r=t.x-e.originX,o=t.y-e.originY;n=r<=s||r>=c?0:n,i=o<=l||o>=h?0:i}}return{dx:n,dy:i}}updateSelectedNodesPosition(t){const{dx:e,dy:n}=t;if(e||n)if(this.translateSelectedNodes(e,n),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const t=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:"+="+e*t.sx,top:"+="+n*t.sy})}}adjustSelection(t){const e=this.normalizeEvent(t),n=this.getEventData(e);switch(n.action){case"selecting":{const t=n;!0!==t.moving&&(this.$container.appendTo(this.graph.container),this.showRubberband(),t.moving=!0);const i=e.clientX-t.clientX,r=e.clientY-t.clientY,o=parseInt(this.$container.css("left"),10),a=parseInt(this.$container.css("top"),10);this.$container.css({left:i<0?t.offsetX+i:o,top:r<0?t.offsetY+r:a,width:Math.abs(i),height:Math.abs(r)});break}case"translating":{const i=this.graph.snapToGrid(e.clientX,e.clientY),r=n,o=this.getSelectionOffset(i,r);this.options.following?this.updateSelectedNodesPosition(o):this.updateContainerPosition(o),o.dx&&(r.clientX=i.x),o.dy&&(r.clientY=i.y),this.notifyBoxEvent("box:mousemove",t,i.x,i.y);break}}this.boxesUpdated=!1}translateSelectedNodes(t,e,n,i){const r={};this.collection.toArray().forEach(o=>{var a;if(!r[o.id]&&o!==n&&!(null===(a=null==i?void 0:i.handledTranslation)||void 0===a?void 0:a.includes(o))){const n=Object.assign(Object.assign({},i),{selection:this.cid});o.translate(t,e,n),o.getDescendants({deep:!0}).forEach(t=>{r[t.id]=!0}),this.graph.model.getConnectedEdges(o).forEach(i=>{r[i.id]||(i.translate(t,e,n),r[i.id]=!0)})}})}getCellViewsInArea(t){const e=this.graph,n={strict:this.options.strict};let i=[];return this.options.rubberNode&&(i=this.options.useCellGeometry?i.concat(e.model.getNodesInArea(t,n).map(t=>e.renderer.findViewByCell(t)).filter(t=>null!=t)):i.concat(e.renderer.findViewsInArea(t,n))),this.options.rubberEdge&&(i=this.options.useCellGeometry?i.concat(e.model.getEdgesInArea(t,n).map(t=>e.renderer.findViewByCell(t)).filter(t=>null!=t)):i.concat(e.renderer.findEdgeViewsInArea(t,n))),i}notifyBoxEvent(t,e,n,i){const r=this.getEventData(e).activeView;this.trigger(t,{e:e,view:r,x:n,y:i,cell:r.cell})}getSelectedClassName(t){return this.prefixClassName((t.isNode()?"node":"edge")+"-selected")}addCellSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.addClass(this.getSelectedClassName(t))}removeCellUnSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.removeClass(this.getSelectedClassName(t))}destroySelectionBox(t){this.removeCellUnSelectedClassName(t),this.canShowSelectionBox(t)&&(this.$container.find(`[data-cell-id="${t.id}"]`).remove(),0===this.$boxes.length&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(t){t.forEach(t=>this.removeCellUnSelectedClassName(t)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(My.classNames.rubberband)).removeClass(this.prefixClassName(My.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(My.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(My.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(My.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(My.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(My.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(My.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(t){(t.dx||t.dy)&&this.$selectionContainer.css({left:"+="+t.dx,top:"+="+t.dy})}updateContainer(){const t={x:1/0,y:1/0},e={x:0,y:0};this.collection.toArray().filter(t=>this.canShowSelectionBox(t)).forEach(n=>{const i=this.graph.renderer.findViewByCell(n);if(i){const n=i.getBBox({useCellGeometry:this.options.useCellGeometry});t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),e.x=Math.max(e.x,n.x+n.width),e.y=Math.max(e.y,n.y+n.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:t.x,top:t.y,width:e.x-t.x,height:e.y-t.y}).attr("data-selection-length",this.collection.length);const n=this.options.content;if(n)if("function"==typeof n){const t=s.call(n,this.graph,this,this.$selectionContent[0]);t&&this.$selectionContent.html(t)}else this.$selectionContent.html(n);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(t){return t.isNode()&&!0===this.options.showNodeSelectionBox||t.isEdge()&&!0===this.options.showEdgeSelectionBox}createSelectionBox(t){if(this.addCellSelectedClassName(t),this.canShowSelectionBox(t)){const e=this.graph.renderer.findViewByCell(t);if(e){const n=e.getBBox({useCellGeometry:this.options.useCellGeometry}),i=this.boxClassName;this.$("<div/>").addClass(i).addClass(`${i}-${t.isNode()?"node":"edge"}`).attr("data-cell-id",t.id).css({position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(t={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,t))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((t,e)=>{const n=this.$(e).remove().attr("data-cell-id"),i=this.collection.get(n);i&&this.createSelectionBox(i)}),this.updateContainer()),0}getCellViewFromElem(t){const e=t.getAttribute("data-cell-id");if(e){const t=this.collection.get(e);if(t)return this.graph.renderer.findViewByCell(t)}return null}onCellRemoved({cell:t}){this.destroySelectionBox(t),this.updateContainer()}onReseted({previous:t,current:e}){this.destroyAllSelectionBoxes(t),e.forEach(t=>{this.listenCellRemoveEvent(t),this.createSelectionBox(t)}),this.updateContainer()}onCellAdded({cell:t}){this.listenCellRemoveEvent(t),this.createSelectionBox(t),this.updateContainer()}listenCellRemoveEvent(t){t.off("removed",this.onCellRemoved,this),t.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:t,removed:e,options:n}){t.forEach(t=>{this.trigger("cell:selected",{cell:t,options:n}),this.graph.trigger("cell:selected",{cell:t,options:n}),t.isNode()?(this.trigger("node:selected",{cell:t,options:n,node:t}),this.graph.trigger("node:selected",{cell:t,options:n,node:t})):t.isEdge()&&(this.trigger("edge:selected",{cell:t,options:n,edge:t}),this.graph.trigger("edge:selected",{cell:t,options:n,edge:t}))}),e.forEach(t=>{this.trigger("cell:unselected",{cell:t,options:n}),this.graph.trigger("cell:unselected",{cell:t,options:n}),t.isNode()?(this.trigger("node:unselected",{cell:t,options:n,node:t}),this.graph.trigger("node:unselected",{cell:t,options:n,node:t})):t.isEdge()&&(this.trigger("edge:unselected",{cell:t,options:n,edge:t}),this.graph.trigger("edge:unselected",{cell:t,options:n,edge:t}))});const i={added:t,removed:e,options:n,selected:this.cells};this.trigger("selection:changed",i),this.graph.trigger("selection:changed",i)}deleteSelectedCells(){const t=this.collection.toArray();this.clean(),this.graph.model.removeCells(t,{selection:this.cid})}startRotate({e:t}){const e=this.collection.toArray(),n=lv.getCellsBBox(e).getCenter(),i=this.graph.snapToGrid(t.clientX,t.clientY),r=e.reduce((t,e)=>(t[e.id]=Ac.normalize(e.getAngle()),t),{});this.setEventData(t,{center:n,angles:r,start:i.theta(n)})}doRotate({e:t}){const e=this.getEventData(t),n=this.graph.options.rotating.grid,i="function"==typeof n?s.call(n,this.graph,null):n,r=this.graph.snapToGrid(t.clientX,t.clientY),o=e.start-r.theta(e.center);e.rotated||(e.rotated=!0),Math.abs(o)>.001&&(this.collection.toArray().forEach(t=>{const n=Fp.snapToGrid(e.angles[t.id]+o,i||15);t.rotate(n,{absolute:!0,center:e.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e:t}){const e=this.getEventData(t);e.rotated&&(e.rotated=!1,this.collection.toArray().forEach(e=>{Oy("node:rotated",t,this.graph.findViewByCell(e))}))}startResize({e:t}){const e=this.graph.getGridSize(),n=this.collection.toArray(),i=lv.getCellsBBox(n),r=n.map(t=>t.getBBox()),o=r.reduce((t,e)=>e.width<t?e.width:t,1/0),a=r.reduce((t,e)=>e.height<t?e.height:t,1/0);this.setEventData(t,{bbox:i,cells:this.graph.model.getSubGraph(n),minWidth:e*i.width/o,minHeight:e*i.height/a})}doResize({e:t,dx:e,dy:n}){const i=this.eventData(t),r=i.bbox,o=r.width,a=r.height,s=Math.max(o+e,i.minWidth),l=Math.max(a+n,i.minHeight);i.resized||(i.resized=!0),(Math.abs(o-s)>.001||Math.abs(a-l)>.001)&&(this.graph.model.resizeCells(s,l,i.cells,{selection:this.cid}),r.width=s,r.height=l,this.updateSelectionBoxes())}stopResize({e:t}){const e=this.eventData(t);e.resized&&(e.resized=!1,this.collection.toArray().forEach(e=>{Oy("node:resized",t,this.graph.findViewByCell(e))}))}dispose(){this.clean(),this.remove()}}Ay([$f.dispose()],Ty.prototype,"dispose",null),r.applyMixins(Ty,iy),function(t){const e="widget-selection";t.classNames={root:e,inner:e+"-inner",box:e+"-box",content:e+"-content",rubberband:e+"-rubberband",selected:e+"-selected"},t.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},t.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content:t=>o.template('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:t.length}),handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]},t.depthComparator=function(t){return t.getAncestors().length}}(My||(My={}));class Dy extends sy{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return this.containerClassName+"-resize"}get rotateClassName(){return this.containerClassName+"-rotate"}init(t){this.options=Object.assign(Object.assign({},ky.defaultOptions),t),this.render(),this.startListening()}startListening(){this.delegateEvents({["mousedown ."+this.resizeClassName]:"startResizing",["touchstart ."+this.resizeClassName]:"startResizing",["mousedown ."+this.rotateClassName]:"startRotating",["touchstart ."+this.rotateClassName]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const t=this.$("<div/>").prop("draggable",!1),e=t.clone().addClass(this.rotateClassName),n=ky.POSITIONS.map(e=>t.clone().addClass(this.resizeClassName).attr("data-position",e));this.empty(),this.$container.append(n,e)}render(){return this.renderHandles(),this.view.addClass(ky.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const t=this.graph.matrix(),e=this.node.getBBox();e.x*=t.a,e.x+=t.e,e.y*=t.d,e.y+=t.f,e.width*=t.a,e.height*=t.d;const n=Ac.normalize(this.node.getAngle()),i=0!==n?`rotate(${n}deg)`:"";return this.$container.css({transform:i,width:e.width,height:e.height,left:e.x,top:e.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(ky.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const t=Ac.normalize(this.node.getAngle()),e=Math.floor(t*(ky.DIRECTIONS.length/360));if(e!==this.prevShift){const t=ky.DIRECTIONS.slice(e).concat(ky.DIRECTIONS.slice(0,e)),n=t=>`${this.containerClassName}-cursor-${t}`;this.$container.find("."+this.resizeClassName).removeClass(ky.DIRECTIONS.map(t=>n(t)).join(" ")).each((e,i)=>{this.$(i).addClass(n(t[e]))}),this.prevShift=e}}getTrueDirection(t){const e=Ac.normalize(this.node.getAngle());let n=ky.POSITIONS.indexOf(t);return n+=Math.floor(e*(ky.POSITIONS.length/360)),n%=ky.POSITIONS.length,ky.POSITIONS[n]}toValidResizeDirection(t){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[t]||t}startResizing(t){t.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const e=this.$(t.target).attr("data-position"),n=this.graph.findViewByCell(this.node);this.prepareResizing(t,e),this.startAction(t),Oy("node:resize:mousedown",t,n)}prepareResizing(t,e){const n=this.getTrueDirection(e);let i=0,r=0;e.split("-").forEach(t=>{i={left:-1,right:1}[t]||i,r={top:-1,bottom:1}[t]||r});const o=this.toValidResizeDirection(e),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],s=Ac.normalize(this.node.getAngle());this.setEventData(t,{selector:a,direction:o,trueDirection:n,relativeDirection:e,angle:s,resizeX:i,resizeY:r,action:"resizing"})}startRotating(t){t.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const e=this.graph.findViewByCell(this.node),n=this.node.getBBox().getCenter(),i=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{center:n,action:"rotating",angle:Ac.normalize(this.node.getAngle()),start:Yc.create(i).theta(n)}),this.startAction(t),Oy("node:rotate:mousedown",t,e)}onMouseMove(t){const e=this.graph.findViewByCell(this.node);let n=this.getEventData(t);if(n.action){const i=this.normalizeEvent(t);let r=i.clientX,o=i.clientY;const s=this.graph.scroller.widget,l=this.options.restrictedResizing;if(!0===l||"number"==typeof l){const t=!0===l?0:l,e=s?Math.max(t,8):t,n=this.graph.container.getBoundingClientRect();r=a.clamp(r,n.left+e,n.right-e),o=a.clamp(o,n.top+e,n.bottom-e)}else this.options.autoScrollOnResizing&&s&&s.autoScroll(r,o);const c=this.graph.snapToGrid(r,o),h=this.graph.getGridSize(),u=this.node,d=this.options;if("resizing"===n.action){n=n,n.resized||(e&&(e.addClass("node-resizing"),Oy("node:resize",t,e)),n.resized=!0);const i=u.getBBox(),r=Yc.create(c).rotate(n.angle,i.getCenter()).diff(i[n.selector]);let o=n.resizeX?r.x*n.resizeX:i.width,a=n.resizeY?r.y*n.resizeY:i.height;const s=o,l=a;if(o=Fp.snapToGrid(o,h),a=Fp.snapToGrid(a,h),o=Math.max(o,d.minWidth||h),a=Math.max(a,d.minHeight||h),o=Math.min(o,d.maxWidth||1/0),a=Math.min(a,d.maxHeight||1/0),d.preserveAspectRatio){const t=i.width*a/i.height,e=i.height*o/i.width;o<t?a=e:o=t}const p=n.relativeDirection;if(d.allowReverse&&(s<=-o||l<=-a)){let e;"left"===p?s<=-o&&(e="right"):"right"===p?s<=-o&&(e="left"):"top"===p?l<=-a&&(e="bottom"):"bottom"===p?l<=-a&&(e="top"):"top-left"===p?s<=-o&&l<=-a?e="bottom-right":s<=-o?e="top-right":l<=-a&&(e="bottom-left"):"top-right"===p?s<=-o&&l<=-a?e="bottom-left":s<=-o?e="top-left":l<=-a&&(e="bottom-right"):"bottom-left"===p?s<=-o&&l<=-a?e="top-right":s<=-o?e="bottom-right":l<=-a&&(e="top-left"):"bottom-right"===p&&(s<=-o&&l<=-a?e="top-left":s<=-o?e="bottom-left":l<=-a&&(e="top-right"));const n=e;this.stopHandle();const i=this.$container.find(`.${this.resizeClassName}[data-position="${n}"]`);this.startHandle(i[0]),this.prepareResizing(t,n),this.onMouseMove(t)}if(i.width!==o||i.height!==a){const i={ui:!0,direction:n.direction,relativeDirection:n.relativeDirection,trueDirection:n.trueDirection,minWidth:d.minWidth,minHeight:d.minHeight,maxWidth:d.maxWidth,maxHeight:d.maxHeight,preserveAspectRatio:!0===d.preserveAspectRatio};u.resize(o,a,i),Oy("node:resizing",t,e)}Oy("node:resize:mousemove",t,e)}else if("rotating"===n.action){n=n,n.rotated||(e&&(e.addClass("node-rotating"),Oy("node:rotate",t,e)),n.rotated=!0);const i=u.getAngle(),r=n.start-Yc.create(c).theta(n.center);let o=n.angle+r;d.rotateGrid&&(o=Fp.snapToGrid(o,d.rotateGrid)),i!==o&&(u.rotate(o,{absolute:!0}),Oy("node:rotating",t,e)),Oy("node:rotate:mousemove",t,e)}}}onMouseUp(t){const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);n.action&&(this.stopAction(t),this.model.stopBatch("resizing"===n.action?"resize":"rotate",{cid:this.cid}),"resizing"===n.action?Oy("node:resize:mouseup",t,e):"rotating"===n.action&&Oy("node:rotate:mouseup",t,e))}startHandle(t){if(this.handle=t||null,this.$container.addClass(this.containerClassName+"-active"),t){this.$(t).addClass(this.containerClassName+"-active-handle");const e=t.getAttribute("data-position");if(e){const t=ky.DIRECTIONS[ky.POSITIONS.indexOf(e)];this.$container.addClass(`${this.containerClassName}-cursor-${t}`)}}}stopHandle(){if(this.$container.removeClass(this.containerClassName+"-active"),this.handle){this.$(this.handle).removeClass(this.containerClassName+"-active-handle");const t=this.handle.getAttribute("data-position");if(t){const e=ky.DIRECTIONS[ky.POSITIONS.indexOf(t)];this.$container.removeClass(`${this.containerClassName}-cursor-${e}`)}this.handle=null}}startAction(t){this.startHandle(t.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(ky.documentEvents,t.data)}stopAction(t){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);e&&(e.removeClass("node-"+n.action),"resizing"===n.action&&n.resized?Oy("node:resized",t,e):"rotating"===n.action&&n.rotated&&Oy("node:rotated",t,e))}}!function(t){t.NODE_CLS="has-widget-transform",t.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],t.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},t.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}}(ky||(ky={}));var Py,Iy=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};(Py||(Py={})).parseOptionGroup=function(t,e,n){const i={};return Object.keys(n||{}).forEach(r=>{const o=n[r];i[r]="function"==typeof o?o.call(t,e):o}),i},function(t){t.get=function(e){const{grid:n,panning:i,selecting:o,embedding:a,snapline:s,resizing:l,rotating:c,knob:h,clipboard:u,history:d,scroller:p,minimap:f,keyboard:g,mousewheel:m}=e,v=Iy(e,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),y=e.container;if(null==y)throw new Error("Ensure the container of the graph is specified and valid");null==v.width&&(v.width=y.clientWidth),null==v.height&&(v.height=y.clientHeight);const x=r.merge({},t.defaults,v),b={size:10,visible:!1};return x.grid="number"==typeof n?{size:n,visible:!1}:"boolean"==typeof n?Object.assign(Object.assign({},b),{visible:n}):Object.assign(Object.assign({},b),n),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(t=>{const n=e[t];"boolean"==typeof n?x[t].enabled=n:x[t]=Object.assign(Object.assign({},x[t]),n)}),x.background&&x.scroller.enabled&&null==x.scroller.background&&(x.scroller.background=x.background,delete x.background),x}}(Py||(Py={})),function(t){t.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Fp.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Fp.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection:({type:t,sourceView:e,targetView:n})=>null!=("target"===t?n:e),createEdge:()=>new Hv},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,multiple:!0,movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}}(Py||(Py={}));var Ey=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class jy extends qv{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return null!=this.svg.getElementById(t)}filter(t){let e=t.id;const n=t.name;if(e||(e=`filter-${n}-${this.cid}-${o.hashcode(JSON.stringify(t))}`),!this.isDefined(e)){const i=vp.registry.get(n);if(null==i)return vp.registry.onNotFound(n);const r=i(t.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});vh.create(Qf.sanitize(r),o).appendTo(this.defs)}return e}gradient(t){let e=t.id;const n=t.type;if(e||(e=`gradient-${n}-${this.cid}-${o.hashcode(JSON.stringify(t))}`),!this.isDefined(e)){const i=`<${n}>${t.stops.map(t=>{const e=null!=t.opacity&&Number.isFinite(t.opacity)?t.opacity:1;return`<stop offset="${t.offset}" stop-color="${t.color}" stop-opacity="${e}"/>`}).join("")}</${n}>`,r=Object.assign({id:e},t.attrs);vh.create(i,r).appendTo(this.defs)}return e}marker(t){const{id:e,refX:n,refY:i,markerUnits:r,markerOrient:a,tagName:s,children:l}=t,h=Ey(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let u=e;if(u||(u=`marker-${this.cid}-${o.hashcode(JSON.stringify(t))}`),!this.isDefined(u)){"path"!==s&&delete h.d;const t=vh.create("marker",{refX:n,refY:i,id:u,overflow:"visible",orient:null!=a?a:"auto",markerUnits:r||"userSpaceOnUse"},l?l.map(t=>{var{tagName:e}=t,n=Ey(t,["tagName"]);return vh.create(""+e||"path",c.kebablizeAttrs(Object.assign(Object.assign({},h),n)))}):[vh.create(s||"path",c.kebablizeAttrs(h))]);this.defs.appendChild(t.node)}return u}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}var Ly=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},By=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class Ny extends qv{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const n=this.graph.matrix(),i=this.getInstance(),r=Array.isArray(t)?t:[t];this.patterns.forEach((t,o)=>{const a="pattern_"+o,s=n.a||1,l=n.d||1,{update:h,markup:u}=t,d=By(t,["update","markup"]),p=Object.assign(Object.assign(Object.assign({},d),r[o]),{sx:s,sy:l,ox:n.e||0,oy:n.f||0,width:e*s,height:e*l});i.has(a)||i.add(a,vh.create("pattern",{id:a,patternUnits:"userSpaceOnUse"},vh.createVectors(u)).node);const f=i.get(a);"function"==typeof h&&h(f.childNodes[0],p);let g=p.ox%p.width;g<0&&(g+=p.width);let m=p.oy%p.height;m<0&&(m+=p.height),c.attr(f,{x:g,y:m,width:p.width,height:p.height})});const o=(new XMLSerializer).serializeToString(i.root),a=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new gp),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(null==e)return[Object.assign(Object.assign({},gp.presets.dot),t.args)];const n=gp.registry.get(e);if(n){let e=t.args||[];return Array.isArray(e)||(e=[e]),Array.isArray(n)?n.map((t,n)=>Object.assign(Object.assign({},t),e[n])):[Object.assign(Object.assign({},n),e[0])]}return gp.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}Ly([qv.dispose()],Ny.prototype,"dispose",null);class Ry extends qv{getClientMatrix(){return c.createSVGMatrix(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new Yc(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return("number"==typeof t?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const n=Yc.create(t,e);return c.transformPoint(n,this.graph.matrix())}localToClientPoint(t,e){const n=Yc.create(t,e);return c.transformPoint(n,this.getClientMatrix())}localToPagePoint(t,e){return("number"==typeof t?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,n,i){const r=Xc.create(t,e,n,i);return c.transformRectangle(r,this.graph.matrix())}localToClientRect(t,e,n,i){const r=Xc.create(t,e,n,i);return c.transformRectangle(r,this.getClientMatrix())}localToPageRect(t,e,n,i){return("number"==typeof t?this.localToGraphRect(t,e,n,i):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const n=Yc.create(t,e);return c.transformPoint(n,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const n=Yc.create(t,e);return c.transformPoint(n,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const n=Yc.create(t,e);return c.transformPoint(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const n=Yc.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(n)}graphToLocalRect(t,e,n,i){const r=Xc.create(t,e,n,i);return c.transformRectangle(r,this.graph.matrix().inverse())}clientToLocalRect(t,e,n,i){const r=Xc.create(t,e,n,i);return c.transformRectangle(r,this.getClientMatrix().inverse())}clientToGraphRect(t,e,n,i){const r=Xc.create(t,e,n,i);return c.transformRectangle(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,n,i){const r=Xc.create(t,e,n,i),o=this.getPageOffset();return r.x-=o.x,r.y-=o.y,this.graphToLocalRect(r)}}var Fy,zy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Vy extends qv{constructor(){super(...arguments),this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}zy([qv.dispose()],Vy.prototype,"dispose",null),function(t){function e(t){const e=[],n=[];return Array.isArray(t)?e.push(...t):t.split("|").forEach(t=>{-1===t.indexOf("&")?e.push(t):n.push(...t.split("&"))}),{or:e,and:n}}t.parse=e,t.equals=function(t,n){if(null!=t&&null!=n){const i=e(t),r=e(n),o=i.or.sort(),a=r.or.sort(),s=i.and.sort(),l=r.and.sort(),c=(t,e)=>t.length===e.length&&(0===t.length||t.every((t,n)=>t===e[n]));return c(o,a)&&c(s,l)}return null==t&&null==n},t.isMatch=function(t,n,i){if(null==n||Array.isArray(n)&&0===n.length)return!i||!0!==t.altKey&&!0!==t.ctrlKey&&!0!==t.metaKey&&!0!==t.shiftKey;const{or:r,and:o}=e(n),a=e=>{const n=e.toLowerCase()+"Key";return!0===t[n]};return r.some(t=>a(t))&&o.every(t=>a(t))}}(Fy||(Fy={}));var Gy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Hy extends qv{get widgetOptions(){return this.options.scroller}get pannable(){return!!this.widgetOptions&&("object"==typeof this.widgetOptions.pannable?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable)}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let t=[];const e=this.widgetOptions.pannable;t="object"==typeof e?e.eventTypes||[]:["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown))}stopListening(){let t=[];const e=this.widgetOptions.pannable;t="object"==typeof e?e.eventTypes||[]:["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(t){2===t.button&&this.allowPanning(t,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e:t}){this.widget&&(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(t,e){return this.widget&&this.pannable&&Fy.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}updateClassName(t){if(null==this.widget)return;const e=this.widget.container,n=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(c.addClass(e,n),e.dataset.panning=(!!t).toString()):c.removeClass(e,n)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(t,e){this.widget&&this.widget.resize(t,e)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}Gy([qv.dispose()],Hy.prototype,"dispose",null);var Wy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},$y=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class Yy extends qv{get commonOptions(){const t=this.instanceOptions,{enabled:e}=t;return $y(t,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return!0!==this.instanceOptions.enabled}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(t,e={}){this.disabled||this.widget.copy(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}cut(t,e={}){this.disabled||this.widget.cut(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}paste(t={},e=this.graph){return this.disabled?[]:this.widget.paste(e,Object.assign(Object.assign({},this.commonOptions),t))}clean(t){this.disabled&&!t||this.widget.clean()}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}Wy([qv.dispose()],Yy.prototype,"dispose",null);var Xy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class qy extends qv{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:n={}}){const i=this.resolveHighlighter(n);if(!i)return;const r=this.getHighlighterId(e,i);if(!this.highlights[r]){const n=i.highlighter;n.highlight(t,e,Object.assign({},i.args)),this.highlights[r]={cellView:t,magnet:e,highlighter:n,args:i.args}}}onCellUnhighlight({magnet:t,options:e={}}){const n=this.resolveHighlighter(e);if(!n)return;const i=this.getHighlighterId(t,n);this.unhighlight(i)}resolveHighlighter(t){const e=this.options;let n=t.highlighter;if(null==n){const i=t.type;n=i&&e.highlighting[i]||e.highlighting.default}if(null==n)return null;const i="string"==typeof n?{name:n}:n,r=i.name,o=qp.registry.get(r);return null==o?qp.registry.onNotFound(r):(qp.check(r,o),{name:r,highlighter:o,args:i.args||{}})}getHighlighterId(t,e){return c.ensureId(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}Xy([qy.dispose()],qy.prototype,"dispose",null);var Uy=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Zy extends qv{constructor(){super(...arguments),this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return!0===this.options.selecting.enabled}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.dispose(),this.widgets.delete(t)}}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),c.createSVGMatrix(this.viewportMatrix)}setMatrix(t){const e=c.createSVGMatrix(t),n=c.matrixToTransformString(e);this.viewport.setAttribute("transform",n),this.viewportMatrix=e,this.viewportTransformString=n}resize(t,e){let n=void 0===t?this.options.width:t,i=void 0===e?this.options.height:e;this.options.width=n,this.options.height=i,"number"==typeof n&&(n=Math.round(n)),"number"==typeof i&&(i=Math.round(i)),this.container.style.width=null==n?"":n+"px",this.container.style.height=null==i?"":i+"px";const r=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},r)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return a.isNumber(t)||(t=this.container.clientWidth),a.isNumber(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return c.matrixToScale(this.getMatrix())}scale(t,e=t,n=0,i=0){if(t=this.clampScale(t),e=this.clampScale(e),n||i){const r=this.getTranslation(),o=r.tx-n*(t-1),a=r.ty-i*(e-1);o===r.tx&&a===r.ty||this.translate(o,a)}const r=this.getMatrix();return r.a=t,r.d=e,this.setMatrix(r),this.graph.trigger("scale",{sx:t,sy:e,ox:n,oy:i}),this}clampScale(t){const e=this.graph.options.scaling;return a.clamp(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let n=t,i=t;const r=this.getScale(),o=this.getComputedSize();let a=o.width/2,s=o.height/2;if(e.absolute||(n+=r.sx,i+=r.sy),e.scaleGrid&&(n=Math.round(n/e.scaleGrid)*e.scaleGrid,i=Math.round(i/e.scaleGrid)*e.scaleGrid),e.maxScale&&(n=Math.min(e.maxScale,n),i=Math.min(e.maxScale,i)),e.minScale&&(n=Math.max(e.minScale,n),i=Math.max(e.minScale,i)),e.center&&(a=e.center.x,s=e.center.y),n=this.clampScale(n),i=this.clampScale(i),a||s){const t=this.getTranslation(),e=a-(a-t.tx)*(n/r.sx),o=s-(s-t.ty)*(i/r.sy);e===t.tx&&o===t.ty||this.translate(e,o)}return this.scale(n,i),this}getRotation(){return c.matrixToRotation(this.getMatrix())}rotate(t,e,n){if(null==e||null==n){const t=c.getBBox(this.graph.view.stage);e=t.width/2,n=t.height/2}const i=this.getMatrix().translate(e,n).rotate(t).translate(-e,-n);return this.setMatrix(i),this}getTranslation(){return c.matrixToTranslation(this.getMatrix())}translate(t,e){const n=this.getMatrix();n.e=t||0,n.f=e||0,this.setMatrix(n);const i=this.getTranslation();return this.options.x=i.tx,this.options.y=i.ty,this.graph.trigger("translate",Object.assign({},i)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,n,i){if("object"==typeof t){const r=t;t=r.gridWidth||1,e=r.gridHeight||1,n=r.padding||0,i=r}else t=t||1,e=e||1,n=n||0,null==i&&(i={});const r=a.normalizeSides(n),o=i.border||0,s=i.contentArea?Xc.create(i.contentArea):this.getContentArea(i);o>0&&s.inflate(o);const l=this.getScale(),c=this.getTranslation(),h=l.sx,u=l.sy;s.x*=h,s.y*=u,s.width*=h,s.height*=u;let d=Math.max(Math.ceil((s.width+s.x)/t),1)*t,p=Math.max(Math.ceil((s.height+s.y)/e),1)*e,f=0,g=0;("negative"===i.allowNewOrigin&&s.x<0||"positive"===i.allowNewOrigin&&s.x>=0||"any"===i.allowNewOrigin)&&(f=Math.ceil(-s.x/t)*t,f+=r.left,d+=f),("negative"===i.allowNewOrigin&&s.y<0||"positive"===i.allowNewOrigin&&s.y>=0||"any"===i.allowNewOrigin)&&(g=Math.ceil(-s.y/e)*e,g+=r.top,p+=g),d+=r.right,p+=r.bottom,d=Math.max(d,i.minWidth||0),p=Math.max(p,i.minHeight||0),d=Math.min(d,i.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,i.maxHeight||Number.MAX_SAFE_INTEGER);const m=this.getComputedSize(),v=d!==m.width||p!==m.height;return(f!==c.tx||g!==c.ty)&&this.translate(f,g),v&&this.resize(d,p),new Xc(-f/h,-g/u,d/h,p/u)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let n,i;if(t.contentArea){const e=t.contentArea;n=this.graph.localToGraph(e),i=Yc.create(e)}else n=this.getContentBBox(t),i=this.graph.graphToLocal(n);if(!n.width||!n.height)return;const r=t.padding||0,o=t.minScale||0,s=t.maxScale||Number.MAX_SAFE_INTEGER,l=t.minScaleX||o,c=t.maxScaleX||s,h=t.minScaleY||o,u=t.maxScaleY||s;let d;if(t.viewportArea)d=t.viewportArea;else{const t=this.getComputedSize(),e=this.getTranslation();d={x:e.tx,y:e.ty,width:t.width,height:t.height}}d=Xc.create(d).inflate(-r);const p=this.getScale();let f=d.width/n.width*p.sx,g=d.height/n.height*p.sy;!1!==t.preserveAspectRatio&&(f=g=Math.min(f,g));const m=t.scaleGrid;if(m&&(f=m*Math.floor(f/m),g=m*Math.floor(g/m)),f=a.clamp(f,l,c),g=a.clamp(g,h,u),this.scale(f,g),e){const t=this.options,e=d.x-i.x*f-t.x,n=d.y-i.y*g-t.y;this.translate(e,n)}}getContentArea(t={}){return t.useCellGeometry?this.model.getAllCellsBBox()||new Xc:c.getBBox(this.graph.view.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=Xc.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const n=Xc.create(t),i=this.graph;e.contentArea=n,null==e.viewportArea&&(e.viewportArea={x:i.options.x,y:i.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const r=n.getCenter();return this.centerPoint(r.x,r.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const n=this.getComputedSize(),i=this.getScale(),r=this.getTranslation(),o=n.width/2,a=n.height/2;e="number"==typeof e?e:a,t=o-(t="number"==typeof t?t:o)*i.sx,e=a-e*i.sy,r.tx===t&&r.ty===e||this.translate(t,e)}centerContent(t){const e=this.graph.getContentArea(t).getCenter();this.centerPoint(e.x,e.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,n){const i=this.getComputedSize();(e=a.normalizePercentage(e,Math.max(0,i.width)))<0&&(e=i.width+e),(n=a.normalizePercentage(n,Math.max(0,i.height)))<0&&(n=i.height+n);const r=this.getTranslation(),o=this.getScale(),s=e-t.x*o.sx,l=n-t.y*o.sy;r.tx===s&&r.ty===l||this.translate(s,l)}positionRect(t,e){const n=Xc.create(t);switch(e){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}positionCell(t,e){const n=t.getBBox();return this.positionRect(n,e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t)}dispose(){this.widgets.forEach(t=>t.dispose()),this.widgets.clear(),this.stopListening()}}Uy([Zy.dispose()],Zy.prototype,"dispose",null);var Ky=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Jy extends qv{constructor(){super(...arguments),this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return!0!==this.widgetOptions.enabled||!0!==this.widgetOptions.rubberband}get disabled(){return!0!==this.widgetOptions.enabled}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e:t}){(this.allowRubberband(t,!0)||this.allowRubberband(t)&&!this.graph.scroller.allowPanning(t,!0)&&!this.graph.panning.allowPanning(t,!0))&&this.startRubberband(t)}onBlankClick(){this.clean()}allowRubberband(t,e){return!this.rubberbandDisabled&&Fy.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowRubberband(t)}onCellMouseMove({cell:t}){this.movedMap.set(t,!0)}onCellMouseUp({e:t,cell:e}){const n=this.widgetOptions;let i=this.disabled;!i&&this.movedMap.has(e)&&(i=!1===n.selectCellOnMoved,i||(i=!1===n.selectNodeOnMoved&&e.isNode()),i||(i=!1===n.selectEdgeOnMoved&&e.isEdge())),i||(!1===n.multiple||!t.ctrlKey&&!t.metaKey?this.reset(e):this.unselectMap.has(e)?this.unselectMap.delete(e):this.isSelected(e)?this.unselect(e):this.select(e)),this.movedMap.delete(e)}onBoxMouseDown({e:t,cell:e}){this.disabled||!1!==this.widgetOptions.multiple&&(t.ctrlKey||t.metaKey)&&(this.unselect(e),this.unselectMap.set(e,!0))}isEmpty(){return this.length<=0}isSelected(t){return this.widget.isSelected(t)}getCells(t){return(Array.isArray(t)?t:[t]).map(t=>"string"==typeof t?this.graph.getCellById(t):t).filter(t=>null!=t)}select(t,e={}){const n=this.getCells(t);return n.length&&(this.isMultiple()?this.widget.select(n,e):this.reset(n.slice(0,1),e)),this}unselect(t,e={}){return this.widget.unselect(this.getCells(t),e),this}reset(t,e={}){return this.widget.reset(t?this.getCells(t):[],e),this}clean(){return this.widget.clean(),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(t){return this.rubberbandDisabled||this.widget.startSelecting(t),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return!1!==this.widgetOptions.multiple}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(t){return this.widgetOptions.modifiers=t,this}setContent(t){return this.widget.setContent(t),this}setFilter(t){return this.widget.setFilter(t),this}dispose(){this.stopListening(),this.widget.dispose()}}Ky([qv.dispose()],Jy.prototype,"dispose",null);var Qy,tx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},ex=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};class nx extends jf{constructor(t){super(),this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=t.graph,this.model=t.graph.model,this.options=Qy.getOptions(t),this.validator=new nx.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return!0!==this.options.enabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack.push(e),this.notify("undo",e,t))}return this}redo(t={}){if(!this.disabled){const e=this.redoStack.pop();e&&(this.applyCommand(e,t),this.undoStack.push(e),this.notify("redo",e,t))}return this}cancel(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack=[],this.notify("cancel",e,t))}return this}clean(t={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,t),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(t,...e){return this.validator.validate(t,...e),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((t,e)=>{this.handlers[e]=this.addCommand.bind(this,t),this.model.on(t,this.handlers[e])}),this.validator.on("invalid",t=>this.trigger("invalid",t))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((t,e)=>{this.model.off(t,this.handlers[e])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(t){return{batch:!!t&&t.batch,data:{}}}revertCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?Qy.sortBatchCommands(t):[t];for(let t=n.length-1;t>=0;t-=1){const i=n[t],o=Object.assign(Object.assign({},e),r.pick(i.options,this.options.revertOptionsList||[]));this.executeCommand(i,!0,o)}this.freezed=!1}applyCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?Qy.sortBatchCommands(t):[t];for(let t=0;t<n.length;t+=1){const i=n[t],o=Object.assign(Object.assign({},e),r.pick(i.options,this.options.applyOptionsList||[]));this.executeCommand(i,!1,o)}this.freezed=!1}executeCommand(t,e,n){const i=this.model,r=i.getCell(t.data.id),o=t.event;if(Qy.isAddEvent(o)&&e||Qy.isRemoveEvent(o)&&!e)r.remove(n);else if(Qy.isAddEvent(o)&&!e||Qy.isRemoveEvent(o)&&e){const e=t.data;e.node?i.addNode(e.props,n):e.edge&&i.addEdge(e.props,n)}else if(Qy.isChangeEvent(o)){const i=t.data,o=i.key;if(o){const t=e?i.prev[o]:i.next[o];r.prop(o,t,n)}}else{const i=this.options.executeCommand;i&&s.call(i,this,t,e,n)}}addCommand(t,e){if(this.freezed||this.disabled)return;const n=e,i=n.options||{};if(i.dryrun)return;if(Qy.isAddEvent(t)&&this.options.ignoreAdd||Qy.isRemoveEvent(t)&&this.options.ignoreRemove||Qy.isChangeEvent(t)&&this.options.ignoreChange)return;const o=this.options.beforeAddCommand;if(null!=o&&!1===s.call(o,this,t,e))return;"cell:change:*"===t&&(t="cell:change:"+n.key);const a=n.cell,l=Pv.isModel(a);let c;if(this.batchCommands){c=this.batchCommands[Math.max(this.lastBatchIndex,0)];const e=l&&!c.modelChange||c.data.id!==a.id,n=c.event!==t;if(this.lastBatchIndex>=0&&(e||n)){const e=this.batchCommands.findIndex(e=>(l&&e.modelChange||e.data.id===a.id)&&e.event===t);e<0||Qy.isAddEvent(t)||Qy.isRemoveEvent(t)?c=this.createCommand({batch:!0}):(c=this.batchCommands[e],this.batchCommands.splice(e,1)),this.batchCommands.push(c),this.lastBatchIndex=this.batchCommands.length-1}}else c=this.createCommand({batch:!1});if(Qy.isAddEvent(t)||Qy.isRemoveEvent(t)){const e=c.data;return c.event=t,c.options=i,e.id=a.id,e.props=r.cloneDeep(a.toJSON()),a.isEdge()?e.edge=!0:a.isNode()&&(e.node=!0),this.push(c,i)}if(Qy.isChangeEvent(t)){const n=e.key,o=c.data;return c.batch&&c.event||(c.event=t,c.options=i,o.key=n,null==o.prev&&(o.prev={}),o.prev[n]=r.clone(a.previous(n)),l?c.modelChange=!0:o.id=a.id),null==o.next&&(o.next={}),o.next[n]=r.clone(a.prop(n)),this.push(c,i)}const h=this.options.afterAddCommand;h&&s.call(h,this,t,e,c),this.push(c,i)}initBatchCommand(t){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(t){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const e=this.filterBatchCommand(this.batchCommands);e.length>0&&(this.redoStack=[],this.undoStack.push(e),this.notify("add",e,t)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(t){let e=t.slice();const n=[];for(;e.length>0;){const t=e.shift(),i=t.event,o=t.data.id;if(null!=i&&(null!=o||t.modelChange)){if(Qy.isAddEvent(i)){const t=e.findIndex(t=>Qy.isRemoveEvent(t.event)&&t.data.id===o);if(t>=0){e=e.filter((e,n)=>t<n||e.data.id!==o);continue}}else if(Qy.isRemoveEvent(i)){const t=e.findIndex(t=>Qy.isAddEvent(t.event)&&t.data.id===o);if(t>=0){e.splice(t,1);continue}}else if(Qy.isChangeEvent(i)){const e=t.data;if(r.isEqual(e.prev,e.next))continue}n.push(t)}}return n}notify(t,e,n){const i=null==e?null:Array.isArray(e)?e:[e];this.emit(t,{cmds:i,options:n}),this.emit("change",{cmds:i,options:n})}push(t,e){this.redoStack=[],t.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:t,options:e})):(this.undoStack.push(t),this.notify("add",t,e))}}tx([jf.dispose()],nx.prototype,"dispose",null),function(t){class e extends jf{constructor(t){super(),this.map={},this.command=t.history,this.cancelInvalid=!1!==t.cancelInvalid,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:t}){return Array.isArray(t)?t.every(t=>this.isValidCommand(t)):this.isValidCommand(t)}isValidCommand(t){if(t.options&&!1===t.options.validation)return!0;const e=t.event&&this.map[t.event]||[];let n=null;return e.forEach(e=>{let i=0;const r=o=>{const a=e[i];i+=1;try{if(!a)return void(n=o);a(o,t,r)}catch(o){r(o)}};r(n)}),!n||(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:n}),!1)}validate(t,...e){const n=Array.isArray(t)?t:t.split(/\s+/);return e.forEach(t=>{if("function"!=typeof t)throw new Error(n.join(" ")+" requires callback functions.")}),n.forEach(t=>{null==this.map[t]&&(this.map[t]=[]),this.map[t].push(e)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}tx([jf.dispose()],e.prototype,"dispose",null),t.Validator=e}(nx||(nx={})),function(t){t.isAddEvent=function(t){return"cell:added"===t},t.isRemoveEvent=function(t){return"cell:removed"===t},t.isChangeEvent=function(t){return null!=t&&t.startsWith("cell:change:")},t.getOptions=function(e){const{graph:n}=e,i=ex(e,["graph"]),r=["cell:added","cell:removed","cell:change:*"],o=["batch:start","batch:stop"],a=e.eventNames?e.eventNames.filter(e=>!(t.isChangeEvent(e)||r.includes(e)||o.includes(e))):r;return Object.assign(Object.assign({},i),{eventNames:a,applyOptionsList:e.applyOptionsList||["propertyPath"],revertOptionsList:e.revertOptionsList||["propertyPath"]})},t.sortBatchCommands=function(e){const n=[];for(let i=0,r=e.length;i<r;i+=1){const r=e[i];let o=null;if(t.isAddEvent(r.event)){const t=r.data.id;for(let n=0;n<i;n+=1)if(e[n].data.id===t){o=n;break}}null!==o?n.splice(o,0,r):n.push(r)}return n}}(Qy||(Qy={}));var ix=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class rx extends qv{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}ix([qv.dispose()],rx.prototype,"dispose",null);var ox=n(333),ax=n.n(ox),sx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class lx extends If{constructor(t){super(),this.options=t;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,t.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=lx.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return!0!==this.options.enabled}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}off(t,e){this.mousetrap.unbind(this.getKeys(t),e)}focus(){this.target.focus()}getKeys(t){return(Array.isArray(t)?t:[t]).map(t=>this.formatkey(t))}formatkey(t){const e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),n=this.options.format;return n?s.call(n,this.graph,e):e}isGraphEvent(t){const e=t.srcElement||t.target;return!!e&&(e===this.target||e===document.body||c.contains(this.container,e))}isEnabledForEvent(t){const e=!this.disabled&&this.isGraphEvent(t);if(e){const e=t.target,n=e&&e.tagName.toLowerCase(),i=t.keyCode||t.which;if("input"===n&&(8===i||46===i))return!1;if(this.options.guard)return s.call(this.options.guard,this.graph,t)}return e}dispose(){this.mousetrap.reset()}}sx([If.dispose()],lx.prototype,"dispose",null),(lx||(lx={})).createMousetrap=function(t){const e=new ax.a(t.target),n=e.stopCallback;return e.stopCallback=(i,r,o)=>!t.isEnabledForEvent(i)||!!n&&n.call(e,i,r,o),e};var cx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class hx extends If{constructor(t){super(),this.options=t,this.cumulatedFactor=1;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new c.MouseWheelHandle(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return!0!==this.options.enabled}enable(t){(this.disabled||t)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;return(null==n||n.call(this.graph,e))&&Fy.isMatch(e,this.options.modifiers)}onMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;if((null==n||n.call(this.graph,e))&&Fy.isMatch(e,this.options.modifiers)){const e=this.options.factor||1.2;null==this.currentScale&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx);t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*e*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/e)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const n=this.graph.scroller.widget,i=this.currentScale;let r=this.graph.transform.clampScale(i*this.cumulatedFactor);const o=this.options.minScale||Number.MIN_SAFE_INTEGER,s=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(r=a.clamp(r,o,s),r!==i)if(n)if(this.options.zoomAtMousePosition){const t=this.graph.coord.clientToLocalPoint(this.startPos);n.zoom(r,{absolute:!0,center:t.clone()})}else n.zoom(r,{absolute:!0});else if(this.options.zoomAtMousePosition){const t=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.zoom(r,{absolute:!0,center:t.clone()})}else this.graph.zoom(r,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}cx([If.dispose()],hx.prototype,"dispose",null);var ux=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class dx extends qv{show(t={}){const e=Object.assign(Object.assign({},dx.defaultOptions),t),n=this.createPrintPages(e);e.ready(n,t=>this.showPrintWindow(t,e),{sheetSize:this.getSheetSize(e)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(t,e){if(t){const n=O()(document.body),i=O()(this.view.container),r=this.view.prefixClassName("graph-printing");n.addClass(r);const o=i.children().detach();t.forEach(t=>{t.removeClass(this.className+"-preview").addClass(this.className+"-ready").appendTo(n)});let a=!1;const s=()=>{a||(a=!0,n.removeClass(r),t.forEach(t=>t.remove()),i.append(o),O()("#"+this.styleSheetId).remove(),this.graph.trigger("after:print",e),O()(window).off("afterprint",s))};O()(window).one("afterprint",s),setTimeout(s,200),window.print()}}createPrintPage(t,e){this.graph.trigger("before:print",e);const n=O()("<div/>").addClass(this.className),i=O()("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");e.size&&n.addClass(`${this.className}-size-${e.size}`);const r=vh.create(this.view.svg).clone(),o=r.findOne("."+this.view.prefixClassName("graph-svg-stage"));i.append(r.node);const a=this.getSheetSize(e),s=this.graph.transform.getGraphArea(),l=this.graph.transform.getScale(),h=this.graph.translate(),u=c.createSVGMatrix().translate(h.tx/l.sx,h.ty/l.sy),d=this.getPageInfo(s,t,a),p=d.scale,f=d.bbox;return i.css({left:0,top:0}),r.attr({width:f.width*p,height:f.height*p,style:"position:relative",viewBox:[f.x,f.y,f.width,f.height].join(" ")}),o.attr("transform",c.matrixToTransformString(u)),n.append(i),n.addClass(this.className+"-preview"),{$page:n,sheetSize:a}}createPrintPages(t){let e;const n=this.getPrintArea(t),i=[];if(t.page){const r=this.getPageSize(n,t.page);this.getPageAreas(n,r).forEach(n=>{e=this.createPrintPage(n,t),i.push(e.$page)})}else e=this.createPrintPage(n,t),i.push(e.$page);if(e){const n={width:e.sheetSize.cssWidth,height:e.sheetSize.cssHeight};this.updatePrintStyle(n,t)}return i}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(t,e){const n=Object.keys(t).reduce((e,n)=>`${e} ${n}:${t[n]};`,""),i=a.normalizeSides(e.margin),r=e.marginUnit||"",o=e.sheetUnit||"",s=`\n      @media print {\n        .${this.className}.${this.className}-ready {\n          ${n}\n        }\n\n        @page {\n          margin:\n          ${[i.top+r,i.right+r,i.bottom+r,i.left+r].join(" ")};\n          size: ${e.sheet.width+o} ${e.sheet.height+o};\n\n        .${this.className}.${this.className}-preview {\n          ${n}\n        }\n      }`,l=this.styleSheetId,c=O()("#"+l);c.length?c.html(s):O()("head").append(`'<style type="text/css" id="${l}">${s}</style>'`)}getPrintArea(t){let e=t.area;if(!e){const n=a.normalizeSides(t.padding);e=this.graph.getContentArea().moveAndExpand({x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom})}return e}getPageSize(t,e){if("object"==typeof e){const n=e,i={width:n.width,height:n.height};return null==i.width&&(i.width=Math.ceil(t.width/(n.columns||1))),null==i.height&&(i.height=Math.ceil(t.height/(n.rows||1))),i}return{width:t.width,height:t.height}}getPageAreas(t,e){const n=[],i=e.width,r=e.height;for(let e=0,o=0;e<t.height&&o<200;e+=r,o+=1)for(let o=0,a=0;o<t.width&&a<200;o+=i,a+=1)n.push(new Xc(t.x+o,t.y+e,i,r));return n}getSheetSize(t){const e=t.sheet,n=a.normalizeSides(t.margin),i=t.marginUnit||"",r=t.sheetUnit||"",o=`calc(${e.width}${r} - ${n.left+n.right}${i})`,s=`calc(${e.height}${r} - ${n.top+n.bottom}${i})`,l=mc.measure(o,s);return{cssWidth:o,cssHeight:s,width:l.width,height:l.height}}getPageInfo(t,e,n){const i=new Xc(e.x-t.x,e.y-t.y,e.width,e.height),r=i.width/i.height,o=n.width/n.height;return{bbox:i,scale:o<r?n.width/i.width:n.height/i.height,fitHorizontal:o<r}}dispose(){}}ux([qv.dispose()],dx.prototype,"dispose",null),(dx||(dx={})).defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(t,e)=>e(t)};class px extends qv{toSVG(t,e={}){this.graph.trigger("before:export",e);const n=this.view.svg,i=vh.create(n).clone();let r=i.node;const o=i.findOne("."+this.view.prefixClassName("graph-svg-stage")),a=e.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=e.preserveDimensions;if(l){const t="boolean"==typeof l?a:l;i.attr({width:t.width,height:t.height})}if(i.removeAttribute("style").attr("viewBox",[a.x,a.y,a.width,a.height].join(" ")),o.removeAttribute("transform"),!1!==e.copyStyles){const t=n.ownerDocument,e=Array.from(n.querySelectorAll("*")),i=Array.from(r.querySelectorAll("*")),o=t.styleSheets.length,a=[];for(let e=o-1;e>=0;e-=1)a[e]=t.styleSheets[e],t.styleSheets[e].disabled=!0;const s={};e.forEach((t,e)=>{const n=window.getComputedStyle(t,null),i={};Object.keys(n).forEach(t=>{i[t]=n.getPropertyValue(t)}),s[e]=i}),o!==t.styleSheets.length&&a.forEach((e,n)=>{t.styleSheets[n]=e});for(let e=0;e<o;e+=1)t.styleSheets[e].disabled=!1;const l={};e.forEach((t,e)=>{const n=window.getComputedStyle(t,null),i=s[e],r={};Object.keys(n).forEach(t=>{n.getPropertyValue(t)!==i[t]&&(r[t]=n.getPropertyValue(t))}),l[e]=r}),i.forEach((t,e)=>{O()(t).css(l[e])})}const c=e.stylesheet;if("string"==typeof c){const t=n.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);i.prepend(vh.create("style",{type:"text/css"},[t]))}const h=()=>{const n=e.beforeSerialize;if("function"==typeof n){const t=s.call(n,this.graph,r);t instanceof SVGSVGElement&&(r=t)}const i=(new XMLSerializer).serializeToString(r).replace(/&nbsp;/g,"");this.graph.trigger("after:export",e),t(i)};if(e.serializeImages){const t=i.find("image").map(t=>new Promise(e=>{const n=t.attr("xlink:href")||t.attr("href");pc.imageToDataUri(n,(n,i)=>{!n&&i&&t.attr("xlink:href",i),e()})}));Promise.all(t).then(h)}else h()}toDataURL(t,e){let n=e.viewBox||this.graph.getContentBBox();const i=a.normalizeSides(e.padding);e.width&&e.height&&(i.left+i.right>=e.width&&(i.left=i.right=0),i.top+i.bottom>=e.height&&(i.top=i.bottom=0));const r=new Xc(-i.left,-i.top,i.left+i.right,i.top+i.bottom);if(e.width&&e.height){const t=n.width+i.left+i.right,o=n.height+i.top+i.bottom;r.scale(t/e.width,o/e.height)}n=Xc.create(n).moveAndExpand(r);const o="number"==typeof e.width&&"number"==typeof e.height?{width:e.width,height:e.height}:n;let s=e.ratio?parseFloat(e.ratio):1;Number.isFinite(s)&&0!==s||(s=1);const l={width:Math.max(Math.round(o.width*s),1),height:Math.max(Math.round(o.height*s),1)};{const t=document.createElement("canvas"),e=t.getContext("2d");t.width=l.width,t.height=l.height;const n=l.width-1,i=l.height-1;e.fillStyle="rgb(1,1,1)",e.fillRect(n,i,1,1);const r=e.getImageData(n,i,1,1).data;if(1!==r[0]||1!==r[1]||1!==r[2])throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const n=document.createElement("canvas");n.width=l.width,n.height=l.height;const i=n.getContext("2d");i.fillStyle=e.backgroundColor||"white",i.fillRect(0,0,l.width,l.height);try{i.drawImage(c,0,0,l.width,l.height);const r=n.toDataURL(e.type,e.quality);t(r)}catch(t){}},this.toSVG(t=>{c.src="data:image/svg+xml,"+encodeURIComponent(t)},Object.assign(Object.assign({},e),{viewBox:n,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/png"}))}toJPEG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/jpeg"}))}}class fx extends qv{constructor(){super(...arguments),this.widgets=new Map}get isSelectionEnabled(){return!0===this.options.selecting.enabled}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.forEach(t=>t.dispose()),this.widgets.delete(t)}}}var gx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class mx extends qv{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&!0===this.widgetOptions.enabled}init(){this.startListening(),this.updateClassName()}startListening(){const t=this.widgetOptions.eventTypes;t&&(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new c.MouseWheelHandle(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const t=this.widgetOptions.eventTypes;t&&(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e:t}){(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&this.startPanning(t)}allowPanning(t,e){return this.pannable&&Fy.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),n=e.clientX-this.clientX,i=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY,this.graph.translateBy(n,i)}stopPanning(t){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(c.addClass(t,e),c.removeClass(t,n)):(c.removeClass(t,e),c.addClass(t,n)):(c.removeClass(t,e),c.removeClass(t,n))}onRightMouseDown(t){2===t.button&&this.allowPanning(t,!0)&&this.startPanning(t)}allowMouseWheel(t){return this.pannable&&!t.ctrlKey}onMouseWheel(t,e,n){t.ctrlKey||this.graph.translateBy(-e,-n)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}gx([qv.dispose()],mx.prototype,"dispose",null);var vx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class yx extends qv{hasScroller(){return null!=this.graph.scroller.widget}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const t=this.options.autoResize;if(t){const e="boolean"==typeof t?this.getContainer():t;Tu.bind(e,()=>{const t=this.getContainer(),e=t.offsetWidth,n=t.offsetHeight;this.resize(e,n)})}}resize(t,e){this.hasScroller()?this.resizeScroller(t,e):this.resizeGraph(t,e)}resizeGraph(t,e){this.graph.transform.resize(t,e)}resizeScroller(t,e){this.graph.scroller.resize(t,e)}resizePage(t,e){const n=this.graph.scroller.widget;n&&n.updatePageSize(t,e)}dispose(){Tu.clear(this.getContainer())}}vx([qv.dispose()],yx.prototype,"dispose",null);var xx,bx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},wx=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n};!function(t){t.hook=function(t,e){return(n,i,r)=>{const o=r.value,a=e||i;r.value=function(...e){const n=this.options[a];if(null!=n){this.getNativeValue=o.bind(this,...e);const i=s.call(n,this.graph,...e);if(this.getNativeValue=null,null!=i||!0===t&&null===i)return i}return o.call(this,...e)}}},t.after=function(t){return(e,n,i)=>{const r=i.value,o=t||n;i.value=function(...t){let e=r.call(this,...t);const n=this.options[o];return null!=n&&(e=s.call(n,this.graph,...t)&&e),e}}}}(xx||(xx={}));class Cx extends qv{createModel(){if(this.options.model)return this.options.model;const t=new Pv;return t.graph=this.graph,t}createView(){return new Kv(this.graph)}createRenderer(){return new yy(this.graph)}createDefsManager(){return new jy(this.graph)}createGridManager(){return new Ny(this.graph)}createCoordManager(){return new Ry(this.graph)}createKnobManager(){return new fx(this.graph)}createTransform(t,e){const n=this.getTransformOptions(t);return n.resizable||n.rotatable?new Dy(Object.assign(Object.assign({node:t,graph:this.graph},n),e)):(n.clearAll&&Dy.removeInstances(this.graph),null)}createKnob(t,e){const n=Py.parseOptionGroup(this.graph,t,this.options.knob),i=Object.assign(Object.assign({},n),e);i.clearAll&&ly.removeInstances(this.graph),i.clearAll=!1;const r=t.prop("knob"),o=[];return(Array.isArray(r)?r:[r]).forEach((e,r)=>{e&&!1!==e.enabled&&("function"==typeof e.enabled&&!1===e.enabled.call(this.graph,t)||n.enabled&&o.push(new ly(Object.assign({node:t,index:r,graph:this.graph},i))))}),o}getTransformOptions(t){const e=Py.parseOptionGroup(this.graph,t,this.options.resizing),n=Py.parseOptionGroup(this.graph,t,this.options.rotating),i=Py.parseOptionGroup(this.graph,t,this.options.transforming);return Object.assign(Object.assign({},i),{resizable:e.enabled,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,orthogonalResizing:e.orthogonal,restrictedResizing:null!=e.restrict?e.restrict:e.restricted,autoScrollOnResizing:e.autoScroll,preserveAspectRatio:e.preserveAspectRatio,allowReverse:e.allowReverse,rotatable:n.enabled,rotateGrid:n.grid})}createTransformManager(){return new Zy(this.graph)}createHighlightManager(){return new qy(this.graph)}createBackgroundManager(){return new by(this.graph)}createClipboard(){return new Ax}createClipboardManager(){return new Yy(this.graph)}createSnapline(){return new gy(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new Vy(this.graph)}createSelection(){return new Ty(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new Jy(this.graph)}allowRubberband(t){return!0}createHistoryManager(){return new nx(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new Sy(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new Hy(this.graph)}allowPanning(t){return!0}createMiniMap(){const t=this.options.minimap,{enabled:e}=t,n=wx(t,["enabled"]);return e?new dy(Object.assign({graph:this.graph},n)):null}createMiniMapManager(){return new rx(this.graph)}createKeyboard(){return new lx(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new hx(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new dx(this.graph)}createFormatManager(){return new px(this.graph)}createPanningManager(){return new mx(this.graph)}createSizeManager(){return new yx(this.graph)}allowConnectToBlank(t){const e=this.options.connecting,n=null!=e.allowBlank?e.allowBlank:e.dangling;if("function"!=typeof n)return!!n;const i=this.graph.findViewByCell(t),r=t.getSourceCell(),o=t.getTargetCell(),a=this.graph.findViewByCell(r),l=this.graph.findViewByCell(o);return s.call(n,this.graph,{edge:t,edgeView:i,sourceCell:r,targetCell:o,sourceView:a,targetView:l,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:i.sourceMagnet,targetMagnet:i.targetMagnet})}validateEdge(t,e,n){if(!this.allowConnectToBlank(t)){const e=t.getSourceCellId(),n=t.getTargetCellId();if(!e||!n)return!1}const i=this.options.connecting.validateEdge;return!i||s.call(i,this.graph,{edge:t,type:e,previous:n})}validateMagnet(t,e,n){if("passive"!==e.getAttribute("magnet")){const i=this.options.connecting.validateMagnet;return!i||s.call(i,this.graph,{e:n,magnet:e,view:t,cell:t.cell})}return!1}getDefaultEdge(t,e){let n;const i=this.options.connecting.createEdge;return i&&(n=s.call(i,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),null==n&&(n=new Hv),n}validateConnection(t,e,n,i,r,o,a){const l=this.options.connecting,c=l.allowLoop,h=l.allowNode,u=l.allowEdge,d=l.allowPort,p=null!=l.allowMulti?l.allowMulti:l.multi,f=l.validateConnection,g=o?o.cell:null,m="target"===r?n:t,v="target"===r?i:e;let y=!0;const x=l=>{const c="source"===r?a?a.port:null:g?g.getSourcePortId():null,h="target"===r?a?a.port:null:g?g.getTargetPortId():null;return s.call(l,this.graph,{edge:g,edgeView:o,sourceView:t,targetView:n,sourcePort:c,targetPort:h,sourceMagnet:e,targetMagnet:i,sourceCell:t?t.cell:null,targetCell:n?n.cell:null,type:r})};if(null!=c&&("boolean"==typeof c?c||t!==n||(y=!1):y=x(c)),y&&null!=d&&("boolean"==typeof d?!d&&v&&(y=!1):y=x(d)),y&&null!=u&&("boolean"==typeof u?!u&&Mv.isEdgeView(m)&&(y=!1):y=x(u)),y&&null!=h&&("boolean"==typeof h?h||null==m||kv.isNodeView(m)&&null==v&&(y=!1):y=x(h)),y&&null!=p&&o){const t=o.cell,e="source"===r?a:t.getSource(),n="target"===r?a:t.getTarget(),i=a?this.graph.getCellById(a.cell):null;if(e&&n&&e.cell&&n.cell&&i)if("function"==typeof p)y=x(p);else{const t=this.model.getConnectedEdges(i,{outgoing:"source"===r,incoming:"target"===r});if(t.length)if("withPort"===p){t.some(t=>{const i=t.getSource(),r=t.getTarget();return i&&r&&i.cell===e.cell&&r.cell===n.cell&&null!=i.port&&i.port===e.port&&null!=r.port&&r.port===n.port})&&(y=!1)}else if(!p){t.some(t=>{const i=t.getSource(),r=t.getTarget();return i&&r&&i.cell===e.cell&&r.cell===n.cell})&&(y=!1)}}}return y&&null!=f&&(y=x(f)),y}getRestrictArea(t){const e=this.options.translating.restrict,n="function"==typeof e?s.call(e,this.graph,t):e;return"number"==typeof n?this.graph.transform.getGraphArea().inflate(n):!0===n?this.graph.transform.getGraphArea():n||null}onViewUpdated(t,e,n){e&yy.FLAG_INSERT||n.mounting||this.graph.renderer.requestConnectedEdgesUpdate(t,n)}onViewPostponed(t,e,n){return this.graph.renderer.forcePostponedViewUpdate(t,e)}getCellView(t){return null}createCellView(t){const e={graph:this.graph},n=this.getCellView(t);if(n)return new n(t,e);const i=t.view;if(null!=i&&"string"==typeof i){const n=lg.registry.get(i);return n?new n(t,e):lg.registry.onNotFound(i)}return t.isNode()?new kv(t,e):t.isEdge()?new Mv(t,e):null}getHTMLComponent(t){let e=t.getHTML();return"string"==typeof e&&(e=Wv.componentRegistry.get(e)||e),r.isPlainObject(e)&&(e=e.render),"function"==typeof e?s.call(e,this.graph,t):e}shouldUpdateHTMLComponent(t){let e=t.getHTML();if("string"==typeof e&&(e=Wv.componentRegistry.get(e)||e),r.isPlainObject(e)){const n=e.shouldComponentUpdate;return"function"==typeof n?s.call(n,this.graph,t):!!n}return!1}onEdgeLabelRendered(t){}onPortRendered(t){}onToolItemCreated(t){}}bx([xx.hook()],Cx.prototype,"createModel",null),bx([xx.hook()],Cx.prototype,"createView",null),bx([xx.hook()],Cx.prototype,"createRenderer",null),bx([xx.hook()],Cx.prototype,"createDefsManager",null),bx([xx.hook()],Cx.prototype,"createGridManager",null),bx([xx.hook()],Cx.prototype,"createCoordManager",null),bx([xx.hook()],Cx.prototype,"createKnobManager",null),bx([xx.hook()],Cx.prototype,"createTransform",null),bx([xx.hook()],Cx.prototype,"createKnob",null),bx([xx.hook()],Cx.prototype,"createTransformManager",null),bx([xx.hook()],Cx.prototype,"createHighlightManager",null),bx([xx.hook()],Cx.prototype,"createBackgroundManager",null),bx([xx.hook()],Cx.prototype,"createClipboard",null),bx([xx.hook()],Cx.prototype,"createClipboardManager",null),bx([xx.hook()],Cx.prototype,"createSnapline",null),bx([xx.hook()],Cx.prototype,"createSnaplineManager",null),bx([xx.hook()],Cx.prototype,"createSelection",null),bx([xx.hook()],Cx.prototype,"createSelectionManager",null),bx([xx.hook()],Cx.prototype,"allowRubberband",null),bx([xx.hook()],Cx.prototype,"createHistoryManager",null),bx([xx.hook()],Cx.prototype,"createScroller",null),bx([xx.hook()],Cx.prototype,"createScrollerManager",null),bx([xx.hook()],Cx.prototype,"allowPanning",null),bx([xx.hook()],Cx.prototype,"createMiniMap",null),bx([xx.hook()],Cx.prototype,"createMiniMapManager",null),bx([xx.hook()],Cx.prototype,"createKeyboard",null),bx([xx.hook()],Cx.prototype,"createMouseWheel",null),bx([xx.hook()],Cx.prototype,"createPrintManager",null),bx([xx.hook()],Cx.prototype,"createFormatManager",null),bx([xx.hook()],Cx.prototype,"createPanningManager",null),bx([xx.hook()],Cx.prototype,"createSizeManager",null),bx([xx.after()],Cx.prototype,"onViewUpdated",null),bx([xx.after()],Cx.prototype,"onViewPostponed",null),bx([xx.hook()],Cx.prototype,"getCellView",null),bx([xx.hook(!0)],Cx.prototype,"createCellView",null),bx([xx.hook()],Cx.prototype,"getHTMLComponent",null),bx([xx.hook()],Cx.prototype,"shouldUpdateHTMLComponent",null),bx([xx.hook()],Cx.prototype,"onEdgeLabelRendered",null),bx([xx.hook()],Cx.prototype,"onPortRendered",null),bx([xx.hook()],Cx.prototype,"onToolItemCreated",null);var _x,Sx,Ox,Mx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class kx extends jf{constructor(t){super(),this.options=Py.get(t),this.css=new Qv(this),this.hook=new Cx(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return kx.toStringTag}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(t=>uv.isNode(t)?t:this.createNode(t)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(t=>Cv.isEdge(t)?t:this.createEdge(t)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCell(t){return this.model.getCell(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,n={}){return this.model.isNeighbor(t,e,n)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,n={}){return this.model.isSuccessor(t,e,n)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,n={}){return this.model.isPredecessor(t,e,n)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,n,i,r){return this.model.getNodesInArea(t,e,n,i,r)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,n={}){return this.model.search(t,e,n),this}getShortestPath(t,e,n={}){return this.model.getShortestPath(t,e,n)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,n){const i="string"==typeof t?t:"update",r="string"==typeof t?e:t,o="function"==typeof e?n:e;this.startBatch(i,o);const a=r();return this.stopBatch(i,o),a}isFrozen(){return this.renderer.isFrozen()}freeze(t={}){return this.renderer.freeze(t),this}unfreeze(t={}){return this.renderer.unfreeze(t),this}isAsync(){return this.renderer.isAsync()}setAsync(t){return this.renderer.setAsync(t),this}findView(t){return lv.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return Xc.isRectangleLike(t)?this.findViewsInArea(t):Yc.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const n="number"==typeof t?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(n)}findViewsInArea(t,e,n,i,r){const o="number"==typeof t?{x:t,y:e,width:n,height:i}:t,a="number"==typeof t?r:e;return this.renderer.findViewsInArea(o,a)}isViewMounted(t){return this.renderer.isViewMounted(t)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(t){return void 0===t?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){return this.size.resize(t,e),this}resizeGraph(t,e){return this.size.resizeGraph(t,e),this}resizeScroller(t,e){return this.size.resizeScroller(t,e),this}resizePage(t,e){return this.size.resizePage(t,e),this}scale(t,e=t,n=0,i=0){return void 0===t?this.transform.getScale():(this.transform.scale(t,e,n,i),this)}zoom(t,e){const n=this.scroller.widget;if(n){if(void 0===t)return n.zoom();n.zoom(t,e)}else{if(void 0===t)return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const n=this.scroller.widget;n?n.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0}))}zoomToRect(t,e={}){const n=this.scroller.widget;return n?n.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.scroller.widget;return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,n){return void 0===t?this.transform.getRotation():(this.transform.rotate(t,e,n),this)}translate(t,e){return void 0===t?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const n=this.translate(),i=n.tx+t,r=n.ty+e;return this.translate(i,r)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,n,i){return this.transform.fitToContent(t,e,n,i)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const i=this.scroller.widget;return i?i.centerPoint(t,e,n):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.scroller.widget;return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const n=this.scroller.widget;return n?n.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,n,i={}){const r=this.scroller.widget;return r?r.positionPoint(t,e,n,i):this.transform.positionPoint(t,e,n),this}positionRect(t,e,n){const i=this.scroller.widget;return i?i.positionRect(t,e,n):this.transform.positionRect(t,e),this}positionCell(t,e,n){const i=this.scroller.widget;return i?i.positionCell(t,e,n):this.transform.positionCell(t,e),this}positionContent(t,e){const n=this.scroller.widget;return n?n.positionContent(t,e):this.transform.positionContent(t,e),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.pageToLocalRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.pageToLocalRect(t,e,n,i):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.localToPageRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.localToPageRect(t,e,n,i):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.clientToLocalRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.clientToLocalRect(t,e,n,i):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.localToClientRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.localToClientRect(t,e,n,i):this.coord.localToClientPoint(t,e)}localToGraph(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.localToGraphRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.localToGraphRect(t,e,n,i):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.graphToLocalRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.graphToLocalRect(t,e,n,i):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,n,i){return Xc.isRectangleLike(t)?this.coord.clientToGraphRect(t):"number"==typeof t&&"number"==typeof e&&"number"==typeof n&&"number"==typeof i?this.coord.clientToGraphRect(t,e,n,i):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const n=this.scroller.widget;return null==n||null!=this.options.background&&e?this.background.draw(t):n.backgroundManager.draw(t),this}clearBackground(t){const e=this.scroller.widget;return null==e||null!=this.options.background&&t?this.background.clear():e.backgroundManager.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(t){return null!=t?t!==this.isClipboardEnabled()&&(t?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(t,e={}){return this.clipboard.copy(t,e),this}cut(t,e={}){return this.clipboard.cut(t,e),this}paste(t={},e=this){return this.clipboard.paste(t,e)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(t){return null!=t?t!==this.isHistoryEnabled()&&(t?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(t={}){return this.history.undo(t),this}undoAndCancel(t={}){return this.history.cancel(t),this}redo(t={}){return this.history.redo(t),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(t={}){this.history.clean(t)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(t){return null!=t?t!==this.isKeyboardEnabled()&&(t?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(t,e,n){return this.keyboard.on(t,e,n),this}unbindKey(t,e){return this.keyboard.off(t,e),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return null==t?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}lockScroller(){var t;null===(t=this.scroller.widget)||void 0===t||t.lock()}unlockScroller(){var t;null===(t=this.scroller.widget)||void 0===t||t.unlock()}updateScroller(){var t;null===(t=this.scroller.widget)||void 0===t||t.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(t,e,n){return this.scroller.widget.scrollbarPosition(t,e,n),this}scrollToPoint(t,e,n){return this.scroller.widget.scrollToPoint(t,e,n),this}scrollToContent(t){return this.scroller.widget.scrollToContent(t),this}scrollToCell(t,e){return this.scroller.widget.scrollToCell(t,e),this}transitionToPoint(t,e,n){return this.scroller.widget.transitionToPoint(t,e,n),this}transitionToRect(t,e={}){return this.scroller.widget.transitionToRect(t,e),this}isPannable(){return this.scroller.pannable}enablePanning(){return this.scroller.enablePanning(),this}disablePanning(){return this.scroller.disablePanning(),this}togglePanning(t){return null==t?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(t){return null!=t?t!==this.isSelectionEnabled()&&(t?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(t){return null!=t?t!==this.isMultipleSelection()&&(t?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return!1!==this.selection.widget.options.movable}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(t){return null!=t?t!==this.isSelectionMovable()&&(t?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(t){return null!=t?t!==this.isRubberbandEnabled()&&(t?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return!0===this.selection.widget.options.strict}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(t){return null!=t?t!==this.isStrictRubberband()&&(t?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(t){this.selection.setModifiers(t)}setSelectionFilter(t){return this.selection.setFilter(t),this}setSelectionDisplayContent(t){return this.selection.setContent(t),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(){return this.selection.clean(),this}resetSelection(t){return this.selection.reset(t),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(t){return this.selection.isSelected(t)}select(t,e={}){return this.selection.select(t,e),this}unselect(t,e={}){return this.selection.unselect(t,e),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(t){if(null==t)return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this;t!==this.isSnaplineEnabled()&&(t?this.enableSnapline():this.disableSnapline())}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(t){return this.snapline.widget.setFilter(t),this}isSnaplineOnResizingEnabled(){return!0===this.snapline.widget.options.resizing}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(t){return null!=t?t!==this.isSnaplineOnResizingEnabled()&&(t?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return!0===this.snapline.widget.options.sharp}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(t){return null!=t?t!==this.isSharpSnapline()&&(t?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(t){return this.snapline.widget.options.tolerance=t,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(t,e={}){this.format.toSVG(t,e)}toDataURL(t,e){this.format.toDataURL(t,e)}toPNG(t,e={}){this.format.toPNG(t,e)}toJPEG(t,e={}){this.format.toJPEG(t,e)}printPreview(t){this.print.show(t)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}Mx([Uv.checkScroller()],kx.prototype,"lockScroller",null),Mx([Uv.checkScroller()],kx.prototype,"unlockScroller",null),Mx([Uv.checkScroller()],kx.prototype,"updateScroller",null),Mx([Uv.checkScroller()],kx.prototype,"getScrollbarPosition",null),Mx([Uv.checkScroller()],kx.prototype,"setScrollbarPosition",null),Mx([Uv.checkScroller()],kx.prototype,"scrollToPoint",null),Mx([Uv.checkScroller()],kx.prototype,"scrollToContent",null),Mx([Uv.checkScroller()],kx.prototype,"scrollToCell",null),Mx([Uv.checkScroller()],kx.prototype,"transitionToPoint",null),Mx([Uv.checkScroller()],kx.prototype,"transitionToRect",null),Mx([jf.dispose()],kx.prototype,"dispose",null),(_x=kx||(kx={})).View=Kv,_x.Hook=Cx,_x.Renderer=yy,_x.Keyboard=lx,_x.MouseWheel=hx,_x.BaseManager=qv,_x.DefsManager=jy,_x.GridManager=Ny,_x.CoordManager=Ry,_x.PrintManager=dx,_x.FormatManager=px,_x.MiniMapManager=rx,_x.HistoryManager=nx,_x.SnaplineManager=Vy,_x.ScrollerManager=Hy,_x.ClipboardManager=Yy,_x.TransformManager=Zy,_x.HighlightManager=qy,_x.BackgroundManager=by,_x.SelectionManager=Jy,function(t){t.toStringTag="X6."+t.name,t.isGraph=function(e){if(null==e)return!1;if(e instanceof t)return!0;const n=e[Symbol.toStringTag],i=e;return(null==n||n===t.toStringTag)&&null!=i.hook&&null!=i.view&&null!=i.model}}(kx||(kx={})),function(t){t.render=function(e,n){const i=e instanceof HTMLElement?new t({container:e}):new t(e);return null!=n&&i.fromJSON(n),i}}(kx||(kx={})),function(t){t.registerNode=uv.registry.register,t.registerEdge=Cv.registry.register,t.registerView=lg.registry.register,t.registerAttr=hp.registry.register,t.registerGrid=gp.registry.register,t.registerFilter=vp.registry.register,t.registerNodeTool=Mg.registry.register,t.registerEdgeTool=Ag.registry.register,t.registerBackground=Bp.registry.register,t.registerHighlighter=qp.registry.register,t.registerPortLayout=cf.registry.register,t.registerPortLabelLayout=Af.registry.register,t.registerMarker=Xd.registry.register,t.registerRouter=Gm.registry.register,t.registerConnector=tv.registry.register,t.registerAnchor=Yg.registry.register,t.registerEdgeAnchor=Qg.registry.register,t.registerConnectionPoint=sm.registry.register,t.registerConnectionStrategy=Kf.registry.register,t.registerHTMLComponent=Wv.componentRegistry.register}(kx||(kx={})),function(t){t.unregisterNode=uv.registry.unregister,t.unregisterEdge=Cv.registry.unregister,t.unregisterView=lg.registry.unregister,t.unregisterAttr=hp.registry.unregister,t.unregisterGrid=gp.registry.unregister,t.unregisterFilter=vp.registry.unregister,t.unregisterNodeTool=Mg.registry.unregister,t.unregisterEdgeTool=Ag.registry.unregister,t.unregisterBackground=Bp.registry.unregister,t.unregisterHighlighter=qp.registry.unregister,t.unregisterPortLayout=cf.registry.unregister,t.unregisterPortLabelLayout=Af.registry.unregister,t.unregisterMarker=Xd.registry.unregister,t.unregisterRouter=Gm.registry.unregister,t.unregisterConnector=tv.registry.unregister,t.unregisterAnchor=Yg.registry.unregister,t.unregisterEdgeAnchor=Qg.registry.unregister,t.unregisterConnectionPoint=sm.registry.unregister,t.unregisterConnectionStrategy=Kf.registry.unregister,t.unregisterHTMLComponent=Wv.componentRegistry.unregister}(kx||(kx={}));class Ax{constructor(){this.cells=[]}copy(t,e,n={}){this.options=Object.assign({},n);const r=(Pv.isModel(e)?e:e.model).cloneSubGraph(t,n);this.cells=i.sortBy(Object.keys(r).map(t=>r[t]),t=>t.isEdge()?2:1),this.serialize(n)}cut(t,e,n={}){this.copy(t,e,n);(kx.isGraph(e)?e.model:e).batchUpdate("cut",()=>{t.forEach(t=>t.remove())})}paste(t,e={}){const n=Object.assign(Object.assign({},e),this.options),{offset:i,edgeProps:r,nodeProps:o}=n;let a=20,s=20;i&&(a="number"==typeof i?i:i.dx,s="number"==typeof i?i:i.dy),this.deserialize(n);const l=this.cells;l.forEach(t=>{t.model=null,t.removeProp("zIndex"),(a||s)&&t.translate(a,s),o&&t.isNode()&&t.prop(o),r&&t.isEdge()&&t.prop(r)});const c=kx.isGraph(t)?t.model:t;return c.batchUpdate("paste",()=>{c.addCells(this.cells)}),this.copy(l,t,e),l}serialize(t){!1!==t.useLocalStorage&&Sx.save(this.cells)}deserialize(t){if(t.useLocalStorage){const t=Sx.fetch();t&&(this.cells=t)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],Sx.clean()}}!function(t){const e=Rp.prefixCls+".clipboard.cells";t.save=function(t){if(window.localStorage){const n=t.map(t=>t.toJSON());localStorage.setItem(e,JSON.stringify(n))}},t.fetch=function(){if(window.localStorage){const t=localStorage.getItem(e),n=t?JSON.parse(t):[];if(n)return Pv.fromJSON(n)}},t.clean=function(){window.localStorage&&localStorage.removeItem(e)}}(Sx||(Sx={}));class Tx{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(t){if(this.options.useCellGeometry){return t.cell.getBBox()}return t.getBBox()},content(t){const e=o.template("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),n=t.cell,i=n.getBBox();return e({x:Math.floor(i.x),y:Math.floor(i.y),width:Math.floor(i.width),height:Math.floor(i.height),angle:Math.floor(n.getAngle())})},magnet:t=>t.container,tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:t,y:e}){this.halo.startBatch();const n=this.graph,i=this.createEdgeConnectedToSource();i.setTarget({x:t,y:e}),this.model.addEdge(i,{validation:!1,halo:this.halo.cid,async:!1}),n.view.undelegateEvents(),this.edgeView=n.renderer.findViewByCell(i),this.edgeView.prepareArrowheadDragging("target",{x:t,y:e,fallbackAction:"remove"})}createEdgeConnectedToSource(){const t=this.getMagnet(this.view,"source"),e=this.getEdgeTerminal(this.view,t),n=this.graph.hook.getDefaultEdge(this.view,t);return n.setSource(e),n}getMagnet(t,e){const n=this.options.magnet;if("function"==typeof n){const i=s.call(n,this.halo,t,e);if(i instanceof SVGElement)return i}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(t,e){const n={cell:t.cell.id};if(e!==t.container){const i=e.getAttribute("port");i?n.port=i:n.selector=t.getSelector(e)}return n}doLink({e:t,x:e,y:n}){this.edgeView&&this.edgeView.onMouseMove(t,e,n)}stopLink({e:t,x:e,y:n}){const i=this.edgeView;if(i){i.onMouseUp(t,e,n);const r=i.cell;r.hasLoop()&&this.makeLoopEdge(r),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:r}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(t){let e=null,n=null;const i=this.options.loopEdgeWidth,r=this.graph.options,o=new Xc(0,0,r.width,r.height),a=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(t=>{let r=null,s=0,l=0;switch(t){case"top":r=new Yc(a.x+a.width/2,a.y-i),s=i/2;break;case"bottom":r=new Yc(a.x+a.width/2,a.y+a.height+i),s=i/2;break;case"left":r=new Yc(a.x-i,a.y+a.height/2),l=i/2;break;case"right":r=new Yc(a.x+a.width+i,a.y+a.height/2),l=i/2}return!!r&&(e=r.translate(-s,-l),n=r.translate(s,l),o.containsPoint(e)&&o.containsPoint(n))})&&e&&n&&t.setVertices([e,n])}startResize({e:t}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(Ac.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),Oy("node:resize",t,this.view)}doResize({e:t,dx:e,dy:n}){const i=this.node.getSize(),r=Math.max(i.width+(this.flip?e:n),1),o=Math.max(i.height+(this.flip?n:e),1);this.node.resize(r,o,{absolute:!0}),Oy("node:resizing",t,this.view)}stopResize({e:t}){this.view.removeClass("node-resizing"),Oy("node:resized",t,this.view),this.halo.stopBatch()}startClone({e:t,x:e,y:n}){this.halo.startBatch();const i=this.options.clone(this.cell,{clone:!0});if(!lv.isCell(i))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(i,e,n),this.model.addCell(i,{halo:this.halo.cid,async:!1});const r=this.graph.renderer.findViewByCell(i);r.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:r})}centerNodeAtCursor(t,e,n){const i=t.getBBox().getCenter(),r=e-i.x,o=n-i.y;t.translate(r,o)}doClone({e:t,x:e,y:n}){const i=this.halo.getEventData(t).cloneView;i&&i.onMouseMove(t,e,n)}stopClone({e:t,x:e,y:n}){const i=this.halo.getEventData(t).cloneView;i&&i.onMouseUp(t,e,n),this.halo.stopBatch()}startFork({e:t,x:e,y:n}){this.halo.startBatch();const i=this.options.clone(this.cell,{fork:!0});if(!lv.isCell(i))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(i,e,n),this.model.addCell(i,{halo:this.halo.cid,async:!1});const r=this.createEdgeConnectedToSource(),o=this.graph.renderer.findViewByCell(i),a=this.getMagnet(o,"target"),s=this.getEdgeTerminal(o,a);r.setTarget(s),this.model.addEdge(r,{halo:this.halo.cid,async:!1}),o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}doFork({e:t,x:e,y:n}){const i=this.halo.getEventData(t).cloneView;i&&i.onMouseMove(t,e,n)}stopFork({e:t,x:e,y:n}){const i=this.halo.getEventData(t).cloneView;i&&i.onMouseUp(t,e,n),this.halo.stopBatch()}startRotate({e:t,x:e,y:n}){this.halo.startBatch();const i=this.node.getBBox().getCenter(),r=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((t,e)=>(e.isNode()&&t.push(e),t),r),this.halo.setEventData(t,{center:i,nodes:r,rotateStartAngles:r.map(t=>t.getAngle()),clientStartAngle:new Yc(e,n).theta(i)}),r.forEach(e=>{const n=this.graph.findViewByCell(e);n&&(n.addClass("node-rotating"),Oy("node:rotate",t,n))})}doRotate({e:t,x:e,y:n}){const i=this.halo.getEventData(t),r=i.clientStartAngle-new Yc(e,n).theta(i.center);i.nodes.forEach((e,n)=>{const o=i.rotateStartAngles[n],a=Fp.snapToGrid(o+r,this.options.rotateGrid);e.rotate(a,{absolute:!0,center:i.center,halo:this.halo.cid}),Oy("node:rotating",t,this.graph.findViewByCell(e))})}stopRotate({e:t}){this.halo.getEventData(t).nodes.forEach(e=>{const n=this.graph.findViewByCell(e);n.removeClass("node-rotating"),Oy("node:rotated",t,n)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class Dx{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox:t=>t.graph.localToGraph(t.getPointAtRatio(.5)),tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const t=this.edge.getSource(),e=this.edge.getTarget();this.edge.prop({source:e,target:t})}}class Px extends sy{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(t){this.options=r.merge(Px.defaultOptions,this.cell.isNode()?new Tx(this).getPresets():this.cell.isEdge()?new Dx(this).getPresets():null,t),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const t=this.model,e=this.graph;this.view.cell.on("removed",this.remove,this),t.on("reseted",this.remove,this),e.on("halo:destroy",this.remove,this),t.on("*",this.update,this),e.on("scale",this.update,this),e.on("translate",this.update,this),super.startListening()}stopListening(){const t=this.model,e=this.graph,n=this.view.cell;this.undelegateEvents(),n.off("removed",this.remove,this),t.off("reseted",this.remove,this),e.off("halo:destroy",this.remove,this),t.off("*",this.update,this),e.off("scale",this.update,this),e.off("translate",this.update,this),super.stopListening()}render(){const t=this.options,e=this.prefixClassName("widget-halo");return this.view.addClass(Ox.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(e).attr("data-shape",this.view.cell.shape),t.className&&this.$container.addClass(t.className),this.$handleContainer=this.$("<div/>").addClass(e+"-handles").appendTo(this.container),this.$content=this.$("<div/>").addClass(e+"-content").appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(Ox.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const t=this.getBBox(),e=this.options.tinyThreshold||0,n=this.options.smallThreshold||0;this.$handleContainer.toggleClass(this.handleClassName+"-tiny",t.width<e&&t.height<e);const i=this.handleClassName+"-small";this.$handleContainer.toggleClass(i,!this.$handleContainer.hasClass(i)&&t.width<n&&t.height<n),this.$container.css({width:t.width,height:t.height,left:t.x,top:t.y}),this.hasHandle("unlink")&&this.toggleUnlink(),"surround"!==this.type&&"toolbar"!==this.type||this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const t=this.options.content;if("function"==typeof t){const e=s.call(t,this,this.view,this.$content[0]);e&&this.$content.html(e)}else t?this.$content.html(t):this.$content.remove()}getBBox(){const t=this.view,e=this.options.bbox,n="function"==typeof e?s.call(e,this,t):e;return Xc.create(Object.assign({x:0,y:0,width:1,height:1},n))}removeCell(){this.cell.remove()}toggleFork(){const t=this.view.cell.clone(),e=this.graph.hook.createCellView(t),n=this.graph.hook.validateConnection(this.view,null,e,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!n),e.remove()}toggleUnlink(){const t=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!t)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(Px||(Px={})).defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:t=>t.clone().removeZIndex()},Object.getOwnPropertyNames(iy.prototype).forEach(t=>{"constructor"!==t&&Object.defineProperty(Px.prototype,t,Object.getOwnPropertyDescriptor(iy.prototype,t))}),function(t){t.NODE_CLS="has-widget-halo"}(Ox||(Ox={}));var Ix,Ex,jx,Lx,Bx=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};class Nx extends $f{constructor(t){super(),this.options=Object.assign(Object.assign({},Nx.defaults),t),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new kx(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const t=this.options.target;return kx.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return kx.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(t,e){const n=e;n.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=t,this.prepareDragging(t,n.clientX,n.clientY);const i=this.updateNodePosition(n.clientX,n.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:n,node:t,cell:t,view:this.draggingView,x:i.x,y:i.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(Nx.documentEvents,n.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(t,e,n){const i=this.draggingGraph,r=i.model,o=this.options.getDragNode(t,{sourceNode:t,draggingGraph:i,targetGraph:this.targetGraph});o.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const t=this.targetGraph.transform.getScale();i.scale(t.sx,t.sy),a*=Math.max(t.sx,t.sy)}else i.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),r.resetCells([o]);const s=i.findViewByCell(o);s.undelegateEvents(),s.cell.off("changed"),i.fitToContent({padding:a,allowNewOrigin:"any"});const l=s.getBBox();this.geometryBBox=s.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(l.getTopLeft()),this.draggingNode=o,this.draggingView=s,this.draggingBBox=o.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(e,n)}updateGraphPosition(t,e){const n=document.body.scrollTop||document.documentElement.scrollTop,i=this.delta,r=this.geometryBBox,o=this.padding||5,a={left:t-i.x-r.width/2-o,top:e-i.y-r.height/2-o+n};return this.draggingGraph&&this.$container.offset(a),a}updateNodePosition(t,e){const n=this.targetGraph.clientToLocal(t,e),i=this.draggingBBox;return n.x-=i.width/2,n.y-=i.height/2,this.draggingNode.position(n.x,n.y),n}snap({cell:t,current:e,options:n}){const i=t;if(n.snapped){const t=this.draggingBBox;i.position(t.x+n.tx,t.y+n.ty,{silent:!0}),this.draggingView.translate(),i.position(e.x,e.y,{silent:!0}),this.snapOffset={x:n.tx,y:n.ty}}else this.snapOffset=null}onDragging(t){const e=this.draggingView;if(e){t.preventDefault();const n=this.normalizeEvent(t),i=n.clientX,r=n.clientY;this.updateGraphPosition(i,r);const o=this.updateNodePosition(i,r),a=this.targetGraph.options.embedding.enabled,s=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:i,y:r});if(a){e.setEventData(n,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const t=e.getEventData(n);s?e.processEmbedding(n,t):e.clearEmbedding(t),this.candidateEmbedView=t.candidateEmbedView}this.isSnaplineEnabled()&&(s?this.snapline.snapOnMoving({e:n,view:e,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(t){const e=this.draggingNode;if(e){const n=this.normalizeEvent(t),i=this.draggingView,r=this.draggingBBox,o=this.snapOffset;let a=r.x,l=r.y;o&&(a+=o.x,l+=o.y),e.position(a,l,{silent:!0});const c=this.drop(e,{x:n.clientX,y:n.clientY}),h=t=>{t?(this.onDropped(e),this.targetGraph.options.embedding.enabled&&i&&(i.setEventData(n,{cell:t,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),i.finalizeEmbedding(n,i.getEventData(n)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};s.isAsync(c)?(this.undelegateDocumentEvents(),c.then(h)):h(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(t){this.draggingNode===t&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const t=this.draggingNode;if(t){const e=this.options.animation;if(e){const n="object"==typeof e&&e.duration||150,i="object"==typeof e&&e.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,n,i,()=>this.onDropped(t))}else this.onDropped(t)}}isInsideValidArea(t){let e;const n=this.targetGraph,i=this.targetScroller;if(i)if(i.options.autoResize)e=this.getDropArea(i.container);else{const t=this.getDropArea(i.container);e=this.getDropArea(n.container).intersectsWithRect(t)}else e=this.getDropArea(n.container);return e&&e.containsPoint(t)}getDropArea(t){const e=this.$(t),n=e.offset(),i=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;return Xc.create({x:n.left+parseInt(e.css("border-left-width"),10)-r,y:n.top+parseInt(e.css("border-top-width"),10)-i,width:e.innerWidth(),height:e.innerHeight()})}drop(t,e){if(this.isInsideValidArea(e)){const n=this.targetGraph,i=n.model,r=n.clientToLocal(e),o=this.sourceNode,a=this.options.getDropNode(t,{sourceNode:o,draggingNode:t,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=a.getBBox();r.x+=l.x-l.width/2,r.y+=l.y-l.height/2;const c=this.snapOffset?1:n.getGridSize();a.position(Fp.snapToGrid(r.x,c),Fp.snapToGrid(r.y,c)),a.removeZIndex();const h=this.options.validateNode,u=!h||h(a,{sourceNode:o,draggingNode:t,droppingNode:a,targetGraph:n,draggingGraph:this.draggingGraph});return"boolean"==typeof u?u?(i.addCell(a,{stencil:this.cid}),a):null:s.toDeferredBoolean(u).then(t=>t?(i.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}Bx([$f.dispose()],Nx.prototype,"dispose",null),(Ix=Nx||(Nx={})).defaults={animation:!1,getDragNode:t=>t.clone(),getDropNode:t=>t.clone()},Ix.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"},function(t){t.getMaxDim=function(t,e){return t.reduce((t,n)=>Math.max(n.getSize()[e],t),0)},t.getNodesInRow=function(t,e,n){const i=[];for(let r=n*e,o=r+n;r<o;r+=1)i.push(t[r]);return i},t.getNodesInColumn=function(t,e,n){const i=[];for(let r=e,o=t.length;r<o;r+=n)i.push(t[r]);return i},t.accumulate=function(t,e){return t.reduce((t,e,n)=>(t.push(t[n]+e),t),[e||0])}}(Ex||(Ex={}));class Rx extends $f{constructor(t){if(super(),this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},Rx.defaultOptions),t),this.dnd=new Nx(this.options),this.onSearch=s.debounce(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(jx.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=t.collapsable&&t.groups&&t.groups.some(t=>!1!==t.collapsable),this.options.collapsable){this.$container.addClass("collapsable");t.groups&&t.groups.every(t=>t.collapsed||!1===t.collapsable)&&this.$container.addClass("collapsed")}this.$("<div/>").addClass(this.prefixClassName(jx.title)).html(this.options.title).appendTo(this.$container),t.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(jx.content)).appendTo(this.$container);const e=t.stencilGraphOptions||{};if(t.groups&&t.groups.length)t.groups.forEach(n=>{const i=this.$("<div/>").addClass(this.prefixClassName(jx.group)).attr("data-name",n.name);(null==n.collapsable&&t.collapsable||!1!==n.collapsable)&&i.addClass("collapsable"),i.toggleClass("collapsed",!0===n.collapsed);const r=this.$("<h3/>").addClass(this.prefixClassName(jx.groupTitle)).html(n.title||n.name),o=this.$("<div/>").addClass(this.prefixClassName(jx.groupContent)),a=n.graphOptions,s=new kx(Object.assign(Object.assign(Object.assign({},e),a),{container:document.createElement("div"),model:e.model||new Pv,width:n.graphWidth||t.stencilGraphWidth,height:n.graphHeight||t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));o.append(s.container),i.append(r,o).appendTo(this.$content),this.$groups[n.name]=i,this.graphs[n.name]=s});else{const n=new kx(Object.assign(Object.assign({},e),{container:document.createElement("div"),model:e.model||new Pv,width:t.stencilGraphWidth,height:t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(n.container),this.graphs[Lx.defaultGroupName]=n}return this.startListening(),this}get targetScroller(){const t=this.options.target;return kx.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return kx.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(jx.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(jx.searchText)))}startListening(){const t=this.prefixClassName(jx.title),e=this.prefixClassName(jx.searchText),n=this.prefixClassName(jx.groupTitle);this.delegateEvents({["click ."+t]:"onTitleClick",["touchstart ."+t]:"onTitleClick",["click ."+n]:"onGroupTitleClick",["touchstart ."+n]:"onGroupTitleClick",["input ."+e]:"onSearch",["focusin ."+e]:"onSearchFocusIn",["focusout ."+e]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(t=>{this.graphs[t].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(t=>{this.graphs[t].off("cell:mousedown",this.onDragStart,this)})}load(t,e){return Array.isArray(t)?this.loadGroup(t,e):this.options.groups&&Object.keys(this.options.groups).forEach(e=>{t[e]&&this.loadGroup(t[e],e)}),this}loadGroup(t,e){const n=this.getModel(e);if(n){const e=t.map(t=>uv.isNode(t)?t:uv.create(t));n.resetCells(e)}const i=this.getGroup(e);let r=this.options.stencilGraphHeight;i&&null!=i.graphHeight&&(r=i.graphHeight);const o=i&&i.layout||this.options.layout;if(o&&n&&s.call(o,this,n,i),!r){const t=this.getGraph(e);t.fitToContent({minWidth:t.options.width,gridHeight:1,padding:i&&i.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(t){const{e:e,node:n}=t;this.dnd.start(n,e)}filter(t,e){const n=Object.keys(this.graphs).reduce((n,i)=>{const r=this.graphs[i],o=i===Lx.defaultGroupName?null:i,a=r.model.getNodes().filter(n=>{let i=!1;i="function"==typeof e?s.call(e,this,n,t,o,this):"boolean"==typeof e?e:this.isCellMatched(n,t,e,t.toLowerCase()!==t);const a=r.renderer.findViewByCell(n);return a&&a.$(a.container).toggleClass("unmatched",!i),i}),l=a.length>0,c=this.options,h=new Pv;return h.resetCells(a),c.layout&&s.call(c.layout,this,h,this.getGroup(i)),this.$groups[i]&&this.$groups[i].toggleClass("unmatched",!l),r.fitToContent({gridWidth:1,gridHeight:1,padding:c.stencilGraphPadding||10}),n||l},!1);this.$container.toggleClass("not-found",!n)}isCellMatched(t,e,n,i){return!e||!n||Object.keys(n).some(r=>{if("*"===r||t.shape===r){const o=n[r];if("boolean"==typeof o)return o;return(Array.isArray(o)?o:[o]).some(n=>{let r=t.getPropByPath(n);return null!=r&&(r=""+r,i&&(r=r.toLowerCase()),r.indexOf(e)>=0)})}return!1})}onSearch(t){this.filter(t.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(t){const e=this.$(t.target).closest("."+this.prefixClassName(jx.group));this.toggleGroup(e.attr("data-name")||"");const n=Object.keys(this.$groups).every(t=>{const e=this.getGroup(t),n=this.$groups[t];return e&&!1===e.collapsable||n.hasClass("collapsed")});this.$container.toggleClass("collapsed",n)}getModel(t){const e=this.getGraph(t);return e?e.model:null}getGraph(t){return this.graphs[t||Lx.defaultGroupName]}getGroup(t){const e=this.options.groups;return null!=t&&e&&e.length?e.find(e=>e.name===t):null}toggleGroup(t){return this.isGroupCollapsed(t)?this.expandGroup(t):this.collapseGroup(t),this}collapseGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&!this.isGroupCollapsed(t)&&(this.trigger("group:collapse",{name:t}),e.addClass("collapsed"))}return this}expandGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&this.isGroupCollapsed(t)&&(this.trigger("group:expand",{name:t}),e.removeClass("collapsed"))}return this}isGroupCollapsable(t){return this.$groups[t].hasClass("collapsable")}isGroupCollapsed(t){const e=this.$groups[t];return e&&e.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(t=>this.collapseGroup(t)),this}expandGroups(){return Object.keys(this.$groups).forEach(t=>this.expandGroup(t)),this}onRemove(){Object.keys(this.graphs).forEach(t=>{this.graphs[t].view.remove(),delete this.graphs[t]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}function Fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function zx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(Rx||(Rx={})).defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(t,e){const n={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};!function(t,e={}){const n=Pv.isModel(t)?t:(new Pv).resetCells(t,{sort:!1,dryrun:!0}),i=n.getNodes(),r=e.columns||1,o=Math.ceil(i.length/r),a=e.dx||0,s=e.dy||0,l=!1!==e.center,c=!0===e.resizeToFit,h=e.marginX||0,u=e.marginY||0,d=[];let p=e.columnWidth;if("compact"===p)for(let t=0;t<r;t+=1){const e=Ex.getNodesInColumn(i,t,r);d.push(Ex.getMaxDim(e,"width")+a)}else{null!=p&&"auto"!==p||(p=Ex.getMaxDim(i,"width")+a);for(let t=0;t<r;t+=1)d.push(p)}const f=Ex.accumulate(d,h),g=[];let m=e.rowHeight;if("compact"===m)for(let t=0;t<o;t+=1){const e=Ex.getNodesInRow(i,t,r);g.push(Ex.getMaxDim(e,"height")+s)}else{null!=m&&"auto"!==m||(m=Ex.getMaxDim(i,"height")+s);for(let t=0;t<o;t+=1)g.push(m)}const v=Ex.accumulate(g,u);n.startBatch("layout"),i.forEach((t,n)=>{const i=n%r,o=Math.floor(n/r),h=d[i],u=g[o];let p=0,m=0,y=t.getSize();if(c){let n=h-2*a,i=u-2*s;const r=y.height*(y.width?n/y.width:1),o=y.width*(y.height?i/y.height:1);u<r?n=o:i=r,y={width:n,height:i},t.setSize(y,e)}l&&(p=(h-y.width)/2,m=(u-y.height)/2),t.position(f[i]+a+p,v[o]+s+m,e)}),n.stopBatch("layout")}(t,Object.assign(Object.assign(Object.assign({},n),this.options.layoutOptions),e?e.layoutOptions:{}))}},Nx.defaults),function(t){t.base="widget-stencil",t.title=t.base+"-title",t.search=t.base+"-search",t.searchText=t.search+"-text",t.content=t.base+"-content",t.group=t.base+"-group",t.groupTitle=t.group+"-title",t.groupContent=t.group+"-content"}(jx||(jx={})),function(t){t.defaultGroupName="__default__"}(Lx||(Lx={})),Rp.trackable&&setTimeout((function(){if(Rp.trackable){const t="https://kcart.alipay.com/web/bi.do",e=new Image,n=Object.assign(Object.assign({},Rp.trackInfo),{version:"1.23.12",pg:document.URL,r:(new Date).getTime(),x6:!0,page_type:"syslog"}),i=encodeURIComponent(JSON.stringify([n]));e.src=`${t}?BIProfile=merge&d=${i}`}}),3e3);var Vx={props:{attrs:Object},data:function(){return{antv:null}},mounted:function(){this.antv=new kx(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fx(Object(n),!0).forEach((function(e){zx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({container:document.getElementById(this.attrs.canvasId)},this.attrs.config)).fromJSON(this.attrs.data),this.antv.render()},updated:function(){this.antv.changeData(this.attrs.data)},destroyed:function(){}},Gx=n(9),Hx=Object(Gx.a)(Vx,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.attrs.canvasId}})}),[],!1,null,null,null);e.default=Hx.exports},function(t,e,n){"use strict";n.r(e);var i=n(334),r=n.n(i),o={props:{GoodsAttrs:Array,edit_goods_sku_list:Array,attrs:Object},watch:{GoodsAttrs:function(t){},sku_title_data:function(t){},sku_list_data:function(t){},sku_descartes:function(t){},goods_skus:{handler:function(t,e){},deep:!0}},computed:{goods_skus:function(){var t=this;return this.sku_descartes.map((function(e){var n=e.map((function(t){return t.id})),i=t._.sortBy(n).join("-"),r=t.edit_goods_sku_list.length>0?t.edit_goods_sku_list.filter((function(t){return t.attr_key===i})):[],o=r.length>0&&r[0];return{attrs:e,attr_key:i,price:o?o.price:0,stock_num:o?o.stock_num:0,code:o?o.code:"",cost_price:o?o.cost_price:0,line_price:o?o.line_price:0,sold_num:o?o.sold_num:0,image:e[0].image?e[0].image:null}}))},sku_descartes:function(){return r()(this.sku_list_data)},sku_list_data:function(){return this.GoodsAttrs.filter((function(t){return t.id>0})).map((function(t){return t.sku_list.filter((function(t){return t.id>0}))})).filter((function(t){return t.length>0}))},sku_title_data:function(){return this.GoodsAttrs.filter((function(t){return t.id>0&&t.sku_list.length>0})).map((function(t){return{id:t.id,name:t.name}}))},sku_title_width:function(){this.sku_title_data.length}},methods:{onGoodsSkuValueChange:function(t,e,n){this.$set(this.goods_skus[t],n,e),this.onChange()},onChange:function(){this.$emit("change",this.GoodsAttrs,this.goods_skus)}}},a=n(9),s={components:{GoodsSkuList:Object(a.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.goods_skus.length>0?n("el-table",{attrs:{data:t.goods_skus,size:"mini",stripe:"","current-row-key":"attr_key",border:""}},[t._l(t.sku_title_data,(function(e,i){return n("el-table-column",{key:i,attrs:{label:e.name,align:"center",width:"150px",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"flex-c-c"},[0==i&&e.row.attrs[i].image?n(t.attrs.imageComponent.componentName,{tag:"component",attrs:{attrs:t.attrs.imageComponent,value:e.row.attrs[i].image,column_value:e.row.attrs[i].image}}):t._e(),t._v(" "),n("span",[t._v(t._s(e.row.attrs[i].name))])],1)]}}],null,!0)})})),t._v(" "),n("el-table-column",{attrs:{width:"180px",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input-number",{attrs:{min:0,precision:2,value:e.row.price,controls:!1,size:"mini"},on:{change:function(n,i){return t.onGoodsSkuValueChange(e.$index,n,"price")}}})]}}],null,!1,2659731044)},[n("div",{staticClass:"flex-c-c",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("")]),t._v(" "),n("i",{staticClass:"el-icon-edit-outline fs-16 ml-5 hover",attrs:{title:""}})])]),t._v(" "),n("el-table-column",{attrs:{width:"180px",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input-number",{attrs:{min:0,size:"mini",precision:0,"controls-position":"right",value:e.row.stock_num},on:{change:function(n,i){return t.onGoodsSkuValueChange(e.$index,n,"stock_num")}}})]}}],null,!1,2554238351)}),t._v(" "),n("el-table-column",{attrs:{width:"180px",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{min:0,precision:2,size:"mini",value:e.row.code},on:{input:function(n){return t.onGoodsSkuValueChange(e.$index,n,"code")}}})]}}],null,!1,4091267364)}),t._v(" "),n("el-table-column",{attrs:{width:"180px",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input-number",{attrs:{min:0,precision:2,size:"mini",value:e.row.cost_price,controls:!1},on:{change:function(n,i){return t.onGoodsSkuValueChange(e.$index,n,"cost_price")}}})]}}],null,!1,4034065092)}),t._v(" "),n("el-table-column",{attrs:{width:"180px",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input-number",{attrs:{min:0,precision:2,size:"mini",value:e.row.line_price,controls:!1},on:{change:function(n,i){return t.onGoodsSkuValueChange(e.$index,n,"line_price")}}})]}}],null,!1,3555540356)}),t._v(" "),n("el-table-column",{attrs:{width:"180px",align:"center",label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input-number",{attrs:{min:0,precision:0,size:"mini",value:e.row.sold_num,"controls-position":"right"},on:{change:function(n,i){return t.onGoodsSkuValueChange(e.$index,n,"sold_num")}}})]}}],null,!1,1507834255)})],2):t._e()}),[],!1,null,null,null).exports},props:{attrs:Object,form_data:Object,value:{default:{goods_attrs:[],goods_sku_list:[]}}},data:function(){return{options:this.attrs.options,GoodsAttrs:[],addNewGoodsAttrName:"",addNewGoodsAttrValueName:""}},mounted:function(){var t=this;this.value.goods_attrs[0]&&this.value.goods_attrs[0].values&&(this.GoodsAttrs=this.value.goods_attrs),this.$bus.on("EditDataLoadingCompleted",(function(){t.initGoodsAttr(t.value.goods_attrs)}))},destroyed:function(){try{this.$bus.off("EditDataLoadingCompleted")}catch(t){}},model:{prop:"value",event:"change"},watch:{},computed:{goods_attrs:function(){var t=this._.cloneDeep(this.GoodsAttrs);return t=t.map((function(t){return t.sku_list=t.sku_list.filter((function(t){return t.id>0})),t.values&&delete t.values,t})).filter((function(t){return t.id>0&&t.sku_list.length>0}))}},methods:{onChange:function(t,e){this.$emit("change",{goods_attrs:t,goods_sku_list:e})},initGoodsAttr:function(t){var e=this,n=window._.cloneDeep(this.GoodsAttrs);t.map((function(t){var e={id:t.attr.id,name:t.attr.name,alias:"",sku_list:t.value_map.map((function(t){return{id:t.attr_value.id,goods_attr_id:t.attr_id,name:t.attr_value.name,alias:"",image:t.image}})),values:t.attr.values};n.push(e)})),this.GoodsAttrs=n,this.$nextTick((function(){e.onChange(e.GoodsAttrs,e.value.goods_sku_list)}))},addGoodsAttr:function(){var t=window._.cloneDeep(this.GoodsAttrs);t.push(window._.cloneDeep(c)),this.GoodsAttrs=t},clearGoodsAttr:function(t){var e=window._.cloneDeep(this.GoodsAttrs);this.$delete(e,t),this.GoodsAttrs=e},addGoodsAttrValue:function(t){var e=window._.cloneDeep(this.GoodsAttrs);e[t].sku_list.push(window._.clone(l)),this.GoodsAttrs=e},clearGoodsAttrValue:function(t,e){var n=window._.cloneDeep(this.GoodsAttrs);this.$delete(n[t].sku_list,e),this.GoodsAttrs=n},goodsAttrChange:function(t,e){t.id&&(this.GoodsAttrs[e].id=t.id,this.GoodsAttrs[e].name=t.name,this.GoodsAttrs[e].sku_list=[window._.clone(l)])},goodsAttrValueChange:function(t,e,n){var i=this;if(t.id){var r=window._.cloneDeep(this.GoodsAttrs);r[e].sku_list[n].id=t.id,r[e].sku_list[n].name=t.name,this.GoodsAttrs=r,this.$nextTick((function(){i.$refs.GoodsSkuList.onChange()}))}},onGoodsSkuImageUpload:function(t,e,n){var i=this,r=window._.cloneDeep(this.GoodsAttrs);r[e].sku_list[n].image=t,this.GoodsAttrs=r,this.$nextTick((function(){i.$refs.GoodsSkuList.onChange()}))},onAddNewGoodsAttrName:function(){var t=this;this.$http.post(this.attrs.addGoodsAttrUrl,{name:this.addNewGoodsAttrName}).then((function(e){200==e.code&&(t.addNewGoodsAttrName="",t.attrs.goodsAttrs=e.data,t.$message.success(""))}))},onAddNewGoodsAttrValueName:function(t,e){var n=this;this.$http.post(this.attrs.addGoodsAttrValueUrl,{name:this.addNewGoodsAttrValueName,goods_attr_id:t}).then((function(t){if(200==t.code){n.addNewGoodsAttrValueName="";var i=window._.cloneDeep(n.GoodsAttrs);i[e].values=t.data,n.GoodsAttrs=i,n.$message.success("")}}))}},filters:{getGoodsAttrDisabled:function(t,e){return e.filter((function(e){return t==e.id})).length>0}}},l={id:null,name:"",alias:"",image:null},c={id:null,name:"",alias:"",image:null,sku_list:[window._.clone(l)]},h=s,u=(n(721),Object(a.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"goods-sku-box"},[t._l(t.GoodsAttrs,(function(e,i){return n("div",{key:i,staticClass:"goods-attrs"},[n("div",{staticClass:"attr-title flex-c-sb"},[n("div",{staticClass:"flex-c"},[n("div",[t._v("")]),t._v(" "),n("el-select",{attrs:{"value-key":"id",filterable:!0,"no-data-text":"","no-match-text":"",clearable:""},on:{clear:function(e){return t.clearGoodsAttr(i)},change:function(e){t.goodsAttrChange(e,i)}},model:{value:t.GoodsAttrs[i],callback:function(e){t.$set(t.GoodsAttrs,i,e)},expression:"GoodsAttrs[index]"}},t._l(t.attrs.goodsAttrs,(function(e){return n("el-option",{key:e.id,attrs:{value:e,label:e.name,disabled:t._f("getGoodsAttrDisabled")(e.id,t.GoodsAttrs)}})})),1)],1),t._v(" "),n("div",[t.GoodsAttrs[i].id?n("el-popover",{attrs:{placement:"top",width:"250",trigger:"click"}},[n("el-input",{attrs:{placeholder:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddNewGoodsAttrValueName(t.GoodsAttrs[i].id,i)}},model:{value:t.addNewGoodsAttrValueName,callback:function(e){t.addNewGoodsAttrValueName=e},expression:"addNewGoodsAttrValueName"}},[n("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.onAddNewGoodsAttrValueName(t.GoodsAttrs[i].id,i)}},slot:"append"},[t._v("")])],1),t._v(" "),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("")])],1):t._e()],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.GoodsAttrs[i].id,expression:"GoodsAttrs[index].id"}],staticClass:"goods-attr-values flex"},[n("div",[t._v("")]),t._v(" "),n("div",{staticClass:"flex-s flex-1"},[t._l(t.GoodsAttrs[i].sku_list,(function(e,r){return n("div",{key:r,staticClass:"mr-5 mb-5"},[n("div",[n("el-select",{staticStyle:{width:"130px"},attrs:{"value-key":"id",clearable:""},on:{clear:function(e){return t.clearGoodsAttrValue(i,r)},change:function(e){t.goodsAttrValueChange(e,i,r)}},model:{value:t.GoodsAttrs[i].sku_list[r],callback:function(e){t.$set(t.GoodsAttrs[i].sku_list,r,e)},expression:"\n                                    GoodsAttrs[index].sku_list[\n                                        goods_sku_index\n                                    ]\n                                "}},t._l(t.GoodsAttrs[i].values,(function(e){return n("el-option",{key:e.id,attrs:{value:e,label:e.name,disabled:t._f("getGoodsAttrDisabled")(e.id,t.GoodsAttrs[i].sku_list)}})})),1)],1),t._v(" "),0==i?n("div",{staticClass:"mt-5"},[n(t.attrs.uploadComponent.componentName,{tag:"component",attrs:{attrs:t.attrs.uploadComponent,value:t.GoodsAttrs[i].sku_list[r].image},on:{change:function(e){t.onGoodsSkuImageUpload(e,i,r)}}})],1):t._e()])})),t._v(" "),n("el-button",{staticClass:"mb-5 ml-10",attrs:{type:"primary",plain:""},on:{click:function(e){return t.addGoodsAttrValue(i)}}},[t._v("")])],2)])])})),t._v(" "),n("div",{staticClass:"goods-attrs "},[n("div",{staticClass:"attr-title flex-c"},[n("el-button",{attrs:{type:"primary"},on:{click:t.addGoodsAttr}},[t._v("")]),t._v(" "),t.GoodsAttrs.length>0?n("el-popover",{attrs:{placement:"top",width:"250",trigger:"click"}},[n("el-input",{attrs:{placeholder:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAddNewGoodsAttrName(e)}},model:{value:t.addNewGoodsAttrName,callback:function(e){t.addNewGoodsAttrName=e},expression:"addNewGoodsAttrName"}},[n("el-button",{attrs:{slot:"append"},on:{click:t.onAddNewGoodsAttrName},slot:"append"},[t._v("")])],1),t._v(" "),n("el-button",{staticClass:"ml-10",attrs:{slot:"reference",plain:"",type:"success"},slot:"reference"},[t._v("")])],1):t._e()],1)])],2),t._v(" "),n("div",{staticClass:"mt-10"},[n("GoodsSkuList",{ref:"GoodsSkuList",attrs:{GoodsAttrs:t.goods_attrs,edit_goods_sku_list:t.value.goods_sku_list,attrs:t.attrs},on:{change:t.onChange}})],1)])}),[],!1,null,"a0e2c256",null));e.default=u.exports},function(t,e,n){"use strict";n.r(e);var i=n(96);const r="chart-timeline-grid-row-cell",o="chart-timeline-items-row-item";function a(t={}){const e={enabled:!0,isMoving:!1,pointerState:"up",currentTarget:null,realTarget:null,targetType:"",targetData:null,captureEvents:{down:!1,up:!1,move:!1},initialPosition:{x:0,y:0},currentPosition:{x:0,y:0},movement:{x:0,y:0},events:{down:null,move:null,up:null}};return t.captureEvents&&(e.captureEvents=Object.assign(Object.assign({},e.captureEvents),t.captureEvents)),e}const s="config.plugin.TimelinePointer";class l{constructor(t,e){this.locked={up:!1,move:!1,down:!1},this.onDestroy=[],this.classNames={cell:"",item:""},this.api=e.api,this.state=e.state,this.element=this.state.get("$data.elements.chart-timeline"),this.pointerDown=this.pointerDown.bind(this),this.pointerMove=this.pointerMove.bind(this),this.pointerMove=e.schedule(this.pointerMove),this.pointerUp=this.pointerUp.bind(this),this.apiLock=this.apiLock.bind(this),this.apiUnlock=this.apiUnlock.bind(this),this.apiIsLocked=this.apiIsLocked.bind(this),this.data=a(t),this.classNames.cell=this.api.getClass(r),this.classNames.item=this.api.getClass(o),this.destroy=this.destroy.bind(this),this.element.addEventListener("pointerdown",this.pointerDown),document.addEventListener("pointerup",this.pointerUp),document.addEventListener("pointermove",this.pointerMove),this.onDestroy.push(this.state.subscribe(s,t=>this.data=t)),this.api.plugins.TimelinePointer={lock:this.apiLock,unlock:this.apiUnlock,isLocked:this.apiIsLocked}}destroy(){this.element.removeEventListener("pointerdown",this.pointerDown),document.removeEventListener("pointerup",this.pointerUp),document.removeEventListener("pointermove",this.pointerMove)}updateData(){this.state.update(s,()=>Object.assign({},this.data))}apiLock(t,e=!0){this.locked[t]=e}apiUnlock(t){this.locked[t]=!1}apiIsLocked(t){return this.locked[t]}getRealTarget(t){let e=t.target.closest("."+this.classNames.item);return e||(e=t.target.closest("."+this.classNames.cell),e||null)}getRealPosition(t){const e={x:0,y:0};if(this.element){const n=this.element.getBoundingClientRect();e.x=t.x-n.x,e.y=t.y-n.y;const i=this.state.get("config.scroll.vertical.offset")||0;e.y+=i}return e}pointerDown(t){if(!this.data.enabled)return;t.stopPropagation(),t.preventDefault(),this.initialScrollPosPx=this.state.get("config.scroll.horizontal.posPx"),this.data.pointerState="down",this.data.currentTarget=t.target,this.data.realTarget=this.getRealTarget(t),this.data.realTarget?this.data.realTarget.classList.contains(this.classNames.item)?(this.data.targetType=o,this.data.targetData=this.data.realTarget.vido.item):this.data.realTarget.classList.contains(this.classNames.cell)?(this.data.targetType=r,this.data.targetData=this.data.realTarget.vido):this.data.targetType="":(this.data.targetType="",this.data.targetData=null),this.data.isMoving=!!this.data.realTarget,this.data.events.down=t,this.data.events.move=t;const e=this.getRealPosition(t);this.data.initialPosition=e,this.data.currentPosition=e,this.updateData()}pointerUp(t){this.data.enabled&&(t.stopPropagation(),t.preventDefault(),this.data.pointerState="up",this.data.isMoving=!1,this.data.events.up=t,this.data.currentPosition=this.getRealPosition(t),this.updateData())}pointerMove(t){if(!this.data.enabled||!this.data.isMoving)return;t.stopPropagation(),t.preventDefault();const e=this.state.get("config.scroll.horizontal.posPx");this.data.pointerState="move",this.data.events.move=t,this.data.currentPosition=this.getRealPosition(t),this.data.movement.x=this.data.currentPosition.x-this.data.initialPosition.x,this.data.movement.y=this.data.currentPosition.y-this.data.initialPosition.y,this.data.movement.x+=e-this.initialScrollPosPx,this.updateData()}}function c(t={}){return function(e){const n=e.api,i=e.api.mergeDeep,r=e.state.get(s);r&&(t=i(i({},t),r));const o=[],c=a(t);let h;return e.state.update(s,c),o.push(e.state.subscribe("$data.elements.chart-timeline",n=>{if(n){h&&h();const n=new l(t,e);h=n.destroy}})),n.pluginInitialized("TimelinePointer"),function(){o.forEach(t=>t()),h&&h(),n.pluginDestroyed("TimelinePointer")}}}const h="chart-timeline-grid-row-cell",u="chart-timeline-items-row-item";function d(t){return Object.assign({enabled:!0,showOverlay:!0,isSelecting:!1,pointerState:"up",selectKey:"",multiKey:"shift",multipleSelection:!0,targetType:"",targetData:null,initialPosition:{x:0,y:0},currentPosition:{x:0,y:0},selectionAreaLocal:{x:0,y:0,width:0,height:0},selectionAreaGlobal:{x:0,y:0,width:0,height:0},selecting:{[u]:[],[h]:[]},selected:{[u]:[],[h]:[]},lastSelected:{[u]:[],[h]:[]},automaticallySelected:{[u]:[],[h]:[]},events:{onStart(){},onSelecting:t=>t,onEnd:t=>t},pointerEvents:{down:null,move:null,up:null}},t)}class p{constructor(t,e){this.onDestroy=[],this.started=!1,this.vido=t,this.state=t.state,this.api=t.api,this.merge=this.state.get("config.merge"),this.state.update("config.plugin.Selection",d(e)),this.data=d(e),this.slotClassName=this.api.getClass("chart-selection"),this.slotStyleMap=new t.StyleMap({display:"none"}),this.html=t.html,this.slot=this.slot.bind(this),this.destroy=this.destroy.bind(this),this.setSlot(),this.onCellCreate=this.onCellCreate.bind(this),this.apiGetSelection=this.apiGetSelection.bind(this),this.apiGetSelecting=this.apiGetSelecting.bind(this),this.apiGetSelected=this.apiGetSelected.bind(this),this.apiSetSelection=this.apiSetSelection.bind(this),this.apiSelectCells=this.apiSelectCells.bind(this),this.apiSelectItems=this.apiSelectItems.bind(this),this.api.plugins.selection={getSelection:this.apiGetSelection,getSelected:this.apiGetSelected,getSelecting:this.apiGetSelecting,setSelection:this.apiSetSelection,selectCells:this.apiSelectCells,selectItems:this.apiSelectItems},this.state.update("config.chart.grid.cell.onCreate",t=>(t.includes(this.onCellCreate)||t.push(this.onCellCreate),t)),this.onDestroy.push(this.state.subscribe("config.plugin.TimelinePointer",t=>{this.pointerData=t,this.onPointerData()})),this.updateData(),this.onDestroy.push(this.state.subscribe("config.plugin.Selection",t=>{this.data=t})),this.updateSelectionClassName=this.updateSelectionClassName.bind(this),this.selectedAction=this.selectedAction.bind(this),this.state.update("config.actions.chart-timeline-grid-row-cell",t=>(t.includes(this.selectedAction)||t.push(this.selectedAction),t)),this.state.update("config.actions.chart-timeline-items-row-item",t=>(t.includes(this.selectedAction)||t.push(this.selectedAction),t)),this.onDestroy.push(this.state.subscribe("config.chart.items",t=>{this.data.selected[u]=this.data.selected[u].filter(e=>!!t[e]),this.data.selecting[u]=this.data.selecting[u].filter(e=>!!t[e])},{ignore:["config.chart.items.*.selected","config.chart.items.*.selecting"]}))}setSlot(){this.state.update("config.slots.chart-timeline-items.outer",t=>(t.includes(this.slot)||t.push(this.slot),t))}destroy(){this.state.update("config.slots.chart-timeline-items.outer",t=>t.filter(t=>t!==this.slot)),this.state.update("config.actions.chart-timeline-grid-row-cell",t=>t.filter(t=>t!==this.selectedAction)),this.state.update("config.actions.chart-timeline-items-row-item",t=>t.filter(t=>t!==this.selectedAction)),this.state.update("config.chart.grid.cell.onCreate",t=>t.filter(t=>t!==this.onCellCreate)),this.onDestroy.forEach(t=>t())}updateData(){this.state.update("config.plugin.Selection",Object.assign({},this.data)),this.vido.update()}apiSetSelection(t){this.data.selected=this.api.mergeDeep({},t);let e=this.state.multi();e=this.updateCells(e),e=this.updateItems(e),e.done(),this.updateData()}apiSelectCells(t){this.data.selected[h]=[...t];let e=this.state.multi();e=this.updateCells(e),e.done(),this.updateData()}apiSelectItems(t){this.data.selected[u]=[...t];let e=this.state.multi();e=this.updateItems(e),e.done(),this.updateData()}apiGetSelection(){return{selecting:this.getSelectionWithData(this.data.selecting),selected:this.getSelectionWithData(this.data.selected)}}apiGetSelecting(){return this.getSelectionWithData(this.data.selecting)}apiGetSelected(){return this.getSelectionWithData(this.data.selected)}modKeyPressed(t,e){switch(t){case"shift":return e.shiftKey;case"alt":return e.altKey;case"ctrl":return e.ctrlKey}}canSelect(){let t=this.data.enabled;const e=this.pointerData.events.down;return e&&this.data.selectKey&&(t=t&&this.modKeyPressed(this.data.selectKey,e)),t&&(this.data.cells||this.data.items)}getSelectionAreaLocal(){const t={x:0,y:0,width:0,height:0},e=Object.assign({},this.pointerData.initialPosition),n=Object.assign({},this.pointerData.currentPosition),i=n.x-e.x,r=n.y-e.y;return i>=0?(t.x=e.x,t.width=i):(t.x=n.x,t.width=Math.abs(i)),r>=0?(t.y=e.y,t.height=r):(t.y=n.y,t.height=Math.abs(r)),t}translateAreaLocalToGlobal(t){const e=this.state.get("$data.chart.time.leftPx"),n=this.state.get("config.scroll.vertical.posPx");return Object.assign(Object.assign({},t),{x:t.x+e,y:t.y+n})}collectLinkedItems(t,e=this.api.getItemsData()){return[t,...e[t].linkedWith]}getSelectedItem(t){let e,n=this.data.automaticallySelected[u].slice();const i=this.collectLinkedItems(t.id);if(this.data.selected[u].find(e=>e===t.id))if(e=this.data.selected[u],n.find(e=>e===t.id)){const i=n,r=e.find(e=>t.linkedWith.includes(e)&&!i.includes(e));n=n.filter(e=>e!==t.id),n.push(r)}else n=this.data.automaticallySelected[u];else e=this.isMulti()?Array.from(new Set([...this.data.selected[u],...i])):i,n=i.filter(e=>e!==t.id);return e=e.map(e=>(t=this.api.getItem(e),e)),{selected:e,automaticallySelected:n}}isItemVerticallyInsideArea(t,e){if(!e.width||!e.height)return!1;const n=e.y+e.height,i=t.position.viewTop,r=i+t.actualHeight;return i>=e.y&&i<=n||r>=e.y&&r<=n||i>=e.y&&r<=n||i<=e.y&&r>=n}isItemHorizontallyInsideArea(t,e){if(!e.width||!e.height)return!1;const n=e.x+e.width;return t.position.actualLeft>=e.x&&t.position.actualLeft<=n||t.position.actualRight>=e.x&&t.position.actualRight<=n||t.position.actualLeft<=e.x&&t.position.actualRight>=n||t.position.actualLeft>=e.x&&t.position.actualRight<=n}isMulti(){const t=this.pointerData.events.move;return t&&this.data.multiKey&&this.modKeyPressed(this.data.multiKey,t)}getItemsUnderSelectionArea(t){const e=this.state.get("$data.chart.visibleItems"),n=this.api.getItems(e);let i=[];const r=[];for(let e of n){e=this.merge({},e);const n=this.api.getItemData(e.id);if(this.isItemVerticallyInsideArea(n,t)&&this.isItemHorizontallyInsideArea(n,t)){i.find(t=>t===e.id)||i.push(e.id);const t=this.collectLinkedItems(e.id);for(const e of t){const t=this.api.getItem(e);i.find(e=>e===t.id)||(i.push(t.id),r.push(t.id))}}}return i=i.map(t=>(this.api.getItem(t).selected=!0,t)),{selectedItems:i,automaticallySelectedItems:r}}isCellVerticallyInsideArea(t,e){if(!e.width||!e.height)return!1;const n=e.y+e.height,i=t.top,r=i+t.rowData.actualHeight;return i>=e.y&&i<=n||r>=e.y&&r<=n||i>=e.y&&r<=n||i<=e.y&&r>=n}isCellHorizontallyInsideArea(t,e){if(!e.width||!e.height)return!1;const n=e.x+e.width,i=t.time.currentView.leftPx,r=t.time.currentView.rightPx;return i>=e.x&&i<=n||r>=e.x&&r<=n||i<=e.x&&r>=n||i>=e.x&&r<=n}getCellsUnderSelectionArea(t){const e=this.state.get("$data.chart.grid.cells"),n=[];for(const i in e){const r=e[i];this.isCellVerticallyInsideArea(r,t)&&this.isCellHorizontallyInsideArea(r,t)&&(n.find(t=>t===r.id)||n.push(r.id))}return{selectedCells:n}}updateItems(t){if(!this.data.items)return t;const e=this.api.getAllItems(),n=Object.values(e),i=n.filter(t=>t.selecting).map(t=>t.id).join("|"),r=this.data.selecting[u].join("|"),o=n.filter(t=>t.selected).map(t=>t.id).join("|"),a=this.data.selected[u].join("|");if(i===r&&o===a)return t;t=(t=t.update("config.chart.items.*.selected",!1)).update("config.chart.items.*.selecting",!1);const s=Array.from(new Set([...this.data.selecting[u],...this.data.selected[u]]));for(const n of s){if(!(n in e))continue;const i=this.data.selecting[u].includes(n),r=this.data.selected[u].includes(n);t=(t=t.update(`config.chart.items.${n}.selecting`,i)).update(`config.chart.items.${n}.selected`,r)}return t}updateCells(t){if(!this.data.cells)return t;const e=this.api.getGridCells(),n=this.api.getAllGridCells(),i=e.filter(t=>t.selecting).map(t=>t.id).join("|"),r=this.data.selecting[h].join("|"),o=e.filter(t=>t.selected).map(t=>t.id).join("|"),a=this.data.selected[h].join("|");return i===r&&o===a||t.update("$data.chart.grid.cells",t=>{for(const e in t){if(!(e in n))continue;const i=t[e];i.selected=this.data.selected[h].includes(i.id),i.selecting=this.data.selecting[h].includes(i.id)}return t}),t}deselectItems(){if(!this.data.items)return;this.data.selected[u].length=0,this.data.selecting[u].length=0;let t=this.state.multi();t=this.updateItems(t),t.done()}deselectCells(){if(!this.data.cells)return;this.data.selecting[h].length=0,this.data.selected[h].length=0;let t=this.state.multi();t=this.updateCells(t),t.done()}getSelectionWithData(t){const e=this.state.get("config.chart.items"),n=this.state.get("$data.chart.grid.cells");return{[h]:t[h].map(t=>n[t]?n[t]:t),[u]:t[u].map(t=>e[t]?e[t]:t)}}onSelecting(t,e){const n=this.getSelectionWithData(t),i=this.getSelectionWithData(e);this.started||(this.data.events.onStart(i),this.started=!0,this.api.muteMethod("fullReload"),this.api.muteMethod("prepareExpanded"),this.api.muteMethod("calculateRowsHeight"),this.api.muteMethod("recalculateRowPercents"),this.api.muteMethod("getLastPageRowsHeight"),this.api.muteMethod("calculateVerticalScrollArea"),this.api.muteMethod("calculateVisibleRowsHeights"),this.api.muteMethod("generateVisibleRowsAndItems"),this.api.muteMethod("recalculateTimes"),this.api.muteMethod("heightChange"));const r=this.data.events.onSelecting(n,i);return{[h]:r[h].map(t=>"string"!=typeof t?t.id:t),[u]:r[u].map(t=>"string"!=typeof t?t.id:t)}}onSelected(t,e){const n=this.getSelectionWithData(t),i=this.getSelectionWithData(e),r=this.data.events.onEnd(n,i);return this.started=!1,this.api.unmuteMethod("heightChange"),this.api.unmuteMethod("recalculateTimes"),this.api.unmuteMethod("generateVisibleRowsAndItems"),this.api.unmuteMethod("calculateVisibleRowsHeights"),this.api.unmuteMethod("calculateVerticalScrollArea"),this.api.unmuteMethod("getLastPageRowsHeight"),this.api.unmuteMethod("recalculateRowPercents"),this.api.unmuteMethod("calculateRowsHeight"),this.api.unmuteMethod("prepareExpanded"),this.api.unmuteMethod("fullReload"),{[h]:r[h].map(t=>"string"!=typeof t?t.id:t),[u]:r[u].map(t=>"string"!=typeof t?t.id:t)}}updateBodyClass(){this.data.isSelecting?document.body.classList.add(this.data.bodySelectingClassName):document.body.classList.remove(this.data.bodySelectingClassName),this.data.selected[h].length||this.data.selected[u].length?document.body.classList.add(this.data.bodySelectedClassName):document.body.classList.remove(this.data.bodySelectedClassName)}selectMultipleCellsAndItems(){if(!this.canSelect())return;if(!this.data.multipleSelection)return this.deselectItems(),this.deselectCells(),void this.updateData();this.data.isSelecting=!0,this.data.selectionAreaLocal=this.getSelectionAreaLocal(),this.data.selectionAreaGlobal=this.translateAreaLocalToGlobal(this.data.selectionAreaLocal);const t={[h]:[],[u]:[]},e=this.isMulti();if(this.data.cells){const{selectedCells:n}=this.getCellsUnderSelectionArea(this.data.selectionAreaLocal);0===n.length?(t[h].length=0,e||(this.data.selected[h].length=0)):t[h]=n}if(this.data.items){const{selectedItems:n,automaticallySelectedItems:i}=this.getItemsUnderSelectionArea(this.data.selectionAreaLocal);this.data.automaticallySelected[u]=i,0===n.length?(t[u].length=0,e||(this.data.selected[u].length=0)):t[u]=n}if(this.data.cells||this.data.items){this.data.selecting=this.onSelecting(t,this.api.mergeDeep({},this.data.lastSelected));let e=this.state.multi();this.data.cells&&(e=this.updateCells(e)),this.data.items&&(e=this.updateItems(e)),e.done()}}selectItemsIndividually(){if(this.data.isSelecting=!1,this.data.selectionAreaLocal=this.getSelectionAreaLocal(),this.data.currentPosition=this.pointerData.currentPosition,this.data.initialPosition=this.pointerData.initialPosition,!this.data.items)return;if(!this.canSelect())return;const t=this.merge({},this.pointerData.targetData);if(this.data.selected[u].includes(t.id))return;let{selected:e,automaticallySelected:n}=this.getSelectedItem(t);e.length>1&&!this.data.multipleSelection&&(e=[t.id],n=[]),this.isMulti()?t.selected?this.data.selected[u]=e.filter(e=>e!==t.id&&!n.includes(e)):this.data.selected[u]=e:(this.data.selected[u]=e,this.data.selected[h].length=0),this.data.automaticallySelected[u]=n,this.data.selected=this.onSelected(this.api.mergeDeep({},this.data.selected),this.api.mergeDeep({},this.data.lastSelected));let i=this.state.multi();i=this.updateCells(i),i=this.updateItems(i),i.done()}removeMultiUnselected(t){const e=this.data.selected[t].filter(e=>this.data.selecting[t].includes(e)),n=[...this.data.selected[t],...this.data.selecting[t]];return Array.from(new Set(n.filter(t=>!e.includes(t))))}finishSelection(){if(!this.canSelect())return;let t;t=this.isMulti()?{[h]:this.data.cells?this.removeMultiUnselected(h):[],[u]:this.data.items?this.removeMultiUnselected(u):[]}:{[h]:this.data.cells?[...this.data.selecting[h]]:[],[u]:this.data.items?[...this.data.selecting[u]]:[]},this.data.selected=this.onSelected(t,this.api.mergeDeep({},this.data.lastSelected)),this.data.lastSelected=this.api.mergeDeep({},this.data.selected),this.data.cells&&(this.data.selecting[h].length=0),this.data.items&&(this.data.selecting[u].length=0);let e=this.state.multi();e=this.updateItems(e),e=this.updateCells(e),e.done()}onPointerData(){this.pointerData.isMoving&&this.pointerData.targetType===h&&this.data.rectangularSelection?this.selectMultipleCellsAndItems():this.pointerData.isMoving&&this.pointerData.targetType===h&&!this.data.rectangularSelection?this.deselectItems():this.pointerData.targetType===u?this.selectItemsIndividually():this.pointerData.isMoving||(this.data.isSelecting&&this.finishSelection(),this.data.isSelecting=!1),this.pointerData.isMoving&&this.pointerData.targetType!==h&&this.pointerData.targetType!==u&&this.deselectItems(),this.data.pointerEvents=this.pointerData.events,this.data.pointerState=this.pointerData.pointerState,this.data.targetType=this.pointerData.targetType,this.data.targetData=this.pointerData.targetData,this.updateData(),this.updateBodyClass()}slot(){let t,e=!0;return n=>(e=!0,this.canSelect()&&this.data.isSelecting&&this.data.showOverlay&&this.data.multipleSelection&&this.data.rectangularSelection&&(this.slotStyleMap.style.display="block",this.slotStyleMap.style.left=this.data.selectionAreaLocal.x+"px",this.slotStyleMap.style.top=this.data.selectionAreaLocal.y+"px",this.slotStyleMap.style.width=this.data.selectionAreaLocal.width+"px",this.slotStyleMap.style.height=this.data.selectionAreaLocal.height+"px",e=!1),t=this.html`<div class=${this.slotClassName} style=${this.slotStyleMap}></div>`,this.html`${n}${e?null:t}`)}updateSelectionClassName(t,e){const n="boolean"==typeof e.selected?e.selected:e.item.selected,i="boolean"==typeof e.selecting?e.selecting:e.item.selecting;n?(t.classList.add(this.data.selectedClassName),t.classList.remove(this.data.selectingClassName)):t.classList.remove(this.data.selectedClassName),i?(t.classList.add(this.data.selectingClassName),t.classList.remove(this.data.selectedClassName)):t.classList.remove(this.data.selectingClassName)}selectedAction(t,e){return this.updateSelectionClassName(t,e),{update:this.updateSelectionClassName,destroy:this.updateSelectionClassName}}onCellCreate(t){return t.selected=!!this.data.selected[h].find(e=>e===t.id),t.selecting=!!this.data.selecting[h].find(e=>e===t.id),t.content}}function f(t={}){return t=function(t){!function(t){t.events||(t.events={}),t.onStart&&(t.events.onStart=t.onStart),t.onSelecting&&(t.events.onSelecting=t.onSelecting),t.onSelected&&(t.events.onEnd=t.onSelected)}(t);const e={enabled:!0,cells:!0,items:!0,showOverlay:!0,rectangularSelection:!0,multipleSelection:!0,selectedClassName:"gstc__selected",selectingClassName:"gstc__selecting",bodySelectedClassName:"gstc__is-selected",bodySelectingClassName:"gstc__is-selecting",events:{onStart(){},onSelecting:t=>t,onEnd:t=>t}};return t.events=Object.assign(Object.assign({},e.events),t.events),Object.assign(Object.assign({},e),t)}(t),function(e){const n=e.api.mergeDeep,i=e.api;if(!i.isPluginInitialized("TimelinePointer"))throw new Error("TimelinePointer plugin must be initialized before Selection plugin.");const r=e.state.get("config.plugin.Selection");r&&(t=n({},t,r));const o=new p(e,t);return i.pluginInitialized("Selection"),o.destroy}}var g=n(335);class m{constructor(t,e){this.onDestroy=[],this.scrollWaiting=0,this.vido=t,this.state=t.state,this.api=t.api,this.data=function(t={}){const e={onStart:({items:t})=>t.after,onMove:({items:t})=>t.after,onEnd:({items:t})=>t.after},n={start:({startTime:t,time:e})=>t.startOf(e.period)},i={speed:{horizontal:1,vertical:1},edgeThreshold:{horizontal:50,vertical:0}},r=Object.assign({enabled:!0,dependant:!0,debug:!1,state:"",bodyClass:"gstc-items-moving",itemClass:"",movement:{x:0,y:0,time:0},threshold:{horizontal:10,vertical:10},initialItems:[],initialDependant:[],initialItemsData:{},initialDependantData:{},isMoving:!1,events:Object.assign({},e),snapToTime:Object.assign({},n),autoScroll:Object.assign({},i)},t);return t.snapToTime&&(r.snapToTime=Object.assign(Object.assign({},n),t.snapToTime)),t.events&&(r.events=Object.assign(Object.assign({},e),t.events)),t.autoScroll&&(r.autoScroll=Object.assign(Object.assign({},i),t.autoScroll),t.autoScroll.edgeThreshold&&(r.autoScroll.edgeThreshold=Object.assign(Object.assign({},i.edgeThreshold),t.autoScroll.edgeThreshold)),t.autoScroll.speed&&(r.autoScroll.speed=Object.assign(Object.assign({},i.speed),t.autoScroll.speed))),r}(e),this.data.itemClass||(this.data.itemClass=this.api.getClass("timeline-chart-items-row-item")+"--moving"),this.destroy=this.destroy.bind(this),this.itemUpdateAction=this.itemUpdateAction.bind(this),this.onDestroy.push(this.state.subscribe("$data.elements.chart-timeline",t=>this.timelineElement=t)),this.updateData(),this.onDestroy.push(this.state.subscribe("config.plugin.ItemMovement",t=>{t.enabled&&t.isMoving?document.body.classList.add(t.bodyClass):document.body.classList.remove(t.bodyClass),this.data=t})),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onDestroy.push(this.state.subscribe("config.plugin.TimelinePointer",t=>{this.pointerData=t,this.onPointerData()}))}destroy(){this.onDestroy.forEach(t=>t()),this.api.pluginDestroyed("ItemMovement")}updateData(){this.state.update("config.plugin.ItemMovement",this.data)}getSelectedItems(){return this.state.get("config.plugin.Selection.selected.chart-timeline-items-row-item").map(t=>this.api.mergeDeep({},this.api.getItem(t)))}getSelectedItemsData(t){const e={};for(const n of t)e[n.id]=this.api.mergeDeep({},this.api.getItemData(n.id));return e}getEventArgument(t){const e=this.api.getAllItems(),n=[];for(const i of t)n.push(this.api.mergeDeep({},e[i.id]));return{items:{initial:this.data.initialItems,before:n,after:t,targetData:this.pointerData.targetData},vido:this.vido,state:this.state,time:this.state.get("$data.chart.time")}}getDependantItems(){const t=[],e=this.api.getItemsData();for(const n of this.data.initialItems)for(const i of e[n.id].dependant)t.includes(i)||t.push(i);const n=this.state.get("config.chart.items");return t.map(t=>n[t]).map(t=>this.api.mergeDeep({},t))}getDependantItemsData(){const t={},e=this.api.getItemsData();for(const n of this.data.initialDependant)t[n.id]=this.api.mergeDeep({},e[n.id]);return t}moveDependantItems(t,e){if(!this.data.dependant)return e;const n=this.api.getItemsData(),i=this.state.get("config.chart.time");for(const r of t){const t=this.data.initialItems.find(t=>t.id===r.id),o=this.data.initialItemsData[t.id],a=n[r.id];if(a.dependant.length)for(const t of a.dependant){const n=this.data.initialDependant.find(e=>e.id===t),r=this.data.initialDependantData[t],s=a.time.endDate.diff(o.time.endDate,"millisecond"),l=r.time.startDate.add(s,"millisecond"),c=r.time.endDate.add(s,"millisecond"),h=a.position.right-r.position.right,u=a.position.viewTop-r.position.viewTop,d=this.data.snapToTime.start({startTime:l,item:this.api.mergeDeep({},n),time:i,movement:{x:h,y:u,time:s},vido:this.vido});e=(e=e.update(`config.chart.items.${t}.time`,t=>(t.start=d.valueOf(),t.end=c.valueOf(),t))).update(`$data.chart.items.${t}.time`,t=>(t.startDate=d,t.endDate=c,t))}}return e}dispatchEvent(t,e,n=null){"onStart"===t&&(this.api.muteMethod("fixOverlapped"),this.api.muteMethod("fullReload"),this.api.muteMethod("recalculateRowPercents"),this.api.muteMethod("getLastPageRowsHeight"),this.api.muteMethod("calculateVerticalScrollArea"),this.api.muteMethod("heightChange"),this.api.muteMethod("calculateRowsHeight"),0===this.data.autoScroll.speed.horizontal&&0===this.data.autoScroll.speed.vertical&&(this.api.muteMethod("generateVisibleRowsAndItems"),this.api.muteMethod("calculateVisibleRowsHeights"),this.api.muteMethod("prepareExpanded"),this.api.muteMethod("minimalReload"),this.api.muteMethod("recalculateTimes"))),"onEnd"===t&&(this.api.unmuteMethod("fixOverlapped"),this.api.unmuteMethod("heightChange"),this.api.unmuteMethod("calculateVerticalScrollArea"),this.api.unmuteMethod("getLastPageRowsHeight"),this.api.unmuteMethod("recalculateRowPercents"),this.api.unmuteMethod("fullReload"),this.api.unmuteMethod("calculateRowsHeight"),0===this.data.autoScroll.speed.horizontal&&0===this.data.autoScroll.speed.vertical&&(this.api.unmuteMethod("generateVisibleRowsAndItems"),this.api.unmuteMethod("calculateVisibleRowsHeights"),this.api.unmuteMethod("prepareExpanded"),this.api.unmuteMethod("minimalReload"),this.api.unmuteMethod("recalculateTimes"))),e=e.map(t=>this.api.mergeDeep({},t));const i=this.data.events[t](this.getEventArgument(e));let r=this.state.multi();const o=this.state.get("config.chart.items");for(const t of i){const e=o[t.id];r=r.update(`config.chart.items.${t.id}.time`,t.time),e.rowId!==t.rowId&&(r=r.update(`config.chart.items.${t.id}.rowId`,t.rowId)),n&&(r=r.update("$data.chart.items."+t.id,n[t.id]))}"onStart"!==t&&"onMove"!==t||(r=this.moveDependantItems(i,r)),r.done()}getItemsForDiff(){const t=this.getSelectedItems()[0],e=this.data.initialItems.find(e=>e.id===t.id);return{modified:t,original:e}}onPointerData(){this.data.enabled&&("down"===this.pointerData.pointerState&&"chart-timeline-items-row-item"===this.pointerData.targetType?this.api.plugins.TimelinePointer.isLocked("down")||this.triggerDown():"move"===this.pointerData.pointerState&&"chart-timeline-items-row-item"===this.pointerData.targetType?"item-movement"===this.api.plugins.TimelinePointer.isLocked("move")&&this.onPointerMove():"up"===this.pointerData.pointerState&&"chart-timeline-items-row-item"===this.pointerData.targetType&&"item-movement"===this.api.plugins.TimelinePointer.isLocked("up")&&this.onPointerUp())}triggerDown(){document.body.classList.add(this.data.bodyClass),this.api.plugins.TimelinePointer.lock("down","item-movement"),this.api.plugins.TimelinePointer.lock("move","item-movement"),this.api.plugins.TimelinePointer.lock("up","item-movement"),this.data.isMoving=!0,this.data.initialItems=this.getSelectedItems(),this.data.initialDependant=this.getDependantItems(),this.data.initialItemsData=this.getSelectedItemsData(this.data.initialItems),this.data.initialDependantData=this.getDependantItemsData(),""!==this.data.state&&"end"!==this.data.state||(this.data.state="move"),this.dispatchEvent("onStart",this.data.initialItems),this.updateData()}moveItemVertically(t,e){const n=this.data.movement.y,i=this.data.initialItemsData[t.id],r=this.api.getVisibleRowsId(),o=this.api.getRowsData();for(let a=0,s=r.length;a<s;a++){const l=r[a],c=o[l];let h=i.position.viewTop+n;if(h<0&&(h=0),h<=c.position.viewTop||a+1===s){t.rowId=l,e.position.viewTop=c.position.viewTop,e.position.rowTop=0;break}}}scrollLeft(){if(this.data.autoScroll.speed.horizontal){if(this.scrollWaiting++,this.data.autoScroll.speed.horizontal<0){if(this.scrollWaiting-1<Math.abs(this.data.autoScroll.speed.horizontal))return;const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex-1)}else if(this.data.autoScroll.speed.horizontal>0){const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex-this.data.autoScroll.speed.horizontal)}this.scrollWaiting=0}}scrollRight(){if(this.data.autoScroll.speed.horizontal){if(this.scrollWaiting++,this.data.autoScroll.speed.horizontal<0){if(this.scrollWaiting-1<Math.abs(this.data.autoScroll.speed.horizontal))return;const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex+1)}else if(this.data.autoScroll.speed.horizontal>0){const t=this.api.getScrollLeft();this.api.setScrollLeft(t.dataIndex+this.data.autoScroll.speed.horizontal)}this.scrollWaiting=0}}scrollTop(){if(this.data.autoScroll.speed.vertical){if(this.scrollWaiting++,this.data.autoScroll.speed.vertical<0){if(this.scrollWaiting-1<Math.abs(this.data.autoScroll.speed.vertical))return;const t=this.api.getScrollTop();this.api.setScrollTop(t.dataIndex-1)}else if(this.data.autoScroll.speed.vertical>0){const t=this.api.getScrollTop();this.api.setScrollTop(t.dataIndex-this.data.autoScroll.speed.vertical)}this.scrollWaiting=0}}scrollBottom(){if(this.data.autoScroll.speed.vertical){if(this.scrollWaiting++,this.data.autoScroll.speed.vertical<0){if(this.scrollWaiting-1<Math.abs(this.data.autoScroll.speed.vertical))return;const t=this.api.getScrollTop();this.api.setScrollTop(t.dataIndex+1)}else if(this.data.autoScroll.speed.vertical>0){const t=this.api.getScrollTop();this.api.setScrollTop(t.dataIndex+this.data.autoScroll.speed.vertical)}this.scrollWaiting=0}}autoScroll(){if(!this.timelineElement)return;const t=this.pointerData.currentPosition.x,e=this.pointerData.currentPosition.y,n=this.timelineElement.getBoundingClientRect();t<this.data.autoScroll.edgeThreshold.horizontal?this.scrollLeft():t>n.width-this.data.autoScroll.edgeThreshold.horizontal?this.scrollRight():e<this.data.autoScroll.edgeThreshold.vertical?this.scrollTop():e>n.height-this.data.autoScroll.edgeThreshold.vertical&&this.scrollBottom()}onPointerMove(){if(!this.data.enabled)return;if(!this.data.isMoving)return;const{original:t,modified:e}=this.getItemsForDiff();if(!t)return;const n=this.data.movement=Object.assign(Object.assign({},this.pointerData.movement),{time:e.time.start-t.time.start});"move"!==this.data.state&&"start"!==this.data.state||(this.data.state="move");const i=this.getSelectedItems(),r={},o=this.state.get("$data.chart.time");for(let t=0,e=i.length;t<e;t++){const e=i[t],a=this.api.mergeDeep({},this.data.initialItemsData[e.id]);this.moveItemVertically(e,a);const s=a.time.endDate.diff(a.time.startDate,"millisecond");a.position.left=a.position.left+n.x;const l=this.api.time.getTimeFromViewOffsetPx(a.position.left,o,!0),c=this.data.snapToTime.start({startTime:this.api.time.date(l),item:e,time:o,movement:n,vido:this.vido}),h=c.add(s,"millisecond");e.time.start=c.valueOf(),e.time.end=h.valueOf(),a.time.startDate=c,a.time.endDate=h,a.position.right=a.position.left+a.width,r[e.id]=a}this.dispatchEvent("onMove",i,r),this.autoScroll(),this.updateData()}onEnd(){const t=this.getSelectedItems();this.dispatchEvent("onEnd",t)}onPointerUp(){document.body.classList.remove(this.data.bodyClass),this.data.enabled&&this.data.isMoving&&("move"===this.data.state&&(this.data.state="end"),this.data.isMoving=!1,this.onEnd(),this.updateData(),this.api.plugins.TimelinePointer.unlock("down"),this.api.plugins.TimelinePointer.unlock("move"),this.api.plugins.TimelinePointer.unlock("up"))}itemUpdateAction(t,e){this.data.initialItems.find(t=>t.id===e.item.id)&&this.data.isMoving?t.classList.add(this.data.itemClass):t.classList.remove(this.data.itemClass)}}function v(t={}){return function(e){const n=e.api;if(!n.isPluginInitialized("TimelinePointer"))throw new Error("TimelinePointer plugin must be initialized before ItemMovement plugin.");if(!n.isPluginInitialized("Selection"))throw new Error("Selection plugin must be initialized before ItemMovement plugin.");const i=e.state.get("config.plugin.ItemMovement");i&&(t=e.api.mergeDeep({},t,i));const r=new m(e,t);return n.pluginInitialized("ItemMovement"),r.destroy}}var y,x;n(723);var b={name:"GSTC",props:{attrs:Object},mounted:function(){console.log(i.a.api.GSTCID("id")),console.log(this.attrs);var t={licenseKey:this.attrs.licenseKey,plugins:[c(),f(),Object(g.a)(),v()],list:{columns:this.attrs.lists.columns,rows:this.attrs.lists.rows},chart:{items:this.attrs.chart.items}};console.log(t),console.log(JSON.stringify(t)),x=i.a.api.stateFromConfig(t),y=Object(i.a)({element:this.$refs.gstc,state:x})},beforeUnmount:function(){y&&y.destroy()},methods:{updateFirstRow:function(){x.update("config.list.rows.".concat(i.a.api.GSTCID("0")),(function(t){return t.label="Changed dynamically",t}))},changeZoomLevel:function(){x.update("config.chart.time.zoom",21)}}},w=(n(725),n(9)),C=Object(w.a)(b,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"toolbox"},[e("button",{on:{click:this.updateFirstRow}},[this._v("Update first row")]),this._v(" "),e("button",{on:{click:this.changeZoomLevel}},[this._v("Change zoom level")])]),this._v(" "),e("div",{ref:"gstc",staticClass:"gstc-wrapper"})])}),[],!1,null,"21c38892",null);e.default=C.exports},function(t,e,n){"use strict";n.r(e);var i={props:{attrs:Object,value:{default:null}},mounted:function(){},computed:{type:function(){try{var t=this.attrs.type.data,e=this.attrs.type.random;return this._.isArray(t)?e?this._.sample(t):t[0]:this._.isObject(t)?t[this.value]:t}catch(t){return""}}}},r=n(9),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-link",{class:t.attrs.className,style:t.attrs.style,attrs:{effect:t.attrs.effect,type:t.type,underline:t.attrs.underline,disabled:t.attrs.disabled,href:null!==t.attrs.href?t.attrs.href:t.value,icon:t.attrs.icon,target:t.attrs.target}},[t._v(t._s(t.value))])}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var i={props:{attrs:Object,row:Object,column_value:{default:null},value:{default:null}},data:function(){return{sort_value:this.value,old_sort_value:this.value}},mounted:function(){console.log(this.scope),console.log(this.attrs),console.log(this.sort_value+" sort value")},methods:{onRequest:function(t){var e=this;this.loading=!0,this.$http.get(t).then((function(t){t.code})).finally((function(){e.loading=!1}))},sort_change:function(t){console.log("index = "+t),console.log(this.sort_value+" sort value"),console.log(this.old_sort_value+" old_sort_value"),console.log(this.old_sort_value+" old_sort_value"),null!=this.attrs.action&&this.old_sort_value!=this.sort_value&&this.onRequest(this.attrs.action+"&id="+this.row.id+"&sort_value="+this.sort_value)}}},r=(n(345),n(9)),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rank"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sort_value,expression:"sort_value"}],attrs:{type:"text"},domProps:{value:t.sort_value},on:{blur:function(e){return t.sort_change(1)},input:function(e){e.target.composing||(t.sort_value=e.target.value)}}})])}),[],!1,null,"780db488",null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var i={props:{attrs:Object,row:Object,column_value:{default:null},value:{default:null}},data:function(){return{sort_value:this.value,sort_page_action:this.attrs.sortAction,sort_action:this.attrs.pageSortAction}},mounted:function(){},methods:{move_down:function(){this.$emit("moveDown",this.row.sort)},move_up:function(){this.$emit("moveUp",this.row.sort)}}},r=(n(348),n(9)),o=Object(r.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{staticStyle:{width:"25px",height:"30px","text-align":"center",padding:"2px"},on:{click:this.move_up}},[e("i",{staticClass:"el-icon-arrow-up"})]),this._v(" "),e("el-button",{staticStyle:{width:"25px",height:"30px","text-align":"center",padding:"2px"},on:{click:this.move_down}},[e("i",{staticClass:"el-icon-arrow-down"})])],1)}),[],!1,null,"0cefb6f5",null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var i=n(95);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={props:{attrs:Object},data:function(){return{antv:null}},mounted:function(){this.antv=new i.a(this.attrs.canvasId,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({data:this.attrs.data},this.attrs.config)),this.antv.render()},updated:function(){this.antv.changeData(this.attrs.data)},destroyed:function(){}},s=n(9),l=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.attrs.canvasId}})}),[],!1,null,null,null);e.default=l.exports},function(t,e,n){"use strict";n.r(e);var i=n(95);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={props:{attrs:Object},data:function(){return{antv:null}},mounted:function(){this.antv=new i.c(this.attrs.canvasId,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({data:this.attrs.data},this.attrs.config)),this.antv.render()},updated:function(){this.antv.changeData(this.attrs.data)},destroyed:function(){}},s=n(9),l=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.attrs.canvasId}})}),[],!1,null,null,null);e.default=l.exports},function(t,e,n){"use strict";n.r(e);var i=n(95);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={props:{attrs:Object},data:function(){return{antv:null}},mounted:function(){this.antv=new i.b(this.attrs.canvasId,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({data:this.attrs.data},this.attrs.config)),this.antv.render()},updated:function(){this.antv.changeData(this.attrs.data)},destroyed:function(){}},s=n(9),l=Object(s.a)(a,(function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.attrs.canvasId}})}),[],!1,null,null,null);e.default=l.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={grid:{top:"30",left:"20",right:"10",bottom:20,containLabel:!0},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{type:"category",axisLine:{lineStyle:{color:"#EEEEEE"}},axisLabel:{interval:0,rotate:0,color:"#3E3E3E"},boundaryGap:[0,.01],data:e.xAxisData||[]},yAxis:{type:"value",axisLine:{lineStyle:{color:"#EEEEEE"}},axisLabel:{formatter:"{value}",color:"#3E3E3E"},splitLine:{show:!1}},series:[{type:"line",data:e.series.data||[],symbol:"none",lineStyle:{color:e.series.color,width:2,type:"solid"},areaStyle:{type:"default",color:new r.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:e.series.areaColor[0]},{offset:1,color:e.series.areaColor[1]}])},itemStyle:{show:!1}}]};this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}},a=(n(688),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={title:{text:e.title.text||"",subtext:e.subtitle.text||"",left:e.title.left||"center",top:e.title.top||"center",textStyle:{fontWeight:"500",fontSize:e.title.fontSize,color:e.title.color},subtextStyle:{fontWeight:"normal",fontSize:e.subtitle.fontSize,color:e.subtitle.color}},tooltip:{show:e.showTooltip||!0,trigger:"item",formatter:"{b} : {d}%"},legend:{orient:e.legend.orient,right:e.legend.right||"10%",y:e.legend.y||"middle",data:e.legend.data,textStyle:{color:e.legend.color,fontSize:e.legend.fontSize},itemWidth:16,itemHeight:16},series:[{type:"pie",radius:e.series.radius||"60%",color:e.series.color,center:e.series.center||["35%","50%"],label:{show:!1},labelLine:{normal:{show:!1}},data:e.series.data,hoverAnimation:!1,itemStyle:{normal:{borderWidth:2,borderColor:"#fff"}}}]};this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}},a=(n(690),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={grid:{top:"30",left:"25",right:"25",bottom:"30",containLabel:!0},xAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},yAxis:{type:"category",data:[],axisTick:{show:!1},axisLabel:{show:!1},offset:10,nameTextStyle:{fontSize:15},axisLine:{show:!1},splitLine:{show:!1}},series:[{type:"bar",barWidth:"16",itemStyle:{normal:{barBorderRadius:40,color:"rgba(0,0,0,0.05)"},emphasis:{barBorderRadius:40}},barGap:"-100%",barCategoryGap:"50%",data:e.series.maxData||[],animation:!1},{type:"bar",barWidth:"16",data:[],smooth:!0,label:{normal:{show:!0,position:"topLeft",offset:[5,-18],textStyle:{color:"#3E3E3E",fontSize:14,fontWeight:"bolder"},formatter:"{b}: {c}"}},itemStyle:{emphasis:{barBorderRadius:40},normal:{barBorderRadius:40}}}]};e.series.data.forEach((function(t,e){n.series[1].data.push({name:t.name,value:t.value,itemStyle:{normal:{color:new r.a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:t.color},{offset:1,color:t.colorEnd}])}}})})),this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}},a=(n(692),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={series:[{type:"gauge",radius:"98%",splitNumber:3,axisLine:{lineStyle:{color:[[.333,e.series.areaColor[0]],[.666,e.series.areaColor[1]],[1,e.series.areaColor[2]]],width:e.series.itemWidth||20}},axisTick:{show:!0,splitNumber:2,length:8,lineStyle:{color:"#D8D8D8"}},splitLine:{show:!0,length:30,lineStyle:{width:1,color:"#D8D8D8"}},axisLabel:{fontSize:10,formatter:function(t){return Math.floor(100*t)/100+"%"},color:"#A0A7B4"},pointer:{show:!0,length:"70%",width:5},itemStyle:{color:"#3E3E3E"},title:{fontSize:15,fontWeight:"bolder",offsetCenter:[0,"60%"]},detail:{offsetCenter:[0,"70%"],formatter:"{value}%",color:"#3E3E3E",fontSize:25},data:e.series.data}]};this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}},a=(n(694),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={tooltip:{trigger:"axis",axisPointer:{crossStyle:{color:"#999"}}},grid:{left:"20",right:"20",bottom:"10%",containLabel:!0},legend:{x:"center",y:"bottom",padding:[0,50,0,0],data:e.legend.data||[],itemWidth:16,itemHeight:16,textStyle:{color:"#333333",fontSize:12}},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},xAxis:{type:"category",axisLine:{lineStyle:{color:"#626770"}},axisLabel:{interval:0,rotate:20},data:e.xAxisData||[]},yAxis:[{type:"value",name:e.yAxisName||"",min:0,axisLabel:{formatter:"{value}",color:"#626770"},splitLine:{show:!1}},{type:"value",min:0,axisLine:{lineStyle:{color:"#626770"}},axisLabel:{formatter:"{value}"+e.unit||!1,color:"#626770"},splitLine:{show:!1}}],series:[],dataZoom:e.dataZoom};this.attrs.data.series.forEach((function(t,e){var i;"bar"===t.type?i={barBorderRadius:[20,20,0,0],color:new r.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.color},{offset:1,color:t.colorEnd}])}:"line"===t.type&&(i={color:t.color}),n.series.push({name:t.name,type:t.type,barWidth:20,itemStyle:{normal:i},yAxisIndex:"line"===t.type?1:0,data:t.data})})),this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}},a=(n(696),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},updated:function(){},destroyed:function(){},methods:{chart_data:function(t){var e=t,n={title:{text:e.title.text,subtext:e.subtitle.text,x:"center",y:"center",textStyle:{fontWeight:"500",fontSize:e.title.fontSize||20,color:e.title.color||"#3E3E3E"},subtextStyle:{fontWeight:"normal",fontSize:e.subtitle.color||30,color:e.subtitle.color||"#3E3E3E"}},angleAxis:{max:100,clockwise:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},radiusAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},polar:{center:["50%","50%"],radius:"170%"},series:[{type:"bar",data:[{name:"",value:e.series.data,itemStyle:{normal:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:.2,color:e.series.color[0]},{offset:1,color:e.series.color[1]}],globalCoord:!0}}}}],coordinateSystem:"polar",roundCap:!0,barWidth:25,barGap:"-100%",radius:["49%","53%"],z:2},{type:"bar",data:[{value:100,itemStyle:{normal:{color:{type:"linear",colorStops:[{offset:0,color:"#F5F7FA"},{offset:1,color:"#F5F7FA"}],globalCoord:!0}}}}],coordinateSystem:"polar",roundCap:!0,barWidth:25,barGap:"-110%",radius:["48%","52%"],z:1}]};this.myChart.setOption(n)}}},a=(n(698),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o=(n(700),{props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={series:[{type:"liquidFill",data:[e.series.data/100],name:e.series.name,outline:{show:!1},backgroundStyle:{color:e.series.background||"#F5F7FA"},radius:e.series.radius||"90%",label:{formatter:function(t){return t.seriesName+"\n"+100*t.value+"%"},fontSize:28,color:e.series.color||"#3E3E3E",insideColor:e.series.color||"#3E3E3E"},itemStyle:{color:e.series.itemColor||"#4BB9FF"}}]};this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}}),a=(n(704),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={grid:{top:"30",left:"20",right:"30",bottom:20,containLabel:!0},tooltip:{trigger:"axis"},color:e.color,legend:e.legend,xAxis:{data:e.xAxisData||[]},yAxis:{type:"value",axisLine:{lineStyle:{color:"#EEEEEE"}},axisLabel:{formatter:"{value}",color:"#3E3E3E"},min:function(t){return t.min>10?t.min-10:0},splitLine:{show:!1}},visualMap:e.visualMap,series:e.series,dataZoom:e.dataZoom};this.myChart.setOption(n)}}},a=(n(706),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={props:{attrs:Object}},r=(n(708),n(9)),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"num-display-h"},[n("div",{staticClass:"num-display-wrap"},t._l(t.attrs.data,(function(e,i){return n("div",{key:i},[n("p",{staticClass:"num-display-wrap-num",style:"color: "+e.color},[t._v(t._s(e.count))]),t._v(" "),n("p",{staticClass:"num-display-wrap-name"},[t._v(t._s(e.name))])])})),0)])}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var i={props:{attrs:Object},data:function(){return{wrapStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"360px"}}}},r=(n(710),n(9)),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"num-display-v",style:t.wrapStyle},[n("div",{staticClass:"num-display-v-stop"},t._l(t.attrs.data.data,(function(e,i){return n("div",{key:i},[n("span",{staticClass:"total-stop",style:"color: "+e.color},[t._v(t._s(e.count))]),t._v(" "),n("span",{staticClass:"otal-stop-unit"},[t._v(t._s(e.name))])])})),0)])}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var i={props:{attrs:Object},data:function(){return{deviceStatusColor:{1:{backgoundColor:"#CEF3F8",borderColor:"#31C1EB"},2:{backgoundColor:"#FFF3E3",borderColor:"#FCB422"},3:{backgoundColor:"#FDD4D4",borderColor:"#F65677"}}}}},r=(n(712),n(9)),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"display-list"},t._l(t.attrs.data,(function(e,i){return n("div",{key:i,staticClass:"display-list-status",style:{"background-color":t.deviceStatusColor[e.status].backgoundColor,"border-left":"6px solid "+t.deviceStatusColor[e.status].borderColor}},[t._v("\n    "+t._s(e.name)+"\n  ")])})),0)}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={grid:{top:"30",left:40,right:80,bottom:20,containLabel:!0},tooltip:{trigger:"axis",formatter:function(t){var e=t[0];if(e.data&&e.data.is_warning){var n="";return e.data.waring_list.map((function(t){n+=t+"<br/>"})),n}return e.axisValue+"<br/>"+e.value}},xAxis:{type:"category",boundaryGap:!1,data:e.xAxisData||[]},yAxis:{type:"value",axisLine:{lineStyle:{color:"#EEEEEE"}},axisLabel:{formatter:"{value}",color:"#3E3E3E"},splitLine:{show:!1},min:e.yAxisData.min,max:e.yAxisData.max},visualMap:e.visualMap,series:e.series};this.myChart.setOption(n)}}},a=(n(714),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i=n(22),r=n.n(i),o={props:{attrs:Object},data:function(){return{chartStyle:{width:this.attrs.data.width||"100%",height:this.attrs.data.height||"100%"},myChart:null}},mounted:function(){this.myChart=r.a.init(document.getElementById(this.attrs.canvasId)),this.chart_data(this.attrs.data)},methods:{chart_data:function(t){var e=t,n={title:{text:e.title?e.title:""},tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:"60",left:"30",right:"30",bottom:"60",containLabel:!0},legend:{data:e.legend.data||[]},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},xAxis:{type:"category",axisLine:{lineStyle:{color:"#626770"}},axisLabel:{interval:0,rotate:20},data:e.xAxisData||[]},yAxis:{type:"value",name:e.yAxisName||"",min:0,axisLine:{lineStyle:{color:"#626770"}},axisLabel:{formatter:"{value}"+e.unit||!1,color:"#626770"},splitLine:{show:!1}},series:[],dataZoom:e.dataZoom};this.attrs.data.series.forEach((function(t,i){var o;"bar"===t.type&&(o={barBorderRadius:[4,4,0,0],color:new r.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.color},{offset:1,color:t.colorEnd}])}),n.series.push({name:t.name,type:t.type,barWidth:20,itemStyle:{normal:o},label:{show:!0,position:"top"},data:t.data}),e.max&&(n.yAxis.max=e.max)})),this.myChart.setOption(n)}},updated:function(){},destroyed:function(){}},a=(n(716),n(9)),s=Object(a.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("div",{style:this.chartStyle,attrs:{id:this.attrs.canvasId}})])}),[],!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";n.r(e);var i={props:["attrs","value"],data:function(){return{attr_names:[],tableData:this.value}},created:function(){this.attr_names=this.attrs.data.attr_names,this.tableData=this.attrs.data.tableData.length<=0?[{}]:this.attrs.data.tableData},methods:{changeInput:function(t){this.$emit("change",this.tableData)},addRow:function(){this.tableData.push({})},deleteRow:function(t,e){this.tableData.length>1&&e.splice(t,1)}}},r=(n(718),n(9)),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"property-list"},[n("el-form-item",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"show-header":1==t.attrs.data.is_title}},[t._l(t.attr_names,(function(e,i){return n("el-table-column",{key:i,attrs:{prop:e.prop,width:Number(e.width)+20+"px"},scopedSlots:t._u([{key:"default",fn:function(i){return["number"==e.type?n("el-input-number",{style:"width: "+e.width+"px;",attrs:{min:0,size:"mini",precision:e.precision,placeholder:0},on:{input:t.changeInput},model:{value:i.row[e.prop],callback:function(n){t.$set(i.row,e.prop,n)},expression:"scope.row[col.prop]"}},[t._v("0")]):t._e(),t._v(" "),"input"==e.type?n("el-input",{style:"width: "+e.width+"px;",attrs:{size:"mini"},on:{input:t.changeInput},model:{value:i.row[e.prop],callback:function(n){t.$set(i.row,e.prop,n)},expression:"scope.row[col.prop]"}}):t._e(),t._v(" "),"select"==e.type?n("el-select",{style:"width: "+e.width+"px;",on:{input:t.changeInput},model:{value:i.row[e.prop],callback:function(n){t.$set(i.row,e.prop,n)},expression:"scope.row[col.prop]"}},t._l(e.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()]}}],null,!0)},[n("template",{slot:"header"},[n("span",[t._v(t._s(e.label))])])],2)})),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("\n                  \n                ")])]}}])})],2)],1),t._v(" "),n("el-form-item",[n("el-button",{staticStyle:{display:"block",margin:"0 auto"},attrs:{type:"text",size:"middle"},nativeOn:{click:function(e){return e.preventDefault(),t.addRow(e)}}},[t._v("")])],1)],1)}),[],!1,null,"c6969df4",null);e.default=o.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){}]);